tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var El=tinymce.util.Tools.resolve("tinymce.PluginManager");const di=(b,C,k)=>{var V;return k(b,C.prototype)?!0:((V=b.constructor)===null||V===void 0?void 0:V.name)===C.name},Al=b=>{const C=typeof b;return b===null?"null":C==="object"&&Array.isArray(b)?"array":C==="object"&&di(b,String,(k,V)=>V.isPrototypeOf(k))?"string":C},Vs=b=>C=>Al(C)===b,lr=b=>C=>typeof C===b,ec=b=>C=>b===C,An=Vs("string"),Zt=Vs("object"),Dn=Vs("array"),mi=ec(null),Pe=lr("boolean"),Yn=b=>b==null,Xo=b=>!Yn(b),dn=lr("function"),Ir=(b,C)=>{if(Dn(b)){for(let k=0,V=b.length;k<V;++k)if(!C(b[k]))return!1;return!0}return!1},xe=()=>{},$o=b=>()=>b,Hn=(b,C)=>b===C;class St{constructor(C,k){this.tag=C,this.value=k}static some(C){return new St(!0,C)}static none(){return St.singletonNone}fold(C,k){return this.tag?k(this.value):C()}isSome(){return this.tag}isNone(){return!this.tag}map(C){return this.tag?St.some(C(this.value)):St.none()}bind(C){return this.tag?C(this.value):St.none()}exists(C){return this.tag&&C(this.value)}forall(C){return!this.tag||C(this.value)}filter(C){return!this.tag||C(this.value)?this:St.none()}getOr(C){return this.tag?this.value:C}or(C){return this.tag?this:C}getOrThunk(C){return this.tag?this.value:C()}orThunk(C){return this.tag?this:C()}getOrDie(C){if(this.tag)return this.value;throw new Error(C??"Called getOrDie on None")}static from(C){return Xo(C)?St.some(C):St.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(C){this.tag&&C(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}St.singletonNone=new St(!1);const N=Array.prototype.indexOf,Pt=Array.prototype.push,oc=(b,C)=>N.call(b,C),Dl=(b,C)=>oc(b,C)>-1,E=(b,C)=>{const k=b.length,V=new Array(k);for(let U=0;U<k;U++){const J=b[U];V[U]=C(J,U)}return V},Ft=(b,C)=>{for(let k=0,V=b.length;k<V;k++){const U=b[k];C(U,k)}},pa=(b,C,k)=>(Ft(b,(V,U)=>{k=C(k,V,U)}),k),so=b=>{const C=[];for(let k=0,V=b.length;k<V;++k){if(!Dn(b[k]))throw new Error("Arr.flatten item "+k+" was not an array, input: "+b);Pt.apply(C,b[k])}return C},Zo=(b,C)=>so(E(b,C)),io=(b,C)=>{for(let k=0;k<b.length;k++){const V=C(b[k],k);if(V.isSome())return V}return St.none()},Xn=Object.keys,Qt=Object.hasOwnProperty,ye=(b,C)=>{const k=Xn(b);for(let V=0,U=k.length;V<U;V++){const J=k[V],It=b[J];C(It,J)}},d=b=>(C,k)=>{b[k]=C},Ls=(b,C,k,V)=>{ye(b,(U,J)=>{(C(U,J)?k:V)(U,J)})},Hl=(b,C)=>{const k={};return Ls(b,C,d(k),xe),k},fa=(b,C)=>Qt.call(b,C),va=(b,C)=>fa(b,C)&&b[C]!==void 0&&b[C]!==null,hi=b=>{let C=b;return{get:()=>C,set:U=>{C=U}}},fe=(b,C,k=Hn)=>b.exists(V=>k(V,C)),fo=b=>{const C=[],k=V=>{C.push(V)};for(let V=0;V<b.length;V++)b[V].each(k);return C},Kn=(b,C)=>b?St.some(C):St.none(),gi=b=>{const C=hi(St.none()),k=()=>C.get().each(b);return{clear:()=>{k(),C.set(St.none())},isSet:()=>C.get().isSome(),get:()=>C.get(),set:Me=>{k(),C.set(St.some(Me))}}},Y=()=>{const b=gi(xe);return{...b,on:k=>b.get().each(k)}},it=(b,C)=>b.substring(C),$l=(b,C,k)=>C===""||b.length>=C.length&&b.substr(k,k+C.length)===C,nc=(b,C)=>oe(b,C)?it(b,C.length):b,oe=(b,C)=>$l(b,C,0),lo=b=>C=>C.options.get(b),Ne=b=>{const C=b.options.register;C("link_assume_external_targets",{processor:k=>{const V=An(k)||Pe(k);return V?k===!0?{value:1,valid:V}:k==="http"||k==="https"?{value:k,valid:V}:{value:0,valid:V}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),C("link_context_toolbar",{processor:"boolean",default:!1}),C("link_list",{processor:k=>An(k)||dn(k)||Ir(k,Zt)}),C("link_default_target",{processor:"string"}),C("link_default_protocol",{processor:"string",default:"https"}),C("link_target_list",{processor:k=>Pe(k)||Ir(k,Zt),default:!0}),C("link_rel_list",{processor:"object[]",default:[]}),C("link_class_list",{processor:"object[]",default:[]}),C("link_title",{processor:"boolean",default:!0}),C("allow_unsafe_link_target",{processor:"boolean",default:!1}),C("link_quicklink",{processor:"boolean",default:!1}),C("link_attributes_postprocess",{processor:"function"})},pi=lo("link_assume_external_targets"),le=lo("link_context_toolbar"),ur=lo("link_list"),Le=lo("link_default_target"),Be=lo("link_default_protocol"),Bs=lo("link_target_list"),dr=lo("link_rel_list"),Rs=lo("link_class_list"),fi=lo("link_title"),ba=lo("allow_unsafe_link_target"),vi=lo("link_quicklink"),ya=lo("link_attributes_postprocess");var mn=tinymce.util.Tools.resolve("tinymce.util.URI"),zs=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),sc=tinymce.util.Tools.resolve("tinymce.util.Tools");const Nt=b=>Xo(b)&&b.nodeName.toLowerCase()==="a",Te=b=>Nt(b)&&!!He(b),bi=(b,C)=>{if(b.collapsed)return[];{const k=b.cloneContents(),V=k.firstChild,U=new zs(V,k),J=[];let It=V;do C(It)&&J.push(It);while(It=U.next());return J}},Ue=b=>/^\w+:/i.test(b),He=b=>{var C,k;return(k=(C=b.getAttribute("data-mce-href"))!==null&&C!==void 0?C:b.getAttribute("href"))!==null&&k!==void 0?k:""},Vr=(b,C)=>{const k=["noopener"],V=b?b.split(/\s+/):[],U=Yt=>sc.trim(Yt.sort().join(" ")),J=Yt=>(Yt=It(Yt),Yt.length>0?Yt.concat(k):k),It=Yt=>Yt.filter($e=>sc.inArray(k,$e)===-1),Me=C?J(V):It(V);return Me.length>0?U(Me):""},mr=b=>b.replace(/\uFEFF/g,""),Ps=(b,C)=>(C=C||hr(b.selection.getRng())[0]||b.selection.getNode(),_o(C)?St.from(b.dom.select("a[href]",C)[0]):St.from(b.dom.getParent(C,"a[href]"))),Lr=(b,C)=>Ps(b,C).isSome(),rc=(b,C)=>{const k=C.fold(()=>b.getContent({format:"text"}),V=>V.innerText||V.textContent||"");return mr(k)},hr=b=>bi(b,Te),Br=b=>sc.grep(b,Te),xa=b=>Br(b).length>0,dt=b=>hr(b).length>0,Lt=b=>{const C=b.schema.getTextInlineElements(),k=J=>J.nodeType===1&&!Nt(J)&&!fa(C,J.nodeName.toLowerCase());if(Ps(b).exists(J=>J.hasAttribute("data-mce-block")))return!1;const U=b.selection.getRng();return U.collapsed?!0:bi(U,k).length===0},_o=b=>Xo(b)&&b.nodeName==="FIGURE"&&/\bimage\b/i.test(b.className),yi=b=>pa(["title","rel","class","target"],(k,V)=>(b[V].each(U=>{k[V]=U.length>0?U:null}),k),{href:b.href}),Ko=(b,C)=>(C==="http"||C==="https")&&!Ue(b)?C+"://"+b:b,st=(b,C)=>{const k={...C};if(dr(b).length===0&&!ba(b)){const V=Vr(k.rel,k.target==="_blank");k.rel=V||null}return St.from(k.target).isNone()&&Bs(b)===!1&&(k.target=Le(b)),k.href=Ko(k.href,pi(b)),k},Rr=(b,C,k,V)=>{k.each(J=>{fa(C,"innerText")?C.innerText=J:C.textContent=J}),b.dom.setAttribs(C,V);const U=b.dom.createRng();U.setStartAfter(C),U.setEndAfter(C),b.selection.setRng(U)},Sd=(b,C,k,V)=>{const U=b.dom;_o(C)?Si(U,C,V):k.fold(()=>{b.execCommand("mceInsertLink",!1,V);const J=b.selection.getEnd(),It=U.createRng();It.setStartAfter(J),It.setEndAfter(J),b.selection.setRng(It)},J=>{b.insertContent(U.createHTML("a",V,U.encode(J)))})},Fl=(b,C,k)=>{const V=b.selection.getNode(),U=Ps(b,V),J=st(b,yi(k)),It=ya(b);Xo(It)&&It(J),b.undoManager.transact(()=>{k.href===C.href&&C.attach(),U.fold(()=>{Sd(b,V,k.text,J)},Me=>{b.focus(),Rr(b,Me,k.text,J)})})},xi=b=>{const C=b.dom,k=b.selection,V=k.getBookmark(),U=k.getRng().cloneRange(),J=C.getParent(U.startContainer,"a[href]",b.getBody()),It=C.getParent(U.endContainer,"a[href]",b.getBody());J&&U.setStartBefore(J),It&&U.setEndAfter(It),k.setRng(U),b.execCommand("unlink"),k.moveToBookmark(V)},qn=b=>{b.undoManager.transact(()=>{const C=b.selection.getNode();_o(C)?zr(b,C):xi(b),b.focus()})},wd=b=>{const{class:C,href:k,rel:V,target:U,text:J,title:It}=b;return Hl({class:C.getOrNull(),href:k,rel:V.getOrNull(),target:U.getOrNull(),text:J.getOrNull(),title:It.getOrNull()},(Me,Yt)=>mi(Me)===!1)},Cd=(b,C)=>{const k=b.options.get,V={allow_html_data_urls:k("allow_html_data_urls"),allow_script_urls:k("allow_script_urls"),allow_svg_data_urls:k("allow_svg_data_urls")},U=C.href;return{...C,href:mn.isDomSafe(U,"a",V)?U:""}},_e=(b,C,k)=>{const V=Cd(b,k);b.hasPlugin("rtc",!0)?b.execCommand("createlink",!1,wd(V)):Fl(b,C,V)},gr=b=>{b.hasPlugin("rtc",!0)?b.execCommand("unlink"):qn(b)},zr=(b,C)=>{var k;const V=b.dom.select("img",C)[0];if(V){const U=b.dom.getParents(V,"a[href]",C)[0];U&&((k=U.parentNode)===null||k===void 0||k.insertBefore(V,U),b.dom.remove(U))}},Si=(b,C,k)=>{var V;const U=b.select("img",C)[0];if(U){const J=b.create("a",k);(V=U.parentNode)===null||V===void 0||V.insertBefore(J,U),J.appendChild(U)}},Mt=b=>An(b.value)?b.value:"",qo=b=>An(b.text)?b.text:An(b.title)?b.title:"",ac=(b,C)=>{const k=[];return sc.each(b,V=>{const U=qo(V);if(V.menu!==void 0){const J=ac(V.menu,C);k.push({text:U,items:J})}else{const J=C(V);k.push({text:U,value:J})}}),k},cc=(b=Mt)=>C=>St.from(C).map(k=>ac(k,b)),$n={sanitize:b=>cc(Mt)(b),sanitizeWith:cc,createUi:(b,C)=>k=>({name:b,type:"listbox",label:C,items:k}),getValue:Mt},pr=b=>va(b,"items"),wi=(b,C)=>io(C,k=>pr(k)?wi(b,k.items):Kn(k.value===b,k)),Pr=(b,C,k,V)=>{const U=V[C],J=b.length>0;return U!==void 0?wi(U,k).map(It=>({url:{value:It.value,meta:{text:J?b:It.text,attach:xe}},text:J?b:It.text})):St.none()},fr=(b,C)=>C==="link"?b.link:C==="anchor"?b.anchor:St.none(),ic={init:(b,C)=>{const k={text:b.text,title:b.title},V=Yt=>{var $e;return Kn(k.title.length<=0,St.from(($e=Yt.meta)===null||$e===void 0?void 0:$e.title).getOr(""))},U=Yt=>{var $e;return Kn(k.text.length<=0,St.from(($e=Yt.meta)===null||$e===void 0?void 0:$e.text).getOr(Yt.value))},J=Yt=>{const $e=U(Yt.url),Oe=V(Yt.url);return $e.isSome()||Oe.isSome()?St.some({...$e.map(ls=>({text:ls})).getOr({}),...Oe.map(ls=>({title:ls})).getOr({})}):St.none()},It=(Yt,$e)=>{const Oe=fr(C,$e).getOr([]);return Pr(k.text,$e,Oe,Yt)};return{onChange:(Yt,$e)=>{const Oe=$e.name;return Oe==="url"?J(Yt()):Dl(["anchor","link"],Oe)?It(Yt(),Oe):((Oe==="text"||Oe==="title")&&(k[Oe]=Yt()[Oe]),St.none())}}},getDelta:Pr};var lc=tinymce.util.Tools.resolve("tinymce.util.Delay");const K=(b,C,k)=>{const V=b.selection.getRng();lc.setEditorTimeout(b,()=>{b.windowManager.confirm(C,U=>{b.selection.setRng(V),k(U)})})},Il=b=>{const C=b.href;return C.indexOf("@")>0&&C.indexOf("/")===-1&&C.indexOf("mailto:")===-1?St.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:V=>({...V,href:"mailto:"+C})}):St.none()},Vl=(b,C)=>k=>{const V=k.href;return b===1&&!Ue(V)||b===0&&/^\s*www(\.|\d\.)/i.test(V)?St.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${C}:// prefix?`,preprocess:J=>({...J,href:C+"://"+V})}):St.none()},ae={preprocess:(b,C)=>io([Il,Vl(pi(b),Be(b))],k=>k(C)).fold(()=>Promise.resolve(C),k=>new Promise(V=>{K(b,k.message,U=>{V(U?k.preprocess(C):C)})}))},hn={getAnchors:b=>{const C=b.dom.select("a:not([href])"),k=Zo(C,V=>{const U=V.name||V.id;return U?[{text:U,value:"#"+U}]:[]});return k.length>0?St.some([{text:"None",value:""}].concat(k)):St.none()}},Zs={getClasses:b=>{const C=Rs(b);return C.length>0?$n.sanitize(C):St.none()}},Rl=b=>{try{return St.some(JSON.parse(b))}catch{return St.none()}},Ti={getLinks:b=>{const C=V=>b.convertURL(V.value||V.url||"","href"),k=ur(b);return new Promise(V=>{An(k)?fetch(k).then(U=>U.ok?U.text().then(Rl):Promise.reject()).then(V,()=>V(St.none())):dn(k)?k(U=>V(St.some(U))):V(St.from(k))}).then(V=>V.bind($n.sanitizeWith(C)).map(U=>U.length>0?[{text:"None",value:""}].concat(U):U))}},No={getRels:(b,C)=>{const k=dr(b);if(k.length>0){const V=fe(C,"_blank"),U=ba(b)===!1,J=Me=>Vr($n.getValue(Me),V);return(U?$n.sanitizeWith(J):$n.sanitize)(k)}return St.none()}},_i=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Mi={getTargets:b=>{const C=Bs(b);return Dn(C)?$n.sanitize(C).orThunk(()=>St.some(_i)):C===!1?St.none():St.some(_i)}},dc=(b,C,k)=>{const V=b.getAttrib(C,k);return V!==null&&V.length>0?St.some(V):St.none()},mc=(b,C)=>{const k=b.dom,U=Lt(b)?St.some(rc(b.selection,C)):St.none(),J=C.bind(Oe=>St.from(k.getAttrib(Oe,"href"))),It=C.bind(Oe=>St.from(k.getAttrib(Oe,"target"))),Me=C.bind(Oe=>dc(k,Oe,"rel")),Yt=C.bind(Oe=>dc(k,Oe,"class")),$e=C.bind(Oe=>dc(k,Oe,"title"));return{url:J,text:U,title:$e,target:It,rel:Me,linkClass:Yt}},br={collect:(b,C)=>Ti.getLinks(b).then(k=>{const V=mc(b,C);return{anchor:V,catalogs:{targets:Mi.getTargets(b),rels:No.getRels(b,V.target),classes:Zs.getClasses(b),anchor:hn.getAnchors(b),link:k},optNode:C,flags:{titleEnabled:fi(b)}}})},Kt=(b,C)=>k=>{const V=k.getData();if(!V.url.value){gr(b),k.close();return}const U=Me=>St.from(V[Me]).filter(Yt=>!fe(C.anchor[Me],Yt)),J={href:V.url.value,text:U("text"),target:U("target"),rel:U("rel"),class:U("linkClass"),title:U("title")},It={href:V.url.value,attach:V.url.meta!==void 0&&V.url.meta.attach?V.url.meta.attach:xe};ae.preprocess(b,J).then(Me=>{_e(b,It,Me)}),k.close()},Oi=b=>{const C=Ps(b);return br.collect(b,C)},Sa=(b,C)=>{const k=b.anchor,V=k.url.getOr("");return{url:{value:V,meta:{original:{value:V}}},text:k.text.getOr(""),title:k.title.getOr(""),anchor:V,link:V,rel:k.rel.getOr(""),target:k.target.or(C).getOr(""),linkClass:k.linkClass.getOr("")}},wa=(b,C,k)=>{const V=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],U=b.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),J=b.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],It=St.from(Le(k)),Me=Sa(b,It),Yt=b.catalogs,$e=ic.init(Me,Yt);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:so([V,U,J,fo([Yt.anchor.map($n.createUi("anchor","Anchors")),Yt.rels.map($n.createUi("rel","Rel")),Yt.targets.map($n.createUi("target","Open link in...")),Yt.link.map($n.createUi("link","Link list")),Yt.classes.map($n.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Me,onChange:(ls,{name:us})=>{$e.onChange(ls.getData,{name:us}).each(vc=>{ls.setData(vc)})},onSubmit:C}},gn=b=>{Oi(b).then(k=>{const V=Kt(b,k);return wa(k,V,b)}).then(k=>{b.windowManager.open(k)})},ki=b=>{b.addCommand("mceLink",(C,k)=>{(k==null?void 0:k.dialog)===!0||!vi(b)?gn(b):b.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},We=b=>{b.addShortcut("Meta+K","",()=>{b.execCommand("mceLink")})};var Fn=tinymce.util.Tools.resolve("tinymce.util.VK");const cs=(b,C)=>{document.body.appendChild(b),b.dispatchEvent(C),document.body.removeChild(b)},Uo=b=>{const C=document.createElement("a");C.target="_blank",C.href=b,C.rel="noreferrer noopener";const k=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(k),cs(C,k)},hc=b=>b.altKey===!0&&b.shiftKey===!1&&b.ctrlKey===!1&&b.metaKey===!1,Ns=(b,C)=>{if(C){const k=He(C);if(/^#/.test(k)){const V=b.dom.select(`${k},[name="${nc(k,"#")}"]`);V.length&&b.selection.scrollIntoView(V[0],!0)}else Uo(C.href)}},Us=b=>{const C=b.selection.getRng(),k=C.startContainer;return Te(k)&&C.startContainer===C.endContainer&&b.dom.select("img",k).length===1},gc=(b,C)=>{const k=Br(b.dom.getParents(C));return Kn(k.length===1,k[0])},zl=b=>{const C=hr(b.selection.getRng());return Kn(C.length>0,C[0]).or(gc(b,b.selection.getNode()))},is=b=>b.selection.isCollapsed()||Us(b)?gc(b,b.selection.getStart()):zl(b),pc=b=>{const C=Y(),k=()=>C.get().or(is(b)),V=()=>k().each(U=>Ns(b,U));return b.on("contextmenu",U=>{gc(b,U.target).each(C.set)}),b.on("SelectionChange",()=>{C.isSet()||is(b).each(C.set)}),b.on("click",U=>{C.clear();const J=Br(b.dom.getParents(U.target));J.length===1&&Fn.metaKeyPressed(U)&&(U.preventDefault(),Ns(b,J[0]))}),b.on("keydown",U=>{C.clear(),!U.isDefaultPrevented()&&U.keyCode===13&&hc(U)&&k().each(J=>{U.preventDefault(),Ns(b,J)})}),{gotoSelectedLink:V}},pn=b=>()=>{b.execCommand("mceLink",!1,{dialog:!0})},Zr=(b,C)=>(b.on("NodeChange",C),()=>b.off("NodeChange",C)),fc=b=>C=>{const k=()=>{C.setActive(!b.mode.isReadOnly()&&Lr(b,b.selection.getNode())),C.setEnabled(b.selection.isEditable())};return k(),Zr(b,k)},Pl=b=>C=>{const k=()=>{C.setEnabled(b.selection.isEditable())};return k(),Zr(b,k)},In=b=>C=>{const k=J=>xa(J)||dt(b.selection.getRng()),V=b.dom.getParents(b.selection.getStart()),U=J=>{C.setEnabled(k(J)&&b.selection.isEditable())};return U(V),Zr(b,J=>U(J.parents))},Ei=(b,C)=>{b.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:pn(b),onSetup:fc(b)}),b.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:C.gotoSelectedLink,onSetup:In(b)}),b.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>gr(b),onSetup:In(b)})},Ws=(b,C)=>{b.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:C.gotoSelectedLink,onSetup:In(b)}),b.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:pn(b),onSetup:Pl(b)}),b.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>gr(b),onSetup:In(b)})},Od=b=>{const C="link unlink openlink",k="link";b.ui.registry.addContextMenu("link",{update:V=>b.dom.isEditable(V)?xa(b.dom.getParents(V,"a"))?C:k:""})},j=(b,C)=>{const k=J=>{J.selection.collapse(!1)},V=J=>{const It=b.selection.getNode();return J.setEnabled(Lr(b,It)&&b.selection.isEditable()),xe},U=J=>{const It=Ps(b),Me=Lt(b);if(It.isNone()&&Me){const Yt=rc(b.selection,It);return Kn(Yt.length===0,J)}else return St.none()};b.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:fc(b)},label:"Link",predicate:J=>le(b)&&Lr(b,J),initValue:()=>Ps(b).fold($o(""),He),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:J=>{const It=b.selection.getNode();return J.setActive(Lr(b,It)),fc(b)(J)},onAction:J=>{const It=J.getValue(),Me=U(It);_e(b,{href:It,attach:xe},{href:It,text:Me,title:St.none(),rel:St.none(),target:St.from(Le(b)),class:St.none()}),k(b),J.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:V,onAction:J=>{gr(b),J.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:V,onAction:J=>{C.gotoSelectedLink(),J.hide()}}]})},Ai=b=>{const C=pc(b);Ei(b,C),Ws(b,C),Od(b),j(b,C)};var Zl=()=>{El.add("link",b=>{Ne(b),ki(b),Ai(b),We(b)})};Zl()})();(function(){var El=tinymce.util.Tools.resolve("tinymce.PluginManager");const di=(l,h,f)=>{var S;return f(l,h.prototype)?!0:((S=l.constructor)===null||S===void 0?void 0:S.name)===h.name},Al=l=>{const h=typeof l;return l===null?"null":h==="object"&&Array.isArray(l)?"array":h==="object"&&di(l,String,(f,S)=>S.isPrototypeOf(f))?"string":h},Vs=l=>h=>Al(h)===l,lr=l=>h=>typeof h===l,ec=Vs("string"),An=Vs("object"),Zt=Vs("array"),Dn=lr("boolean"),mi=l=>l==null,Pe=l=>!mi(l),Yn=lr("function"),Xo=lr("number"),dn=()=>{},Ir=(l,h)=>f=>l(h(f)),xe=l=>()=>l,$o=(l,h)=>l===h;function Hn(l,...h){return(...f)=>{const S=h.concat(f);return l.apply(null,S)}}const St=l=>h=>!l(h),N=xe(!1);class Pt{constructor(h,f){this.tag=h,this.value=f}static some(h){return new Pt(!0,h)}static none(){return Pt.singletonNone}fold(h,f){return this.tag?f(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?Pt.some(h(this.value)):Pt.none()}bind(h){return this.tag?h(this.value):Pt.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:Pt.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return Pe(h)?Pt.some(h):Pt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Pt.singletonNone=new Pt(!1);const oc=Array.prototype.slice,Dl=Array.prototype.indexOf,E=Array.prototype.push,Ft=(l,h)=>Dl.call(l,h),pa=(l,h)=>Ft(l,h)>-1,so=(l,h)=>{for(let f=0,S=l.length;f<S;f++){const _=l[f];if(h(_,f))return!0}return!1},Zo=(l,h)=>{const f=l.length,S=new Array(f);for(let _=0;_<f;_++){const z=l[_];S[_]=h(z,_)}return S},io=(l,h)=>{for(let f=0,S=l.length;f<S;f++){const _=l[f];h(_,f)}},Xn=(l,h)=>{const f=[];for(let S=0,_=l.length;S<_;S++){const z=l[S];h(z,S)&&f.push(z)}return f},Qt=(l,h)=>{if(l.length===0)return[];{let f=h(l[0]);const S=[];let _=[];for(let z=0,W=l.length;z<W;z++){const Ct=l[z],Tt=h(Ct);Tt!==f&&(S.push(_),_=[]),f=Tt,_.push(Ct)}return _.length!==0&&S.push(_),S}},ye=(l,h,f)=>(io(l,(S,_)=>{f=h(f,S,_)}),f),d=(l,h,f)=>{for(let S=0,_=l.length;S<_;S++){const z=l[S];if(h(z,S))return Pt.some(z);if(f(z,S))break}return Pt.none()},Ls=(l,h)=>d(l,h,N),Hl=l=>{const h=[];for(let f=0,S=l.length;f<S;++f){if(!Zt(l[f]))throw new Error("Arr.flatten item "+f+" was not an array, input: "+l);E.apply(h,l[f])}return h},fa=(l,h)=>Hl(Zo(l,h)),va=l=>{const h=oc.call(l,0);return h.reverse(),h},hi=(l,h)=>h>=0&&h<l.length?Pt.some(l[h]):Pt.none(),fe=l=>hi(l,0),fo=l=>hi(l,l.length-1),Kn=(l,h)=>{const f=[],S=Yn(h)?_=>so(f,z=>h(z,_)):_=>pa(f,_);for(let _=0,z=l.length;_<z;_++){const W=l[_];S(W)||f.push(W)}return f},gi=Object.keys,Y=(l,h)=>{const f=gi(l);for(let S=0,_=f.length;S<_;S++){const z=f[S],W=l[z];h(W,z)}},it=l=>(h,f)=>{l[f]=h},$l=(l,h,f,S)=>{Y(l,(_,z)=>{(h(_,z)?f:S)(_,z)})},nc=(l,h)=>{const f={};return $l(l,h,it(f),dn),f},oe=l=>{let h=l;return{get:()=>h,set:_=>{h=_}}},lo=typeof window<"u"?window:Function("return this;")(),Ne=(l,h,f=$o)=>l.exists(S=>f(S,h)),pi=(l,h,f=$o)=>le(l,h,f).getOr(l.isNone()&&h.isNone()),le=(l,h,f)=>l.isSome()&&h.isSome()?Pt.some(f(l.getOrDie(),h.getOrDie())):Pt.none(),ur=(l,h)=>{let f=h??lo;for(let S=0;S<l.length&&f!==void 0&&f!==null;++S)f=f[l[S]];return f},Le=(l,h)=>{const f=l.split(".");return ur(f,h)},Bs=(l=>h=>h.replace(l,""))(/^\s+|\s+$/g),dr=l=>l.length>0,Rs=l=>!dr(l),fi="\uFEFF",ba=l=>l===fi,vi=(l,h)=>{const S=(h||document).createElement("div");if(S.innerHTML=l,!S.hasChildNodes()||S.childNodes.length>1){const _="HTML does not have a single root node";throw console.error(_,l),new Error(_)}return zs(S.childNodes[0])},ya=(l,h)=>{const S=(h||document).createElement(l);return zs(S)},mn=(l,h)=>{const S=(h||document).createTextNode(l);return zs(S)},zs=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},Nt={fromHtml:vi,fromTag:ya,fromText:mn,fromDom:zs,fromPoint:(l,h,f)=>Pt.from(l.dom.elementFromPoint(h,f)).map(zs)},Te=8,bi=11,Ue=1,He=3,Vr=(l,h)=>{const f=l.dom;if(f.nodeType!==Ue)return!1;{const S=f;if(S.matches!==void 0)return S.matches(h);if(S.msMatchesSelector!==void 0)return S.msMatchesSelector(h);if(S.webkitMatchesSelector!==void 0)return S.webkitMatchesSelector(h);if(S.mozMatchesSelector!==void 0)return S.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},mr=(l,h)=>l.dom===h.dom,Ps=(l,h)=>{const f=l.dom,S=h.dom;return f===S?!1:f.contains(S)},Lr=Vr,rc=(l,h)=>Le(l,h),hr=(l,h)=>{const f=rc(l,h);if(f==null)throw new Error(l+" not available on this browser");return f},Br=Object.getPrototypeOf,xa=l=>hr("HTMLElement",l),dt=l=>{const h=Le("ownerDocument.defaultView",l);return An(l)&&(xa(h).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(Br(l).constructor.name))},Lt=l=>l.dom.nodeName.toLowerCase(),_o=l=>l.dom.nodeType,yi=l=>h=>_o(h)===l,Ko=l=>_o(l)===Te||Lt(l)==="#comment",st=l=>Rr(l)&&dt(l.dom),Rr=yi(Ue),Sd=yi(He),Fl=yi(bi),xi=l=>h=>Rr(h)&&Lt(h)===l,qn=l=>Pt.from(l.dom.parentNode).map(Nt.fromDom),wd=l=>Pt.from(l.dom.parentElement).map(Nt.fromDom),Cd=l=>Pt.from(l.dom.nextSibling).map(Nt.fromDom),_e=l=>Zo(l.dom.childNodes,Nt.fromDom),gr=(l,h)=>{const f=l.dom.childNodes;return Pt.from(f[h]).map(Nt.fromDom)},zr=l=>gr(l,0),Si=l=>gr(l,l.dom.childNodes.length-1),Mt=l=>Fl(l)&&Pe(l.dom.host),qo=l=>Nt.fromDom(l.dom.getRootNode()),ac=l=>{const h=qo(l);return Mt(h)?Pt.some(h):Pt.none()},cc=l=>Nt.fromDom(l.dom.host),Td=(l,h)=>{qn(l).each(S=>{S.dom.insertBefore(h.dom,l.dom)})},Vh=(l,h)=>{Cd(l).fold(()=>{qn(l).each(_=>{pr(_,h)})},S=>{Td(S,h)})},$n=(l,h)=>{zr(l).fold(()=>{pr(l,h)},S=>{l.dom.insertBefore(h.dom,S.dom)})},pr=(l,h)=>{l.dom.appendChild(h.dom)},wi=(l,h)=>{io(h,f=>{Td(l,f)})},Pr=(l,h)=>{io(h,f=>{pr(l,f)})},fr=(l,h,f)=>{if(ec(f)||Dn(f)||Xo(f))l.setAttribute(h,f+"");else throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",f,":: Element ",l),new Error("Attribute value was not simple")},Mo=(l,h)=>{const f=l.dom;Y(h,(S,_)=>{fr(f,_,S)})},ic=l=>ye(l.dom.attributes,(h,f)=>(h[f.name]=f.value,h),{}),lc=l=>{l.dom.textContent="",io(_e(l),h=>{K(h)})},K=l=>{const h=l.dom;h.parentNode!==null&&h.parentNode.removeChild(h)},Il=(l,h)=>Nt.fromDom(l.dom.cloneNode(h)),Vl=l=>Il(l,!0),Ll=(l,h)=>{const f=Nt.fromTag(h),S=ic(l);return Mo(f,S),f},ae=(l,h)=>{const f=Ll(l,h);Vh(l,f);const S=_e(l);return Pr(f,S),K(l),f},Ci=l=>Zo(l,Nt.fromDom),hn=l=>l.style!==void 0&&Yn(l.style.getPropertyValue),Bl=l=>{const h=Sd(l)?l.dom.parentNode:l.dom;if(h==null||h.ownerDocument===null)return!1;const f=h.ownerDocument;return ac(Nt.fromDom(h)).fold(()=>f.body.contains(h),Ir(Bl,cc))},Zs=(l,h,f)=>{if(!ec(f))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",f,":: Element ",l),new Error("CSS value must be a string: "+f);hn(l)&&l.style.setProperty(h,f)},Rl=(l,h,f)=>{const S=l.dom;Zs(S,h,f)},vr=(l,h)=>{const S=document.createDocumentFragment();return io(l,_=>{S.appendChild(_.dom)}),Nt.fromDom(S)};var Ti=(l,h,f,S,_)=>l(f,S)?Pt.some(f):Yn(_)&&_(f)?Pt.none():h(f,S,_);const uc=(l,h,f)=>{let S=l.dom;const _=Yn(f)?f:N;for(;S.parentNode;){S=S.parentNode;const z=Nt.fromDom(S);if(h(z))return Pt.some(z);if(_(z))break}return Pt.none()},No=(l,h,f)=>Ti((_,z)=>z(_),uc,l,h,f),_i=(l,h,f)=>uc(l,S=>Vr(S,h),f),_d=(l,h,f)=>Ti((_,z)=>Vr(_,z),_i,l,h,f),Mi=l=>_d(l,"[contenteditable]"),dc=(l,h=!1)=>Bl(l)?l.dom.isContentEditable:Mi(l).fold(xe(h),f=>mc(f)==="true"),mc=l=>l.dom.contentEditable,Md=(l,h,f)=>uc(l,h,f).isSome(),br=(l,h)=>Md(l,Hn(mr,h));var Kt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Oi=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Sa=tinymce.util.Tools.resolve("tinymce.util.VK"),wa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gn=tinymce.util.Tools.resolve("tinymce.util.Tools");const ki=l=>h=>Pe(h)&&h.nodeName.toLowerCase()===l,We=l=>h=>Pe(h)&&l.test(h.nodeName),Fn=l=>Pe(l)&&l.nodeType===3,cs=l=>Pe(l)&&l.nodeType===1,Uo=We(/^(OL|UL|DL)$/),hc=We(/^(OL|UL)$/),Ns=ki("ol"),Us=We(/^(LI|DT|DD)$/),gc=We(/^(DT|DD)$/),zl=We(/^(TH|TD)$/),is=ki("br"),pc=l=>{var h;return((h=l.parentNode)===null||h===void 0?void 0:h.firstChild)===l},pn=(l,h)=>Pe(h)&&h.nodeName in l.schema.getTextBlockElements(),Zr=(l,h)=>Pe(l)&&l.nodeName in h,fc=(l,h)=>Pe(h)&&h.nodeName in l.schema.getVoidElements(),Pl=(l,h)=>is(h)?l.isBlock(h.nextSibling)&&!is(h.previousSibling):!1,In=(l,h,f)=>{const S=l.isEmpty(h);return f&&l.select("span[data-mce-type=bookmark]",h).length>0?!1:S},Ei=(l,h)=>l.isChildOf(h,l.getRoot()),Ws=l=>h=>h.options.get(l),Od=l=>{const h=l.options.register;h("lists_indent_on_tab",{processor:"boolean",default:!0})},j=Ws("lists_indent_on_tab"),Ai=Ws("forced_root_block"),Zl=Ws("forced_root_block_attrs"),b=(l,h,f={})=>{const S=l.dom,_=l.schema.getBlockElements(),z=S.createFragment(),W=Ai(l),Ct=Zl(l);let Tt,ut,Ht=!1;for(ut=S.create(W,{...Ct,...f.style?{style:f.style}:{}}),Zr(h.firstChild,_)||z.appendChild(ut);Tt=h.firstChild;){const ve=Tt.nodeName;!Ht&&(ve!=="SPAN"||Tt.getAttribute("data-mce-type")!=="bookmark")&&(Ht=!0),Zr(Tt,_)?(z.appendChild(Tt),ut=null):(ut||(ut=S.create(W,Ct),z.appendChild(ut)),ut.appendChild(Tt))}return!Ht&&ut&&ut.appendChild(S.create("br",{"data-mce-bogus":"1"})),z},C=wa.DOM,k=(l,h,f)=>{const S=ut=>{const Ht=ut.parentNode;Ht&&gn.each(_,ve=>{Ht.insertBefore(ve,f.parentNode)}),C.remove(ut)},_=C.select('span[data-mce-type="bookmark"]',h),z=b(l,f),W=C.createRng();W.setStartAfter(f),W.setEndAfter(h);const Ct=W.extractContents();for(let ut=Ct.firstChild;ut;ut=ut.firstChild)if(ut.nodeName==="LI"&&l.dom.isEmpty(ut)){C.remove(ut);break}l.dom.isEmpty(Ct)||C.insertAfter(Ct,h),C.insertAfter(z,h);const Tt=f.parentElement;Tt&&In(l.dom,Tt)&&S(Tt),C.remove(f),In(l.dom,h)&&C.remove(h)},V=xi("dd"),U=xi("dt"),J=(l,h)=>{V(h)?ae(h,"dt"):U(h)&&wd(h).each(f=>k(l,f.dom,h.dom))},It=l=>{U(l)&&ae(l,"dd")},Me=(l,h,f)=>{h==="Indent"?io(f,It):io(f,S=>J(l,S))},Yt=(l,h)=>{if(Fn(l))return{container:l,offset:h};const f=Kt.getNode(l,h);return Fn(f)?{container:f,offset:h>=l.childNodes.length?f.data.length:0}:f.previousSibling&&Fn(f.previousSibling)?{container:f.previousSibling,offset:f.previousSibling.data.length}:f.nextSibling&&Fn(f.nextSibling)?{container:f.nextSibling,offset:0}:{container:l,offset:h}},$e=l=>{const h=l.cloneRange(),f=Yt(l.startContainer,l.startOffset);h.setStart(f.container,f.offset);const S=Yt(l.endContainer,l.endOffset);return h.setEnd(S.container,S.offset),h},Oe=["OL","UL","DL"],ls=Oe.join(","),us=(l,h)=>{const f=h||l.selection.getStart(!0);return l.dom.getParent(f,ls,bc(l,f))},vc=(l,h)=>Pe(l)&&h.length===1&&h[0]===l,Lh=l=>Xn(l.querySelectorAll(ls),Uo),Ca=l=>{const h=us(l),f=l.selection.getSelectedBlocks();return vc(h,f)?Lh(h):Xn(f,S=>Uo(S)&&h!==S)},kd=(l,h)=>{const f=gn.map(h,S=>{const _=l.dom.getParent(S,"li,dd,dt",bc(l,S));return _||S});return Kn(f)},Nl=l=>{const h=l.selection.getSelectedBlocks();return Xn(kd(l,h),Us)},Ed=l=>Xn(Nl(l),gc),qt=(l,h)=>{const f=l.dom.getParents(h,"TD,TH");return f.length>0?f[0]:l.getBody()},Di=(l,h)=>!Uo(h)&&!Us(h)&&so(Oe,f=>l.isValidChild(h.nodeName,f)),bc=(l,h)=>{const f=l.dom.getParents(h,l.dom.isBlock),S=z=>z.nodeName.toLowerCase()!==Ai(l);return Ls(f,z=>S(z)&&Di(l.schema,z)).getOr(l.getBody())},Bh=l=>qn(l).exists(h=>Us(h.dom)&&zr(h).exists(f=>!Uo(f.dom))&&Si(h).exists(f=>!Uo(f.dom))),Ad=(l,h)=>{const f=l.dom.getParents(h,"ol,ul",bc(l,h));return fo(f)},Rh=l=>{const h=Ad(l,l.selection.getStart()),f=Xn(l.selection.getSelectedBlocks(),hc);return h.toArray().concat(f)},Dd=l=>{const h=l.selection.getStart();return l.dom.getParents(h,"ol,ul",bc(l,h))},Ul=l=>{const h=Rh(l),f=Dd(l);return Ls(f,S=>Bh(Nt.fromDom(S))).fold(()=>yc(l,h),S=>[S])},yc=(l,h)=>{const f=Zo(h,S=>Ad(l,S).getOr(S));return Kn(f)},xc=l=>/\btox\-/.test(l.className),Wl=(l,h)=>d(l,Uo,zl).exists(f=>f.nodeName===h&&!xc(f)),Hd=(l,h)=>h!==null&&!l.dom.isEditable(h),zh=l=>{const h=us(l);return Hd(l,h)||!l.selection.isEditable()},yr=(l,h)=>{const f=l.dom.getParent(h,"ol,ul,dl");return Hd(l,f)||!l.selection.isEditable()},ds=(l,h)=>{const f=l.selection.getNode();return h({parents:l.dom.getParents(f),element:f}),l.on("NodeChange",h),()=>l.off("NodeChange",h)},Nr=(l,h,f)=>l.dispatch("ListMutation",{action:h,element:f}),Sc=l=>Lr(l,"OL,UL"),$d=l=>Lr(l,"LI"),Gl=l=>zr(l).exists(Sc),Fd=l=>Si(l).exists(Sc),xr=l=>"listAttributes"in l,jl=l=>"isComment"in l,Id=l=>"isFragment"in l,Yl=l=>l.depth>0,Ph=l=>l.isSelected,Vd=l=>{const h=_e(l),f=Fd(l)?h.slice(0,-1):h;return Zo(f,Vl)},Ld=(l,h,f)=>qn(l).filter(Rr).map(S=>({depth:h,dirty:!1,isSelected:f,content:Vd(l),itemAttributes:ic(l),listAttributes:ic(S),listType:Lt(S),isInPreviousLi:!1})),Xl=(l,h)=>{pr(l.item,h.list)},Bd=l=>{for(let h=1;h<l.length;h++)Xl(l[h-1],l[h])},Rd=(l,h)=>{le(fo(l),fe(h),Xl)},zd=(l,h)=>{const f={list:Nt.fromTag(h,l),item:Nt.fromTag("li",l)};return pr(f.list,f.item),f},Pd=(l,h,f)=>{const S=[];for(let _=0;_<f;_++)S.push(zd(l,xr(h)?h.listType:h.parentListType));return S},Zd=(l,h)=>{for(let f=0;f<l.length-1;f++)Rl(l[f].item,"list-style-type","none");fo(l).each(f=>{xr(h)&&(Mo(f.list,h.listAttributes),Mo(f.item,h.itemAttributes)),Pr(f.item,h.content)})},Nd=(l,h)=>{Lt(l.list)!==h.listType&&(l.list=ae(l.list,h.listType)),Mo(l.list,h.listAttributes)},Ud=(l,h,f)=>{const S=Nt.fromTag("li",l);return Mo(S,h),Pr(S,f),S},Zh=(l,h)=>{pr(l.list,h),l.item=h},Kl=(l,h,f)=>{const S=h.slice(0,f.depth);return fo(S).each(_=>{if(xr(f)){const z=Ud(l,f.itemAttributes,f.content);Zh(_,z),Nd(_,f)}else if(Id(f))Pr(_.item,f.content);else{const z=Nt.fromHtml(`<!--${f.content}-->`);pr(_.list,z)}}),S},Wd=(l,h,f)=>{const S=Pd(l,f,f.depth-h.length);return Bd(S),Zd(S,f),Rd(h,S),h.concat(S)},K2=(l,h)=>{let f=Pt.none();const S=ye(h,(_,z,W)=>jl(z)?W===0?(f=Pt.some(z),_):Kl(l,_,z):z.depth>_.length?Wd(l,_,z):Kl(l,_,z),[]);return f.each(_=>{const z=Nt.fromHtml(`<!--${_.content}-->`);fe(S).each(W=>{$n(W.list,z)})}),fe(S).map(_=>_.list)},Nh=(l,h)=>{switch(l){case"Indent":h.depth++;break;case"Outdent":h.depth--;break;case"Flatten":h.depth=0}h.dirty=!0},Uh=(l,h)=>{xr(l)&&xr(h)&&(l.listType=h.listType,l.listAttributes={...h.listAttributes})},Wh=l=>{l.listAttributes=nc(l.listAttributes,(h,f)=>f!=="start")},Jn=(l,h)=>{const f=l[h].depth,S=z=>z.depth===f&&!z.dirty,_=z=>z.depth<f;return d(va(l.slice(0,h)),S,_).orThunk(()=>d(l.slice(h+1),S,_))},Gd=l=>(io(l,(h,f)=>{Jn(l,f).fold(()=>{h.dirty&&xr(h)&&Wh(h)},S=>Uh(h,S))}),l),jd=(l,h,f,S)=>{var _;if(Ko(S))return[{depth:l+1,content:(_=S.dom.nodeValue)!==null&&_!==void 0?_:"",dirty:!1,isSelected:!1,isComment:!0}];h.each(Ct=>{mr(Ct.start,S)&&f.set(!0)});const z=Ld(S,l,f.get());h.each(Ct=>{mr(Ct.end,S)&&f.set(!1)});const W=Si(S).filter(Sc).map(Ct=>Hi(l,h,f,Ct)).getOr([]);return z.toArray().concat(W)},Gh=(l,h,f,S)=>zr(S).filter(Sc).fold(()=>jd(l,h,f,S),_=>{const z=ye(_e(S),(W,Ct,Tt)=>{if(Tt===0)return W;if($d(Ct))return W.concat(jd(l,h,f,Ct));{const ut={isFragment:!0,depth:l,content:[Ct],isSelected:!1,dirty:!1,parentListType:Lt(_)};return W.concat(ut)}},[]);return Hi(l,h,f,_).concat(z)}),Hi=(l,h,f,S)=>fa(_e(S),_=>{const z=Sc(_)?Hi:Gh,W=l+1;return z(W,h,f,_)}),jh=(l,h)=>{const f=oe(!1),S=0;return Zo(l,_=>({sourceList:_,entries:Hi(S,h,f,_)}))},Gs=(l,h)=>{const f=Gd(h);return Zo(f,S=>{const _=jl(S)?vr([Nt.fromHtml(`<!--${S.content}-->`)]):vr(S.content),z=xr(S)?S.itemAttributes:{};return Nt.fromDom(b(l,_.dom,z))})},Yh=(l,h)=>{const f=Gd(h);return K2(l.contentDocument,f).toArray()},$i=(l,h)=>fa(Qt(h,Yl),f=>fe(f).exists(Yl)?Yh(l,f):Gs(l,f)),Yd=(l,h)=>{io(Xn(l,Ph),f=>Nh(h,f))},Jo=l=>{const h=Zo(Nl(l),Nt.fromDom);return le(Ls(h,St(Gl)),Ls(va(h),St(Gl)),(f,S)=>({start:f,end:S}))},Ur=(l,h,f)=>{const S=jh(h,Jo(l));io(S,_=>{Yd(_.entries,f);const z=$i(l,_.entries);io(z,W=>{Nr(l,f==="Indent"?"IndentList":"OutdentList",W.dom)}),wi(_.sourceList,z),K(_.sourceList)})},Xh=(l,h)=>{const f=Ci(Ul(l)),S=Ci(Ed(l));let _=!1;if(f.length||S.length){const z=l.selection.getBookmark();Ur(l,f,h),Me(l,h,S),l.selection.moveToBookmark(z),l.selection.setRng($e(l.selection.getRng())),l.nodeChanged(),_=!0}return _},ql=(l,h)=>!zh(l)&&Xh(l,h),Jl=l=>ql(l,"Indent"),fn=l=>ql(l,"Outdent"),Ta=l=>ql(l,"Flatten");var Ql=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const ms=wa.DOM,Fo=l=>{const h={},f=S=>{let _=l[S?"startContainer":"endContainer"],z=l[S?"startOffset":"endOffset"];if(cs(_)){const W=ms.create("span",{"data-mce-type":"bookmark"});_.hasChildNodes()?(z=Math.min(z,_.childNodes.length-1),S?_.insertBefore(W,_.childNodes[z]):ms.insertAfter(W,_.childNodes[z])):_.appendChild(W),_=W,z=0}h[S?"startContainer":"endContainer"]=_,h[S?"startOffset":"endOffset"]=z};return f(!0),l.collapsed||f(),h},_a=l=>{const h=S=>{const _=Ct=>{var Tt;let ut=(Tt=Ct.parentNode)===null||Tt===void 0?void 0:Tt.firstChild,Ht=0;for(;ut;){if(ut===Ct)return Ht;(!cs(ut)||ut.getAttribute("data-mce-type")!=="bookmark")&&Ht++,ut=ut.nextSibling}return-1};let z=l[S?"startContainer":"endContainer"],W=l[S?"startOffset":"endOffset"];if(z){if(cs(z)&&z.parentNode){const Ct=z;W=_(z),z=z.parentNode,ms.remove(Ct),!z.hasChildNodes()&&ms.isBlock(z)&&z.appendChild(ms.create("br"))}l[S?"startContainer":"endContainer"]=z,l[S?"startOffset":"endOffset"]=W}};h(!0),h();const f=ms.createRng();return f.setStart(l.startContainer,l.startOffset),l.endContainer&&f.setEnd(l.endContainer,l.endOffset),$e(f)},Qo=l=>{switch(l){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Kh=(l,h,f)=>{const S=f["list-style-type"]?f["list-style-type"]:null;l.setStyle(h,"list-style-type",S)},tu=(l,h)=>{gn.each(h,(f,S)=>{l.setAttribute(S,f)})},qh=(l,h,f)=>{tu(h,f["list-attributes"]),gn.each(l.select("li",h),S=>{tu(S,f["list-item-attributes"])})},Io=(l,h,f)=>{Kh(l,h,f),qh(l,h,f)},Wr=(l,h,f)=>{gn.each(f,S=>l.setStyle(h,S,""))},Ma=(l,h)=>Pe(h)&&!Zr(h,l.schema.getBlockElements()),Fi=(l,h,f,S)=>{let _=h[f?"startContainer":"endContainer"];const z=h[f?"startOffset":"endOffset"];cs(_)&&(_=_.childNodes[Math.min(z,_.childNodes.length-1)]||_),!f&&is(_.nextSibling)&&(_=_.nextSibling);const W=Tt=>{for(;!l.dom.isBlock(Tt)&&Tt.parentNode&&S!==Tt;)Tt=Tt.parentNode;return Tt},Ct=(Tt,ut)=>{var Ht;const ve=new Oi(Tt,W(Tt)),wr=ut?"next":"prev";let bn;for(;bn=ve[wr]();)if(!(fc(l,bn)||ba(bn.textContent)||((Ht=bn.textContent)===null||Ht===void 0?void 0:Ht.length)===0))return Pt.some(bn);return Pt.none()};if(f&&Fn(_))if(ba(_.textContent))_=Ct(_,!1).getOr(_);else for(_.parentNode!==null&&Ma(l,_.parentNode)&&(_=_.parentNode);_.previousSibling!==null&&(Ma(l,_.previousSibling)||Fn(_.previousSibling));)_=_.previousSibling;if(!f&&Fn(_))if(ba(_.textContent))_=Ct(_,!0).getOr(_);else for(_.parentNode!==null&&Ma(l,_.parentNode)&&(_=_.parentNode);_.nextSibling!==null&&(Ma(l,_.nextSibling)||Fn(_.nextSibling));)_=_.nextSibling;for(;_.parentNode!==S;){const Tt=_.parentNode;if(pn(l,_)||/^(TD|TH)$/.test(Tt.nodeName))return _;_=Tt}return _},Xd=(l,h,f)=>{const S=[],_=l.dom,z=Fi(l,h,!0,f),W=Fi(l,h,!1,f);let Ct;const Tt=[];for(let ut=z;ut&&(Tt.push(ut),ut!==W);ut=ut.nextSibling);return gn.each(Tt,ut=>{var Ht;if(pn(l,ut)){S.push(ut),Ct=null;return}if(_.isBlock(ut)||is(ut)){is(ut)&&_.remove(ut),Ct=null;return}const ve=ut.nextSibling;if(Ql.isBookmarkNode(ut)&&(Uo(ve)||pn(l,ve)||!ve&&ut.parentNode===f)){Ct=null;return}Ct||(Ct=_.create("p"),(Ht=ut.parentNode)===null||Ht===void 0||Ht.insertBefore(Ct,ut),S.push(Ct)),Ct.appendChild(ut)}),S},Jh=(l,h,f)=>{const S=l.getStyle(h,"list-style-type");let _=f?f["list-style-type"]:"";return _=_===null?"":_,S===_},Qh=(l,h)=>{const f=l.selection.getStart(!0),S=Fi(l,h,!0,l.getBody());return br(Nt.fromDom(S),Nt.fromDom(h.commonAncestorContainer))?h.commonAncestorContainer:f},wc=(l,h,f)=>{const S=l.selection.getRng();let _="LI";const z=bc(l,Qh(l,S)),W=l.dom;if(W.getContentEditable(l.selection.getNode())==="false")return;h=h.toUpperCase(),h==="DL"&&(_="DT");const Ct=Fo(S),Tt=Xn(Xd(l,S,z),l.dom.isEditable);gn.each(Tt,ut=>{let Ht;const ve=ut.previousSibling,wr=ut.parentNode;Us(wr)||(ve&&Uo(ve)&&ve.nodeName===h&&Jh(W,ve,f)?(Ht=ve,ut=W.rename(ut,_),ve.appendChild(ut)):(Ht=W.create(h),wr.insertBefore(Ht,ut),Ht.appendChild(ut),ut=W.rename(ut,_)),Wr(W,ut,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Io(W,Ht,f),Vi(l.dom,Ht))}),l.selection.setRng(_a(Ct))},Oo=(l,h)=>Uo(l)&&l.nodeName===(h==null?void 0:h.nodeName),Oa=(l,h,f)=>{const S=l.getStyle(h,"list-style-type",!0),_=l.getStyle(f,"list-style-type",!0);return S===_},tg=(l,h)=>l.className===h.className,Ii=(l,h,f)=>Oo(h,f)&&Oa(l,h,f)&&tg(h,f),Vi=(l,h)=>{let f,S=h.nextSibling;if(Ii(l,h,S)){const _=S;for(;f=_.firstChild;)h.appendChild(f);l.remove(_)}if(S=h.previousSibling,Ii(l,h,S)){const _=S;for(;f=_.lastChild;)h.insertBefore(f,h.firstChild);l.remove(_)}},eg=(l,h,f,S)=>{if(h.nodeName!==f){const _=l.dom.rename(h,f);Io(l.dom,_,S),Nr(l,Qo(f),_)}else Io(l.dom,h,S),Nr(l,Qo(f),h)},og=(l,h,f,S)=>{if(h.classList.forEach((_,z,W)=>{_.startsWith("tox-")&&(W.remove(_),W.length===0&&h.removeAttribute("class"))}),h.nodeName!==f){const _=l.dom.rename(h,f);Io(l.dom,_,S),Nr(l,Qo(f),_)}else Io(l.dom,h,S),Nr(l,Qo(f),h)},ng=(l,h,f,S,_)=>{const z=Uo(h);if(z&&h.nodeName===S&&!eu(_)&&!xc(h))Ta(l);else{wc(l,S,_);const W=Fo(l.selection.getRng()),Ct=z?[h,...f]:f,Tt=z&&xc(h)?og:eg;gn.each(Ct,ut=>{Tt(l,ut,S,_)}),l.selection.setRng(_a(W))}},eu=l=>"list-style-type"in l,sg=(l,h,f,S)=>{if(h!==l.getBody())if(h)if(h.nodeName===f&&!eu(S)&&!xc(h))Ta(l);else{const _=Fo(l.selection.getRng());xc(h)&&h.classList.forEach((W,Ct,Tt)=>{W.startsWith("tox-")&&(Tt.remove(W),Tt.length===0&&h.removeAttribute("class"))}),Io(l.dom,h,S);const z=l.dom.rename(h,f);Vi(l.dom,z),l.selection.setRng(_a(_)),wc(l,f,S),Nr(l,Qo(f),z)}else wc(l,f,S),Nr(l,Qo(f),h)},Li=(l,h,f)=>{const S=us(l);if(yr(l,S))return;const _=Ca(l),z=An(f)?f:{};_.length>0?ng(l,S,_,h,z):sg(l,S,h,z)},Kd=wa.DOM,rg=(l,h)=>{const f=h.parentElement;if(f&&f.nodeName==="LI"&&f.firstChild===h){const S=f.previousSibling;S&&S.nodeName==="LI"?(S.appendChild(h),In(l,f)&&Kd.remove(f)):Kd.setStyle(f,"listStyleType","none")}if(Uo(f)){const S=f.previousSibling;S&&S.nodeName==="LI"&&S.appendChild(h)}},qd=(l,h)=>{const f=gn.grep(l.select("ol,ul",h));gn.each(f,S=>{rg(l,S)})},ou=(l,h,f,S)=>{let _=h.startContainer;const z=h.startOffset;if(Fn(_)&&(f?z<_.data.length:z>0))return _;const W=l.schema.getNonEmptyElements();cs(_)&&(_=Kt.getNode(_,z));const Ct=new Oi(_,S);f&&Pl(l.dom,_)&&Ct.next();const Tt=f?Ct.next.bind(Ct):Ct.prev2.bind(Ct);for(;_=Tt();)if(_.nodeName==="LI"&&!_.hasChildNodes()||W[_.nodeName]||Fn(_)&&_.data.length>0)return _;return null},vo=(l,h)=>{const f=h.childNodes;return f.length===1&&!Uo(f[0])&&l.isBlock(f[0])},nu=l=>Pt.from(l).map(Nt.fromDom).filter(st).exists(h=>dc(h)&&!pa(["details"],Lt(h))),Jd=(l,h)=>{vo(l,h)&&nu(h.firstChild)&&l.remove(h.firstChild,!0)},Bi=(l,h,f)=>{let S;const _=vo(l,f)?f.firstChild:f;if(Jd(l,h),!In(l,h,!0))for(;S=h.firstChild;)_.appendChild(S)},Ge=(l,h,f)=>{let S;const _=h.parentNode;if(!Ei(l,h)||!Ei(l,f))return;Uo(f.lastChild)&&(S=f.lastChild),_===f.lastChild&&is(_.previousSibling)&&l.remove(_.previousSibling);const z=f.lastChild;z&&is(z)&&h.hasChildNodes()&&l.remove(z),In(l,f,!0)&&lc(Nt.fromDom(f)),Bi(l,h,f),S&&f.appendChild(S);const Ct=Ps(Nt.fromDom(f),Nt.fromDom(h))?l.getParents(h,Uo,f):[];l.remove(h),io(Ct,Tt=>{In(l,Tt)&&Tt!==l.getRoot()&&l.remove(Tt)})},Ri=(l,h,f)=>{lc(Nt.fromDom(f)),Ge(l.dom,h,f),l.selection.setCursorLocation(f,0)},ka=(l,h,f,S)=>{const _=l.dom;if(_.isEmpty(S))Ri(l,f,S);else{const z=Fo(h);Ge(_,f,S),l.selection.setRng(_a(z))}},hs=(l,h,f,S)=>{const _=Fo(h);Ge(l.dom,f,S);const z=_a(_);l.selection.setRng(z)},bo=(l,h)=>{const f=l.dom,S=l.selection,_=S.getStart(),z=qt(l,_),W=f.getParent(S.getStart(),"LI",z);if(W){const Ct=W.parentElement;if(Ct===l.getBody()&&In(f,Ct))return!0;const Tt=$e(S.getRng()),ut=f.getParent(ou(l,Tt,h,z),"LI",z),Ht=ut&&(h?f.isChildOf(W,ut):f.isChildOf(ut,W));if(ut&&ut!==W&&!Ht)return l.undoManager.transact(()=>{h?ka(l,Tt,ut,W):pc(W)?fn(l):hs(l,Tt,W,ut)}),!0;if(Ht&&!h&&ut!==W){const ve=Tt.commonAncestorContainer.parentElement;return!ve||f.isChildOf(ut,ve)?!1:(l.undoManager.transact(()=>{const wr=Fo(Tt);Bi(f,ve,ut),ve.remove();const bn=_a(wr);l.selection.setRng(bn)}),!0)}else if(!ut&&!h&&Tt.startOffset===0&&Tt.endOffset===0)return l.undoManager.transact(()=>{Ta(l)}),!0}return!1},Cc=(l,h,f)=>{const S=l.getParent(h.parentNode,l.isBlock,f);l.remove(h),S&&l.isEmpty(S)&&l.remove(S)},ag=(l,h)=>{const f=l.dom,S=l.selection.getStart(),_=qt(l,S),z=f.getParent(S,f.isBlock,_);if(z&&f.isEmpty(z,void 0,{checkRootAsContent:!0})){const W=$e(l.selection.getRng()),Ct=ou(l,W,h,_),Tt=f.getParent(Ct,"LI",_);if(Ct&&Tt){const ut=bn=>pa(["td","th","caption"],Lt(bn)),Ht=bn=>bn.dom===_,ve=No(Nt.fromDom(Tt),ut,Ht),wr=No(Nt.fromDom(W.startContainer),ut,Ht);return pi(ve,wr,mr)?(l.undoManager.transact(()=>{const bn=Tt.parentNode;Cc(f,z,_),Vi(f,bn),l.selection.select(Ct,!0),l.selection.collapse(h)}),!0):!1}}return!1},cg=(l,h)=>bo(l,h)||ag(l,h),tn=l=>{const h=l.selection.getStart(),f=qt(l,h);return l.dom.getParent(h,"LI,DT,DD",f)||Nl(l).length>0},ig=l=>tn(l)?(l.undoManager.transact(()=>{let h=!0;const f=()=>h=!1;l.on("input",f),l.execCommand("Delete"),l.off("input",f),h&&l.dispatch("input"),qd(l.dom,l.getBody())}),!0):!1,zi=(l,h)=>{const f=l.selection;return!yr(l,f.getNode())&&(f.isCollapsed()?cg(l,h):ig(l))},Qd=l=>{l.on("ExecCommand",h=>{const f=h.command.toLowerCase();(f==="delete"||f==="forwarddelete")&&tn(l)&&qd(l.dom,l.getBody())}),l.on("keydown",h=>{h.keyCode===Sa.BACKSPACE?zi(l,!1)&&h.preventDefault():h.keyCode===Sa.DELETE&&zi(l,!0)&&h.preventDefault()})},pt=l=>({backspaceDelete:h=>{zi(l,h)}}),t1=(l,h)=>{const f=us(l);f===null||yr(l,f)||l.undoManager.transact(()=>{An(h.styles)&&l.dom.setStyles(f,h.styles),An(h.attrs)&&Y(h.attrs,(S,_)=>l.dom.setAttrib(f,_,S))})},je=l=>{const h=va(Bs(l).split("")),f=Zo(h,(S,_)=>{const z=S.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,_)*z});return ye(f,(S,_)=>S+_,0)},Ye=l=>{if(l--,l<0)return"";{const h=l%26,f=Math.floor(l/26),S=Ye(f),_=String.fromCharCode(65+h);return S+_}},e1=l=>/^[A-Z]+$/.test(l),Se=l=>/^[a-z]+$/.test(l),lg=l=>/^[0-9]+$/.test(l),su=l=>lg(l)?2:e1(l)?0:Se(l)?1:Rs(l)?3:4,gs=l=>{switch(su(l)){case 2:return Pt.some({listStyleType:Pt.none(),start:l});case 0:return Pt.some({listStyleType:Pt.some("upper-alpha"),start:je(l).toString()});case 1:return Pt.some({listStyleType:Pt.some("lower-alpha"),start:je(l).toString()});case 3:return Pt.some({listStyleType:Pt.none(),start:""});case 4:return Pt.none()}},o1=l=>{const h=parseInt(l.start,10);return Ne(l.listStyleType,"upper-alpha")?Ye(h):Ne(l.listStyleType,"lower-alpha")?Ye(h).toLowerCase():l.start},ug=l=>{const h=us(l);!Ns(h)||yr(l,h)||l.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:o1({start:l.dom.getAttrib(h,"start","1"),listStyleType:Pt.from(l.dom.getStyle(h,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:f=>{const S=f.getData();gs(S.start).each(_=>{l.execCommand("mceListUpdate",!1,{attrs:{start:_.start==="1"?"":_.start},styles:{"list-style-type":_.listStyleType.getOr("")}})}),f.close()}})},ru=(l,h)=>()=>{const f=us(l);return Pe(f)&&f.nodeName===h},n1=l=>{l.addCommand("mceListProps",()=>{ug(l)})},au=l=>{l.on("BeforeExecCommand",h=>{const f=h.command.toLowerCase();f==="indent"?Jl(l):f==="outdent"&&fn(l)}),l.addCommand("InsertUnorderedList",(h,f)=>{Li(l,"UL",f)}),l.addCommand("InsertOrderedList",(h,f)=>{Li(l,"OL",f)}),l.addCommand("InsertDefinitionList",(h,f)=>{Li(l,"DL",f)}),l.addCommand("RemoveList",()=>{Ta(l)}),n1(l),l.addCommand("mceListUpdate",(h,f)=>{An(f)&&t1(l,f)}),l.addQueryStateHandler("InsertUnorderedList",ru(l,"UL")),l.addQueryStateHandler("InsertOrderedList",ru(l,"OL")),l.addQueryStateHandler("InsertDefinitionList",ru(l,"DL"))};var Ea=tinymce.util.Tools.resolve("tinymce.html.Node");const s1=l=>l.type===3,r1=l=>l.length===0,a1=l=>{const h=(_,z)=>{const W=Ea.create("li");io(_,Ct=>W.append(Ct)),z?l.insert(W,z,!0):l.append(W)},f=(_,z)=>s1(z)?[..._,z]:!r1(_)&&!s1(z)?(h(_,z),[]):_,S=ye(l.children(),f,[]);r1(S)||h(S)},Tc=l=>{l.on("PreInit",()=>{const{parser:h}=l;h.addNodeFilter("ul,ol",f=>io(f,a1))})},vn=l=>{l.on("keydown",h=>{h.keyCode!==Sa.TAB||Sa.metaKeyPressed(h)||l.undoManager.transact(()=>{(h.shiftKey?fn(l):Jl(l))&&h.preventDefault()})})},Sr=l=>{j(l)&&vn(l),Qd(l)},c1=(l,h)=>f=>{const S=_=>{f.setActive(Wl(_.parents,h)),f.setEnabled(!yr(l,_.element)&&l.selection.isEditable())};return f.setEnabled(l.selection.isEditable()),ds(l,S)},cu=l=>{const h=f=>()=>l.execCommand(f);l.hasPlugin("advlist")||(l.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:h("InsertOrderedList"),onSetup:c1(l,"OL")}),l.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:h("InsertUnorderedList"),onSetup:c1(l,"UL")}))},i1=(l,h)=>f=>ds(l,_=>f.setEnabled(Wl(_.parents,h)&&!yr(l,_.element))),wt=l=>{const h={text:"List properties...",icon:"ordered-list",onAction:()=>l.execCommand("mceListProps"),onSetup:i1(l,"OL")};l.ui.registry.addMenuItem("listprops",h),l.ui.registry.addContextMenu("lists",{update:f=>{const S=us(l,f);return Ns(S)?["listprops"]:[]}})};var Gr=()=>{El.add("lists",l=>(Od(l),Tc(l),l.hasPlugin("rtc",!0)?n1(l):(Sr(l),au(l)),cu(l),wt(l),pt(l)))};Gr()})();(function(){const El=Object.getPrototypeOf,di=(t,e,o)=>{var n;return o(t,e.prototype)?!0:((n=t.constructor)===null||n===void 0?void 0:n.name)===e.name},Al=t=>{const e=typeof t;return t===null?"null":e==="object"&&Array.isArray(t)?"array":e==="object"&&di(t,String,(o,n)=>n.isPrototypeOf(o))?"string":e},Vs=t=>e=>Al(e)===t,lr=t=>e=>typeof e===t,ec=t=>e=>t===e,An=(t,e)=>Dn(t)&&di(t,e,(o,n)=>El(o)===n),Zt=Vs("string"),Dn=Vs("object"),mi=t=>An(t,Object),Pe=Vs("array"),Yn=ec(null),Xo=lr("boolean"),dn=ec(void 0),Ir=t=>t==null,xe=t=>!Ir(t),$o=lr("function"),Hn=lr("number"),St=(t,e)=>{if(Pe(t)){for(let o=0,n=t.length;o<n;++o)if(!e(t[o]))return!1;return!0}return!1},N=()=>{},Pt=t=>()=>t(),oc=(t,e)=>(...o)=>t(e.apply(null,o)),Dl=(t,e)=>o=>t(e(o)),E=t=>()=>t,Ft=t=>t,pa=(t,e)=>t===e;function so(t,...e){return(...o)=>{const n=e.concat(o);return t.apply(null,n)}}const Zo=t=>e=>!t(e),io=t=>()=>{throw new Error(t)},Xn=t=>t(),Qt=E(!1),ye=E(!0);class d{constructor(e,o){this.tag=e,this.value=o}static some(e){return new d(!0,e)}static none(){return d.singletonNone}fold(e,o){return this.tag?o(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?d.some(e(this.value)):d.none()}bind(e){return this.tag?e(this.value):d.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:d.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return xe(e)?d.some(e):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);const Ls=Array.prototype.slice,Hl=Array.prototype.indexOf,fa=Array.prototype.push,va=(t,e)=>Hl.call(t,e),hi=(t,e)=>{const o=va(t,e);return o===-1?d.none():d.some(o)},fe=(t,e)=>va(t,e)>-1,fo=(t,e)=>{for(let o=0,n=t.length;o<n;o++){const s=t[o];if(e(s,o))return!0}return!1},Kn=(t,e)=>{const o=[];for(let n=0;n<t;n++)o.push(e(n));return o},gi=(t,e)=>{const o=[];for(let n=0;n<t.length;n+=e){const s=Ls.call(t,n,n+e);o.push(s)}return o},Y=(t,e)=>{const o=t.length,n=new Array(o);for(let s=0;s<o;s++){const r=t[s];n[s]=e(r,s)}return n},it=(t,e)=>{for(let o=0,n=t.length;o<n;o++){const s=t[o];e(s,o)}},$l=(t,e)=>{for(let o=t.length-1;o>=0;o--){const n=t[o];e(n,o)}},nc=(t,e)=>{const o=[],n=[];for(let s=0,r=t.length;s<r;s++){const a=t[s];(e(a,s)?o:n).push(a)}return{pass:o,fail:n}},oe=(t,e)=>{const o=[];for(let n=0,s=t.length;n<s;n++){const r=t[n];e(r,n)&&o.push(r)}return o},lo=(t,e,o)=>($l(t,(n,s)=>{o=e(o,n,s)}),o),Ne=(t,e,o)=>(it(t,(n,s)=>{o=e(o,n,s)}),o),pi=(t,e,o)=>{for(let n=0,s=t.length;n<s;n++){const r=t[n];if(e(r,n))return d.some(r);if(o(r,n))break}return d.none()},le=(t,e)=>pi(t,e,Qt),ur=(t,e)=>{for(let o=0,n=t.length;o<n;o++){const s=t[o];if(e(s,o))return d.some(o)}return d.none()},Le=t=>{const e=[];for(let o=0,n=t.length;o<n;++o){if(!Pe(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);fa.apply(e,t[o])}return e},Be=(t,e)=>Le(Y(t,e)),Bs=(t,e)=>{for(let o=0,n=t.length;o<n;++o){const s=t[o];if(e(s,o)!==!0)return!1}return!0},dr=t=>{const e=Ls.call(t,0);return e.reverse(),e},Rs=(t,e)=>oe(t,o=>!fe(e,o)),fi=(t,e)=>{const o={};for(let n=0,s=t.length;n<s;n++){const r=t[n];o[String(r)]=e(r,n)}return o},ba=t=>[t],vi=(t,e)=>{const o=Ls.call(t,0);return o.sort(e),o},ya=(t,e)=>e>=0&&e<t.length?d.some(t[e]):d.none(),mn=t=>ya(t,0),zs=t=>ya(t,t.length-1),sc=$o(Array.from)?Array.from:t=>Ls.call(t),Nt=(t,e)=>{for(let o=0;o<t.length;o++){const n=e(t[o],o);if(n.isSome())return n}return d.none()},Te=Object.keys,bi=Object.hasOwnProperty,Ue=(t,e)=>{const o=Te(t);for(let n=0,s=o.length;n<s;n++){const r=o[n],a=t[r];e(a,r)}},He=(t,e)=>Vr(t,(o,n)=>({k:n,v:e(o,n)})),Vr=(t,e)=>{const o={};return Ue(t,(n,s)=>{const r=e(n,s);o[r.k]=r.v}),o},mr=t=>(e,o)=>{t[o]=e},Ps=(t,e,o,n)=>{Ue(t,(s,r)=>{(e(s,r)?o:n)(s,r)})},Lr=(t,e)=>{const o={},n={};return Ps(t,e,mr(o),mr(n)),{t:o,f:n}},rc=(t,e)=>{const o={};return Ps(t,e,mr(o),N),o},hr=(t,e)=>{const o=[];return Ue(t,(n,s)=>{o.push(e(n,s))}),o},Br=(t,e)=>{const o=Te(t);for(let n=0,s=o.length;n<s;n++){const r=o[n],a=t[r];if(e(a,r,t))return d.some(a)}return d.none()},xa=t=>hr(t,Ft),dt=(t,e)=>Lt(t,e)?d.from(t[e]):d.none(),Lt=(t,e)=>bi.call(t,e),_o=(t,e)=>Lt(t,e)&&t[e]!==void 0&&t[e]!==null,Ko={generate:t=>{if(!Pe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const e=[],o={};return it(t,(n,s)=>{const r=Te(n);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],c=n[a];if(o[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Pe(c))throw new Error("case arguments must be an array");e.push(a),o[a]=(...i)=>{const u=i.length;if(u!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+u);return{fold:(...g)=>{if(g.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+g.length);return g[s].apply(null,i)},match:g=>{const p=Te(g);if(e.length!==p.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+`
Actual: `+p.join(","));if(!Bs(e,y=>fe(p,y)))throw new Error("Not all branches were specified when using match. Specified: "+p.join(", ")+`
Required: `+e.join(", "));return g[a].apply(null,i)},log:g=>{console.log(g,{constructors:e,constructor:a,params:i})}}}}),o}},st=t=>{let e=t;return{get:()=>e,set:s=>{e=s}}},Rr=t=>{let e=d.none(),o=[];const n=u=>Rr(m=>{s(g=>{m(u(g))})}),s=u=>{a()?i(u):o.push(u)},r=u=>{a()||(e=d.some(u),c(o),o=[])},a=()=>e.isSome(),c=u=>{it(u,i)},i=u=>{e.each(m=>{setTimeout(()=>{u(m)},0)})};return t(r),{get:s,map:n,isReady:a}},Fl={nu:Rr,pure:t=>Rr(e=>{e(t)})},xi=t=>{setTimeout(()=>{throw t},0)},qn=t=>{const e=i=>{t().then(i,xi)};return{map:i=>qn(()=>t().then(i)),bind:i=>qn(()=>t().then(u=>i(u).toPromise())),anonBind:i=>qn(()=>t().then(()=>i.toPromise())),toLazy:()=>Fl.nu(e),toCached:()=>{let i=null;return qn(()=>(i===null&&(i=t()),i))},toPromise:t,get:e}},_e={nu:t=>qn(()=>new Promise(t)),pure:t=>qn(()=>Promise.resolve(t))},gr=t=>{const e=r=>r(t),o=E(t),n=()=>s,s={tag:!0,inner:t,fold:(r,a)=>a(t),isValue:ye,isError:Qt,map:r=>Mt.value(r(t)),mapError:n,bind:e,exists:e,forall:e,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:r=>{r(t)},toOptional:()=>d.some(t)};return s},zr=t=>{const e=()=>o,o={tag:!1,inner:t,fold:(n,s)=>n(t),isValue:Qt,isError:ye,map:e,mapError:n=>Mt.error(n(t)),bind:e,exists:Qt,forall:ye,getOr:Ft,or:Ft,getOrThunk:Xn,orThunk:Xn,getOrDie:io(String(t)),each:N,toOptional:d.none};return o},Mt={value:gr,error:zr,fromOption:(t,e)=>t.fold(()=>zr(e),gr)},qo=t=>({...t,toCached:()=>qo(t.toCached()),bindFuture:i=>qo(t.bind(u=>u.fold(m=>_e.pure(Mt.error(m)),m=>i(m)))),bindResult:i=>qo(t.map(u=>u.bind(i))),mapResult:i=>qo(t.map(u=>u.map(i))),mapError:i=>qo(t.map(u=>u.mapError(i))),foldResult:(i,u)=>t.map(m=>m.fold(i,u)),withTimeout:(i,u)=>qo(_e.nu(m=>{let g=!1;const p=setTimeout(()=>{g=!0,m(Mt.error(u()))},i);t.get(v=>{g||(clearTimeout(p),m(v))})}))}),ac=t=>qo(_e.nu(t)),cc=t=>qo(_e.pure(Mt.value(t))),wi={nu:ac,wrap:qo,pure:cc,value:cc,error:t=>qo(_e.pure(Mt.error(t))),fromResult:t=>qo(_e.pure(t)),fromFuture:t=>qo(t.map(Mt.value)),fromPromise:t=>ac(e=>{t.then(o=>{e(Mt.value(o))},o=>{e(Mt.error(o))})})},Pr=typeof window<"u"?window:Function("return this;")(),fr=(t,e,o,n)=>{const s=t+e;return s>n?o:s<o?n:s},Mo=(t,e,o)=>Math.min(Math.max(t,e),o),ic=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let lc=0;const K=t=>{const o=new Date().getTime(),n=Math.floor(ic()*1e9);return lc++,t+"_"+n+lc+String(o)},Il=(t,e)=>e,Vl=(t,e)=>mi(t)&&mi(e)?ae(t,e):e,Ll=t=>(...e)=>{if(e.length===0)throw new Error("Can't merge zero objects");const o={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)Lt(s,r)&&(o[r]=t(o[r],s[r]))}return o},ae=Ll(Vl),Ci=Ll(Il),hn=(t,e,o=pa)=>t.exists(n=>o(n,e)),Bl=(t,e,o=pa)=>vr(t,e,o).getOr(t.isNone()&&e.isNone()),Zs=t=>{const e=[],o=n=>{e.push(n)};for(let n=0;n<t.length;n++)t[n].each(o);return e},Rl=t=>{const e=[];for(let o=0;o<t.length;o++){const n=t[o];if(n.isSome())e.push(n.getOrDie());else return d.none()}return d.some(e)},vr=(t,e,o)=>t.isSome()&&e.isSome()?d.some(o(t.getOrDie(),e.getOrDie())):d.none(),Ti=(t,e,o,n)=>t.isSome()&&e.isSome()&&o.isSome()?d.some(n(t.getOrDie(),e.getOrDie(),o.getOrDie())):d.none(),uc=(t,e)=>t!=null?d.some(e(t)):d.none(),No=(t,e)=>t?d.some(e):d.none(),_i=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),_d=(t,e)=>{let o=e??Pr;for(let n=0;n<t.length&&o!==void 0&&o!==null;++n)o=o[t[n]];return o},Mi=(t,e)=>{const o=t.split(".");return _d(o,e)};Ko.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const dc=t=>{const e=[],o=[];return it(t,n=>{n.fold(s=>{e.push(s)},s=>{o.push(s)})}),{errors:e,values:o}},mc=t=>{const e=st(d.none()),o=()=>e.get().each(t);return{clear:()=>{o(),e.set(d.none())},isSet:()=>e.get().isSome(),get:()=>e.get(),set:c=>{o(),e.set(d.some(c))}}},Md=()=>mc(t=>t.destroy()),br=()=>mc(t=>t.unbind()),Kt=()=>{const t=mc(N);return{...t,on:o=>t.get().each(o)}},Oi=(t,e)=>t+e,Sa=(t,e)=>t.substring(e),wa=(t,e,o)=>e===""||t.length>=e.length&&t.substr(o,o+e.length)===e,gn=(t,e)=>Fn(t,e)?Sa(t,e.length):t,ki=(t,e)=>cs(t,e)?t:Oi(t,e),We=(t,e,o=0,n)=>{const s=t.indexOf(e,o);return s!==-1?dn(n)?!0:s+e.length<=n:!1},Fn=(t,e)=>wa(t,e,0),cs=(t,e)=>wa(t,e,t.length-e.length),hc=(t=>e=>e.replace(t,""))(/^\s+|\s+$/g),Ns=t=>t.length>0,Us=t=>!Ns(t),gc=t=>{const e=parseFloat(t);return isNaN(e)?d.none():d.some(e)},zl=(t,e)=>{let o=null,n=null;return{cancel:()=>{Yn(o)||(clearTimeout(o),o=null,n=null)},throttle:(...a)=>{n=a,Yn(o)&&(o=setTimeout(()=>{const c=n;o=null,n=null,t.apply(null,c)},e))}}},is=(t,e)=>{let o=null;return{cancel:()=>{Yn(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{Yn(o)&&(o=setTimeout(()=>{o=null,t.apply(null,r)},e))}}},pc=(t,e)=>{let o=null;const n=()=>{Yn(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...r)=>{n(),o=setTimeout(()=>{o=null,t.apply(null,r)},e)}}},pn=t=>{let e=!1,o;return(...n)=>(e||(e=!0,o=t.apply(null,n)),o)},Zr="\uFEFF",fc="",Pl=(t,e)=>{const n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,t),new Error(s)}return Ws(n.childNodes[0])},In=(t,e)=>{const n=(e||document).createElement(t);return Ws(n)},Ei=(t,e)=>{const n=(e||document).createTextNode(t);return Ws(n)},Ws=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},j={fromHtml:Pl,fromTag:In,fromText:Ei,fromDom:Ws,fromPoint:(t,e,o)=>d.from(t.dom.elementFromPoint(e,o)).map(Ws)},Ai=(t,e)=>{e.fold(o=>{t.setStartBefore(o.dom)},(o,n)=>{t.setStart(o.dom,n)},o=>{t.setStartAfter(o.dom)})},Zl=(t,e)=>{e.fold(o=>{t.setEndBefore(o.dom)},(o,n)=>{t.setEnd(o.dom,n)},o=>{t.setEndAfter(o.dom)})},b=(t,e,o)=>{const n=t.document.createRange();return Ai(n,e),Zl(n,o),n},C=(t,e,o,n,s)=>{const r=t.document.createRange();return r.setStart(e.dom,o),r.setEnd(n.dom,s),r},k=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),V=t=>{const e=t.getClientRects(),o=e.length>0?e[0]:t.getBoundingClientRect();return o.width>0||o.height>0?d.some(o).map(k):d.none()},U=t=>{const e=t.getBoundingClientRect();return e.width>0||e.height>0?d.some(e).map(k):d.none()},J=Ko.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),It=(t,e,o)=>e(j.fromDom(o.startContainer),o.startOffset,j.fromDom(o.endContainer),o.endOffset),Me=(t,e)=>e.match({domRange:o=>({ltr:E(o),rtl:d.none}),relative:(o,n)=>({ltr:pn(()=>b(t,o,n)),rtl:pn(()=>d.some(b(t,n,o)))}),exact:(o,n,s,r)=>({ltr:pn(()=>C(t,o,n,s,r)),rtl:pn(()=>d.some(C(t,s,r,o,n)))})}),Yt=(t,e)=>{const o=e.ltr();return o.collapsed?e.rtl().filter(s=>s.collapsed===!1).map(s=>J.rtl(j.fromDom(s.endContainer),s.endOffset,j.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>It(t,J.ltr,o)):It(t,J.ltr,o)},$e=(t,e)=>{const o=Me(t,e);return Yt(t,o)},Oe=(t,e)=>$e(t,e).match({ltr:(n,s,r,a)=>{const c=t.document.createRange();return c.setStart(n.dom,s),c.setEnd(r.dom,a),c},rtl:(n,s,r,a)=>{const c=t.document.createRange();return c.setStart(r.dom,a),c.setEnd(n.dom,s),c}});J.ltr,J.rtl;const ls=9,us=11,vc=1,Lh=3,Ca=(t,e)=>{const o=t.dom;if(o.nodeType!==vc)return!1;{const n=o;if(n.matches!==void 0)return n.matches(e);if(n.msMatchesSelector!==void 0)return n.msMatchesSelector(e);if(n.webkitMatchesSelector!==void 0)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector!==void 0)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},kd=t=>t.nodeType!==vc&&t.nodeType!==ls&&t.nodeType!==us||t.childElementCount===0,Nl=(t,e)=>{const o=e===void 0?document:e.dom;return kd(o)?[]:Y(o.querySelectorAll(t),j.fromDom)},Ed=(t,e)=>{const o=e===void 0?document:e.dom;return kd(o)?d.none():d.from(o.querySelector(t)).map(j.fromDom)},qt=(t,e)=>t.dom===e.dom,Di=(t,e)=>{const o=t.dom,n=e.dom;return o===n?!1:o.contains(n)},bc=(t,e,o,n)=>{const s=t.isiOS()&&/ipad/i.test(o)===!0,r=t.isiOS()&&!s,a=t.isiOS()||t.isAndroid(),c=a||n("(pointer:coarse)"),i=s||!r&&a&&n("(min-device-width:768px)"),u=r||a&&!i,m=e.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,g=!u&&!i&&!m;return{isiPad:E(s),isiPhone:E(r),isTablet:E(i),isPhone:E(u),isTouch:E(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:E(m),isDesktop:E(g)}},Bh=(t,e)=>{for(let o=0;o<t.length;o++){const n=t[o];if(n.test(e))return n}},Ad=(t,e)=>{const o=Bh(t,e);if(!o)return{major:0,minor:0};const n=s=>Number(e.replace(o,"$"+s));return Ul(n(1),n(2))},Rh=(t,e)=>{const o=String(e).toLowerCase();return t.length===0?Dd():Ad(t,o)},Dd=()=>Ul(0,0),Ul=(t,e)=>({major:t,minor:e}),yc={nu:Ul,detect:Rh,unknown:Dd},xc=(t,e)=>Nt(e.brands,o=>{const n=o.brand.toLowerCase();return le(t,s=>{var r;return n===((r=s.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(s=>({current:s.name,version:yc.nu(parseInt(o.version,10),0)}))}),Wl=(t,e)=>{const o=String(e).toLowerCase();return le(t,n=>n.search(o))},Hd=(t,e)=>Wl(t,e).map(o=>{const n=yc.detect(o.versionRegexes,e);return{current:o.name,version:n}}),zh=(t,e)=>Wl(t,e).map(o=>{const n=yc.detect(o.versionRegexes,e);return{current:o.name,version:n}}),yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ds=t=>e=>We(e,t),Nr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>We(t,"edge/")&&We(t,"chrome")&&We(t,"safari")&&We(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:t=>We(t,"chrome")&&!We(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>We(t,"msie")||We(t,"trident")},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ds("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ds("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(We(t,"safari")||We(t,"mobile/"))&&We(t,"applewebkit")}],Sc=[{name:"Windows",search:ds("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>We(t,"iphone")||We(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ds("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ds("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ds("linux"),versionRegexes:[]},{name:"Solaris",search:ds("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ds("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ds("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],$d={browsers:E(Nr),oses:E(Sc)},Gl="Edge",Fd="Chromium",xr="IE",jl="Opera",Id="Firefox",Yl="Safari",Ph=()=>Vd({current:void 0,version:yc.unknown()}),Vd=t=>{const e=t.current,o=t.version,n=s=>()=>e===s;return{current:e,version:o,isEdge:n(Gl),isChromium:n(Fd),isIE:n(xr),isOpera:n(jl),isFirefox:n(Id),isSafari:n(Yl)}},Ld={unknown:Ph,nu:Vd,edge:E(Gl),chromium:E(Fd),ie:E(xr),opera:E(jl),firefox:E(Id),safari:E(Yl)},Xl="Windows",Bd="iOS",Rd="Android",zd="Linux",Pd="macOS",Zd="Solaris",Nd="FreeBSD",Ud="ChromeOS",Zh=()=>Kl({current:void 0,version:yc.unknown()}),Kl=t=>{const e=t.current,o=t.version,n=s=>()=>e===s;return{current:e,version:o,isWindows:n(Xl),isiOS:n(Bd),isAndroid:n(Rd),isMacOS:n(Pd),isLinux:n(zd),isSolaris:n(Zd),isFreeBSD:n(Nd),isChromeOS:n(Ud)}},Wd={unknown:Zh,nu:Kl,windows:E(Xl),ios:E(Bd),android:E(Rd),linux:E(zd),macos:E(Pd),solaris:E(Zd),freebsd:E(Nd),chromeos:E(Ud)},Nh={detect:(t,e,o)=>{const n=$d.browsers(),s=$d.oses(),r=e.bind(i=>xc(n,i)).orThunk(()=>Hd(n,t)).fold(Ld.unknown,Ld.nu),a=zh(s,t).fold(Wd.unknown,Wd.nu),c=bc(a,r,t,o);return{browser:r,os:a,deviceType:c}}},Uh=t=>window.matchMedia(t).matches;let Wh=pn(()=>Nh.detect(window.navigator.userAgent,d.from(window.navigator.userAgentData),Uh));const Jn=()=>Wh(),Gd=(t,e)=>Mi(t,e),jd=(t,e)=>{const o=Gd(t,e);if(o==null)throw new Error(t+" not available on this browser");return o},Gh=Object.getPrototypeOf,Hi=t=>jd("HTMLElement",t),jh=t=>{const e=Mi("ownerDocument.defaultView",t);return Dn(t)&&(Hi(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Gh(t).constructor.name))},Gs=t=>t.dom.nodeName.toLowerCase(),Yh=t=>t.dom.nodeType,$i=t=>e=>Yh(e)===t,Yd=t=>Jo(t)&&jh(t.dom),Jo=$i(vc),Ur=$i(Lh),Xh=$i(ls),ql=$i(us),Jl=t=>e=>Jo(e)&&Gs(e)===t,fn=t=>j.fromDom(t.dom.ownerDocument),Ta=t=>Xh(t)?t:fn(t),Ql=t=>j.fromDom(Ta(t).dom.documentElement),ms=t=>j.fromDom(Ta(t).dom.defaultView),Fo=t=>d.from(t.dom.parentNode).map(j.fromDom),_a=t=>Fo(t),Qo=t=>d.from(t.dom.parentElement).map(j.fromDom),Kh=(t,e)=>{const o=$o(e)?e:Qt;let n=t.dom;const s=[];for(;n.parentNode!==null&&n.parentNode!==void 0;){const r=n.parentNode,a=j.fromDom(r);if(s.push(a),o(a)===!0)break;n=r}return s},tu=t=>d.from(t.dom.offsetParent).map(j.fromDom),qh=t=>d.from(t.dom.nextSibling).map(j.fromDom),Io=t=>Y(t.dom.childNodes,j.fromDom),Wr=(t,e)=>{const o=t.dom.childNodes;return d.from(o[e]).map(j.fromDom)},Ma=t=>Wr(t,0),Fi=(t,e)=>({element:t,offset:e}),Xd=(t,e)=>{const o=Io(t);return o.length>0&&e<o.length?Fi(o[e],0):Fi(t,e)},Jh=(t,e,o,n)=>{const r=fn(t).dom.createRange();return r.setStart(t.dom,e),r.setEnd(o.dom,n),r},Qh=(t,e,o,n)=>{const s=Jh(t,e,o,n),r=qt(t,o)&&e===n;return s.collapsed&&!r},wc=t=>ql(t)&&xe(t.dom.host),Oo=t=>j.fromDom(t.dom.getRootNode()),Oa=t=>wc(t)?t:j.fromDom(Ta(t).dom.body),tg=t=>Ii(t).isSome(),Ii=t=>{const e=Oo(t);return wc(e)?d.some(e):d.none()},Vi=t=>j.fromDom(t.dom.host),eg=t=>{if(xe(t.target)){const e=j.fromDom(t.target);if(Jo(e)&&og(e)&&t.composed&&t.composedPath){const o=t.composedPath();if(o)return mn(o)}}return d.from(t.target)},og=t=>xe(t.dom.shadowRoot),ng=(t,e,o,n,s,r,a)=>({target:t,x:e,y:o,stop:n,prevent:s,kill:r,raw:a}),eu=t=>{const e=j.fromDom(eg(t).getOr(t.target)),o=()=>t.stopPropagation(),n=()=>t.preventDefault(),s=oc(n,o);return ng(e,t.clientX,t.clientY,o,n,s,t)},sg=(t,e)=>o=>{t(o)&&e(eu(o))},Li=(t,e,o,n,s)=>{const r=sg(o,n);return t.dom.addEventListener(e,r,s),{unbind:so(qd,t,e,r,s)}},Kd=(t,e,o,n)=>Li(t,e,o,n,!1),rg=(t,e,o,n)=>Li(t,e,o,n,!0),qd=(t,e,o,n)=>{t.dom.removeEventListener(e,o,n)},ou=ye,vo=(t,e,o)=>Kd(t,e,ou,o),nu=(t,e,o)=>rg(t,e,ou,o),Jd=eu,Bi=()=>j.fromDom(document),Ge=(t,e=!1)=>t.dom.focus({preventScroll:e}),Ri=t=>t.dom.blur(),ka=t=>{const e=Oo(t).dom;return t.dom===e.activeElement},hs=(t=Bi())=>d.from(t.dom.activeElement).map(j.fromDom),bo=t=>hs(Oo(t)).filter(e=>t.dom.contains(e.dom)),Cc=(t,e)=>{Fo(t).each(n=>{n.dom.insertBefore(e.dom,t.dom)})},ag=(t,e)=>{qh(t).fold(()=>{Fo(t).each(s=>{tn(s,e)})},n=>{Cc(n,e)})},cg=(t,e)=>{Ma(t).fold(()=>{tn(t,e)},n=>{t.dom.insertBefore(e.dom,n.dom)})},tn=(t,e)=>{t.dom.appendChild(e.dom)},ig=(t,e,o)=>{Wr(t,o).fold(()=>{tn(t,e)},n=>{Cc(n,e)})},zi=(t,e)=>{it(e,o=>{tn(t,o)})},Qd=(t,e,o)=>{if(Zt(o)||Xo(o)||Hn(o))t.setAttribute(e,o+"");else throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},pt=(t,e,o)=>{Qd(t.dom,e,o)},t1=(t,e)=>{const o=t.dom;Ue(e,(n,s)=>{Qd(o,s,n)})},je=(t,e)=>{const o=t.dom.getAttribute(e);return o===null?void 0:o},Ye=(t,e)=>d.from(je(t,e)),e1=(t,e)=>{const o=t.dom;return o&&o.hasAttribute?o.hasAttribute(e):!1},Se=(t,e)=>{t.dom.removeAttribute(e)},lg=t=>Ne(t.dom.attributes,(e,o)=>(e[o.name]=o.value,e),{}),su=t=>{t.dom.textContent="",it(Io(t),e=>{gs(e)})},gs=t=>{const e=t.dom;e.parentNode!==null&&e.parentNode.removeChild(e)},o1=(t,e)=>j.fromDom(t.dom.cloneNode(e)),ug=t=>o1(t,!1),ru=t=>o1(t,!0),n1=(t,e)=>{const n=(e||document).createElement("div");return n.innerHTML=t,Io(j.fromDom(n))},au=t=>t.dom.innerHTML,Ea=(t,e)=>{const n=fn(t).dom,s=j.fromDom(n.createDocumentFragment()),r=n1(e,n);zi(s,r),su(t),tn(t,s)},s1=t=>{const e=j.fromTag("div"),o=j.fromDom(t.dom.cloneNode(!0));return tn(e,o),au(e)},r1=t=>{if(wc(t))return"#shadow-root";{const e=ug(t);return s1(e)}},a1=t=>new Promise((e,o)=>{const n=()=>{r(),e(t)},s=[vo(t,"load",n),vo(t,"error",()=>{r(),o("Unable to load data from image: "+t.dom.src)})],r=()=>it(s,a=>a.unbind());t.dom.complete&&n()}),Tc=t=>t.style!==void 0&&$o(t.style.getPropertyValue),vn=t=>{const e=Ur(t)?t.dom.parentNode:t.dom;if(e==null||e.ownerDocument===null)return!1;const o=e.ownerDocument;return Ii(j.fromDom(e)).fold(()=>o.body.contains(e),Dl(vn,Vi))},Sr=()=>c1(j.fromDom(document)),c1=t=>{const e=t.dom.body;if(e==null)throw new Error("Body is not available yet");return j.fromDom(e)},cu=(t,e,o)=>{if(!Zt(o))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Tc(t)&&t.style.setProperty(e,o)},i1=(t,e)=>{Tc(t)&&t.style.removeProperty(e)},wt=(t,e,o)=>{const n=t.dom;cu(n,e,o)},Gr=(t,e)=>{const o=t.dom;Ue(e,(n,s)=>{cu(o,s,n)})},l=(t,e)=>{const o=t.dom;Ue(e,(n,s)=>{n.fold(()=>{i1(o,s)},r=>{cu(o,s,r)})})},h=(t,e)=>{const o=t.dom,s=window.getComputedStyle(o).getPropertyValue(e);return s===""&&!vn(t)?f(o,e):s},f=(t,e)=>Tc(t)?t.style.getPropertyValue(e):"",S=(t,e)=>{const o=t.dom,n=f(o,e);return d.from(n).filter(s=>s.length>0)},_=t=>{const e={},o=t.dom;if(Tc(o))for(let n=0;n<o.style.length;n++){const s=o.style.item(n);e[s]=o.style[s]}return e},z=(t,e,o)=>{const n=j.fromTag(t);return wt(n,e,o),S(n,e).isSome()},W=(t,e)=>{const o=t.dom;i1(o,e),hn(Ye(t,"style").map(hc),"")&&Se(t,"style")},Ct=t=>t.dom.offsetWidth,Tt=(t,e)=>{const o=(c,i)=>{if(!Hn(i)&&!i.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+i);const u=c.dom;Tc(u)&&(u.style[t]=i+"px")},n=c=>{const i=e(c);if(i<=0||i===null){const u=h(c,t);return parseFloat(u)||0}return i},s=n,r=(c,i)=>Ne(i,(u,m)=>{const g=h(c,m),p=g===void 0?0:parseInt(g,10);return isNaN(p)?u:u+p},0);return{set:o,get:n,getOuter:s,aggregate:r,max:(c,i,u)=>{const m=r(c,u);return i>m?i-m:0}}},ut=Tt("height",t=>{const e=t.dom;return vn(t)?e.getBoundingClientRect().height:e.offsetHeight}),Ht=t=>ut.get(t),ve=t=>ut.getOuter(t),wr=(t,e)=>{const o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],n=ut.max(t,e,o);wt(t,"max-height",n+"px")},bn=t=>t.offsetWidth<=0&&t.offsetHeight<=0,q2=t=>!bn(t.dom),l1=Tt("width",t=>t.dom.offsetWidth),r7=Tt("width",t=>{const e=t.dom;return vn(t)?e.getBoundingClientRect().width:e.offsetWidth}),a7=(t,e)=>l1.set(t,e),yn=t=>l1.get(t),iu=t=>l1.getOuter(t),c7=t=>r7.getOuter(t),i7=(t,e)=>{const o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],n=l1.max(t,e,o);wt(t,"max-width",n+"px")},J2=(t,e)=>({left:t,top:e,translate:(n,s)=>J2(t+n,e+s)}),ke=J2,l7=t=>{const e=t.getBoundingClientRect();return ke(e.left,e.top)},u1=(t,e)=>t!==void 0?t:e!==void 0?e:0,ps=t=>{const e=t.dom.ownerDocument,o=e.body,n=e.defaultView,s=e.documentElement;if(o===t.dom)return ke(o.offsetLeft,o.offsetTop);const r=u1(n==null?void 0:n.pageYOffset,s.scrollTop),a=u1(n==null?void 0:n.pageXOffset,s.scrollLeft),c=u1(s.clientTop,o.clientTop),i=u1(s.clientLeft,o.clientLeft);return d1(t).translate(a-i,r-c)},d1=t=>{const e=t.dom,n=e.ownerDocument.body;return n===e?ke(n.offsetLeft,n.offsetTop):vn(t)?l7(e):ke(0,0)},Vn=t=>{const e=t!==void 0?t.dom:document,o=e.body.scrollLeft||e.documentElement.scrollLeft,n=e.body.scrollTop||e.documentElement.scrollTop;return ke(o,n)},dg=(t,e,o)=>{const s=(o!==void 0?o.dom:document).defaultView;s&&s.scrollTo(t,e)},u7=((t,e)=>{const o=r=>{if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},n=r=>t(r)?d.from(r.dom.nodeValue):d.none();return{get:o,getOption:n,set:(r,a)=>{if(!t(r))throw new Error("Can only set raw "+e+" value of a "+e+" node");r.dom.nodeValue=a}}})(Ur,"text"),d7=t=>u7.get(t),mg=(t,e)=>o=>m7(o)==="rtl"?e:t,m7=t=>h(t,"direction")==="rtl"?"rtl":"ltr",hg=(t,e)=>{const o=je(t,e);return o===void 0||o===""?[]:o.split(" ")},h7=(t,e,o)=>{const s=hg(t,e).concat([o]);return pt(t,e,s.join(" ")),!0},g7=(t,e,o)=>{const n=oe(hg(t,e),s=>s!==o);return n.length>0?pt(t,e,n.join(" ")):Se(t,e),!1};var Q2=(t,e,o,n,s)=>t(o,n)?d.some(o):$o(s)&&s(o)?d.none():e(o,n,s);const tv=(t,e,o)=>{let n=t.dom;const s=$o(o)?o:Qt;for(;n.parentNode;){n=n.parentNode;const r=j.fromDom(n);if(e(r))return d.some(r);if(s(r))break}return d.none()},ev=(t,e,o)=>Q2((s,r)=>r(s),tv,t,e,o),p7=(t,e)=>{const o=t.dom;return o.parentNode?ov(j.fromDom(o.parentNode),n=>!qt(t,n)&&e(n)):d.none()},ov=(t,e)=>{const o=s=>e(j.fromDom(s));return le(t.dom.childNodes,o).map(j.fromDom)},f7=(t,e)=>{const o=n=>{for(let s=0;s<n.childNodes.length;s++){const r=j.fromDom(n.childNodes[s]);if(e(r))return d.some(r);const a=o(n.childNodes[s]);if(a.isSome())return a}return d.none()};return o(t.dom)},v7=t=>Ed(t),js=(t,e,o)=>tv(t,n=>Ca(n,e),o),b7=(t,e)=>p7(t,o=>Ca(o,e)),gg=(t,e)=>ov(t,o=>Ca(o,e)),te=(t,e)=>Ed(e,t),Cr=(t,e,o)=>Q2((s,r)=>Ca(s,r),js,t,e,o),y7=(t,e)=>{t.dom.checked=e},x7=t=>t.dom.checked,Pi=t=>t.dom.classList!==void 0,pg=t=>hg(t,"class"),nv=(t,e)=>h7(t,"class",e),sv=(t,e)=>g7(t,"class",e),S7=(t,e)=>fe(pg(t),e)?sv(t,e):nv(t,e),Fe=(t,e)=>{Pi(t)?t.dom.classList.add(e):nv(t,e)},rv=t=>{(Pi(t)?t.dom.classList:pg(t)).length===0&&Se(t,"class")},Ee=(t,e)=>{Pi(t)?t.dom.classList.remove(e):sv(t,e),rv(t)},w7=(t,e)=>{const o=Pi(t)?t.dom.classList.toggle(e):S7(t,e);return rv(t),o},en=(t,e)=>Pi(t)&&t.dom.classList.contains(e),_c=(t,e)=>{it(e,o=>{Fe(t,o)})},fs=(t,e)=>{it(e,o=>{Ee(t,o)})},C7=(t,e)=>{it(e,o=>{w7(t,o)})},T7=(t,e)=>Bs(e,o=>en(t,o)),_7=t=>{const e=t.dom.classList,o=new Array(e.length);for(let n=0;n<e.length;n++){const s=e.item(n);s!==null&&(o[n]=s)}return o},av=t=>Pi(t)?_7(t):pg(t),M7=t=>t.dom.textContent,jr=t=>t.dom.value,Mc=(t,e)=>{if(e===void 0)throw new Error("Value.set was undefined");t.dom.value=e},cv=(t,e,o)=>oe(Kh(t,o),e),Wo=(t,e)=>Nl(e,t),iv=(t,e,o)=>ev(t,e,o).isSome(),lu=(t,e,o)=>Cr(t,e,o).isSome(),lv=t=>$o(t)?t:Qt,uv=(t,e,o)=>{let n=t.dom;const s=lv(o);for(;n.parentNode;){n=n.parentNode;const r=j.fromDom(n),a=e(r);if(a.isSome())return a;if(s(r))break}return d.none()},m1=(t,e,o)=>{const n=e(t),s=lv(o);return n.orThunk(()=>s(t)?d.none():uv(t,e,s))},h1={create:(t,e,o,n)=>({start:t,soffset:e,finish:o,foffset:n})},fg=Ko.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),O7=(t,e,o,n)=>t.fold(e,o,n),k7=t=>t.fold(Ft,Ft,Ft),E7=fg.before,A7=fg.on,D7=fg.after,H7={before:E7,on:A7,after:D7,cata:O7,getStart:k7},g1=Ko.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$7=t=>g1.exact(t.start,t.soffset,t.finish,t.foffset),F7=t=>t.match({domRange:e=>j.fromDom(e.startContainer),relative:(e,o)=>H7.getStart(e),exact:(e,o,n,s)=>e}),I7=g1.domRange,V7=g1.relative,L7=g1.exact,B7=t=>{const e=F7(t);return ms(e)},R7=h1.create,uu={domRange:I7,relative:V7,exact:L7,exactFromRange:$7,getWin:B7,range:R7},z7=t=>d.from(t.getSelection()),dv=t=>{if(t.rangeCount>0){const e=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return d.some(h1.create(j.fromDom(e.startContainer),e.startOffset,j.fromDom(o.endContainer),o.endOffset))}else return d.none()},P7=t=>{if(t.anchorNode===null||t.focusNode===null)return dv(t);{const e=j.fromDom(t.anchorNode),o=j.fromDom(t.focusNode);return Qh(e,t.anchorOffset,o,t.focusOffset)?d.some(h1.create(e,t.anchorOffset,o,t.focusOffset)):dv(t)}},Z7=t=>z7(t).filter(e=>e.rangeCount>0).bind(P7),mv=(t,e)=>{const o=Oe(t,e);return V(o)},N7=(t,e)=>{const o=Oe(t,e);return U(o)},U7={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},W7=(()=>{const t="[0-9]+",o="[eE]"+("[+-]?"+t),n="\\.",s=c=>`(?:${c})?`,a=`[+-]?(?:${["Infinity",t+n+s(t)+s(o),n+t+s(o),t+s(o)].join("|")})`;return new RegExp(`^(${a})(.*)$`)})(),G7=(t,e)=>fo(e,o=>fo(U7[o],n=>t===n)),p1=(t,e)=>d.from(W7.exec(t)).bind(n=>{const s=Number(n[1]),r=n[2];return G7(r,e)?d.some({value:s,unit:r}):d.none()}),j7=(t,e)=>p1(t,e).map(({value:o,unit:n})=>o+n),Y7=t=>{const e=t===void 0?window:t;return Jn().browser.isFirefox()?d.none():d.from(e.visualViewport)},hv=(t,e,o,n)=>({x:t,y:e,width:o,height:n,right:t+o,bottom:e+n}),vg=t=>{const e=t===void 0?window:t,o=e.document,n=Vn(j.fromDom(o));return Y7(e).fold(()=>{const s=e.document.documentElement,r=s.clientWidth,a=s.clientHeight;return hv(n.left,n.top,r,a)},s=>hv(Math.max(s.pageLeft,n.left),Math.max(s.pageTop,n.top),s.width,s.height))},gv=(t,e)=>t.view(e).fold(E([]),n=>{const s=t.owner(n),r=gv(t,s);return[n].concat(r)}),X7=(t,e)=>{const o=e.owner(t),n=gv(e,o);return d.some(n)};var K7=Object.freeze({__proto__:null,view:t=>{var e;return(t.dom===document?d.none():d.from((e=t.dom.defaultView)===null||e===void 0?void 0:e.frameElement)).map(j.fromDom)},owner:t=>fn(t)});const bg=t=>{const e=Bi(),o=Vn(e);return X7(t,K7).fold(so(ps,t),s=>{const r=d1(t),a=lo(s,(c,i)=>{const u=d1(i);return{left:c.left+u.left,top:c.top+u.top}},{left:0,top:0});return ke(a.left+r.left+o.left,a.top+r.top+o.top)})},q7=(t,e,o)=>({point:t,width:e,height:o}),J7=(t,e,o,n)=>({x:t,y:e,width:o,height:n}),uo=(t,e,o,n)=>({x:t,y:e,width:o,height:n,right:t+o,bottom:e+n}),mo=t=>{const e=ps(t),o=iu(t),n=ve(t);return uo(e.left,e.top,o,n)},Oc=t=>{const e=bg(t),o=iu(t),n=ve(t);return uo(e.left,e.top,o,n)},yg=(t,e)=>{const o=Math.max(t.x,e.x),n=Math.max(t.y,e.y),s=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),a=s-o,c=r-n;return uo(o,n,a,c)},Q7=(t,e)=>Ne(e,(o,n)=>yg(o,n),t),Vo=()=>vg(window),pv=(t,e)=>qt(t.element,e.event.target),xg=t=>(hn(S(t,"position"),"fixed")?d.none():tu(t)).orThunk(()=>{const n=j.fromTag("span");return Fo(t).bind(s=>{tn(s,n);const r=tu(n);return gs(n),r})}),fv=t=>xg(t).map(ps).getOrThunk(()=>ke(0,0)),tC=(t,e)=>{const o=d.from(je(t,"id")).getOrThunk(()=>{const n=K("aria");return pt(e,"id",n),n});pt(t,"aria-describedby",o)},eC=t=>{Se(t,"aria-describedby")};var Qn;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Qn||(Qn={}));const Sg=(t,e,o)=>t.stype===Qn.Error?e(t.serror):o(t.svalue),oC=t=>{const e=[],o=[];return it(t,n=>{Sg(n,s=>o.push(s),s=>e.push(s))}),{values:e,errors:o}},nC=(t,e)=>t.stype===Qn.Error?{stype:Qn.Error,serror:e(t.serror)}:t,sC=(t,e)=>t.stype===Qn.Value?{stype:Qn.Value,svalue:e(t.svalue)}:t,rC=(t,e)=>t.stype===Qn.Value?e(t.svalue):t,aC=(t,e)=>t.stype===Qn.Error?e(t.serror):t,vv=t=>({stype:Qn.Value,svalue:t}),bv=t=>({stype:Qn.Error,serror:t}),Ze={fromResult:t=>t.fold(bv,vv),toResult:t=>Sg(t,Mt.error,Mt.value),svalue:vv,partition:oC,serror:bv,bind:rC,bindError:aC,map:sC,mapError:nC,fold:Sg},wg=t=>Dn(t)&&Te(t).length>100?" removed due to size":JSON.stringify(t,null,2),cC=t=>{const e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:E("... (only showing first ten failures)")}]):t;return Y(e,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},du=(t,e)=>Ze.serror([{path:t,getErrorInfo:e}]),iC=(t,e,o)=>du(t,()=>'Could not find valid *required* value for "'+e+'" in '+wg(o)),lC=(t,e)=>du(t,()=>'Choice schema did not contain choice key: "'+e+'"'),uC=(t,e,o)=>du(t,()=>'The chosen schema: "'+o+'" did not exist in branches: '+wg(e)),dC=(t,e)=>du(t,()=>"There are unsupported fields: ["+e.join(", ")+"] specified"),mC=(t,e)=>du(t,E(e)),Zi=t=>{const e=(n,s)=>Ze.bindError(t(s),r=>mC(n,r)),o=E("val");return{extract:e,toString:o}},yv=Zi(Ze.svalue),vs=E(yv),f1=(t,e)=>Zi(o=>{const n=typeof o;return t(o)?Ze.svalue(o):Ze.serror(`Expected type: ${e} but got: ${n}`)}),v1=f1(Hn,"number"),eo=f1(Zt,"string"),b1=f1(Xo,"boolean"),Cg=f1($o,"function"),xv=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(e=>xv(t[e]));default:return!1}},hC=Zi(t=>xv(t)?Ze.svalue(t):Ze.serror("Expected value to be acceptable for sending via postMessage")),Ys=()=>({tag:"required",process:{}}),y1=t=>({tag:"defaultedThunk",process:t}),x1=t=>y1(E(t)),Tg=()=>({tag:"option",process:{}}),_g=t=>({tag:"mergeWithThunk",process:t}),gC=t=>_g(E(t)),Sv=(t,e,o,n)=>({tag:"field",key:t,newKey:e,presence:o,prop:n}),pC=(t,e)=>({tag:"custom",newKey:t,instantiator:e}),Mg=(t,e,o)=>{switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},fC=(t,e)=>t.length>0?Ze.svalue(ae(e,Ci.apply(void 0,t))):Ze.svalue(e),wv=t=>oc(Ze.serror,Le)(t),Cv={consolidateObj:(t,e)=>{const o=Ze.partition(t);return o.errors.length>0?wv(o.errors):fC(o.values,e)},consolidateArr:t=>{const e=Ze.partition(t);return e.errors.length>0?wv(e.errors):Ze.svalue(e.values)}},vC=(t,e,o,n)=>dt(e,o).fold(()=>iC(t,o,e),n),Tv=(t,e,o,n)=>{const s=dt(t,e).getOrThunk(()=>o(t));return n(s)},bC=(t,e,o)=>o(dt(t,e)),yC=(t,e,o,n)=>{const s=dt(t,e).map(r=>r===!0?o(t):r);return n(s)},xC=(t,e,o,n,s)=>{const r=c=>s.extract(e.concat([n]),c),a=c=>c.fold(()=>Ze.svalue(d.none()),i=>{const u=s.extract(e.concat([n]),i);return Ze.map(u,d.some)});switch(t.tag){case"required":return vC(e,o,n,r);case"defaultedThunk":return Tv(o,n,t.process,r);case"option":return bC(o,n,a);case"defaultedOptionThunk":return yC(o,n,t.process,a);case"mergeWithThunk":return Tv(o,n,E({}),c=>{const i=ae(t.process(o),c);return r(i)})}},SC=(t,e,o)=>{const n={},s=[];for(const r of o)Mg(r,(a,c,i,u)=>{const m=xC(i,t,e,a,u);Ze.fold(m,g=>{s.push(...g)},g=>{n[c]=g})},(a,c)=>{n[a]=c(e)});return s.length>0?Ze.serror(s):Ze.svalue(n)},_v=t=>({extract:(n,s)=>t().extract(n,s),toString:()=>t().toString()}),wC=t=>Te(rc(t,xe)),Ln=t=>{const e=gt(t),o=lo(t,(s,r)=>Mg(r,a=>ae(s,{[a]:!0}),E(s)),{});return{extract:(s,r)=>{const a=Xo(r)?[]:wC(r),c=oe(a,i=>!_o(o,i));return c.length===0?e.extract(s,r):dC(s,c)},toString:e.toString}},gt=t=>({extract:(n,s)=>SC(n,s,t),toString:()=>`obj{
`+Y(t,s=>Mg(s,(r,a,c,i)=>r+" -> "+i.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),Aa=t=>({extract:(n,s)=>{const r=Y(s,(a,c)=>t.extract(n.concat(["["+c+"]"]),a));return Cv.consolidateArr(r)},toString:()=>"array("+t.toString()+")"}),S1=(t,e)=>{const o=e!==void 0?e:Ft;return{extract:(r,a)=>{const c=[];for(const i of t){const u=i.extract(r,a);if(u.stype===Qn.Value)return{stype:Qn.Value,svalue:o(u.svalue)};c.push(u)}return Cv.consolidateArr(c)},toString:()=>"oneOf("+Y(t,r=>r.toString()).join(", ")+")"}},CC=(t,e)=>{const o=(r,a)=>Aa(Zi(t)).extract(r,a);return{extract:(r,a)=>{const c=Te(a),i=o(r,c);return Ze.bind(i,u=>{const m=Y(u,g=>Sv(g,g,Ys(),e));return gt(m).extract(r,a)})},toString:()=>"setOf("+e.toString()+")"}},TC=(t,e)=>{const o=pn(e);return{extract:(r,a)=>o().extract(r,a),toString:()=>o().toString()}},w1=oc(Aa,gt),_C=(t,e,o,n)=>dt(o,n).fold(()=>uC(t,o,n),r=>r.extract(t.concat(["branch: "+n]),e)),Ni=(t,e)=>({extract:(s,r)=>dt(r,t).fold(()=>lC(s,t),c=>_C(s,r,e,c)),toString:()=>"chooseOn("+t+"). Possible values: "+Te(e)}),MC=()=>Aa(yv),mu=t=>Zi(e=>t(e).fold(Ze.serror,Ze.svalue)),Mv=(t,e)=>CC(o=>Ze.fromResult(t(o)),e),OC=(t,e,o)=>{const n=e.extract([t],o);return Ze.mapError(n,s=>({input:o,errors:s}))},we=(t,e,o)=>Ze.toResult(OC(t,e,o)),bs=t=>t.fold(e=>{throw new Error(Ui(e))},Ft),on=(t,e,o)=>bs(we(t,e,o)),Ui=t=>`Errors: 
`+cC(t.errors).join(`
`)+`

Input object: `+wg(t.input),nn=(t,e)=>Ni(t,He(e,gt)),Ov=(t,e)=>TC(t,e),yo=Sv,Go=pC,Og=t=>mu(e=>fe(t,e)?Mt.value(e):Mt.error(`Unsupported value: "${e}", choose one of "${t.join(", ")}".`)),B=t=>yo(t,t,Ys(),vs()),Bn=(t,e)=>yo(t,t,Ys(),e),kv=t=>Bn(t,v1),oo=t=>Bn(t,eo),ys=(t,e)=>yo(t,t,Ys(),Og(e)),xs=t=>Bn(t,Cg),kC=(t,e)=>yo(t,t,Tg(),Zi(o=>Ze.serror("The field: "+t+" is forbidden. "+e))),Yr=(t,e)=>yo(t,t,Ys(),gt(e)),Ev=(t,e)=>yo(t,t,Ys(),w1(e)),xn=(t,e)=>yo(t,t,Ys(),Aa(e)),Wt=t=>yo(t,t,Tg(),vs()),Tr=(t,e)=>yo(t,t,Tg(),e),hu=t=>Tr(t,v1),Re=t=>Tr(t,eo),Av=(t,e)=>Tr(t,Og(e)),Xr=t=>Tr(t,Cg),Dv=(t,e)=>Tr(t,Aa(e)),Sn=(t,e)=>Tr(t,gt(e)),EC=(t,e)=>Tr(t,Ln(e)),A=(t,e)=>yo(t,t,x1(e),vs()),ts=(t,e,o)=>yo(t,t,x1(e),o),kg=(t,e)=>ts(t,e,v1),Ce=(t,e)=>ts(t,e,eo),Xs=(t,e,o)=>ts(t,e,Og(o)),ko=(t,e)=>ts(t,e,b1),ce=(t,e)=>ts(t,e,Cg),AC=(t,e)=>ts(t,e,hC),Da=(t,e,o)=>ts(t,e,Aa(o)),Eg=(t,e,o)=>ts(t,e,gt(o)),DC=(t,e)=>{const o={};return Ue(t,(n,s)=>{fe(e,s)||(o[s]=n)}),o},HC=(t,e)=>({[t]:e}),$C=t=>{const e={};return it(t,o=>{e[o.key]=o.value}),e},FC=(t,e)=>DC(t,e),kc=(t,e)=>HC(t,e),Wi=t=>$C(t),IC=(t,e)=>t.length===0?Mt.value(e):Mt.value(ae(e,Ci.apply(void 0,t))),VC=t=>Mt.error(Le(t)),LC=(t,e)=>{const o=dc(t);return o.errors.length>0?VC(o.errors):IC(o.values,e)},xo=E,Kr=xo("touchstart"),gu=xo("touchmove"),Ec=xo("touchend"),Hv=xo("touchcancel"),Rn=xo("mousedown"),C1=xo("mousemove"),T1=xo("mouseout"),Ag=xo("mouseup"),_r=xo("mouseover"),Ss=xo("focusin"),$v=xo("focusout"),Ks=xo("keydown"),BC=xo("keyup"),qr=xo("input"),Gi=xo("change"),Ac=xo("click"),RC=xo("transitioncancel"),pu=xo("transitionend"),zC=xo("transitionstart"),PC=xo("selectstart"),ze=t=>E("alloy."+t),ZC={tap:ze("tap")},Ha=ze("focus"),fu=ze("blur.post"),Dg=ze("paste.post"),Dc=ze("receive"),zn=ze("execute"),vu=ze("focus.item"),bu=ZC.tap,NC=ze("longpress"),_1=ze("sandbox.close"),Hg=ze("typeahead.cancel"),M1=ze("system.init"),UC=ze("system.touchmove"),WC=ze("system.touchend"),$g=ze("system.scroll"),yu=ze("system.resize"),qs=ze("system.attached"),Mr=ze("system.detached"),Hc=ze("system.dismissRequested"),Fv=ze("system.repositionRequested"),O1=ze("focusmanager.shifted"),Fg=ze("slotcontainer.visibility"),Iv=ze("system.external.element.scroll"),Vv=ze("change.tab"),Lv=ze("dismiss.tab"),Ig=ze("highlight"),Vg=ze("dehighlight"),$a=t=>r1(t),Bv="unknown";var ji;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(ji||(ji={}));const Lg=st({}),GC=(t,e)=>{const o=[],n=new Date().getTime();return{logEventCut:(s,r,a)=>{o.push({outcome:"cut",target:r,purpose:a})},logEventStopped:(s,r,a)=>{o.push({outcome:"stopped",target:r,purpose:a})},logNoParent:(s,r,a)=>{o.push({outcome:"no-parent",target:r,purpose:a})},logEventNoHandlers:(s,r)=>{o.push({outcome:"no-handlers-left",target:r})},logEventResponse:(s,r,a)=>{o.push({outcome:"response",purpose:a,target:r})},write:()=>{const s=new Date().getTime();fe(["mousemove","mouseover","mouseout",M1()],t)||console.log(t,{event:t,time:s-n,target:e.dom,sequence:Y(o,r=>fe(["cut","stopped","response"],r.outcome)?"{"+r.purpose+"} "+r.outcome+" at ("+$a(r.target)+")":r.outcome)})}}},jC=(t,e,o)=>{switch(dt(Lg.get(),t).orThunk(()=>{const s=Te(Lg.get());return Nt(s,r=>t.indexOf(r)>-1?d.some(Lg.get()[r]):d.none())}).getOr(ji.NORMAL)){case ji.NORMAL:return o(qC());case ji.LOGGING:{const s=GC(t,e),r=o(s);return s.write(),r}case ji.STOP:return!0}},YC=["alloy/data/Fields","alloy/debugging/Debugging"],XC=()=>{const t=new Error;if(t.stack!==void 0){const e=t.stack.split(`
`);return le(e,o=>o.indexOf("alloy")>0&&!fo(YC,n=>o.indexOf(n)>-1)).getOr(Bv)}else return Bv},KC={logEventCut:N,logEventStopped:N,logNoParent:N,logEventNoHandlers:N,logEventResponse:N,write:N},Bg=(t,e,o)=>jC(t,e,o),qC=E(KC),Rv=E([B("menu"),B("selectedMenu")]),Rg=E([B("item"),B("selectedItem")]);E(gt(Rg().concat(Rv())));const JC=E(gt(Rg())),QC=Yr("initSize",[B("numColumns"),B("numRows")]),tT=()=>Bn("markers",JC()),k1=()=>Yr("markers",[B("backgroundMenu")].concat(Rv()).concat(Rg())),$c=t=>Yr("markers",Y(t,B)),E1=(t,e,o)=>(XC(),yo(e,e,o,mu(n=>Mt.value((...s)=>n.apply(void 0,s))))),Bt=t=>E1("onHandler",t,x1(N)),wn=t=>E1("onKeyboardHandler",t,x1(d.none)),Fc=t=>E1("onHandler",t,Ys()),zg=t=>E1("onKeyboardHandler",t,Ys()),ge=(t,e)=>Go(t,E(e)),zv=t=>Go(t,Ft),Pv=E(QC),eT=(t,e,o)=>{const n=o.toString(),s=n.indexOf(")")+1,r=n.indexOf("("),a=n.substring(r+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:e,parameters:Pg(a.slice(0,1).concat(a.slice(3)))}),t},Pg=t=>Y(t,e=>cs(e,"/*")?e.substring(0,e.length-2):e),Zg=(t,e)=>{const o=t.toString(),n=o.indexOf(")")+1,s=o.indexOf("("),r=o.substring(s+1,n-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:e,parameters:Pg(r)}),t},oT=(t,e)=>{const o=e.toString(),n=o.indexOf(")")+1,s=o.indexOf("("),r=o.substring(s+1,n-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Pg(r.slice(1))}),t},Zv=(t,e)=>{let o=null;return{cancel:()=>{o!==null&&(clearTimeout(o),o=null)},schedule:(...r)=>{o=setTimeout(()=>{t.apply(null,r),o=null},e)}}},Nv=5,nT=400,Uv=t=>{const e=t.raw;return e.touches===void 0||e.touches.length!==1?d.none():d.some(e.touches[0])},sT=(t,e)=>{const o=Math.abs(t.clientX-e.x),n=Math.abs(t.clientY-e.y);return o>Nv||n>Nv},rT=t=>{const e=Kt(),o=st(!1),n=Zv(u=>{t.triggerEvent(NC(),u),o.set(!0)},nT),s=u=>(Uv(u).each(m=>{n.cancel();const g={x:m.clientX,y:m.clientY,target:u.target};n.schedule(u),o.set(!1),e.set(g)}),d.none()),r=u=>(n.cancel(),Uv(u).each(m=>{e.on(g=>{sT(m,g)&&e.clear()})}),d.none()),a=u=>{n.cancel();const m=g=>qt(g.target,u.target);return e.get().filter(m).map(g=>o.get()?(u.prevent(),!1):t.triggerEvent(bu(),u))},c=Wi([{key:Kr(),value:s},{key:gu(),value:r},{key:Ec(),value:a}]);return{fireIfReady:(u,m)=>dt(c,m).bind(g=>g(u))}};var Fa;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(Fa||(Fa={}));const Wv="placeholder",A1=Ko.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ng=t=>Lt(t,"uiType"),aT=(t,e,o,n)=>t.exists(s=>s!==o.owner)?A1.single(!0,E(o)):dt(n,o.name).fold(()=>{throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Te(n)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},s=>s.replace()),cT=(t,e,o,n)=>Ng(o)&&o.uiType===Wv?aT(t,e,o,n):A1.single(!1,E(o)),Gv=(t,e,o,n)=>cT(t,e,o,n).fold((r,a)=>{const c=Ng(o)?a(e,o.config,o.validated):a(e),i=dt(c,"components").getOr([]),u=Be(i,m=>Gv(t,e,m,n));return[{...c,components:u}]},(r,a)=>{if(Ng(o)){const c=a(e,o.config,o.validated);return o.validated.preprocess.getOr(Ft)(c)}else return a(e)}),iT=(t,e,o,n)=>Be(o,s=>Gv(t,e,s,n)),lT=(t,e)=>{let o=!1;const n=()=>o,s=()=>{if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,e},r=()=>e.fold((a,c)=>a,(a,c)=>a);return{name:E(t),required:r,used:n,replace:s}},uT=(t,e,o,n)=>{const s=He(n,(a,c)=>lT(c,a)),r=iT(t,e,o,s);return Ue(s,a=>{if(a.used()===!1&&a.required())throw new Error("Placeholder: "+a.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(e.components,null,2))}),r},jv=A1.single,dT=A1.multiple,Yv=E(Wv),D1=Ko.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),H1=A("factory",{sketch:Ft}),Ug=A("schema",[]),$1=B("name"),Wg=yo("pname","pname",y1(t=>"<alloy."+K(t.name)+">"),vs()),mT=Go("schema",()=>[Wt("preprocess")]),F1=A("defaults",E({})),I1=A("overrides",E({})),hT=gt([H1,Ug,$1,Wg,F1,I1]),gT=gt([H1,Ug,$1,F1,I1]),pT=gt([H1,Ug,$1,Wg,F1,I1]),fT=gt([H1,mT,$1,B("unit"),Wg,F1,I1]),Xv=t=>t.fold(d.some,d.none,d.some,d.some),Kv=t=>{const e=o=>o.name;return t.fold(e,e,e,e)},vT=t=>t.fold(Ft,Ft,Ft,Ft),V1=(t,e)=>o=>{const n=on("Converting part type",e,o);return t(n)},Eo=V1(D1.required,hT),ws=V1(D1.external,gT),es=V1(D1.optional,pT),L1=V1(D1.group,fT),Gg=E("entirety");var bT=Object.freeze({__proto__:null,required:Eo,external:ws,optional:es,group:L1,asNamedPart:Xv,name:Kv,asCommon:vT,original:Gg});const jg=(t,e,o,n)=>ae(e.defaults(t,o,n),o,{uid:t.partUids[e.name]},e.overrides(t,o,n)),yT=(t,e,o)=>{const n={},s={};return it(o,r=>{r.fold(a=>{n[a.pname]=jv(!0,(c,i,u)=>a.factory.sketch(jg(c,a,i,u)))},a=>{const c=e.parts[a.name];s[a.name]=E(a.factory.sketch(jg(e,a,c[Gg()]),c))},a=>{n[a.pname]=jv(!1,(c,i,u)=>a.factory.sketch(jg(c,a,i,u)))},a=>{n[a.pname]=dT(!0,(c,i,u)=>{const m=c[a.name];return Y(m,g=>a.factory.sketch(ae(a.defaults(c,g,u),g,a.overrides(c,g))))})})}),{internals:E(n),externals:E(s)}},Yg=(t,e)=>{const o={};return it(e,n=>{Xv(n).each(s=>{const r=xT(t,s.pname);o[s.name]=a=>{const c=on("Part: "+s.name+" in "+t,gt(s.schema),a);return{...r,config:a,validated:c}}})}),o},xT=(t,e)=>({uiType:Yv(),owner:t,name:e}),Xg=(t,e,o)=>({uiType:Yv(),owner:t,name:e,config:o,validated:{}}),qv=t=>Be(t,e=>e.fold(d.none,d.some,d.none,d.none).map(o=>Yr(o.name,o.schema.concat([zv(Gg())]))).toArray()),Jv=t=>Y(t,Kv),Kg=(t,e,o)=>yT(t,e,o),qg=(t,e,o)=>uT(d.some(t),e,e.components,o),ne=(t,e,o)=>{const n=e.partUids[o];return t.getSystem().getByUid(n).toOptional()},Ia=(t,e,o)=>ne(t,e,o).getOrDie("Could not find part: "+o),Qv=(t,e,o)=>{const n={},s=e.partUids,r=t.getSystem();return it(o,a=>{n[a]=E(r.getByUid(s[a]))}),n},tb=(t,e)=>{const o=t.getSystem();return He(e.partUids,(n,s)=>E(o.getByUid(n)))},eb=t=>Te(t.partUids),Jg=(t,e,o)=>{const n={},s=e.partUids,r=t.getSystem();return it(o,a=>{n[a]=E(r.getByUid(s[a]).getOrDie())}),n},ob=(t,e)=>{const o=Jv(e);return Wi(Y(o,n=>({key:n,value:t+"-"+n})))},Qg=t=>yo("partUids","partUids",_g(e=>ob(e.uid,t)),vs());var ST=Object.freeze({__proto__:null,generate:Yg,generateOne:Xg,schemas:qv,names:Jv,substitutes:Kg,components:qg,defaultUids:ob,defaultUidsSchema:Qg,getAllParts:tb,getAllPartNames:eb,getPart:ne,getPartOrDie:Ia,getParts:Qv,getPartsOrDie:Jg});const wT=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Cs=(t,e,o,n=1)=>{const s=t*n,r=e*n,a=i=>dt(o,i).getOr([]),c=(i,u,m)=>{const g=Rs(wT,m);return{offset:ke(i,u),classesOn:Be(m,a),classesOff:Be(g,a)}};return{southeast:()=>c(-t,e,["top","alignLeft"]),southwest:()=>c(t,e,["top","alignRight"]),south:()=>c(-t/2,e,["top","alignCentre"]),northeast:()=>c(-t,-e,["bottom","alignLeft"]),northwest:()=>c(t,-e,["bottom","alignRight"]),north:()=>c(-t/2,-e,["bottom","alignCentre"]),east:()=>c(t,-e/2,["valignCentre","left"]),west:()=>c(-t,-e/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}},B1=()=>Cs(0,0,{}),So=(t,e,o,n,s,r,a,c=!1)=>({x:t,y:e,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c}),Va=Ko.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),CT=(t,e,o,n,s,r,a,c,i)=>t.fold(e,o,n,s,r,a,c,i),TT=(t,e,o,n)=>t.fold(e,e,n,n,e,n,o,o),_T=(t,e,o,n)=>t.fold(e,n,e,n,o,o,e,n),R1=Va.southeast,tp=Va.southwest,ep=Va.northeast,op=Va.northwest,nb=Va.south,sb=Va.north,rb=Va.east,ab=Va.west,MT=(t,e)=>{switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},wo=(t,e)=>fi(["left","right","top","bottom"],o=>dt(e,o).map(n=>MT(t,n))),OT=(t,e,o)=>{const n=(i,u)=>e[i].map(m=>{const g=i==="top"||i==="bottom",p=g?o.top:o.left,y=(i==="left"||i==="top"?Math.max:Math.min)(m,u)+p;return g?Mo(y,t.y,t.bottom):Mo(y,t.x,t.right)}).getOr(u),s=n("left",t.x),r=n("top",t.y),a=n("right",t.right),c=n("bottom",t.bottom);return uo(s,r,a-s,c-r)},La="layout",cb=t=>t.x,ib=(t,e)=>t.x+t.width/2-e.width/2,lb=(t,e)=>t.x+t.width-e.width,np=(t,e)=>t.y-e.height,sp=t=>t.y+t.height,ub=(t,e)=>t.y+t.height/2-e.height/2,kT=t=>t.x+t.width,ET=(t,e)=>t.x-e.width,Xe=(t,e,o)=>So(cb(t),sp(t),o.southeast(),R1(),"southeast",wo(t,{left:1,top:3}),La),Ke=(t,e,o)=>So(lb(t,e),sp(t),o.southwest(),tp(),"southwest",wo(t,{right:0,top:3}),La),Co=(t,e,o)=>So(cb(t),np(t,e),o.northeast(),ep(),"northeast",wo(t,{left:1,bottom:2}),La),To=(t,e,o)=>So(lb(t,e),np(t,e),o.northwest(),op(),"northwest",wo(t,{right:0,bottom:2}),La),ro=(t,e,o)=>So(ib(t,e),np(t,e),o.north(),sb(),"north",wo(t,{bottom:2}),La),qe=(t,e,o)=>So(ib(t,e),sp(t),o.south(),nb(),"south",wo(t,{top:3}),La),rp=(t,e,o)=>So(kT(t),ub(t,e),o.east(),rb(),"east",wo(t,{left:0}),La),ap=(t,e,o)=>So(ET(t,e),ub(t,e),o.west(),ab(),"west",wo(t,{right:1}),La),db=()=>[Xe,Ke,Co,To,qe,ro,rp,ap],mb=()=>[Ke,Xe,To,Co,qe,ro,rp,ap],hb=()=>[Co,To,Xe,Ke,ro,qe],gb=()=>[To,Co,Ke,Xe,ro,qe],cp=()=>[Xe,Ke,Co,To,qe,ro],ip=()=>[Ke,Xe,To,Co,qe,ro],lp="data-alloy-placement",AT=(t,e)=>{pt(t,lp,e)},pb=t=>Ye(t,lp),DT=t=>Se(t,lp),Ba="layout-inset",up=t=>t.x,fb=(t,e)=>t.x+t.width/2-e.width/2,dp=(t,e)=>t.x+t.width-e.width,mp=t=>t.y,hp=(t,e)=>t.y+t.height-e.height,vb=(t,e)=>t.y+t.height/2-e.height/2,z1=(t,e,o)=>So(dp(t,e),hp(t,e),o.insetSouthwest(),op(),"southwest",wo(t,{right:0,bottom:3}),Ba),P1=(t,e,o)=>So(up(t),hp(t,e),o.insetSoutheast(),ep(),"southeast",wo(t,{left:1,bottom:3}),Ba),xu=(t,e,o)=>So(dp(t,e),mp(t),o.insetNorthwest(),tp(),"northwest",wo(t,{right:0,top:2}),Ba),Su=(t,e,o)=>So(up(t),mp(t),o.insetNortheast(),R1(),"northeast",wo(t,{left:1,top:2}),Ba),Ts=(t,e,o)=>So(fb(t,e),mp(t),o.insetNorth(),nb(),"north",wo(t,{top:2}),Ba),wu=(t,e,o)=>So(fb(t,e),hp(t,e),o.insetSouth(),sb(),"south",wo(t,{bottom:3}),Ba),bb=(t,e,o)=>So(dp(t,e),vb(t,e),o.insetEast(),ab(),"east",wo(t,{right:0}),Ba),yb=(t,e,o)=>So(up(t),vb(t,e),o.insetWest(),rb(),"west",wo(t,{left:1}),Ba),HT=t=>{switch(t){case"north":return Ts;case"northeast":return Su;case"northwest":return xu;case"south":return wu;case"southeast":return P1;case"southwest":return z1;case"east":return bb;case"west":return yb}},xb=(t,e,o,n,s)=>pb(n).map(HT).getOr(Ts)(t,e,o,n,s),$T=t=>{switch(t){case"north":return wu;case"northeast":return P1;case"northwest":return z1;case"south":return Ts;case"southeast":return Su;case"southwest":return xu;case"east":return yb;case"west":return bb}},FT=(t,e,o,n,s)=>pb(n).map($T).getOr(Ts)(t,e,o,n,s),Sb=(t,e)=>{wr(t,Math.floor(e))},wb=E((t,e)=>{Sb(t,e),Gr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Yi=E((t,e)=>{Sb(t,e)}),gp=E((t,e)=>{i7(t,Math.floor(e))});var Jr;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Jr||(Jr={}));const pp="data-alloy-vertical-dir",IT=t=>iv(t,e=>Jo(e)&&je(e,"data-alloy-vertical-dir")===Jr.BottomToTop);var jo;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(jo||(jo={}));const Js={init:()=>Pn({readState:E("No State required")})},Pn=t=>t,VT={can:ye,abort:Qt,run:N},Xi=t=>{if(!_o(t,"can")&&!_o(t,"abort")&&!_o(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...VT,...t}},LT=(t,e)=>(...o)=>Ne(t,(n,s)=>n&&e(s).apply(void 0,o),!0),BT=(t,e)=>(...o)=>Ne(t,(n,s)=>n||e(s).apply(void 0,o),!1),RT=t=>$o(t)?{can:ye,abort:Qt,run:t}:t,zT=t=>{const e=LT(t,s=>s.can),o=BT(t,s=>s.abort);return{can:e,abort:o,run:(...s)=>{it(t,r=>{r.run.apply(void 0,s)})}}},Dt=(t,e)=>{vp(t,t.element,e,{})},ct=(t,e,o)=>{vp(t,t.element,e,o)},Ic=t=>{Dt(t,zn())},fp=(t,e,o)=>{vp(t,e,o,{})},vp=(t,e,o,n)=>{const s={target:e,...n};t.getSystem().triggerEvent(o,e,s)},PT=(t,e,o,n)=>{const s={...n,target:e};t.getSystem().triggerEvent(o,e,s)},Cb=(t,e,o,n)=>{t.getSystem().triggerEvent(o,e,n.event)},ue=t=>Wi(t),Tb=(t,e)=>({key:t,value:Xi({abort:e})}),ZT=(t,e)=>({key:t,value:Xi({can:e})}),NT=t=>({key:t,value:Xi({run:(e,o)=>{o.event.prevent()}})}),I=(t,e)=>({key:t,value:Xi({run:e})}),bp=(t,e,o)=>({key:t,value:Xi({run:(n,s)=>{e.apply(void 0,[n,s].concat(o))}})}),UT=t=>e=>I(t,e),Z1=t=>e=>({key:t,value:Xi({run:(o,n)=>{pv(o,n)&&e(o,n)}})}),WT=(t,e)=>I(t,(o,n)=>{o.getSystem().getByUid(e).each(s=>{Cb(s,s.element,t,n)})}),Ki=(t,e,o)=>{const n=e.partUids[o];return WT(t,n)},yp=(t,e)=>I(t,(o,n)=>{const s=n.event,r=o.getSystem().getByDom(s.target).getOrThunk(()=>m1(s.target,c=>o.getSystem().getByDom(c).toOptional(),Qt).getOr(o));e(o,r,n)}),Vc=t=>I(t,(e,o)=>{o.cut()}),GT=t=>I(t,(e,o)=>{o.stop()}),qi=(t,e)=>Z1(t)(e),ie=Z1(qs()),Qs=Z1(Mr()),_b=Z1(M1()),Qr=UT(zn()),_s=t=>({classes:dn(t.classes)?[]:t.classes,attributes:dn(t.attributes)?{}:t.attributes,styles:dn(t.styles)?{}:t.styles}),jT=(t,e)=>({...t,attributes:{...t.attributes,...e.attributes},styles:{...t.styles,...e.styles},classes:t.classes.concat(e.classes)}),YT=(t,e,o)=>Qr(n=>{o(n,t,e)}),xp=(t,e,o)=>_b((n,s)=>{o(n,t,e)}),XT=(t,e,o,n,s,r)=>{const a=Ln(t),c=Sn(e,[EC("config",t)]);return Mb(a,c,e,o,n,s,r)},KT=(t,e,o,n,s,r)=>{const a=t,c=Sn(e,[Tr("config",t)]);return Mb(a,c,e,o,n,s,r)},qT=(t,e,o)=>eT((s,...r)=>{const a=[s].concat(r);return s.config({name:E(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},c=>{const i=Array.prototype.slice.call(a,1);return e.apply(void 0,[s,c.config,c.state].concat(i))})},o,e),JT=t=>({key:t,value:void 0}),Mb=(t,e,o,n,s,r,a)=>{const c=g=>_o(g,o)?g[o]():d.none(),i=He(s,(g,p)=>qT(o,g,p)),m={...He(r,(g,p)=>Zg(g,p)),...i,revoke:so(JT,o),config:g=>{const p=on(o+"-config",t,g);return{key:o,value:{config:p,me:m,configAsRaw:pn(()=>on(o+"-config",t,g)),initialConfig:g,state:a}}},schema:E(e),exhibit:(g,p)=>vr(c(g),dt(n,"exhibit"),(v,y)=>y(p,v.config,v.state)).getOrThunk(()=>_s({})),name:E(o),handlers:g=>c(g).map(p=>dt(n,"events").getOr(()=>({}))(p.config,p.state)).getOr({})};return m},P=t=>Wi(t),QT=Ln([B("fields"),B("name"),A("active",{}),A("apis",{}),A("state",Js),A("extra",{})]),ho=t=>{const e=on("Creating behaviour: "+t.name,QT,t);return XT(e.fields,e.name,e.active,e.apis,e.extra,e.state)},t_=Ln([B("branchKey"),B("branches"),B("name"),A("active",{}),A("apis",{}),A("state",Js),A("extra",{})]),Ob=t=>{const e=on("Creating behaviour: "+t.name,t_,t);return KT(nn(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},e_=E(void 0),o_=(t,e)=>{const o=ue(e);return ho({fields:[B("enabled")],name:t,active:{events:E(o)}})},ft=(t,e)=>{const o=o_(t,e);return{key:t,value:{config:{},me:o,configAsRaw:E({}),initialConfig:{},state:Js}}},n_=t=>({init:()=>{const o=st(t);return{get:()=>o.get(),set:c=>o.set(c),clear:()=>o.set(t),readState:()=>o.get()}}}),kb=(t,e)=>{e.ignore||(Ge(t.element),e.onFocus(t))};var s_=Object.freeze({__proto__:null,focus:kb,blur:(t,e)=>{e.ignore||Ri(t.element)},isFocused:t=>ka(t.element)}),r_=Object.freeze({__proto__:null,exhibit:(t,e)=>{const o=e.ignore?{}:{attributes:{tabindex:"-1"}};return _s(o)},events:t=>ue([I(Ha(),(e,o)=>{kb(e,t),o.stop()})].concat(t.stopMousedown?[I(Rn(),(e,o)=>{o.event.prevent()})]:[]))}),a_=[Bt("onFocus"),A("stopMousedown",!1),A("ignore",!1)];const mt=ho({fields:a_,name:"focusing",active:r_,apis:s_}),c_=[8],ta=[9],Or=[13],N1=[27],Cn=[32],U1=[37],Cu=[38],W1=[39],Ji=[40],i_=(t,e,o)=>{const n=dr(t.slice(0,e)),s=dr(t.slice(e+1));return le(n.concat(s),o)},l_=(t,e,o)=>{const n=dr(t.slice(0,e));return le(n,o)},u_=(t,e,o)=>{const n=t.slice(0,e),s=t.slice(e+1);return le(s.concat(n),o)},d_=(t,e,o)=>{const n=t.slice(e+1);return le(n,o)},Vt=t=>e=>{const o=e.raw;return fe(t,o.which)},tr=t=>e=>Bs(t,o=>o(e)),Lc=t=>t.raw.shiftKey===!0,m_=t=>t.raw.ctrlKey===!0,Tu=Zo(Lc),zt=(t,e)=>({matches:t,classification:e}),h_=(t,e)=>le(t,n=>n.matches(e)).map(n=>n.classification),Eb=(t,e,o,n)=>{const s=Wo(t.element,"."+e.highlightClass);it(s,r=>{fo(n,c=>qt(c.element,r))||(Ee(r,e.highlightClass),t.getSystem().getByDom(r).each(c=>{e.onDehighlight(t,c),Dt(c,Vg())}))})},g_=(t,e,o)=>Eb(t,e,o,[]),p_=(t,e,o,n)=>{Sp(t,e,o,n)&&(Ee(n.element,e.highlightClass),e.onDehighlight(t,n),Dt(n,Vg()))},_u=(t,e,o,n)=>{Eb(t,e,o,[n]),Sp(t,e,o,n)||(Fe(n.element,e.highlightClass),e.onHighlight(t,n),Dt(n,Ig()))},f_=(t,e,o)=>{Ab(t,e).each(n=>{_u(t,e,o,n)})},v_=(t,e,o)=>{Db(t,e).each(n=>{_u(t,e,o,n)})},b_=(t,e,o,n)=>{S_(t,e,o,n).fold(s=>{throw s},s=>{_u(t,e,o,s)})},y_=(t,e,o,n)=>{const s=$b(t,e);le(s,n).each(a=>{_u(t,e,o,a)})},Sp=(t,e,o,n)=>en(n.element,e.highlightClass),x_=(t,e,o)=>te(t.element,"."+e.highlightClass).bind(n=>t.getSystem().getByDom(n).toOptional()),S_=(t,e,o,n)=>{const s=Wo(t.element,"."+e.itemClass);return d.from(s[n]).fold(()=>Mt.error(new Error("No element found with index "+n)),t.getSystem().getByDom)},Ab=(t,e,o)=>te(t.element,"."+e.itemClass).bind(n=>t.getSystem().getByDom(n).toOptional()),Db=(t,e,o)=>{const n=Wo(t.element,"."+e.itemClass);return(n.length>0?d.some(n[n.length-1]):d.none()).bind(r=>t.getSystem().getByDom(r).toOptional())},Hb=(t,e,o,n)=>{const s=Wo(t.element,"."+e.itemClass);return ur(s,a=>en(a,e.highlightClass)).bind(a=>{const c=fr(a,n,0,s.length-1);return t.getSystem().getByDom(s[c]).toOptional()})},w_=(t,e,o)=>Hb(t,e,o,-1),C_=(t,e,o)=>Hb(t,e,o,1),$b=(t,e,o)=>{const n=Wo(t.element,"."+e.itemClass);return Zs(Y(n,s=>t.getSystem().getByDom(s).toOptional()))};var T_=Object.freeze({__proto__:null,dehighlightAll:g_,dehighlight:p_,highlight:_u,highlightFirst:f_,highlightLast:v_,highlightAt:b_,highlightBy:y_,isHighlighted:Sp,getHighlighted:x_,getFirst:Ab,getLast:Db,getPrevious:w_,getNext:C_,getCandidates:$b}),__=[B("highlightClass"),B("itemClass"),Bt("onHighlight"),Bt("onDehighlight")];const Gt=ho({fields:__,name:"highlighting",apis:T_}),Fb=(t,e,o)=>{e.exists(s=>o.exists(r=>qt(r,s)))||ct(t,O1(),{prevFocus:e,newFocus:o})},wp=()=>{const t=o=>bo(o.element);return{get:t,set:(o,n)=>{const s=t(o);o.getSystem().triggerFocus(n,o.element);const r=t(o);Fb(o,s,r)}}},M_=()=>{const t=o=>Gt.getHighlighted(o).map(n=>n.element);return{get:t,set:(o,n)=>{const s=t(o);o.getSystem().getByDom(n).fold(N,a=>{Gt.highlight(o,a)});const r=t(o);Fb(o,s,r)}}},Bc=(t,e,o,n,s)=>{const r=()=>t.concat([A("focusManager",wp()),ts("focusInside","onFocus",mu(u=>fe(["onFocus","onEnterOrSpace","onApi"],u)?Mt.value(u):Mt.error("Invalid value for focusInside"))),ge("handler",i),ge("state",e),ge("sendFocusIn",s)]),a=(u,m,g,p,v)=>{const y=g(u,m,p,v);return h_(y,m.event).bind(w=>w(u,m,p,v))},i={schema:r,processKey:a,toEvents:(u,m)=>{const g=u.focusInside!==Fa.OnFocusMode?d.none():s(u).map(y=>I(Ha(),(w,T)=>{y(w,u,m),T.stop()})),p=(y,w)=>{const T=Vt(Cn.concat(Or))(w.event);u.focusInside===Fa.OnEnterOrSpaceMode&&T&&pv(y,w)&&s(u).each(x=>{x(y,u,m),w.stop()})},v=[I(Ks(),(y,w)=>{a(y,w,o,u,m).fold(()=>{p(y,w)},T=>{w.stop()})}),I(BC(),(y,w)=>{a(y,w,n,u,m).each(T=>{w.stop()})})];return ue(g.toArray().concat(v))}};return i},Ib=t=>{const e=[Wt("onEscape"),Wt("onEnter"),A("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),A("firstTabstop",0),A("useTabstopAt",ye),Wt("visibilitySelector")].concat([t]),o=(x,M)=>{const O=x.visibilitySelector.bind(D=>Cr(M,D)).getOr(M);return Ht(O)>0},n=(x,M)=>{const O=Wo(x.element,M.selector),D=oe(O,$=>o(M,$));return d.from(D[M.firstTabstop])},s=(x,M)=>M.focusManager.get(x).bind(O=>Cr(O,M.selector)),r=(x,M)=>o(x,M)&&x.useTabstopAt(M),a=(x,M,O)=>{n(x,M).each(D=>{M.focusManager.set(x,D)})},c=(x,M,O,D,$)=>$(M,O,G=>r(D,G)).fold(()=>D.cyclic?d.some(!0):d.none(),G=>(D.focusManager.set(x,G),d.some(!0))),i=(x,M,O,D)=>{const $=oe(Wo(x.element,O.selector),G=>o(O,G));return s(x,O).bind(G=>ur($,so(qt,G)).bind(F=>c(x,$,F,O,D)))},u=(x,M,O)=>{const D=O.cyclic?i_:l_;return i(x,M,O,D)},m=(x,M,O)=>{const D=O.cyclic?u_:d_;return i(x,M,O,D)},g=x=>_a(x).bind(Ma).exists(M=>qt(M,x)),p=(x,M,O)=>s(x,O).filter(D=>!O.useTabstopAt(D)).bind(D=>(g(D)?u:m)(x,M,O)),v=(x,M,O)=>O.onEnter.bind(D=>D(x,M)),y=(x,M,O)=>O.onEscape.bind(D=>D(x,M)),w=E([zt(tr([Lc,Vt(ta)]),u),zt(Vt(ta),m),zt(tr([Tu,Vt(Or)]),v)]),T=E([zt(Vt(N1),y),zt(Vt(ta),p)]);return Bc(e,Js.init,w,T,()=>d.some(a))};var O_=Ib(Go("cyclic",Qt)),k_=Ib(Go("cyclic",ye));const Qi=t=>Jl("input")(t)&&je(t,"type")!=="radio"||Jl("textarea")(t),E_=(t,e,o)=>(fp(t,o,zn()),d.some(!0)),Mu=(t,e,o)=>Qi(o)&&Vt(Cn)(e.event)?d.none():E_(t,e,o),tl=(t,e)=>d.some(!0),A_=[A("execute",Mu),A("useSpace",!1),A("useEnter",!0),A("useControlEnter",!1),A("useDown",!1)],Vb=(t,e,o)=>o.execute(t,e,t.element),D_=(t,e,o,n)=>{const s=o.useSpace&&!Qi(t.element)?Cn:[],r=o.useEnter?Or:[],a=o.useDown?Ji:[],c=s.concat(r).concat(a);return[zt(Vt(c),Vb)].concat(o.useControlEnter?[zt(tr([m_,Vt(Or)]),Vb)]:[])},H_=(t,e,o,n)=>o.useSpace&&!Qi(t.element)?[zt(Vt(Cn),tl)]:[];var $_=Bc(A_,Js.init,D_,H_,()=>d.none());const Lb=()=>{const t=Kt();return Pn({readState:()=>t.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,r)=>{t.set({numRows:s,numColumns:r})},getNumRows:()=>t.get().map(s=>s.numRows),getNumColumns:()=>t.get().map(s=>s.numColumns)})};var F_=Object.freeze({__proto__:null,flatgrid:Lb,init:t=>t.state(t)});const Bb=t=>(e,o,n,s)=>{const r=t(e.element);return Rb(r,e,o,n,s)},Cp=(t,e)=>{const o=mg(t,e);return Bb(o)},Tp=(t,e)=>{const o=mg(e,t);return Bb(o)},_p=t=>(e,o,n,s)=>Rb(t,e,o,n,s),Rb=(t,e,o,n,s)=>n.focusManager.get(e).bind(a=>t(e.element,a,n,s)).map(a=>(n.focusManager.set(e,a),!0)),zb=_p,Pb=_p,G1=_p,I_=(t,e)=>ur(t,e).map(o=>({index:o,candidates:t})),Zb=(t,e,o)=>{const n=a=>qt(a,e),s=Wo(t,o),r=oe(s,q2);return I_(r,n)},Nb=(t,e)=>ur(t,o=>qt(e,o)),Ub=(t,e,o,n)=>{const s=Math.floor(e/o),r=e%o;return n(s,r).bind(a=>{const c=a.row*o+a.column;return c>=0&&c<t.length?d.some(t[c]):d.none()})},Wb=(t,e,o,n,s)=>Ub(t,e,n,(r,a)=>{const i=r===o-1?t.length-r*n:n,u=fr(a,s,0,i-1);return d.some({row:r,column:u})}),Gb=(t,e,o,n,s)=>Ub(t,e,n,(r,a)=>{const c=fr(r,s,0,o-1),u=c===o-1?t.length-c*n:n,m=Mo(a,0,u-1);return d.some({row:c,column:m})}),V_=(t,e,o,n)=>Wb(t,e,o,n,1),L_=(t,e,o,n)=>Wb(t,e,o,n,-1),B_=(t,e,o,n)=>Gb(t,e,o,n,-1),R_=(t,e,o,n)=>Gb(t,e,o,n,1),z_=[B("selector"),A("execute",Mu),wn("onEscape"),A("captureTab",!1),Pv()],P_=(t,e,o)=>{te(t.element,e.selector).each(n=>{e.focusManager.set(t,n)})},Z_=(t,e)=>e.focusManager.get(t).bind(o=>Cr(o,e.selector)),N_=(t,e,o,n)=>Z_(t,o).bind(s=>o.execute(t,e,s)),j1=t=>(e,o,n,s)=>Zb(e,o,n.selector).bind(r=>t(r.candidates,r.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns))),jb=(t,e,o)=>o.captureTab?d.some(!0):d.none(),U_=(t,e,o)=>o.onEscape(t,e),Yb=j1(L_),Xb=j1(V_),W_=j1(B_),G_=j1(R_),j_=E([zt(Vt(U1),Cp(Yb,Xb)),zt(Vt(W1),Tp(Yb,Xb)),zt(Vt(Cu),zb(W_)),zt(Vt(Ji),Pb(G_)),zt(tr([Lc,Vt(ta)]),jb),zt(tr([Tu,Vt(ta)]),jb),zt(Vt(Cn.concat(Or)),N_)]),Y_=E([zt(Vt(N1),U_),zt(Vt(Cn),tl)]);var X_=Bc(z_,Lb,j_,Y_,()=>d.some(P_));const Kb=(t,e,o,n,s)=>{const r=c=>Gs(c)==="button"&&je(c,"disabled")==="disabled",a=(c,i,u)=>s(c,i,n,0,u.length-1,u[i],m=>r(u[m])?a(c,m,u):d.from(u[m]));return Zb(t,o,e).bind(c=>{const i=c.index,u=c.candidates;return a(i,i,u)})},qb=(t,e,o,n)=>Kb(t,e,o,n,(s,r,a,c,i,u,m)=>{const g=Mo(r+a,c,i);return g===s?d.from(u):m(g)}),Y1=(t,e,o,n)=>Kb(t,e,o,n,(s,r,a,c,i,u,m)=>{const g=fr(r,a,c,i);return g===s?d.none():m(g)}),K_=[B("selector"),A("getInitial",d.none),A("execute",Mu),wn("onEscape"),A("executeOnMove",!1),A("allowVertical",!0),A("allowHorizontal",!0),A("cycles",!0)],q_=(t,e)=>e.focusManager.get(t).bind(o=>Cr(o,e.selector)),Mp=(t,e,o)=>q_(t,o).bind(n=>o.execute(t,e,n)),J_=(t,e,o)=>{e.getInitial(t).orThunk(()=>te(t.element,e.selector)).each(n=>{e.focusManager.set(t,n)})},Jb=(t,e,o)=>(o.cycles?Y1:qb)(t,o.selector,e,-1),Qb=(t,e,o)=>(o.cycles?Y1:qb)(t,o.selector,e,1),t4=t=>(e,o,n,s)=>t(e,o,n,s).bind(()=>n.executeOnMove?Mp(e,o,n):d.some(!0)),Q_=(t,e,o)=>o.onEscape(t,e),tM=(t,e,o,n)=>{const s=[...o.allowHorizontal?U1:[]].concat(o.allowVertical?Cu:[]),r=[...o.allowHorizontal?W1:[]].concat(o.allowVertical?Ji:[]);return[zt(Vt(s),t4(Cp(Jb,Qb))),zt(Vt(r),t4(Tp(Jb,Qb))),zt(Vt(Or),Mp),zt(Vt(Cn),Mp)]},eM=E([zt(Vt(Cn),tl),zt(Vt(N1),Q_)]);var oM=Bc(K_,Js.init,tM,eM,()=>d.some(J_));const X1=(t,e,o)=>d.from(t[e]).bind(n=>d.from(n[o]).map(s=>({rowIndex:e,columnIndex:o,cell:s}))),e4=(t,e,o,n)=>{const r=t[e].length,a=fr(o,n,0,r-1);return X1(t,e,a)},o4=(t,e,o,n)=>{const s=fr(o,n,0,t.length-1),r=t[s].length,a=Mo(e,0,r-1);return X1(t,s,a)},n4=(t,e,o,n)=>{const r=t[e].length,a=Mo(o+n,0,r-1);return X1(t,e,a)},s4=(t,e,o,n)=>{const s=Mo(o+n,0,t.length-1),r=t[s].length,a=Mo(e,0,r-1);return X1(t,s,a)},nM=(t,e,o)=>e4(t,e,o,1),sM=(t,e,o)=>e4(t,e,o,-1),rM=(t,e,o)=>o4(t,o,e,-1),aM=(t,e,o)=>o4(t,o,e,1),cM=(t,e,o)=>n4(t,e,o,-1),iM=(t,e,o)=>n4(t,e,o,1),lM=(t,e,o)=>s4(t,o,e,-1),uM=(t,e,o)=>s4(t,o,e,1),dM=[Yr("selectors",[B("row"),B("cell")]),A("cycles",!0),A("previousSelector",d.none),A("execute",Mu)],mM=(t,e,o)=>{e.previousSelector(t).orThunk(()=>{const s=e.selectors;return te(t.element,s.cell)}).each(s=>{e.focusManager.set(t,s)})},hM=(t,e,o)=>bo(t.element).bind(n=>o.execute(t,e,n)),gM=(t,e)=>Y(t,o=>Wo(o,e.selectors.cell)),K1=(t,e)=>(o,n,s)=>{const r=s.cycles?t:e;return Cr(n,s.selectors.row).bind(a=>{const c=Wo(a,s.selectors.cell);return Nb(c,n).bind(i=>{const u=Wo(o,s.selectors.row);return Nb(u,a).bind(m=>{const g=gM(u,s);return r(g,m,i).map(p=>p.cell)})})})},r4=K1(sM,cM),a4=K1(nM,iM),pM=K1(rM,lM),fM=K1(aM,uM),vM=E([zt(Vt(U1),Cp(r4,a4)),zt(Vt(W1),Tp(r4,a4)),zt(Vt(Cu),zb(pM)),zt(Vt(Ji),Pb(fM)),zt(Vt(Cn.concat(Or)),hM)]),bM=E([zt(Vt(Cn),tl)]);var yM=Bc(dM,Js.init,vM,bM,()=>d.some(mM));const xM=[B("selector"),A("execute",Mu),A("moveOnTab",!1)],c4=(t,e,o)=>o.focusManager.get(t).bind(n=>o.execute(t,e,n)),SM=(t,e,o)=>{te(t.element,e.selector).each(n=>{e.focusManager.set(t,n)})},i4=(t,e,o)=>Y1(t,o.selector,e,-1),l4=(t,e,o)=>Y1(t,o.selector,e,1),wM=(t,e,o,n)=>o.moveOnTab?G1(i4)(t,e,o,n):d.none(),CM=(t,e,o,n)=>o.moveOnTab?G1(l4)(t,e,o,n):d.none(),TM=E([zt(Vt(Cu),G1(i4)),zt(Vt(Ji),G1(l4)),zt(tr([Lc,Vt(ta)]),wM),zt(tr([Tu,Vt(ta)]),CM),zt(Vt(Or),c4),zt(Vt(Cn),c4)]),_M=E([zt(Vt(Cn),tl)]);var MM=Bc(xM,Js.init,TM,_M,()=>d.some(SM));const OM=[wn("onSpace"),wn("onEnter"),wn("onShiftEnter"),wn("onLeft"),wn("onRight"),wn("onTab"),wn("onShiftTab"),wn("onUp"),wn("onDown"),wn("onEscape"),A("stopSpaceKeyup",!1),Wt("focusIn")],kM=(t,e,o)=>[zt(Vt(Cn),o.onSpace),zt(tr([Tu,Vt(Or)]),o.onEnter),zt(tr([Lc,Vt(Or)]),o.onShiftEnter),zt(tr([Lc,Vt(ta)]),o.onShiftTab),zt(tr([Tu,Vt(ta)]),o.onTab),zt(Vt(Cu),o.onUp),zt(Vt(Ji),o.onDown),zt(Vt(U1),o.onLeft),zt(Vt(W1),o.onRight),zt(Vt(Cn),o.onSpace)],EM=(t,e,o)=>[...o.stopSpaceKeyup?[zt(Vt(Cn),tl)]:[],zt(Vt(N1),o.onEscape)];var AM=Bc(OM,Js.init,kM,EM,t=>t.focusIn);const DM=O_.schema(),HM=k_.schema(),$M=oM.schema(),FM=X_.schema(),IM=yM.schema(),VM=$_.schema(),LM=MM.schema(),BM=AM.schema();var RM=Object.freeze({__proto__:null,acyclic:DM,cyclic:HM,flow:$M,flatgrid:FM,matrix:IM,execution:VM,menu:LM,special:BM});const zM=t=>_o(t,"setGridSize"),ot=Ob({branchKey:"mode",branches:RM,name:"keying",active:{events:(t,e)=>t.handler.toEvents(t,e)},apis:{focusIn:(t,e,o)=>{e.sendFocusIn(e).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},n=>{n(t,e,o)})},setGridSize:(t,e,o,n,s)=>{zM(o)?o.setGridSize(n,s):console.error("Layout does not support setGridSize")}},state:F_}),q1=K("alloy-premade"),u4=t=>(Object.defineProperty(t.element.dom,q1,{value:t.uid,writable:!0}),kc(q1,t)),PM=t=>Lt(t.dom,q1),d4=t=>dt(t,q1),J1=t=>oT((e,...o)=>t(e.getApis(),e,...o),t),Op=t=>t.getSystem().isConnected(),Ou=t=>{Dt(t,Mr());const e=t.components();it(e,Ou)},ku=t=>{const e=t.components();it(e,ku),Dt(t,qs())},m4=(t,e)=>{t.getSystem().addToWorld(e),vn(t.element)&&ku(e)},kp=t=>{Ou(t),t.getSystem().removeFromWorld(t)},h4=(t,e)=>{tn(t.element,e.element)},ZM=t=>{it(t.components(),e=>gs(e.element)),su(t.element),t.syncComponents()},NM=(t,e,o)=>{const n=t.components();ZM(t);const s=o(e),r=Rs(n,s);it(r,a=>{Ou(a),t.getSystem().removeFromWorld(a)}),it(s,a=>{Op(a)?h4(t,a):(t.getSystem().addToWorld(a),h4(t,a),vn(t.element)&&ku(a))}),t.syncComponents()},UM=(t,e,o)=>{const n=t.components(),s=Be(e,c=>d4(c).toArray());it(n,c=>{fe(s,c)||kp(c)});const r=o(e),a=Rs(n,r);it(a,c=>{Op(c)&&kp(c)}),it(r,c=>{Op(c)||m4(t,c)}),t.syncComponents()},Rc=(t,e)=>{g4(t,e,tn)},g4=(t,e,o)=>{t.getSystem().addToWorld(e),o(t.element,e.element),vn(t.element)&&ku(e),t.syncComponents()},p4=t=>{Ou(t),gs(t.element),t.getSystem().removeFromWorld(t)},ea=t=>{const e=Fo(t.element).bind(o=>t.getSystem().getByDom(o).toOptional());p4(t),e.each(o=>{o.syncComponents()})},f4=t=>{const e=t.components();it(e,p4),su(t.element),t.syncComponents()},Ep=(t,e)=>{v4(t,e,tn)},Q1=(t,e)=>{v4(t,e,ag)},v4=(t,e,o)=>{o(t,e.element);const n=Io(e.element);it(n,s=>{e.getByDom(s).each(ku)})},WM=t=>{const e=Io(t.element);it(e,o=>{t.getByDom(o).each(Ou)}),gs(t.element)},GM=(t,e,o)=>Wr(t,e).map(s=>{if(o.exists(a=>!qt(a,s))){const a=o.map(Gs).getOr("span"),c=j.fromTag(a);return Cc(s,c),c}else return s}),b4=(t,e,o)=>{o.fold(()=>tn(t,e),n=>{qt(n,e)||(Cc(n,e),gs(n))})},y4=(t,e,o)=>{const n=Y(e,o),s=Io(t);return it(s.slice(n.length),gs),n},x4=(t,e,o,n)=>{const s=Wr(t,e),r=n(o,s),a=GM(t,e,s);return b4(t,r.element,a),r},jM=(t,e,o)=>y4(t,e,(n,s)=>x4(t,s,n,o)),YM=(t,e)=>y4(t,e,(o,n)=>{const s=Wr(t,n);return b4(t,o,s),o}),Ap=(t,e)=>{const o=Oo(e),n=hs(o).bind(r=>{const a=c=>qt(r,c);return a(e)?d.some(e):f7(e,a)}),s=t(e);return n.each(r=>{hs(o).filter(a=>qt(a,r)).fold(()=>{Ge(r)},N)}),s},S4=(t,e)=>{Ap(()=>{NM(t,e,()=>Y(e,t.getSystem().build))},t.element)},w4=(t,e)=>{Ap(()=>{UM(t,e,()=>jM(t.element,e,t.getSystem().buildOrPatch))},t.element)},XM=(t,e,o,n)=>{kp(e);const s=x4(t.element,o,n,t.getSystem().buildOrPatch);m4(t,s),t.syncComponents()},Dp=(t,e,o)=>{const n=t.getSystem().build(o);g4(t,n,e)},KM=(t,e,o,n)=>{ea(e),Dp(t,(s,r)=>ig(s,r,o),n)},qM=(t,e,o,n)=>(e.reuseDom?w4:S4)(t,n),JM=(t,e,o,n)=>{Dp(t,tn,n)},QM=(t,e,o,n)=>{Dp(t,cg,n)},tO=(t,e,o,n)=>{const s=tm(t);le(s,a=>qt(n.element,a.element)).each(ea)},tm=(t,e)=>t.components(),C4=(t,e,o,n,s)=>{const r=tm(t);return d.from(r[n]).map(a=>(s.fold(()=>ea(a),c=>{(e.reuseDom?XM:KM)(t,a,n,c)}),a))};var eO=Object.freeze({__proto__:null,append:JM,prepend:QM,remove:tO,replaceAt:C4,replaceBy:(t,e,o,n,s)=>{const r=tm(t);return ur(r,n).bind(a=>C4(t,e,o,a,s))},set:qM,contents:tm});const vt=ho({fields:[ko("reuseDom",!0)],name:"replacing",apis:eO}),oO=(t,e,o)=>qt(e,t.element)&&!qt(e,o),nO=ue([ZT(Ha(),(t,e)=>{const o=e.event,n=o.originator,s=o.target;return oO(t,n,s)?(console.warn(Ha()+` did not get interpreted by the desired target. 
Originator: `+$a(n)+`
Target: `+$a(s)+`
Check the `+Ha()+" event handlers"),!1):!0})]);var sO=Object.freeze({__proto__:null,events:nO});const rO=E("alloy-id-"),aO=E("data-alloy-id"),cO=rO(),T4=aO(),iO=(t,e)=>{const o=K(cO+t);return Hp(e,o),o},Hp=(t,e)=>{Object.defineProperty(t.dom,T4,{value:e,writable:!0})},Eu=t=>{const e=Jo(t)?t.dom[T4]:null;return d.from(e)},el=t=>K(t),lO=Ft,em=t=>{const e=s=>`The component must be in a context to execute: ${s}`+(t?`
`+$a(t().element)+" is not in context.":""),o=s=>()=>{throw new Error(e(s))},n=s=>()=>{console.warn(e(s))};return{debugInfo:E("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Qt}},uO=em(),dO=(t,e)=>{const o=Y(e,s=>Sn(s.name(),[B("config"),A("state",Js)])),n=we("component.behaviours",gt(o),t.behaviours).fold(s=>{throw new Error(Ui(s)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ft);return{list:e,data:He(n,s=>{const r=s.map(a=>({config:a.config,state:a.state.init(a.config)}));return E(r)})}},mO=t=>t.list,hO=t=>t.data,_4=(t,e)=>{const o={};return Ue(t,(n,s)=>{Ue(n,(r,a)=>{const c=dt(o,a).getOr([]);o[a]=c.concat([e(s,r)])})}),o},gO=(t,e,o,n)=>{const s={...e};it(o,m=>{s[m.name()]=m.exhibit(t,n)});const r=_4(s,(m,g)=>({name:m,modification:g})),a=m=>lo(m,(g,p)=>({...p.modification,...g}),{}),c=lo(r.classes,(m,g)=>g.modification.concat(m),[]),i=a(r.attributes),u=a(r.styles);return _s({classes:c,attributes:i,styles:u})},pO=(t,e,o,n)=>{try{const s=vi(o,(r,a)=>{const c=r[e],i=a[e],u=n.indexOf(c),m=n.indexOf(i);if(u===-1)throw new Error("The ordering for "+t+" does not have an entry for "+c+`.
Order specified: `+JSON.stringify(n,null,2));if(m===-1)throw new Error("The ordering for "+t+" does not have an entry for "+i+`.
Order specified: `+JSON.stringify(n,null,2));return u<m?-1:m<u?1:0});return Mt.value(s)}catch(s){return Mt.error([s])}},fO=(t,e)=>({handler:t,purpose:e}),vO=(t,e)=>({cHandler:t,purpose:e}),bO=(t,e)=>vO(so.apply(void 0,[t.handler].concat(e)),t.purpose),$p=t=>t.cHandler,yO=(t,e)=>({name:t,handler:e}),xO=(t,e)=>{const o={};return it(t,n=>{o[n.name()]=n.handlers(e)}),o},SO=(t,e,o)=>{const n={...o,...xO(e,t)};return _4(n,yO)},wO=(t,e,o,n)=>{const s=SO(t,o,n);return MO(s,e)},CO=t=>{const e=RT(t);return(o,n,...s)=>{const r=[o,n].concat(s);e.abort.apply(void 0,r)?n.stop():e.can.apply(void 0,r)&&e.run.apply(void 0,r)}},TO=(t,e)=>Mt.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Y(e,o=>o.name),null,2)]),_O=(t,e,o)=>{const n=e[o];return n?pO("Event: "+o,"name",t,n).map(s=>{const r=Y(s,a=>a.handler);return zT(r)}):TO(o,t)},MO=(t,e)=>{const o=hr(t,(n,s)=>(n.length===1?Mt.value(n[0].handler):_O(n,e,s)).map(a=>{const c=CO(a),i=n.length>1?oe(e[s],u=>fo(n,m=>m.name===u)).join(" > "):n[0].name;return kc(s,fO(c,i))}));return LC(o,{})},zc="alloy.base.behaviour",OO=gt([yo("dom","dom",Ys(),gt([B("tag"),A("styles",{}),A("classes",[]),A("attributes",{}),Wt("value"),Wt("innerHtml")])),B("components"),B("uid"),A("events",{}),A("apis",{}),yo("eventOrder","eventOrder",gC({[zn()]:["disabling",zc,"toggling","typeaheadevents"],[Ha()]:[zc,"focusing","keying"],[M1()]:[zc,"disabling","toggling","representing","tooltipping"],[qr()]:[zc,"representing","streaming","invalidating"],[Mr()]:[zc,"representing","item-events","toolbar-button-events","tooltipping"],[Rn()]:["focusing",zc,"item-type-events"],[Kr()]:["focusing",zc,"item-type-events"],[_r()]:["item-type-events","tooltipping"],[Dc()]:["receiving","reflecting","tooltipping"]}),vs()),Wt("domModification")]),kO=t=>we("custom.definition",OO,t),EO=t=>({...t.dom,uid:t.uid,domChildren:Y(t.components,e=>e.element)}),AO=t=>t.domModification.fold(()=>_s({}),_s),DO=t=>t.events,M4=(t,e)=>{const o=Te(t),n=Te(e),s=Rs(n,o),r=Lr(t,(a,c)=>!Lt(e,c)||a!==e[c]).t;return{toRemove:s,toSet:r}},HO=(t,e)=>{const{class:o,style:n,...s}=lg(e),{toSet:r,toRemove:a}=M4(t.attributes,s),c=()=>{it(a,O=>Se(e,O)),t1(e,r)},i=_(e),{toSet:u,toRemove:m}=M4(t.styles,i),g=()=>{it(m,O=>W(e,O)),Gr(e,u)},p=av(e),v=Rs(p,t.classes),y=Rs(t.classes,p),w=()=>{_c(e,y),fs(e,v)},T=O=>{Ea(e,O)},x=()=>{const O=t.domChildren;YM(e,O)},M=()=>{const O=e,D=t.value.getOrUndefined();D!==jr(O)&&Mc(O,D??"")};return c(),w(),g(),t.innerHtml.fold(x,T),M(),e},$O=t=>{const e=j.fromTag(t.tag);t1(e,t.attributes),_c(e,t.classes),Gr(e,t.styles),t.innerHtml.each(n=>Ea(e,n));const o=t.domChildren;return zi(e,o),t.value.each(n=>{Mc(e,n)}),e},FO=(t,e)=>{try{const o=HO(t,e);return d.some(o)}catch{return d.none()}},IO=t=>t.innerHtml.isSome()&&t.domChildren.length>0,VO=(t,e)=>{const o=s=>Gs(s)===t.tag&&!IO(t)&&!PM(s),n=e.filter(o).bind(s=>FO(t,s)).getOrThunk(()=>$O(t));return Hp(n,t.uid),n},LO=t=>{const e=dt(t,"behaviours").getOr({});return Be(Te(e),o=>{const n=e[o];return xe(n)?[n.me]:[]})},BO=(t,e)=>dO(t,e),RO=t=>{const e=LO(t);return BO(t,e)},zO=(t,e,o)=>{const n=EO(t),s=AO(t),r={"alloy.base.modification":s},a=e.length>0?gO(o,r,e,n):s;return jT(n,a)},PO=(t,e,o)=>{const n={"alloy.base.behaviour":DO(t)};return wO(o,t.eventOrder,e,n).getOrDie()},ZO=(t,e)=>{const o=()=>O,n=st(uO),s=bs(kO(t)),r=RO(t),a=mO(r),c=hO(r),i=zO(s,a,c),u=VO(i,e),m=PO(s,a,c),g=st(s.components),p=D=>{n.set(D)},v=()=>{n.set(em(o))},y=()=>{const D=Io(u),$=Be(D,G=>n.get().getByDom(G).fold(()=>[],ba));g.set($)},w=D=>{const $=c;return($o($[D.name()])?$[D.name()]:()=>{throw new Error("Could not find "+D.name()+" in "+JSON.stringify(t,null,2))})()},T=D=>$o(c[D.name()]),x=()=>s.apis,M=D=>c[D]().map($=>$.state.readState()).getOr("not enabled"),O={uid:t.uid,getSystem:n.get,config:w,hasConfigured:T,spec:t,readState:M,getApis:x,connect:p,disconnect:v,element:u,syncComponents:y,components:g.get,events:m};return O},NO=(t,e)=>{const o=dt(t,"components").getOr([]);return e.fold(()=>Y(o,Ao),n=>Y(o,(s,r)=>Fp(s,Wr(n,r))))},UO=(t,e)=>{const{events:o,...n}=lO(t),s=NO(n,e),r={...n,events:{...sO,...o},components:s};return Mt.value(ZO(r,e))},de=t=>{const e=j.fromText(t);return O4({element:e})},O4=t=>{const e=on("external.component",Ln([B("element"),Wt("uid")]),t),o=st(em()),n=c=>{o.set(c)},s=()=>{o.set(em(()=>a))},r=e.uid.getOrThunk(()=>el("external"));Hp(e.element,r);const a={uid:r,getSystem:o.get,config:d.none,hasConfigured:Qt,connect:n,disconnect:s,getApis:()=>({}),element:e.element,spec:t,readState:E("No state"),syncComponents:N,components:E([]),events:{}};return u4(a)},WO=el,GO=t=>Lt(t,"uid"),Fp=(t,e)=>d4(t).getOrThunk(()=>{const o=GO(t)?t:{uid:WO(""),...t};return UO(o,e).getOrDie()}),Ao=t=>Fp(t,d.none()),Zn=u4;var jO=Object.freeze({__proto__:null,block:(t,e,o,n)=>{pt(t.element,"aria-busy",!0);const s=e.getRoot(t).getOr(t),r=P([ot.config({mode:"special",onTab:()=>d.some(!0),onShiftTab:()=>d.some(!0)}),mt.config({})]),a=n(s,r),c=s.getSystem().build(a);vt.append(s,Zn(c)),c.hasConfigured(ot)&&e.focus&&ot.focusIn(c),o.isBlocked()||e.onBlock(t),o.blockWith(()=>vt.remove(s,c))},unblock:(t,e,o)=>{Se(t.element,"aria-busy"),o.isBlocked()&&e.onUnblock(t),o.clear()},isBlocked:(t,e,o)=>o.isBlocked()}),YO=[ce("getRoot",d.none),ko("focus",!0),Bt("onBlock"),Bt("onUnblock")],XO=Object.freeze({__proto__:null,init:()=>{const t=Md(),e=o=>{t.set({destroy:o})};return Pn({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})}});const er=ho({fields:YO,name:"blocking",apis:jO,state:XO});var KO=Object.freeze({__proto__:null,getCurrent:(t,e,o)=>e.find(t)});const qO=[B("find")],$t=ho({fields:qO,name:"composing",apis:KO});var JO=Object.freeze({__proto__:null,getCoupled:(t,e,o,n)=>o.getOrCreate(t,e,n),getExistingCoupled:(t,e,o,n)=>o.getExisting(t,e,n)}),QO=[Bn("others",Mv(Mt.value,vs()))],tk=Object.freeze({__proto__:null,init:()=>{const t={},e=(r,a)=>{if(Te(r.others).length===0)throw new Error("Cannot find any known coupled components");return dt(t,a)},o=(r,a,c)=>e(a,c).getOrThunk(()=>{const u=dt(a.others,c).getOrDie("No information found for coupled component: "+c)(r),m=r.getSystem().build(u);return t[c]=m,m}),n=(r,a,c)=>e(a,c).orThunk(()=>(dt(a.others,c).getOrDie("No information found for coupled component: "+c),d.none())),s=E({});return Pn({readState:s,getExisting:n,getOrCreate:o})}});const Ae=ho({fields:QO,name:"coupling",apis:JO,state:tk}),ek=["input","button","textarea","select"],k4=(t,e,o)=>{(e.disabled()?Vp:Lp)(t,e)},Ip=(t,e)=>e.useNative===!0&&fe(ek,Gs(t.element)),ok=t=>e1(t.element,"disabled"),nk=t=>{pt(t.element,"disabled","disabled")},sk=t=>{Se(t.element,"disabled")},rk=t=>je(t.element,"aria-disabled")==="true",ak=t=>{pt(t.element,"aria-disabled","true")},ck=t=>{pt(t.element,"aria-disabled","false")},Vp=(t,e,o)=>{e.disableClass.each(s=>{Fe(t.element,s)}),(Ip(t,e)?nk:ak)(t),e.onDisabled(t)},Lp=(t,e,o)=>{e.disableClass.each(s=>{Ee(t.element,s)}),(Ip(t,e)?sk:ck)(t),e.onEnabled(t)},E4=(t,e)=>Ip(t,e)?ok(t):rk(t);var ik=Object.freeze({__proto__:null,enable:Lp,disable:Vp,isDisabled:E4,onLoad:k4,set:(t,e,o,n)=>{(n?Vp:Lp)(t,e)}}),lk=Object.freeze({__proto__:null,exhibit:(t,e)=>_s({classes:e.disabled()?e.disableClass.toArray():[]}),events:(t,e)=>ue([Tb(zn(),(o,n)=>E4(o,t)),xp(t,e,k4)])}),uk=[ce("disabled",Qt),A("useNative",!0),Wt("disableClass"),Bt("onDisabled"),Bt("onEnabled")];const et=ho({fields:uk,name:"disabling",active:lk,apis:ik}),Ms=(t,e,o,n,s)=>{const r=a=>a+"px";return{position:t,left:e.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}},dk=t=>({...t,position:d.some(t.position)}),A4=(t,e)=>{l(t,dk(e))},mk=(t,e)=>{const o=t.element;Fe(o,e.transitionClass),Ee(o,e.fadeOutClass),Fe(o,e.fadeInClass),e.onShow(t)},hk=(t,e)=>{const o=t.element;Fe(o,e.transitionClass),Ee(o,e.fadeInClass),Fe(o,e.fadeOutClass),e.onHide(t)},gk=(t,e)=>t.y<e.bottom&&t.bottom>e.y,D4=(t,e)=>t.y>=e.y,H4=(t,e)=>t.bottom<=e.bottom,Bp=(t,e,o)=>({location:"top",leftX:e,topY:o.bounds.y-t.y}),Rp=(t,e,o)=>({location:"bottom",leftX:e,bottomY:t.bottom-o.bounds.bottom}),zp=t=>t.box.x-t.win.x,pk=(t,e,o)=>{const n=e.win,s=e.box,r=zp(e);return Nt(t,a=>{switch(a){case"bottom":return H4(s,o.bounds)?d.none():d.some(Rp(n,r,o));case"top":return D4(s,o.bounds)?d.none():d.some(Bp(n,r,o));default:return d.none()}}).getOr({location:"no-dock"})},fk=(t,e,o)=>Bs(t,n=>{switch(n){case"bottom":return H4(e,o.bounds);case"top":return D4(e,o.bounds)}}),vk=(t,e)=>{const o=e.optScrollEnv.fold(E(t.bounds.y),n=>n.scrollElmTop+(t.bounds.y-n.currentScrollTop));return ke(t.bounds.x,o)},bk=(t,e)=>{const o=e.optScrollEnv.fold(E(t.y),n=>t.y+n.currentScrollTop-n.scrollElmTop);return ke(t.x,o)},Pp=(t,e,o)=>o.getInitialPos().map(n=>{const s=vk(n,e);return{box:uo(s.left,s.top,yn(t),Ht(t)),location:n.location}}),$4=(t,e,o,n,s)=>{const r=bk(e,o),a=uo(r.left,r.top,e.width,e.height);n.setInitialPos({style:_(t),position:h(t,"position")||"static",bounds:a,location:s.location})},yk=(t,e,o,n,s)=>{n.getInitialPos().fold(()=>$4(t,e,o,n,s),()=>N)},F4=(t,e,o)=>o.getInitialPos().bind(n=>{var s;switch(o.clearInitialPos(),n.position){case"static":return d.some({morph:"static"});case"absolute":const r=xg(t).getOr(Sr()),a=mo(r),c=(s=r.dom.scrollTop)!==null&&s!==void 0?s:0;return d.some({morph:"absolute",positionCss:Ms("absolute",dt(n.style,"left").map(i=>e.x-a.x),dt(n.style,"top").map(i=>e.y-a.y+c),dt(n.style,"right").map(i=>a.right-e.right),dt(n.style,"bottom").map(i=>a.bottom-e.bottom))});default:return d.none()}}),xk=(t,e,o)=>Pp(t,e,o).filter(({box:n})=>fk(o.getModes(),n,e)).bind(({box:n})=>F4(t,n,o)),Zp=t=>{switch(t.location){case"top":return d.some({morph:"fixed",positionCss:Ms("fixed",d.some(t.leftX),d.some(t.topY),d.none(),d.none())});case"bottom":return d.some({morph:"fixed",positionCss:Ms("fixed",d.some(t.leftX),d.none(),d.none(),d.some(t.bottomY))});default:return d.none()}},Sk=(t,e,o)=>{const n=mo(t),s=Vo(),r=pk(o.getModes(),{win:s,box:n},e);return r.location==="top"||r.location==="bottom"?($4(t,n,e,o,r),Zp(r)):d.none()},wk=(t,e,o)=>xk(t,e,o).orThunk(()=>e.optScrollEnv.bind(n=>Pp(t,e,o)).bind(({box:n,location:s})=>{const r=Vo(),a=zp({win:r,box:n}),c=s==="top"?Bp(r,a,e):Rp(r,a,e);return Zp(c)})),Ck=(t,e,o)=>{const n=t.element;return hn(S(n,"position"),"fixed")?wk(n,e,o):Sk(n,e,o)},Tk=(t,e,o)=>{const n=t.element;return Pp(n,e,o).bind(({box:s})=>F4(n,s,o))},_k=(t,e,o,n)=>{const s=mo(t),r=Vo(),a=zp({win:r,box:s}),c=n(r,a,e);return c.location==="bottom"||c.location==="top"?(yk(t,s,e,o,c),Zp(c)):d.none()},I4=(t,e,o)=>{o.setDocked(!1),it(["left","right","top","bottom","position"],n=>W(t.element,n)),e.onUndocked(t)},Np=(t,e,o,n)=>{const s=n.position==="fixed";o.setDocked(s),A4(t.element,n),(s?e.onDocked:e.onUndocked)(t)},V4=(t,e,o,n,s=!1)=>{e.contextual.each(r=>{r.lazyContext(t).each(a=>{const c=gk(a,n.bounds);c!==o.isVisible()&&(o.setVisible(c),s&&!c?(_c(t.element,[r.fadeOutClass]),r.onHide(t)):(c?mk:hk)(t,r))})})},L4=(t,e,o,n,s)=>{V4(t,e,o,n,!0),Np(t,e,o,s.positionCss)},Mk=(t,e,o,n,s)=>{switch(s.morph){case"static":return I4(t,e,o);case"absolute":return Np(t,e,o,s.positionCss);case"fixed":return L4(t,e,o,n,s)}},Ok=(t,e,o)=>{const n=e.lazyViewport(t);V4(t,e,o,n),Ck(t,n,o).each(s=>{Mk(t,e,o,n,s)})},kk=(t,e,o)=>{const n=t.element;o.setDocked(!1);const s=e.lazyViewport(t);Tk(t,s,o).each(r=>{switch(r.morph){case"static":{I4(t,e,o);break}case"absolute":{Np(t,e,o,r.positionCss);break}}}),o.setVisible(!0),e.contextual.each(r=>{fs(n,[r.fadeInClass,r.fadeOutClass,r.transitionClass]),r.onShow(t)}),om(t,e,o)},om=(t,e,o)=>{t.getSystem().isConnected()&&Ok(t,e,o)},B4=(t,e,o)=>{o.isDocked()&&kk(t,e,o)},R4=t=>(e,o,n)=>{const s=o.lazyViewport(e);_k(e.element,s,n,t).each(a=>{L4(e,o,n,s,a)})},Ek=R4(Bp),Ak=R4(Rp);var Dk=Object.freeze({__proto__:null,refresh:om,reset:B4,isDocked:(t,e,o)=>o.isDocked(),getModes:(t,e,o)=>o.getModes(),setModes:(t,e,o,n)=>o.setModes(n),forceDockToTop:Ek,forceDockToBottom:Ak}),Hk=Object.freeze({__proto__:null,events:(t,e)=>ue([qi(pu(),(o,n)=>{t.contextual.each(s=>{en(o.element,s.transitionClass)&&(fs(o.element,[s.transitionClass,s.fadeInClass]),(e.isVisible()?s.onShown:s.onHidden)(o)),n.stop()})}),I($g(),(o,n)=>{om(o,t,e)}),I(Iv(),(o,n)=>{om(o,t,e)}),I(yu(),(o,n)=>{B4(o,t,e)})])}),$k=[Sn("contextual",[oo("fadeInClass"),oo("fadeOutClass"),oo("transitionClass"),xs("lazyContext"),Bt("onShow"),Bt("onShown"),Bt("onHide"),Bt("onHidden")]),ce("lazyViewport",()=>({bounds:Vo(),optScrollEnv:d.none()})),Da("modes",["top","bottom"],eo),Bt("onDocked"),Bt("onUndocked")],Fk=Object.freeze({__proto__:null,init:t=>{const e=st(!1),o=st(!0),n=Kt(),s=st(t.modes),r=()=>`docked:  ${e.get()}, visible: ${o.get()}, modes: ${s.get().join(",")}`;return Pn({isDocked:e.get,setDocked:e.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:r})}});const pe=ho({fields:$k,name:"docking",active:Hk,apis:Dk,state:Fk}),Up=Ko.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),nm=t=>e=>e.translate(-t.left,-t.top),sm=t=>e=>e.translate(t.left,t.top),oa=t=>(e,o)=>Ne(t,(n,s)=>s(n),ke(e,o)),rm=(t,e,o)=>t.fold(oa([sm(o),nm(e)]),oa([nm(e)]),oa([])),ol=(t,e,o)=>t.fold(oa([sm(o)]),oa([]),oa([sm(e)])),z4=(t,e,o)=>t.fold(oa([]),oa([nm(o)]),oa([sm(e),nm(o)])),Ik=(t,e,o,n,s,r)=>{const a=ol(t,s,r),c=ol(e,s,r);return Math.abs(a.left-c.left)<=o&&Math.abs(a.top-c.top)<=n},Vk=(t,e,o,n,s,r)=>{const a=ol(t,s,r),c=ol(e,s,r),i=Math.abs(a.left-c.left),u=Math.abs(a.top-c.top);return ke(i,u)},P4=(t,e,o)=>{const n=t.fold((s,r)=>({position:d.some("absolute"),left:d.some(s+"px"),top:d.some(r+"px")}),(s,r)=>({position:d.some("absolute"),left:d.some(s-o.left+"px"),top:d.some(r-o.top+"px")}),(s,r)=>({position:d.some("fixed"),left:d.some(s+"px"),top:d.some(r+"px")}));return{right:d.none(),bottom:d.none(),...n}},Lk=(t,e,o)=>t.fold((n,s)=>am(n+e,s+o),(n,s)=>Ra(n+e,s+o),(n,s)=>Pc(n+e,s+o)),Wp=(t,e,o,n)=>{const s=(r,a)=>(c,i)=>{const u=r(e,o,n);return a(c.getOr(u.left),i.getOr(u.top))};return t.fold(s(z4,am),s(ol,Ra),s(rm,Pc))},am=Up.offset,Ra=Up.absolute,Pc=Up.fixed,Z4=(t,e)=>{const o=je(t,e);return dn(o)?NaN:parseInt(o,10)},Bk=(t,e)=>{const o=t.element,n=Z4(o,e.leftAttr),s=Z4(o,e.topAttr);return isNaN(n)||isNaN(s)?d.none():d.some(ke(n,s))},Rk=(t,e,o)=>{const n=t.element;pt(n,e.leftAttr,o.left+"px"),pt(n,e.topAttr,o.top+"px")},zk=(t,e)=>{const o=t.element;Se(o,e.leftAttr),Se(o,e.topAttr)},Pk=(t,e,o,n)=>Bk(t,e).fold(()=>o,s=>Pc(s.left+n.left,s.top+n.top)),Zk=(t,e,o,n,s,r)=>{const a=Pk(t,e,o,n),c=e.mustSnap?Uk(t,e,a,s,r):Wk(t,e,a,s,r),i=rm(a,s,r);return Rk(t,e,i),c.fold(()=>({coord:Pc(i.left,i.top),extra:d.none()}),u=>({coord:u.output,extra:u.extra}))},Nk=(t,e)=>{zk(t,e)},N4=(t,e,o,n)=>Nt(t,s=>{const r=s.sensor;return Ik(e,r,s.range.left,s.range.top,o,n)?d.some({output:Wp(s.output,e,o,n),extra:s.extra}):d.none()}),Uk=(t,e,o,n,s)=>{const r=e.getSnapPoints(t);return N4(r,o,n,s).orThunk(()=>Ne(r,(i,u)=>{const m=u.sensor,g=Vk(o,m,u.range.left,u.range.top,n,s);return i.deltas.fold(()=>({deltas:d.some(g),snap:d.some(u)}),p=>{const v=(g.left+g.top)/2,y=(p.left+p.top)/2;return v<=y?{deltas:d.some(g),snap:d.some(u)}:i})},{deltas:d.none(),snap:d.none()}).snap.map(i=>({output:Wp(i.output,o,n,s),extra:i.extra})))},Wk=(t,e,o,n,s)=>{const r=e.getSnapPoints(t);return N4(r,o,n,s)},Gk=(t,e,o)=>({coord:Wp(t.output,t.output,e,o),extra:t.extra});var jk=Object.freeze({__proto__:null,snapTo:(t,e,o,n)=>{const s=e.getTarget(t.element);if(e.repositionTarget){const r=fn(t.element),a=Vn(r),c=fv(s),i=Gk(n,a,c),u=P4(i.coord,a,c);l(s,u)}}});const ao=(t,e)=>Eg(t,{},Y(e,o=>kC(o.name(),"Cannot configure "+o.name()+" for "+t)).concat([Go("dump",Ft)])),cm=t=>t.dump,go=(t,e)=>({...P(e),...t.dump}),Os={field:ao,augment:go,get:cm},Yk=(t,e)=>(t.length>0?[Yr("parts",t)]:[]).concat([B("uid"),A("dom",{}),A("components",[]),zv("originalSpec"),A("debug.sketcher",{})]).concat(e),U4=(t,e,o,n,s)=>{const r=Yk(n,s);return on(t+" [SpecSchema]",Ln(r.concat(e)),o)},Xk=(t,e,o,n)=>{const s=W4(n),r=U4(t,e,s,[],[]);return o(r,s)},Gp=(t,e,o,n,s)=>{const r=W4(s),a=qv(o),c=Qg(o),i=U4(t,e,r,a,[c]),u=Kg(t,i,o),m=qg(t,i,u.internals());return n(i,m,r,u.externals())},Kk=t=>Lt(t,"uid"),W4=t=>Kk(t)?t:{...t,uid:el("uid")},qk=t=>t.uid!==void 0,Jk=Ln([B("name"),B("factory"),B("configFields"),A("apis",{}),A("extraApis",{})]),Qk=Ln([B("name"),B("factory"),B("configFields"),B("partFields"),A("apis",{}),A("extraApis",{})]),Nn=t=>{const e=on("Sketcher for "+t.name,Jk,t),o=r=>Xk(e.name,e.configFields,e.factory,r),n=He(e.apis,J1),s=He(e.extraApis,(r,a)=>Zg(r,a));return{name:e.name,configFields:e.configFields,sketch:o,...n,...s}},Lo=t=>{const e=on("Sketcher for "+t.name,Qk,t),o=a=>Gp(e.name,e.configFields,e.partFields,e.factory,a),n=Yg(e.name,e.partFields),s=He(e.apis,J1),r=He(e.extraApis,(a,c)=>Zg(a,c));return{name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:o,parts:n,...s,...r}},or=Nn({name:"Container",factory:t=>{const{attributes:e,...o}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...e},...o},components:t.components,behaviours:cm(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[A("components",[]),ao("containerBehaviours",[]),A("events",{}),A("domModification",{}),A("eventOrder",{})]}),jp="data-initial-z-index",tE=t=>{Fo(t.element).filter(Jo).each(e=>{Ye(e,jp).fold(()=>W(e,"z-index"),o=>wt(e,"z-index",o)),Se(e,jp)})},eE=t=>{Fo(t.element).filter(Jo).each(e=>{S(e,"z-index").each(o=>{pt(e,jp,o)}),wt(e,"z-index",h(t.element,"z-index"))})},G4=(t,e)=>{t.getSystem().addToGui(e),eE(e)},oE=t=>{tE(t),t.getSystem().removeFromGui(t)},j4=(t,e,o)=>t.getSystem().build(or.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:o}));var nE=Sn("snaps",[B("getSnapPoints"),Bt("onSensor"),B("leftAttr"),B("topAttr"),A("lazyViewport",Vo),A("mustSnap",!1)]);const Yp=[A("useFixed",Qt),B("blockerClass"),A("getTarget",Ft),A("onDrag",N),A("repositionTarget",!0),A("onDrop",N),ce("getBounds",Vo),nE],sE=t=>Ti(S(t,"left"),S(t,"top"),S(t,"position"),(e,o,n)=>(n==="fixed"?Pc:am)(parseInt(e,10),parseInt(o,10))).getOrThunk(()=>{const e=ps(t);return Ra(e.left,e.top)}),rE=(t,e,o,n,s)=>{const r=s.bounds,a=ol(e,o,n),c=Mo(a.left,r.x,r.x+r.width-s.width),i=Mo(a.top,r.y,r.y+r.height-s.height),u=Ra(c,i);return e.fold(()=>{const m=z4(u,o,n);return am(m.left,m.top)},E(u),()=>{const m=rm(u,o,n);return Pc(m.left,m.top)})},aE=(t,e,o,n,s,r,a)=>{const c=e.fold(()=>{const i=Lk(o,r.left,r.top),u=rm(i,n,s);return Pc(u.left,u.top)},i=>{const u=Zk(t,i,o,r,n,s);return u.extra.each(m=>{i.onSensor(t,m)}),u.coord});return rE(t,c,n,s,a)},cE=(t,e,o,n)=>{const s=e.getTarget(t.element);if(e.repositionTarget){const r=fn(t.element),a=Vn(r),c=fv(s),i=sE(s),u=aE(t,e.snaps,i,a,c,n,o),m=P4(u,a,c);l(s,m)}e.onDrag(t,s,n)},Y4=(t,e)=>({bounds:t.getBounds(),height:ve(e.element),width:iu(e.element)}),Xp=(t,e,o,n,s)=>{const r=o.update(n,s),a=o.getStartData().getOrThunk(()=>Y4(e,t));r.each(c=>{cE(t,e,a,c)})},X4=(t,e,o,n)=>{e.each(oE),o.snaps.each(r=>{Nk(t,r)});const s=o.getTarget(t.element);n.reset(),o.onDrop(t,s)},Kp=t=>(e,o)=>{const n=s=>{o.setStartData(Y4(e,s))};return ue([I($g(),s=>{o.getStartData().each(()=>n(s))}),...t(e,o,n)])},iE=t=>ue([I(Rn(),t.forceDrop),I(Ag(),t.drop),I(C1(),(e,o)=>{t.move(o.event)}),I(T1(),t.delayDrop)]);var lE=Object.freeze({__proto__:null,getData:t=>d.from(ke(t.x,t.y)),getDelta:(t,e)=>ke(e.left-t.left,e.top-t.top)});const K4=(t,e,o)=>[I(Rn(),(n,s)=>{if(s.event.raw.button!==0)return;s.stop();const a=()=>X4(n,d.some(u),t,e),c=Zv(a,200),i={drop:a,delayDrop:c.schedule,forceDrop:a,move:g=>{c.cancel(),Xp(n,t,e,lE,g)}},u=j4(n,t.blockerClass,iE(i));(()=>{o(n),G4(n,u)})()})],uE=[...Yp,ge("dragger",{handlers:Kp(K4)})],dE=t=>ue([I(Kr(),t.forceDrop),I(Ec(),t.drop),I(Hv(),t.drop),I(gu(),(e,o)=>{t.move(o.event)})]),mE=t=>{const e=t[0];return d.some(ke(e.clientX,e.clientY))};var q4=Object.freeze({__proto__:null,getData:t=>{const o=t.raw.touches;return o.length===1?mE(o):d.none()},getDelta:(t,e)=>ke(e.left-t.left,e.top-t.top)});const J4=(t,e,o)=>{const n=Kt(),s=r=>{X4(r,n.get(),t,e),n.clear()};return[I(Kr(),(r,a)=>{a.stop();const c=()=>s(r),i={drop:c,delayDrop:N,forceDrop:c,move:g=>{Xp(r,t,e,q4,g)}},u=j4(r,t.blockerClass,dE(i));n.set(u),(()=>{o(r),G4(r,u)})()}),I(gu(),(r,a)=>{a.stop(),Xp(r,t,e,q4,a.event)}),I(Ec(),(r,a)=>{a.stop(),s(r)}),I(Hv(),s)]},hE=[...Yp,ge("dragger",{handlers:Kp(J4)})],gE=(t,e,o)=>[...K4(t,e,o),...J4(t,e,o)],pE=[...Yp,ge("dragger",{handlers:Kp(gE)})];var fE=Object.freeze({__proto__:null,mouse:uE,touch:hE,mouseOrTouch:pE}),vE=Object.freeze({__proto__:null,init:()=>{let t=d.none(),e=d.none();const o=()=>{t=d.none(),e=d.none()},n=(i,u)=>{const m=t.map(g=>i.getDelta(g,u));return t=d.some(u),m},s=(i,u)=>i.getData(u).bind(m=>n(i,m)),r=i=>{e=d.some(i)},a=()=>e,c=E({});return Pn({readState:c,reset:o,update:s,getStartData:a,setStartData:r})}});const Zc=Ob({branchKey:"mode",branches:fE,name:"dragging",active:{events:(t,e)=>t.dragger.handlers(t,e)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:d.from(t.extra)})},state:vE,apis:jk}),bE=["input","textarea"],Q4=t=>{const e=Gs(t);return fe(bE,e)},t3=(t,e)=>{const o=e.getRoot(t).getOr(t.element);Ee(o,e.invalidClass),e.notify.each(n=>{Q4(t.element)&&pt(t.element,"aria-invalid",!1),n.getContainer(t).each(s=>{Ea(s,n.validHtml)}),n.onValid(t)})},e3=(t,e,o,n)=>{const s=e.getRoot(t).getOr(t.element);Fe(s,e.invalidClass),e.notify.each(r=>{Q4(t.element)&&pt(t.element,"aria-invalid",!0),r.getContainer(t).each(a=>{Ea(a,n)}),r.onInvalid(t,n)})},o3=(t,e,o)=>e.validator.fold(()=>_e.pure(Mt.value(!0)),n=>n.validate(t)),qp=(t,e,o)=>(e.notify.each(n=>{n.onValidate(t)}),o3(t,e).map(n=>t.getSystem().isConnected()?n.fold(s=>(e3(t,e,o,s),Mt.error(s)),s=>(t3(t,e),Mt.value(s))):Mt.error("No longer in system")));var yE=Object.freeze({__proto__:null,markValid:t3,markInvalid:e3,query:o3,run:qp,isInvalid:(t,e)=>{const o=e.getRoot(t).getOr(t.element);return en(o,e.invalidClass)}}),xE=Object.freeze({__proto__:null,events:(t,e)=>t.validator.map(o=>ue([I(o.onEvent,n=>{qp(n,t,e).get(Ft)})].concat(o.validateOnLoad?[ie(n=>{qp(n,t,e).get(N)})]:[]))).getOr({})}),SE=[B("invalidClass"),A("getRoot",d.none),Sn("notify",[A("aria","alert"),A("getContainer",d.none),A("validHtml",""),Bt("onValid"),Bt("onInvalid"),Bt("onValidate")]),Sn("validator",[B("validate"),A("onEvent","input"),A("validateOnLoad",!0)])];const Jp=(t,e,o)=>{e.store.manager.onLoad(t,e,o)},n3=(t,e,o)=>{e.store.manager.onUnload(t,e,o)};var wE=Object.freeze({__proto__:null,onLoad:Jp,onUnload:n3,setValue:(t,e,o,n)=>{e.store.manager.setValue(t,e,o,n)},getValue:(t,e,o)=>e.store.manager.getValue(t,e,o),getState:(t,e,o)=>o}),CE=Object.freeze({__proto__:null,events:(t,e)=>{const o=t.resetOnDom?[ie((n,s)=>{Jp(n,t,e)}),Qs((n,s)=>{n3(n,t,e)})]:[xp(t,e,Jp)];return ue(o)}});const s3=()=>{const t=st(null),e=()=>({mode:"memory",value:t.get()}),o=()=>t.get()===null,n=()=>{t.set(null)};return Pn({set:t.set,get:t.get,isNotSet:o,clear:n,readState:e})},TE=()=>Pn({readState:N}),r3=()=>{const t=st({}),e=st({});return Pn({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:e.get()}),lookup:a=>dt(t.get(),a).orThunk(()=>dt(e.get(),a)),update:a=>{const c=t.get(),i=e.get(),u={},m={};it(a,g=>{u[g.value]=g,dt(g,"meta").each(p=>{dt(p,"text").each(v=>{m[v]=g})})}),t.set({...c,...u}),e.set({...i,...m})},clear:()=>{t.set({}),e.set({})}})};var _E=Object.freeze({__proto__:null,memory:s3,dataset:r3,manual:TE,init:t=>t.store.manager.state(t)});const a3=(t,e,o,n)=>{const s=e.store;o.update([n]),s.setValue(t,n),e.onSetValue(t,n)},ME=(t,e,o)=>{const n=e.store,s=n.getDataKey(t);return o.lookup(s).getOrThunk(()=>n.getFallbackEntry(s))},OE=(t,e,o)=>{e.store.initialValue.each(s=>{a3(t,e,o,s)})},kE=(t,e,o)=>{o.clear()};var EE=[Wt("initialValue"),B("getFallbackEntry"),B("getDataKey"),B("setValue"),ge("manager",{setValue:a3,getValue:ME,onLoad:OE,onUnload:kE,state:r3})];const AE=(t,e,o)=>e.store.getValue(t),DE=(t,e,o,n)=>{e.store.setValue(t,n),e.onSetValue(t,n)},HE=(t,e,o)=>{e.store.initialValue.each(n=>{e.store.setValue(t,n)})};var $E=[B("getValue"),A("setValue",N),Wt("initialValue"),ge("manager",{setValue:DE,getValue:AE,onLoad:HE,onUnload:N,state:Js.init})];const FE=(t,e,o,n)=>{o.set(n),e.onSetValue(t,n)},IE=(t,e,o)=>o.get(),VE=(t,e,o)=>{e.store.initialValue.each(n=>{o.isNotSet()&&o.set(n)})},LE=(t,e,o)=>{o.clear()};var BE=[Wt("initialValue"),ge("manager",{setValue:FE,getValue:IE,onLoad:VE,onUnload:LE,state:s3})],RE=[ts("store",{mode:"memory"},nn("mode",{memory:BE,manual:$E,dataset:EE})),Bt("onSetValue"),A("resetOnDom",!1)];const q=ho({fields:RE,name:"representing",active:CE,apis:wE,extra:{setValueFrom:(t,e)=>{const o=q.getValue(e);q.setValue(t,o)}},state:_E}),kr=ho({fields:SE,name:"invalidating",active:xE,apis:yE,extra:{validation:t=>e=>{const o=q.getValue(e);return _e.pure(t(o))}}});var zE=Object.freeze({__proto__:null,exhibit:(t,e)=>_s({classes:[],styles:e.useFixed()?{}:{position:"relative"}})});const Qp=Ko.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),c3=(t,e,o,n,s,r)=>{const a=e.rect,c=a.x-o,i=a.y-n,u=a.width,m=a.height,g=s-(c+u),p=r-(i+m),v=d.some(c),y=d.some(i),w=d.some(g),T=d.some(p),x=d.none();return CT(e.direction,()=>Ms(t,v,y,x,x),()=>Ms(t,x,y,w,x),()=>Ms(t,v,x,x,T),()=>Ms(t,x,x,w,T),()=>Ms(t,v,y,x,x),()=>Ms(t,v,x,x,T),()=>Ms(t,v,y,x,x),()=>Ms(t,x,y,w,x))},i3=(t,e)=>t.fold(()=>{const o=e.rect;return Ms("absolute",d.some(o.x),d.some(o.y),d.none(),d.none())},(o,n,s,r)=>c3("absolute",e,o,n,s,r),(o,n,s,r)=>c3("fixed",e,o,n,s,r)),t0=(t,e)=>{const o=so(bg,e),n=t.fold(o,o,()=>{const a=Vn();return bg(e).translate(-a.left,-a.top)}),s=iu(e),r=ve(e);return uo(n.left,n.top,s,r)},PE=(t,e)=>e.fold(()=>t.fold(Vo,Vo,uo),o=>t.fold(E(o),E(o),()=>{const n=l3(t,o.x,o.y);return uo(n.left,n.top,o.width,o.height)})),l3=(t,e,o)=>{const n=ke(e,o),s=()=>{const r=Vn();return n.translate(-r.left,-r.top)};return t.fold(E(n),E(n),s)},ZE=(t,e,o,n)=>t.fold(e,o,n);Qp.none;const NE=Qp.relative,UE=Qp.fixed,WE=(t,e)=>({anchorBox:t,origin:e}),GE=(t,e)=>WE(t,e),im=Ko.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),jE=(t,e)=>{const{x:o,y:n,right:s,bottom:r}=e,{x:a,y:c,right:i,bottom:u,width:m,height:g}=t,p=a>=o&&a<=s,v=c>=n&&c<=r,y=p&&v,w=i<=s&&i>=o,T=u<=r&&u>=n,x=w&&T,M=Math.min(m,a>=o?s-a:i-o),O=Math.min(g,c>=n?r-c:u-n);return{originInBounds:y,sizeInBounds:x,visibleW:M,visibleH:O}},YE=(t,e)=>{const{x:o,y:n,right:s,bottom:r}=e,{x:a,y:c,width:i,height:u}=t,m=Math.max(o,s-i),g=Math.max(n,r-u),p=Mo(a,o,m),v=Mo(c,n,g),y=Math.min(p+i,s)-p,w=Math.min(v+u,r)-v;return uo(p,v,y,w)},XE=(t,e,o)=>{const n=E(e.bottom-o.y),s=E(o.bottom-e.y),r=TT(t,s,s,n),a=E(e.right-o.x),c=E(o.right-e.x);return{maxWidth:_T(t,c,c,a),maxHeight:r}},KE=(t,e,o,n)=>{const s=t.bubble,r=s.offset,a=OT(n,t.restriction,r),c=t.x+r.left,i=t.y+r.top,u=uo(c,i,e,o),{originInBounds:m,sizeInBounds:g,visibleW:p,visibleH:v}=jE(u,a),y=m&&g,w=y?u:YE(u,a),T=w.width>0&&w.height>0,{maxWidth:x,maxHeight:M}=XE(t.direction,w,n),O={rect:w,maxHeight:M,maxWidth:x,direction:t.direction,placement:t.placement,classes:{on:s.classesOn,off:s.classesOff},layout:t.label,testY:i};return y||t.alwaysFit?im.fit(O):im.nofit(O,p,v,T)},qE=(t,e,o,n,s,r)=>{const a=n.width,c=n.height,i=(m,g,p,v,y)=>{const w=m(o,n,s,t,r),T=KE(w,a,c,r);return T.fold(E(T),(x,M,O,D)=>(y===D?O>v||M>p:!y&&D)?T:im.nofit(g,p,v,y))};return Ne(e,(m,g)=>{const p=so(i,g);return m.fold(E(m),p)},im.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:R1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1)).fold(Ft,Ft)},u3=["top","bottom","right","left"],lm="data-alloy-transition-timer",JE=(t,e)=>T7(t,e.classes),QE=(t,e,o)=>o.exists(n=>{const s=t.mode;return s==="all"?!0:n[s]!==e[s]}),tA=(t,e)=>{const o=n=>parseFloat(n).toFixed(3);return Br(e,(n,s)=>{const r=t[s].map(o),a=n.map(o);return!Bl(r,a)}).isSome()},eA=t=>{const e=r=>{const c=h(t,r).split(/\s*,\s*/);return oe(c,Ns)},o=r=>{if(Zt(r)&&/^[\d.]+/.test(r)){const a=parseFloat(r);return cs(r,"ms")?a:a*1e3}else return 0},n=e("transition-delay"),s=e("transition-duration");return Ne(s,(r,a,c)=>{const i=o(n[c])+o(a);return Math.max(r,i)},0)},oA=(t,e)=>{const o=br(),n=br();let s;const r=u=>{var m;const g=(m=u.raw.pseudoElement)!==null&&m!==void 0?m:"";return qt(u.target,t)&&Us(g)&&fe(u3,u.raw.propertyName)},a=u=>{if(Ir(u)||r(u)){o.clear(),n.clear();const m=u==null?void 0:u.raw.type;(Ir(m)||m===pu())&&(clearTimeout(s),Se(t,lm),fs(t,e.classes))}},c=vo(t,zC(),u=>{r(u)&&(c.unbind(),o.set(vo(t,pu(),a)),n.set(vo(t,RC(),a)))}),i=eA(t);requestAnimationFrame(()=>{s=setTimeout(a,i+17),pt(t,lm,s)})},nA=(t,e)=>{_c(t,e.classes),Ye(t,lm).each(o=>{clearTimeout(parseInt(o,10)),Se(t,lm)}),oA(t,e)},sA=(t,e,o,n,s,r)=>{const a=QE(n,s,r);if(a||JE(t,n)){wt(t,"position",o.position);const c=t0(e,t),i=i3(e,{...s,rect:c}),u=fi(u3,m=>i[m]);tA(o,u)&&(l(t,u),a&&nA(t,n),Ct(t))}else fs(t,n.classes)},rA=t=>({width:Math.ceil(c7(t)),height:ve(t)}),aA=(t,e,o,n)=>{W(e,"max-height"),W(e,"max-width");const s=rA(e);return qE(e,n.preference,t,s,o,n.bounds)},cA=(t,e)=>{const o=e.classes;fs(t,o.off),_c(t,o.on)},iA=(t,e,o)=>{const n=o.maxHeightFunction;n(t,e.maxHeight)},lA=(t,e,o)=>{const n=o.maxWidthFunction;n(t,e.maxWidth)},uA=(t,e,o)=>{const n=i3(o.origin,e);o.transition.each(s=>{sA(t,o.origin,n,s,e,o.lastPlacement)}),A4(t,n)},dA=(t,e)=>{AT(t,e.placement)},d3=(t,e,o)=>t[e]===void 0?o:t[e],mA=(t,e,o,n,s,r,a,c)=>{const i=d3(a,"maxHeightFunction",wb()),u=d3(a,"maxWidthFunction",N),m=t.anchorBox,g=t.origin,p={bounds:PE(g,r),origin:g,preference:n,maxHeightFunction:i,maxWidthFunction:u,lastPlacement:s,transition:c};return hA(m,e,o,p)},hA=(t,e,o,n)=>{const s=aA(t,e,o,n);return uA(e,s,n),dA(e,s),cA(e,s),iA(e,s,n),lA(e,s,n),{layout:s.layout,placement:s.placement}},um=Ft,za=()=>Sn("layouts",[B("onLtr"),B("onRtl"),Wt("onBottomLtr"),Wt("onBottomRtl")]),dm=(t,e,o,n,s,r,a)=>{const c=a.map(IT).getOr(!1),i=e.layouts.map(v=>v.onLtr(t)),u=e.layouts.map(v=>v.onRtl(t)),m=c?e.layouts.bind(v=>v.onBottomLtr.map(y=>y(t))).or(i).getOr(s):i.getOr(o),g=c?e.layouts.bind(v=>v.onBottomRtl.map(y=>y(t))).or(u).getOr(r):u.getOr(n);return mg(m,g)(t)},gA=(t,e,o)=>{const n=e.hotspot,s=t0(o,n.element),r=dm(t.element,e,cp(),ip(),hb(),gb(),d.some(e.hotspot.element));return d.some(um({anchorBox:s,bubble:e.bubble.getOr(B1()),overrides:e.overrides,layouts:r}))};var pA=[B("hotspot"),Wt("bubble"),A("overrides",{}),za(),ge("placement",gA)];const fA=(t,e,o)=>{const n=l3(o,e.x,e.y),s=uo(n.left,n.top,e.width,e.height),r=dm(t.element,e,db(),mb(),db(),mb(),d.none());return d.some(um({anchorBox:s,bubble:e.bubble,overrides:e.overrides,layouts:r}))};var vA=[B("x"),B("y"),A("height",0),A("width",0),A("bubble",B1()),A("overrides",{}),za(),ge("placement",fA)];const m3=Ko.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),bA=t=>t.fold(Ft,(e,o,n)=>e.translate(-o,-n)),yA=t=>t.fold(Ft,Ft),h3=t=>Ne(t,(e,o)=>e.translate(o.left,o.top),ke(0,0)),xA=t=>{const e=Y(t,bA);return h3(e)},g3=t=>{const e=Y(t,yA);return h3(e)},SA=m3.screen,wA=m3.absolute,CA=(t,e,o)=>{const n=ms(o.root).dom,s=r=>{const a=fn(r),c=fn(t.element);return qt(a,c)};return d.from(n.frameElement).map(j.fromDom).filter(s).map(ps)},p3=(t,e,o)=>{const n=fn(t.element),s=Vn(n),r=CA(t,e,o).getOr(s);return wA(r,s.left,s.top)},e0=(t,e,o,n)=>{const s=SA(ke(t,e));return d.some(q7(s,o,n))},f3=(t,e,o,n,s)=>t.map(r=>{const a=[e,r.point],c=ZE(n,()=>g3(a),()=>g3(a),()=>xA(a)),i=J7(c.left,c.top,r.width,r.height),u=o.showAbove?hb():cp(),m=o.showAbove?gb():ip(),g=dm(s,o,u,m,u,m,d.none());return um({anchorBox:i,bubble:o.bubble.getOr(B1()),overrides:o.overrides,layouts:g})}),TA=(t,e,o)=>{const n=p3(t,o,e);return e.node.filter(vn).bind(s=>{const r=s.dom.getBoundingClientRect(),a=e0(r.left,r.top,r.width,r.height),c=e.node.getOr(t.element);return f3(a,n,e,o,c)})};var _A=[B("node"),B("root"),Wt("bubble"),za(),A("overrides",{}),A("showAbove",!1),ge("placement",TA)];const mm=(t,e)=>({element:t,offset:e}),MA=(t,e)=>{const o=Io(t);if(o.length===0)return mm(t,e);if(e<o.length)return mm(o[e],0);{const n=o[o.length-1],s=Ur(n)?d7(n).length:Io(n).length;return mm(n,s)}},v3=(t,e)=>Ur(t)?mm(t,e):MA(t,e),o0=t=>t.foffset!==void 0,b3=(t,e)=>e.getSelection.getOrThunk(()=>()=>Z7(t))().map(n=>{if(o0(n)){const s=v3(n.start,n.soffset),r=v3(n.finish,n.foffset);return uu.range(s.element,s.offset,r.element,r.offset)}else return n}),OA=(t,e,o)=>{const n=ms(e.root).dom,s=p3(t,o,e),r=b3(n,e).bind(i=>{if(o0(i))return N7(n,uu.exactFromRange(i)).orThunk(()=>{const m=j.fromText(Zr);Cc(i.start,m);const g=mv(n,uu.exact(m,0,m,1));return gs(m),g}).bind(m=>e0(m.left,m.top,m.width,m.height));{const u=He(i,g=>g.dom.getBoundingClientRect()),m={left:Math.min(u.firstCell.left,u.lastCell.left),right:Math.max(u.firstCell.right,u.lastCell.right),top:Math.min(u.firstCell.top,u.lastCell.top),bottom:Math.max(u.firstCell.bottom,u.lastCell.bottom)};return e0(m.left,m.top,m.right-m.left,m.bottom-m.top)}}),c=b3(n,e).bind(i=>o0(i)?Jo(i.start)?d.some(i.start):Qo(i.start):d.some(i.firstCell)).getOr(t.element);return f3(r,s,e,o,c)};var kA=[Wt("getSelection"),B("root"),Wt("bubble"),za(),A("overrides",{}),A("showAbove",!1),ge("placement",OA)];const hm="link-layout",y3=t=>t.x+t.width,x3=(t,e)=>t.x-e.width,S3=(t,e)=>t.y-e.height+t.height,w3=t=>t.y,C3=(t,e,o)=>So(y3(t),w3(t),o.southeast(),R1(),"southeast",wo(t,{left:0,top:2}),hm),T3=(t,e,o)=>So(x3(t,e),w3(t),o.southwest(),tp(),"southwest",wo(t,{right:1,top:2}),hm),_3=(t,e,o)=>So(y3(t),S3(t,e),o.northeast(),ep(),"northeast",wo(t,{left:0,bottom:3}),hm),M3=(t,e,o)=>So(x3(t,e),S3(t,e),o.northwest(),op(),"northwest",wo(t,{right:1,bottom:3}),hm),O3=()=>[C3,T3,_3,M3],k3=()=>[T3,C3,M3,_3],EA=(t,e,o)=>{const n=t0(o,e.item.element),s=dm(t.element,e,O3(),k3(),O3(),k3(),d.none());return d.some(um({anchorBox:n,bubble:B1(),overrides:e.overrides,layouts:s}))};var AA=[B("item"),za(),A("overrides",{}),ge("placement",EA)],DA=nn("type",{selection:kA,node:_A,hotspot:pA,submenu:AA,makeshift:vA});const HA=[xn("classes",eo),Xs("mode","all",["all","layout","placement"])],$A=[A("useFixed",Qt),Wt("getBounds")],FA=[Bn("anchor",DA),Sn("transition",HA)],IA=()=>{const t=document.documentElement;return UE(0,0,t.clientWidth,t.clientHeight)},VA=t=>{const e=ps(t.element),o=t.element.dom.getBoundingClientRect();return NE(e.left,e.top,o.width,o.height)},LA=(t,e,o,n,s,r)=>{const a=GE(e.anchorBox,t);return mA(a,n.element,e.bubble,e.layouts,s,o,e.overrides,r)},BA=(t,e,o,n,s)=>{const r=d.none();E3(t,e,o,n,s,r)},E3=(t,e,o,n,s,r)=>{const a=on("placement.info",gt(FA),s),c=a.anchor,i=n.element,u=o.get(n.uid);Ap(()=>{wt(i,"position","fixed");const m=S(i,"visibility");wt(i,"visibility","hidden");const g=e.useFixed()?IA():VA(t);c.placement(t,c,g).each(p=>{const v=r.orThunk(()=>e.getBounds.map(Xn)),y=LA(g,p,v,n,u,a.transition);o.set(n.uid,y)}),m.fold(()=>{W(i,"visibility")},p=>{wt(i,"visibility",p)}),S(i,"left").isNone()&&S(i,"top").isNone()&&S(i,"right").isNone()&&S(i,"bottom").isNone()&&hn(S(i,"position"),"fixed")&&W(i,"position")},i)};var RA=Object.freeze({__proto__:null,position:BA,positionWithinBounds:E3,getMode:(t,e,o)=>e.useFixed()?"fixed":"absolute",reset:(t,e,o,n)=>{const s=n.element;it(["position","left","right","top","bottom"],r=>W(s,r)),DT(s),o.clear(n.uid)}}),zA=Object.freeze({__proto__:null,init:()=>{let t={};return Pn({readState:()=>t,clear:s=>{xe(s)?delete t[s]:t={}},set:(s,r)=>{t[s]=r},get:s=>dt(t,s)})}});const Do=ho({fields:$A,name:"positioning",active:zE,apis:RA,state:zA}),PA=(t,e)=>e.universal?t:oe(t,o=>fe(e.channels,o));var ZA=Object.freeze({__proto__:null,events:t=>ue([I(Dc(),(e,o)=>{const n=t.channels,s=Te(n),r=o,a=PA(s,r);it(a,c=>{const i=n[c],u=i.schema,m=on("channel["+c+`] data
Receiver: `+$a(e.element),u,r.data);i.onReceive(e,m)})})])}),NA=[Bn("channels",Mv(Mt.value,Ln([Fc("onReceive"),A("schema",vs())])))];const Tn=ho({fields:NA,name:"receiving",active:ZA});var UA=Object.freeze({__proto__:null,events:(t,e)=>{const o=(n,s)=>{t.updateState.each(r=>{const a=r(n,s);e.set(a)}),t.renderComponents.each(r=>{const a=r(s,e.get());(t.reuseDom?w4:S4)(n,a)})};return ue([I(Dc(),(n,s)=>{const r=s;if(!r.universal){const a=t.channel;fe(r.channels,a)&&o(n,r.data)}}),ie((n,s)=>{t.initialData.each(r=>{o(n,r)})})])}}),WA=Object.freeze({__proto__:null,getState:(t,e,o)=>o}),GA=[B("channel"),Wt("renderComponents"),Wt("updateState"),Wt("initialData"),ko("reuseDom",!0)],jA=Object.freeze({__proto__:null,init:()=>{const t=st(d.none()),e=()=>t.set(d.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:e}}});const _n=ho({fields:GA,name:"reflecting",active:UA,apis:WA,state:jA}),A3=(t,e,o,n)=>{o.get().each(a=>{f4(t)});const s=e.getAttachPoint(t);Rc(s,t);const r=t.getSystem().build(n);return Rc(t,r),o.set(r),r},D3=(t,e,o,n)=>{const s=A3(t,e,o,n);return e.onOpen(t,s),s},YA=(t,e,o,n)=>o.get().map(()=>A3(t,e,o,n)),XA=(t,e,o,n,s)=>{F3(t,e),D3(t,e,o,n),s(),I3(t,e)},H3=(t,e,o)=>{o.get().each(n=>{f4(t),ea(t),e.onClose(t,n),o.clear()})},$3=(t,e,o)=>o.isOpen(),KA=(t,e,o,n)=>$3(t,e,o)&&o.get().exists(s=>e.isPartOf(t,s,n)),qA=(t,e,o)=>o.get(),JA=(t,e,o,n)=>{S(t.element,e).fold(()=>{Se(t.element,o)},s=>{pt(t.element,o,s)}),wt(t.element,e,n)},QA=(t,e,o)=>{Ye(t.element,o).fold(()=>W(t.element,e),n=>wt(t.element,e,n))},F3=(t,e,o)=>{const n=e.getAttachPoint(t);wt(t.element,"position",Do.getMode(n)),JA(t,"visibility",e.cloakVisibilityAttr,"hidden")},tD=t=>fo(["top","left","right","bottom"],e=>S(t,e).isSome()),I3=(t,e,o)=>{tD(t.element)||W(t.element,"position"),QA(t,"visibility",e.cloakVisibilityAttr)};var eD=Object.freeze({__proto__:null,cloak:F3,decloak:I3,open:D3,openWhileCloaked:XA,close:H3,isOpen:$3,isPartOf:KA,getState:qA,setContent:YA}),oD=Object.freeze({__proto__:null,events:(t,e)=>ue([I(_1(),(o,n)=>{H3(o,t,e)})])}),nD=[Bt("onOpen"),Bt("onClose"),B("isPartOf"),B("getAttachPoint"),A("cloakVisibilityAttr","data-precloak-visibility")],sD=Object.freeze({__proto__:null,init:()=>{const t=Kt(),e=E("not-implemented");return Pn({readState:e,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Rt=ho({fields:nD,name:"sandboxing",active:oD,apis:eD,state:sD}),Au=(t,e)=>e.getAnimationRoot.fold(()=>t.element,o=>o(t)),na=t=>t.dimension.property,Nc=(t,e)=>t.dimension.getDimension(e),gm=(t,e)=>{const o=Au(t,e);fs(o,[e.shrinkingClass,e.growingClass])},n0=(t,e)=>{Ee(t.element,e.openClass),Fe(t.element,e.closedClass),wt(t.element,na(e),"0px"),Ct(t.element)},s0=(t,e)=>{Ee(t.element,e.closedClass),Fe(t.element,e.openClass),W(t.element,na(e))},V3=(t,e,o,n)=>{o.setCollapsed(),wt(t.element,na(e),Nc(e,t.element)),gm(t,e),n0(t,e),e.onStartShrink(t),e.onShrunk(t)},rD=(t,e,o,n)=>{const s=n.getOrThunk(()=>Nc(e,t.element));o.setCollapsed(),wt(t.element,na(e),s),Ct(t.element);const r=Au(t,e);Ee(r,e.growingClass),Fe(r,e.shrinkingClass),n0(t,e),e.onStartShrink(t)},L3=(t,e,o)=>{const n=Nc(e,t.element);(n==="0px"?V3:rD)(t,e,o,d.some(n))},B3=(t,e,o)=>{const n=Au(t,e),s=en(n,e.shrinkingClass),r=Nc(e,t.element);s0(t,e);const a=Nc(e,t.element);(s?()=>{wt(t.element,na(e),r),Ct(t.element)}:()=>{n0(t,e)})(),Ee(n,e.shrinkingClass),Fe(n,e.growingClass),s0(t,e),wt(t.element,na(e),a),o.setExpanded(),e.onStartGrow(t)},aD=(t,e,o)=>{if(o.isExpanded()){W(t.element,na(e));const n=Nc(e,t.element);wt(t.element,na(e),n)}},cD=(t,e,o)=>{o.isExpanded()||B3(t,e,o)},iD=(t,e,o)=>{o.isExpanded()&&L3(t,e,o)},lD=(t,e,o)=>{o.isExpanded()&&V3(t,e,o)},uD=(t,e,o)=>o.isExpanded(),dD=(t,e,o)=>o.isCollapsed(),R3=(t,e,o)=>{const n=Au(t,e);return en(n,e.growingClass)===!0},z3=(t,e,o)=>{const n=Au(t,e);return en(n,e.shrinkingClass)===!0};var mD=Object.freeze({__proto__:null,refresh:aD,grow:cD,shrink:iD,immediateShrink:lD,hasGrown:uD,hasShrunk:dD,isGrowing:R3,isShrinking:z3,isTransitioning:(t,e,o)=>R3(t,e)||z3(t,e),toggleGrow:(t,e,o)=>{(o.isExpanded()?L3:B3)(t,e,o)},disableTransitions:gm,immediateGrow:(t,e,o)=>{o.isExpanded()||(s0(t,e),wt(t.element,na(e),Nc(e,t.element)),gm(t,e),o.setExpanded(),e.onStartGrow(t),e.onGrown(t))}}),hD=Object.freeze({__proto__:null,exhibit:(t,e,o)=>{const n=e.expanded;return _s(n?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:kc(e.dimension.property,"0px")})},events:(t,e)=>ue([qi(pu(),(o,n)=>{n.event.raw.propertyName===t.dimension.property&&(gm(o,t),e.isExpanded()&&W(o.element,t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(o))})])}),gD=[B("closedClass"),B("openClass"),B("shrinkingClass"),B("growingClass"),Wt("getAnimationRoot"),Bt("onShrunk"),Bt("onStartShrink"),Bt("onGrown"),Bt("onStartGrow"),A("expanded",!1),Bn("dimension",nn("property",{width:[ge("property","width"),ge("getDimension",t=>yn(t)+"px")],height:[ge("property","height"),ge("getDimension",t=>Ht(t)+"px")]}))],pD=Object.freeze({__proto__:null,init:t=>{const e=st(t.expanded),o=()=>"expanded: "+e.get();return Pn({isExpanded:()=>e.get()===!0,isCollapsed:()=>e.get()===!1,setCollapsed:so(e.set,!1),setExpanded:so(e.set,!0),readState:o})}});const sn=ho({fields:gD,name:"sliding",active:hD,apis:mD,state:pD});var fD=Object.freeze({__proto__:null,events:(t,e)=>{const n=t.stream.streams.setup(t,e);return ue([I(t.event,n),Qs(()=>e.cancel())].concat(t.cancelEvent.map(s=>[I(s,()=>e.cancel())]).getOr([])))}});const P3=t=>{const e=st(null);return Pn({readState:()=>({timer:e.get()!==null?"set":"unset"}),setTimer:r=>{e.set(r)},cancel:()=>{const r=e.get();r!==null&&r.cancel()}})};var vD=Object.freeze({__proto__:null,throttle:P3,init:t=>t.stream.streams.state(t)});const bD=(t,e)=>{const o=t.stream,n=pc(t.onStream,o.delay);return e.setTimer(n),(s,r)=>{n.throttle(s,r),o.stopEvent&&r.stop()}};var yD=[Bn("stream",nn("mode",{throttle:[B("delay"),A("stopEvent",!0),ge("streams",{setup:bD,state:P3})]})),A("event","input"),Wt("cancelEvent"),Fc("onStream")];const r0=ho({fields:yD,name:"streaming",active:fD,state:vD});var xD=Object.freeze({__proto__:null,exhibit:(t,e)=>_s({attributes:Wi([{key:e.tabAttr,value:"true"}])})}),SD=[A("tabAttr","data-alloy-tabstop")];const ee=ho({fields:SD,name:"tabstopping",active:xD}),wD=(t,e,o)=>{const n=e.aria;n.update(t,n,o.get())},CD=(t,e,o)=>{e.toggleClass.each(n=>{o.get()?Fe(t.element,n):Ee(t.element,n)})},Du=(t,e,o,n)=>{const s=o.get();o.set(n),CD(t,e,o),wD(t,e,o),s!==n&&e.onToggled(t,n)},Z3=(t,e,o)=>{Du(t,e,o,!o.get())},TD=(t,e,o)=>{Du(t,e,o,!0)},_D=(t,e,o)=>{Du(t,e,o,!1)},MD=(t,e,o)=>o.get(),N3=(t,e,o)=>{Du(t,e,o,e.selected)};var OD=Object.freeze({__proto__:null,onLoad:N3,toggle:Z3,isOn:MD,on:TD,off:_D,set:Du}),kD=Object.freeze({__proto__:null,exhibit:()=>_s({}),events:(t,e)=>{const o=YT(t,e,Z3),n=xp(t,e,N3);return ue(Le([t.toggleOnExecute?[o]:[],[n]]))}});const ED=(t,e,o)=>{pt(t.element,"aria-pressed",o),e.syncWithExpanded&&U3(t,e,o)},AD=(t,e,o)=>{pt(t.element,"aria-selected",o)},DD=(t,e,o)=>{pt(t.element,"aria-checked",o)},U3=(t,e,o)=>{pt(t.element,"aria-expanded",o)};var HD=[A("selected",!1),Wt("toggleClass"),A("toggleOnExecute",!0),Bt("onToggled"),ts("aria",{mode:"none"},nn("mode",{pressed:[A("syncWithExpanded",!1),ge("update",ED)],checked:[ge("update",DD)],expanded:[ge("update",U3)],selected:[ge("update",AD)],none:[ge("update",N)]}))];const _t=ho({fields:HD,name:"toggling",active:kD,apis:OD,state:n_(!1)}),W3=K("tooltip.exclusive"),Hu=K("tooltip.show"),$u=K("tooltip.hide"),Fu=K("tooltip.immediateHide"),Iu=K("tooltip.immediateShow"),G3=(t,e,o)=>{t.getSystem().broadcastOn([W3],{})};var $D=Object.freeze({__proto__:null,hideAllExclusive:G3,immediateOpenClose:(t,e,o,n)=>Dt(t,n?Iu:Fu),isEnabled:(t,e,o)=>o.isEnabled(),setComponents:(t,e,o,n)=>{o.getTooltip().each(s=>{s.getSystem().isConnected()&&vt.set(s,n)})},setEnabled:(t,e,o,n)=>o.setEnabled(n)}),FD=Object.freeze({__proto__:null,events:(t,e)=>{const o=a=>{e.getTooltip().each(c=>{c.getSystem().isConnected()&&(ea(c),t.onHide(a,c),e.clearTooltip())}),e.clearTimer()},n=a=>{if(!e.isShowing()&&e.isEnabled()){G3(a);const c=t.lazySink(a).getOrDie(),i=a.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ue(t.mode==="normal"?[I(_r(),u=>{Dt(a,Hu)}),I(T1(),u=>{Dt(a,$u)})]:[]),behaviours:P([vt.config({})])});e.setTooltip(i),Rc(c,i),t.onShow(a,i),Do.position(c,i,{anchor:t.anchor(a)})}},s=a=>{e.getTooltip().each(c=>{const i=t.lazySink(a).getOrDie();Do.position(i,c,{anchor:t.anchor(a)})})},r=()=>{switch(t.mode){case"normal":return[I(Ss(),a=>{Dt(a,Iu)}),I(fu(),a=>{Dt(a,Fu)}),I(_r(),a=>{Dt(a,Hu)}),I(T1(),a=>{Dt(a,$u)})];case"follow-highlight":return[I(Ig(),(a,c)=>{Dt(a,Hu)}),I(Vg(),a=>{Dt(a,$u)})];case"children-normal":return[I(Ss(),(a,c)=>{bo(a.element).each(i=>{Ca(c.event.target,"[data-mce-tooltip]")&&e.getTooltip().fold(()=>{Dt(a,Iu)},u=>{e.isShowing()&&(t.onShow(a,u),s(a))})})}),I(fu(),a=>{bo(a.element).fold(()=>{Dt(a,Fu)},N)}),I(_r(),a=>{te(a.element,"[data-mce-tooltip]:hover").each(c=>{e.getTooltip().fold(()=>{Dt(a,Hu)},i=>{e.isShowing()&&(t.onShow(a,i),s(a))})})}),I(T1(),a=>{te(a.element,"[data-mce-tooltip]:hover").fold(()=>{Dt(a,$u)},N)})];default:return[I(Ss(),(a,c)=>{bo(a.element).each(i=>{Ca(c.event.target,"[data-mce-tooltip]")&&e.getTooltip().fold(()=>{Dt(a,Iu)},u=>{e.isShowing()&&(t.onShow(a,u),s(a))})})}),I(fu(),a=>{bo(a.element).fold(()=>{Dt(a,Fu)},N)})]}};return ue(Le([[_b(a=>{t.onSetup(a)}),I(Hu,a=>{e.resetTimer(()=>{n(a)},t.delayForShow())}),I($u,a=>{e.resetTimer(()=>{o(a)},t.delayForHide())}),I(Iu,a=>{e.resetTimer(()=>{n(a)},0)}),I(Fu,a=>{e.resetTimer(()=>{o(a)},0)}),I(Dc(),(a,c)=>{const i=c;i.universal||fe(i.channels,W3)&&o(a)}),Qs(a=>{o(a)})],r()]))}}),ID=[B("lazySink"),B("tooltipDom"),A("exclusive",!0),A("tooltipComponents",[]),ce("delayForShow",E(300)),ce("delayForHide",E(100)),ce("onSetup",N),Xs("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),A("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:E([qe,ro,Xe,Co,Ke,To]),onRtl:E([qe,ro,Xe,Co,Ke,To])},bubble:Cs(0,-2,{})})),Bt("onHide"),Bt("onShow")],VD=Object.freeze({__proto__:null,init:()=>{const t=st(!0),e=Kt(),o=Kt(),n=()=>{e.on(clearTimeout)},s=(a,c)=>{n(),e.set(setTimeout(a,c))},r=E("not-implemented");return Pn({getTooltip:o.get,isShowing:o.isSet,setTooltip:o.set,clearTooltip:o.clear,clearTimer:n,resetTimer:s,readState:r,isEnabled:()=>t.get(),setEnabled:a=>t.set(a)})}});const me=ho({fields:ID,name:"tooltipping",active:FD,state:VD,apis:$D});var LD=Object.freeze({__proto__:null,events:()=>ue([Tb(PC(),ye)]),exhibit:()=>_s({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Vu=ho({fields:[],name:"unselecting",active:LD}),BD=t=>{const e=t.dom.attributes!==void 0?t.dom.attributes:[];return Ne(e,(o,n)=>n.name==="class"?o:{...o,[n.name]:n.value},{})},RD=t=>Array.prototype.slice.call(t.dom.classList,0),sa=t=>{const e=j.fromHtml(t),o=Io(e),n=BD(e),s=RD(e),r=o.length===0?{}:{innerHtml:au(e)};return{tag:Gs(e),classes:s,attributes:n,...r}},Ut=t=>{const e=qk(t)&&_o(t,"uid")?t.uid:el("memento");return{get:r=>r.getSystem().getByUid(e).getOrDie(),getOpt:r=>r.getSystem().getByUid(e).toOptional(),asSpec:()=>({...t,uid:e})}},no=ST,Er=bT,ra=E("dismiss.popups"),Pa=E("reposition.popups"),a0=E("mouse.released"),zD=(t,e)=>{const o=st(!1),n=st(!1);return{stop:()=>{o.set(!0)},cut:()=>{n.set(!0)},isStopped:o.get,isCut:n.get,event:t,setSource:e.set,getSource:e.get}},PD=t=>{const e=st(!1);return{stop:()=>{e.set(!0)},cut:N,isStopped:e.get,isCut:Qt,event:t,setSource:io("Cannot set source of a broadcasted event"),getSource:io("Cannot get source of a broadcasted event")}},ZD=t=>t.raw.which===c_[0]&&!fe(["input","textarea"],Gs(t.target))&&!lu(t.target,'[contenteditable="true"]'),ND=(t,e)=>{const o={stopBackspace:!0,...e},n=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],s=rT(o),r=Y(n.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),v=>vo(t,v,y=>{s.fireIfReady(y,v).each(T=>{T&&y.kill()}),o.triggerEvent(v,y)&&y.kill()})),a=Kt(),c=vo(t,"paste",v=>{s.fireIfReady(v,"paste").each(w=>{w&&v.kill()}),o.triggerEvent("paste",v)&&v.kill(),a.set(setTimeout(()=>{o.triggerEvent(Dg(),v)},0))}),i=vo(t,"keydown",v=>{o.triggerEvent("keydown",v)?v.kill():o.stopBackspace&&ZD(v)&&v.prevent()}),u=vo(t,"focusin",v=>{o.triggerEvent("focusin",v)&&v.kill()}),m=Kt(),g=vo(t,"focusout",v=>{o.triggerEvent("focusout",v)&&v.kill(),m.set(setTimeout(()=>{o.triggerEvent(fu(),v)},0))});return{unbind:()=>{it(r,v=>{v.unbind()}),i.unbind(),u.unbind(),g.unbind(),c.unbind(),a.on(clearTimeout),m.on(clearTimeout)}}},j3=(t,e)=>{const o=dt(t,"target").getOr(e);return st(o)},Lu=Ko.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),Y3=(t,e,o,n,s,r)=>{const a=t(e,n),c=zD(o,s);return a.fold(()=>(r.logEventNoHandlers(e,n),Lu.complete()),i=>{const u=i.descHandler;return $p(u)(c),c.isStopped()?(r.logEventStopped(e,i.element,u.purpose),Lu.stopped()):c.isCut()?(r.logEventCut(e,i.element,u.purpose),Lu.complete()):Fo(i.element).fold(()=>(r.logNoParent(e,i.element,u.purpose),Lu.complete()),g=>(r.logEventResponse(e,i.element,u.purpose),Lu.resume(g)))})},X3=(t,e,o,n,s,r)=>Y3(t,e,o,n,s,r).fold(ye,a=>X3(t,e,o,a,s,r),Qt),UD=(t,e,o,n,s)=>{const r=j3(o,n);return Y3(t,e,o,n,r,s)},WD=(t,e,o)=>{const n=PD(e);return it(t,s=>{const r=s.descHandler;$p(r)(n)}),n.isStopped()},GD=(t,e,o,n)=>K3(t,e,o,o.target,n),K3=(t,e,o,n,s)=>{const r=j3(o,n);return X3(t,e,o,n,r,s)},jD=(t,e)=>({element:t,descHandler:e}),YD=(t,e)=>({id:t,descHandler:e}),XD=()=>{const t={},e=(a,c,i)=>{Ue(i,(u,m)=>{const g=t[m]!==void 0?t[m]:{};g[c]=bO(u,a),t[m]=g})},o=(a,c)=>Eu(c).bind(i=>dt(a,i)).map(i=>jD(c,i));return{registerId:e,unregisterId:a=>{Ue(t,(c,i)=>{Lt(c,a)&&delete c[a]})},filterByType:a=>dt(t,a).map(c=>hr(c,(i,u)=>YD(u,i))).getOr([]),find:(a,c,i)=>dt(t,c).bind(u=>m1(i,m=>o(u,m),a))}},KD=()=>{const t=XD(),e={},o=u=>{const m=u.element;return Eu(m).getOrThunk(()=>iO("uid-",u.element))},n=(u,m)=>{const g=e[m];if(g===u)r(u);else throw new Error('The tagId "'+m+'" is already used by: '+$a(g.element)+`
Cannot use it for: `+$a(u.element)+`
The conflicting element is`+(vn(g.element)?" ":" not ")+"already in the DOM")},s=u=>{const m=o(u);_o(e,m)&&n(u,m);const g=[u];t.registerId(g,m,u.events),e[m]=u},r=u=>{Eu(u.element).each(m=>{delete e[m],t.unregisterId(m)})};return{find:(u,m,g)=>t.find(u,m,g),filter:u=>t.filterByType(u),register:s,unregister:r,getById:u=>dt(e,u)}},c0=t=>{const e=x=>Fo(t.element).fold(ye,M=>qt(x,M)),o=KD(),n=(x,M)=>o.find(e,x,M),s=ND(t.element,{triggerEvent:(x,M)=>Bg(x,M.target,O=>GD(n,x,M,O))}),r={debugInfo:E("real"),triggerEvent:(x,M,O)=>{Bg(x,M,D=>K3(n,x,O,M,D))},triggerFocus:(x,M)=>{Eu(x).fold(()=>{Ge(x)},O=>{Bg(Ha(),x,D=>(UD(n,Ha(),{originator:M,kill:N,prevent:N,target:x},x,D),!1))})},triggerEscape:(x,M)=>{r.triggerEvent("keydown",x.element,M.event)},getByUid:x=>w(x),getByDom:x=>T(x),build:Ao,buildOrPatch:Fp,addToGui:x=>{i(x)},removeFromGui:x=>{u(x)},addToWorld:x=>{a(x)},removeFromWorld:x=>{c(x)},broadcast:x=>{p(x)},broadcastOn:(x,M)=>{v(x,M)},broadcastEvent:(x,M)=>{y(x,M)},isConnected:ye},a=x=>{x.connect(r),Ur(x.element)||(o.register(x),it(x.components(),a),r.triggerEvent(M1(),x.element,{target:x.element}))},c=x=>{Ur(x.element)||(it(x.components(),c),o.unregister(x)),x.disconnect()},i=x=>{Rc(t,x)},u=x=>{ea(x)},m=()=>{s.unbind(),gs(t.element)},g=x=>{const M=o.filter(Dc());it(M,O=>{const D=O.descHandler;$p(D)(x)})},p=x=>{g({universal:!0,data:x})},v=(x,M)=>{g({universal:!1,channels:x,data:M})},y=(x,M)=>{const O=o.filter(x);return WD(O,M)},w=x=>o.getById(x).fold(()=>Mt.error(new Error('Could not find component with uid: "'+x+'" in system.')),Mt.value),T=x=>{const M=Eu(x).getOr("not found");return w(M)};return a(t),{root:t,element:t.element,destroy:m,add:i,remove:u,getByUid:w,getByDom:T,addToWorld:a,removeFromWorld:c,broadcast:p,broadcastOn:v,broadcastEvent:y}},q3=()=>{const t=(e,o)=>{o.stop(),Ic(e)};return[I(Ac(),t),I(bu(),t),Vc(Kr()),Vc(Rn())]},pm=t=>{const e=o=>Qr((n,s)=>{o(n),s.stop()});return ue(Le([t.map(e).toArray(),q3()]))},po=Nn({name:"Button",factory:t=>{const e=pm(t.action),o=t.dom.tag,n=r=>dt(t.dom,"attributes").bind(a=>dt(a,r)),s=()=>{if(o==="button"){const r=n("type").getOr("button"),a=n("role").map(c=>({role:c})).getOr({});return{type:r,...a}}else return{role:t.role.getOr(n("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Os.augment(t.buttonBehaviours,[mt.config({}),ot.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s()},eventOrder:t.eventOrder}},configFields:[A("uid",void 0),B("dom"),A("components",[]),Os.field("buttonBehaviours",[mt,ot]),Wt("action"),Wt("role"),A("eventOrder",{})]}),qD=E([A("shell",!1),B("makeItem"),A("setupItem",N),Os.field("listBehaviours",[vt])]),JD=es({name:"items",overrides:()=>({behaviours:P([vt.config({})])})}),QD=E([JD]),tH=E("CustomList"),eH=(t,e,o,n)=>{const s=(c,i)=>{a(c).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},u=>{const m=vt.contents(u),g=i.length,p=g-m.length,v=p>0?Kn(p,()=>t.makeItem()):[],y=m.slice(g);it(y,T=>vt.remove(u,T)),it(v,T=>vt.append(u,T));const w=vt.contents(u);it(w,(T,x)=>{t.setupItem(c,T,i[x],x)})})},r=t.shell?{behaviours:[vt.config({})],components:[]}:{behaviours:[],components:e},a=c=>t.shell?d.some(c):ne(c,t,"items");return{uid:t.uid,dom:t.dom,components:r.components,behaviours:go(t.listBehaviours,r.behaviours),apis:{setItems:s}}},J3=Lo({name:tH(),configFields:qD(),partFields:QD(),factory:eH,apis:{setItems:(t,e,o)=>{t.setItems(e,o)}}}),Bu="aria-controls",oH=t=>ev(t,o=>{if(!Jo(o))return!1;const n=je(o,"id");return n!==void 0&&n.indexOf(Bu)>-1}).bind(o=>{const n=je(o,"id"),s=Oo(o);return te(s,`[${Bu}="${n}"]`)}),Q3=()=>{const t=K(Bu);return{id:t,link:n=>{pt(n,Bu,t)},unlink:n=>{Se(n,Bu)}}},nH=(t,e)=>oH(e).exists(o=>Uc(t,o)),Uc=(t,e)=>iv(e,o=>qt(o,t.element),Qt)||nH(t,e),ty="alloy.item-hover",ey="alloy.item-focus",oy="alloy.item-toggled",ny=t=>{(bo(t.element).isNone()||mt.isFocused(t))&&(mt.isFocused(t)||mt.focus(t),ct(t,ty,{item:t}))},sy=t=>{ct(t,ey,{item:t})},sH=(t,e)=>{ct(t,oy,{item:t,state:e})},ry=E(ty),rH=E(ey),aH=E(oy),cH=t=>t.role.fold(()=>t.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ft),iH=(t,e)=>({aria:{mode:e?"selected":"checked"},...rc(t,(o,n)=>n!=="exclusive"),onToggled:(o,n)=>{$o(t.onToggled)&&t.onToggled(o,n),sH(o,n)}}),lH=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:cH(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Os.augment(t.itemBehaviours,[t.toggling.fold(_t.revoke,e=>_t.config(iH(e,t.role.exists(o=>o==="option")))),mt.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:e=>{sy(e)}}),ot.config({mode:"execution"}),q.config({store:{mode:"memory",initialValue:t.data}}),ft("item-type-events",[...q3(),I(_r(),ny),I(vu(),mt.focus)])]),components:t.components,eventOrder:t.eventOrder});var uH=[B("data"),B("components"),B("dom"),A("hasSubmenu",!1),Wt("toggling"),Wt("role"),Os.field("itemBehaviours",[_t,mt,ot,q]),A("ignoreFocus",!1),A("domModification",{}),ge("builder",lH),A("eventOrder",{})];const dH=t=>({dom:t.dom,components:t.components,events:ue([GT(vu())])});var mH=[B("dom"),B("components"),ge("builder",dH)];const i0=E("item-widget"),l0=E([Eo({name:"widget",overrides:t=>({behaviours:P([q.config({store:{mode:"manual",getValue:e=>t.data,setValue:N}})])})})]),hH=t=>{const e=Kg(i0(),t,l0()),o=qg(i0(),t,e.internals()),n=r=>ne(r,t,"widget").map(a=>(ot.focusIn(a),a)),s=(r,a)=>Qi(a.event.target)?d.none():(t.autofocus&&a.setSource(r.element),d.none());return{dom:t.dom,components:o,domModification:t.domModification,events:ue([Qr((r,a)=>{n(r).each(c=>{a.stop()})}),I(_r(),ny),I(vu(),(r,a)=>{t.autofocus?n(r):mt.focus(r)})]),behaviours:Os.augment(t.widgetBehaviours,[q.config({store:{mode:"memory",initialValue:t.data}}),mt.config({ignore:t.ignoreFocus,onFocus:r=>{sy(r)}}),ot.config({mode:"special",focusIn:t.autofocus?r=>{n(r)}:e_(),onLeft:s,onRight:s,onEscape:(r,a)=>!mt.isFocused(r)&&!t.autofocus?(mt.focus(r),d.some(!0)):(t.autofocus&&a.setSource(r.element),d.none())})])}};var gH=[B("uid"),B("data"),B("components"),B("dom"),A("autofocus",!1),A("ignoreFocus",!1),Os.field("widgetBehaviours",[q,mt,ot]),A("domModification",{}),Qg(l0()),ge("builder",hH)];const pH=nn("type",{widget:gH,item:uH,separator:mH}),fH=(t,e)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}),vH=(t,e)=>({mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},previousSelector:e.previousSelector,focusManager:t.focusManager}),bH=(t,e)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}),yH=E([L1({factory:{sketch:t=>{const e=on("menu.spec item",pH,t);return e.builder(e)}},name:"items",unit:"item",defaults:(t,e)=>Lt(e,"uid")?e:{...e,uid:el("item")},overrides:(t,e)=>({type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),xH=E([Re("role"),B("value"),B("items"),B("dom"),B("components"),A("eventOrder",{}),ao("menuBehaviours",[Gt,q,$t,ot]),ts("movement",{mode:"menu",moveOnTab:!0},nn("mode",{grid:[Pv(),ge("config",fH)],matrix:[ge("config",vH),B("rowSelector"),A("previousSelector",d.none)],menu:[A("moveOnTab",!0),ge("config",bH)]})),tT(),A("fakeFocus",!1),A("focusManager",wp()),Bt("onHighlight"),Bt("onDehighlight"),A("showMenuRole",!0)]),ay=E("alloy.menu-focus"),SH=(t,e)=>{const o=Wo(t.element,'[role="menuitemradio"][aria-checked="true"]');it(o,n=>{qt(n,e.element)||t.getSystem().getByDom(n).each(s=>{_t.off(s)})})},wH=(t,e,o,n)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:go(t.menuBehaviours,[Gt.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),q.config({store:{mode:"memory",initialValue:t.value}}),$t.config({find:d.some}),ot.config(t.movement.config(t,t.movement))]),events:ue([I(rH(),(s,r)=>{const a=r.event;s.getSystem().getByDom(a.target).each(c=>{Gt.highlight(s,c),r.stop(),ct(s,ay(),{menu:s,item:c})})}),I(ry(),(s,r)=>{const a=r.event.item;Gt.highlight(s,a)}),I(aH(),(s,r)=>{const{item:a,state:c}=r.event;c&&je(a.element,"role")==="menuitemradio"&&SH(s,a)})]),components:e,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),aa=Lo({name:"Menu",configFields:xH(),partFields:yH(),factory:wH}),CH=t=>Vr(t,(e,o)=>({k:e,v:o})),cy=(t,e,o,n)=>dt(o,n).bind(s=>dt(t,s).bind(r=>{const a=cy(t,e,o,r);return d.some([r].concat(a))})).getOr([]),TH=(t,e)=>{const o={};Ue(t,(a,c)=>{it(a,i=>{o[i]=c})});const n=e,s=CH(e),r=He(s,(a,c)=>[c].concat(cy(o,n,s,c)));return He(o,a=>dt(r,a).getOr([a]))},_H=()=>{const t=st({}),e=st({}),o=st({}),n=Kt(),s=st({}),r=()=>{t.set({}),e.set({}),o.set({}),n.clear()},a=()=>n.get().isNone(),c=($,G)=>{e.set({...e.get(),[$]:{type:"prepared",menu:G}})},i=($,G,R,F)=>{n.set($),t.set(R),e.set(G),s.set(F);const X=TH(F,R);o.set(X)},u=$=>Br(t.get(),(G,R)=>G===$),m=($,G,R)=>w($).bind(F=>u($).bind(X=>G(X).map(at=>({triggeredMenu:F,triggeringItem:at,triggeringPath:R})))),g=($,G)=>{const R=oe(x($).toArray(),F=>w(F).isSome());return dt(o.get(),$).bind(F=>{const X=dr(R.concat(F)),at=Be(X,(tt,Ot)=>m(tt,G,X.slice(0,Ot+1)).fold(()=>hn(n.get(),tt)?[]:[d.none()],ht=>[d.some(ht)]));return Rl(at)})},p=$=>dt(t.get(),$).map(G=>{const R=dt(o.get(),$).getOr([]);return[G].concat(R)}),v=$=>dt(o.get(),$).bind(G=>G.length>1?d.some(G.slice(1)):d.none()),y=$=>dt(o.get(),$),w=$=>T($).bind(iy),T=$=>dt(e.get(),$),x=$=>dt(t.get(),$);return{setMenuBuilt:c,setContents:i,expand:p,refresh:y,collapse:v,lookupMenu:T,lookupItem:x,otherMenus:$=>{const G=s.get();return Rs(Te(G),$)},getPrimary:()=>n.get().bind(w),getMenus:()=>e.get(),clear:r,isClear:a,getTriggeringPath:g}},iy=t=>t.type==="prepared"?d.some(t.menu):d.none(),ly={init:_H,extractPreparedMenu:iy},uy=K("tiered-menu-item-highlight"),dy=K("tiered-menu-item-dehighlight"),MH=(t,e)=>{const o=Kt(),n=(L,Z,lt)=>He(lt,(xt,nt)=>{const bt=()=>aa.sketch({...xt,value:nt,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Xt,jt)=>{ct(Xt,uy,{menuComp:Xt,itemComp:jt})},onDehighlight:(Xt,jt)=>{ct(Xt,dy,{menuComp:Xt,itemComp:jt})},focusManager:t.fakeFocus?M_():wp()});return nt===Z?{type:"prepared",menu:L.getSystem().build(bt())}:{type:"notbuilt",nbMenu:bt}}),s=ly.init(),r=L=>{const Z=n(L,t.data.primary,t.data.menus),lt=i();return s.setContents(t.data.primary,Z,t.data.expansions,lt),s.getPrimary()},a=L=>q.getValue(L).value,c=(L,Z,lt)=>Nt(Z,xt=>{if(!xt.getSystem().isConnected())return d.none();const nt=Gt.getCandidates(xt);return le(nt,bt=>a(bt)===lt)}),i=L=>He(t.data.menus,(Z,lt)=>Be(Z.items,xt=>xt.type==="separator"?[]:[xt.data.value])),u=Gt.highlight,m=(L,Z)=>{u(L,Z),Gt.getHighlighted(Z).orThunk(()=>Gt.getFirst(Z)).each(lt=>{t.fakeFocus?Gt.highlight(Z,lt):fp(L,lt.element,vu())})},g=(L,Z)=>Zs(Y(Z,lt=>L.lookupMenu(lt).bind(xt=>xt.type==="prepared"?d.some(xt.menu):d.none()))),p=(L,Z,lt)=>{const xt=g(Z,Z.otherMenus(lt));it(xt,nt=>{fs(nt.element,[t.markers.backgroundMenu]),t.stayInDom||vt.remove(L,nt)})},v=L=>o.get().getOrThunk(()=>{const Z={},lt=Wo(L.element,`.${t.markers.item}`),xt=oe(lt,nt=>je(nt,"aria-haspopup")==="true");return it(xt,nt=>{L.getSystem().getByDom(nt).each(bt=>{const Xt=a(bt);Z[Xt]=bt})}),o.set(Z),Z}),y=(L,Z)=>{const lt=v(L);Ue(lt,(xt,nt)=>{const bt=fe(Z,nt);pt(xt.element,"aria-expanded",bt)})},w=(L,Z,lt)=>d.from(lt[0]).bind(xt=>Z.lookupMenu(xt).bind(nt=>{if(nt.type==="notbuilt")return d.none();{const bt=nt.menu,Xt=g(Z,lt.slice(1));return it(Xt,jt=>{Fe(jt.element,t.markers.backgroundMenu)}),vn(bt.element)||vt.append(L,Zn(bt)),fs(bt.element,[t.markers.backgroundMenu]),m(L,bt),p(L,Z,lt),d.some(bt)}}));let T;(function(L){L[L.HighlightSubmenu=0]="HighlightSubmenu",L[L.HighlightParent=1]="HighlightParent"})(T||(T={}));const x=(L,Z,lt)=>{if(lt.type==="notbuilt"){const xt=L.getSystem().build(lt.nbMenu());return s.setMenuBuilt(Z,xt),xt}else return lt.menu},M=(L,Z,lt=T.HighlightSubmenu)=>{if(Z.hasConfigured(et)&&et.isDisabled(Z))return d.some(Z);{const xt=a(Z);return s.expand(xt).bind(nt=>(y(L,nt),d.from(nt[0]).bind(bt=>s.lookupMenu(bt).bind(Xt=>{const jt=x(L,bt,Xt);return vn(jt.element)||vt.append(L,Zn(jt)),t.onOpenSubmenu(L,Z,jt,dr(nt)),lt===T.HighlightSubmenu?(Gt.highlightFirst(jt),w(L,s,nt)):(Gt.dehighlightAll(jt),d.some(Z))}))))}},O=(L,Z)=>{const lt=a(Z);return s.collapse(lt).bind(xt=>(y(L,xt),w(L,s,xt).map(nt=>(t.onCollapseMenu(L,Z,nt),nt))))},D=(L,Z)=>{const lt=a(Z);return s.refresh(lt).bind(xt=>(y(L,xt),w(L,s,xt)))},$=(L,Z)=>Qi(Z.element)?d.none():M(L,Z,T.HighlightSubmenu),G=(L,Z)=>Qi(Z.element)?d.none():O(L,Z),R=(L,Z)=>O(L,Z).orThunk(()=>t.onEscape(L,Z).map(()=>L)),F=L=>(Z,lt)=>Cr(lt.getSource(),`.${t.markers.item}`).bind(xt=>Z.getSystem().getByDom(xt).toOptional().bind(nt=>L(Z,nt).map(ye))),X=ue([I(ay(),(L,Z)=>{const lt=Z.event.item;s.lookupItem(a(lt)).each(()=>{const xt=Z.event.menu;Gt.highlight(L,xt);const nt=a(Z.event.item);s.refresh(nt).each(bt=>p(L,s,bt))})}),Qr((L,Z)=>{const lt=Z.event.target;L.getSystem().getByDom(lt).each(xt=>{a(xt).indexOf("collapse-item")===0&&O(L,xt),M(L,xt,T.HighlightSubmenu).fold(()=>{t.onExecute(L,xt)},N)})}),ie((L,Z)=>{r(L).each(lt=>{vt.append(L,Zn(lt)),t.onOpenMenu(L,lt),t.highlightOnOpen===jo.HighlightMenuAndItem?m(L,lt):t.highlightOnOpen===jo.HighlightJustMenu&&u(L,lt)})}),I(uy,(L,Z)=>{t.onHighlightItem(L,Z.event.menuComp,Z.event.itemComp)}),I(dy,(L,Z)=>{t.onDehighlightItem(L,Z.event.menuComp,Z.event.itemComp)}),...t.navigateOnHover?[I(ry(),(L,Z)=>{const lt=Z.event.item;D(L,lt),M(L,lt,T.HighlightParent),t.onHover(L,lt)})]:[]]),at=L=>Gt.getHighlighted(L).bind(Gt.getHighlighted),tt=L=>{at(L).each(Z=>{O(L,Z)})},Ot=L=>{s.getPrimary().each(Z=>{m(L,Z)})},ht=L=>d.from(L.components()[0]).filter(Z=>je(Z.element,"role")==="menu"),Q={collapseMenu:tt,highlightPrimary:Ot,repositionMenus:L=>{s.getPrimary().bind(lt=>at(L).bind(xt=>{const nt=a(xt),bt=xa(s.getMenus()),Xt=Zs(Y(bt,ly.extractPreparedMenu));return s.getTriggeringPath(nt,jt=>c(L,Xt,jt))}).map(xt=>({primary:lt,triggeringPath:xt}))).fold(()=>{ht(L).each(lt=>{t.onRepositionMenu(L,lt,[])})},({primary:lt,triggeringPath:xt})=>{t.onRepositionMenu(L,lt,xt)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:go(t.tmenuBehaviours,[ot.config({mode:"special",onRight:F($),onLeft:F(G),onEscape:F(R),focusIn:(L,Z)=>{s.getPrimary().each(lt=>{fp(L,lt.element,vu())})}}),Gt.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),$t.config({find:L=>Gt.getHighlighted(L)}),vt.config({})]),eventOrder:t.eventOrder,apis:Q,events:X}},OH=E("collapse-item"),kH=(t,e,o)=>({primary:t,menus:e,expansions:o}),EH=(t,e)=>({primary:t,menus:kc(t,e),expansions:{}}),AH=t=>({value:K(OH()),meta:{text:t}}),Wc=Nn({name:"TieredMenu",configFields:[zg("onExecute"),zg("onEscape"),Fc("onOpenMenu"),Fc("onOpenSubmenu"),Bt("onRepositionMenu"),Bt("onCollapseMenu"),A("highlightOnOpen",jo.HighlightMenuAndItem),Yr("data",[B("primary"),B("menus"),B("expansions")]),A("fakeFocus",!1),Bt("onHighlightItem"),Bt("onDehighlightItem"),Bt("onHover"),k1(),B("dom"),A("navigateOnHover",!0),A("stayInDom",!1),ao("tmenuBehaviours",[ot,Gt,$t,vt]),A("eventOrder",{})],apis:{collapseMenu:(t,e)=>{t.collapseMenu(e)},highlightPrimary:(t,e)=>{t.highlightPrimary(e)},repositionMenus:(t,e)=>{t.repositionMenus(e)}},factory:MH,extraApis:{tieredData:kH,singleData:EH,collapseItem:AH}}),my=E("sink"),hy=E(es({name:my(),overrides:E({dom:{tag:"div"},behaviours:P([Do.config({useFixed:ye})]),events:ue([Vc(Ks()),Vc(Rn()),Vc(Ac())])})})),DH=Ln([A("isExtraPart",Qt),Sn("fireEventInstead",[A("event",Hc())])]),u0=t=>{const e=on("Dismissal",DH,t);return{[ra()]:{schema:Ln([B("target")]),onReceive:(o,n)=>{Rt.isOpen(o)&&(Rt.isPartOf(o,n.target)||e.isExtraPart(o,n.target)||e.fireEventInstead.fold(()=>Rt.close(o),r=>Dt(o,r.event)))}}}},HH=Ln([Sn("fireEventInstead",[A("event",Fv())]),xs("doReposition")]),d0=t=>{const e=on("Reposition",HH,t);return{[Pa()]:{onReceive:o=>{Rt.isOpen(o)&&e.fireEventInstead.fold(()=>e.doReposition(o),n=>Dt(o,n.event))}}}},gy=(t,e)=>{const o=t.getHotspot(e).getOr(e),n="hotspot",s=t.getAnchorOverrides();return t.layouts.fold(()=>({type:n,hotspot:o,overrides:s}),r=>({type:n,hotspot:o,overrides:s,layouts:r}))},$H=(t,e,o)=>{const n=t.fetch;return n(o).map(e)},FH=(t,e,o,n,s,r,a)=>{const c=$H(t,e,n),i=py(n,t);return c.map(u=>u.bind(m=>{const g=m.menus[m.primary];return d.from(g).each(p=>{t.listRole.each(v=>{p.role=v})}),d.from(Wc.sketch({...r.menu(),uid:el(""),data:m,highlightOnOpen:a,onOpenMenu:(p,v)=>{const y=i().getOrDie();Do.position(y,v,{anchor:o}),Rt.decloak(s)},onOpenSubmenu:(p,v,y)=>{const w=i().getOrDie();Do.position(w,y,{anchor:{type:"submenu",item:v}}),Rt.decloak(s)},onRepositionMenu:(p,v,y)=>{const w=i().getOrDie();Do.position(w,v,{anchor:o}),it(y,T=>{Do.position(w,T.triggeredMenu,{anchor:{type:"submenu",item:T.triggeringItem}})})},onEscape:()=>(mt.focus(n),Rt.close(s),d.some(!0))}))}))},fm=(t,e,o,n,s,r,a)=>{const c=gy(t,o);return FH(t,e,c,o,n,s,a).map(u=>(u.fold(()=>{Rt.isOpen(n)&&Rt.close(n)},m=>{Rt.cloak(n),Rt.open(n,m),r(n)}),n))},IH=(t,e,o,n,s,r,a)=>(Rt.close(n),_e.pure(n)),m0=(t,e,o,n,s,r)=>{const a=Ae.getCoupled(o,"sandbox");return(Rt.isOpen(a)?IH:fm)(t,e,o,a,n,s,r)},VH=(t,e,o)=>{const n=$t.getCurrent(e).getOr(e),s=yn(t.element);o?wt(n.element,"min-width",s+"px"):a7(n.element,s)},py=(t,e)=>t.getSystem().getByUid(e.uid+"-"+my()).map(o=>()=>Mt.value(o)).getOrThunk(()=>e.lazySink.fold(()=>()=>Mt.error(new Error("No internal sink is specified, nor could an external sink be found")),o=>()=>o(t))),fy=t=>{Rt.getState(t).each(e=>{Wc.repositionMenus(e)})},h0=(t,e,o)=>{const n=Q3(),s=(c,i)=>{const u=gy(t,e);n.link(e.element),t.matchWidth&&VH(u.hotspot,i,t.useMinWidth),t.onOpen(u,c,i),o!==void 0&&o.onOpen!==void 0&&o.onOpen(c,i)},r=(c,i)=>{n.unlink(e.element),a().getOr(i).element.dom.dispatchEvent(new window.FocusEvent("focusout")),o!==void 0&&o.onClose!==void 0&&o.onClose(c,i)},a=py(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:n.id}},behaviours:Os.augment(t.sandboxBehaviours,[q.config({store:{mode:"memory",initialValue:e}}),Rt.config({onOpen:s,onClose:r,isPartOf:(c,i,u)=>Uc(i,u)||Uc(e,u),getAttachPoint:()=>a().getOrDie()}),$t.config({find:c=>Rt.getState(c).bind(i=>$t.getCurrent(i))}),Tn.config({channels:{...u0({isExtraPart:Qt}),...d0({doReposition:fy})}})])}},vy=t=>{const e=Ae.getCoupled(t,"sandbox");fy(e)},g0=()=>[A("sandboxClasses",[]),Os.field("sandboxBehaviours",[$t,Tn,Rt,q])],LH=E([B("dom"),B("fetch"),Bt("onOpen"),wn("onExecute"),A("getHotspot",d.some),A("getAnchorOverrides",E({})),za(),ao("dropdownBehaviours",[_t,Ae,ot,mt]),B("toggleClass"),A("eventOrder",{}),Wt("lazySink"),A("matchWidth",!1),A("useMinWidth",!1),Wt("role"),Wt("listRole")].concat(g0())),BH=E([ws({schema:[k1(),A("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),hy()]),RH=(t,e,o,n)=>{const s=m=>dt(t.dom,"attributes").bind(g=>dt(g,m)),r=m=>{Rt.getState(m).each(g=>{Wc.highlightPrimary(g)})},a=(m,g,p)=>m0(t,Ft,m,n,g,p),c=m=>{a(m,r,jo.HighlightMenuAndItem).get(N)},i={expand:m=>{_t.isOn(m)||a(m,N,jo.HighlightNone).get(N)},open:m=>{_t.isOn(m)||a(m,N,jo.HighlightMenuAndItem).get(N)},refetch:m=>Ae.getExistingCoupled(m,"sandbox").fold(()=>a(m,N,jo.HighlightMenuAndItem).map(N),p=>fm(t,Ft,m,p,n,N,jo.HighlightMenuAndItem).map(N)),isOpen:_t.isOn,close:m=>{_t.isOn(m)&&a(m,N,jo.HighlightMenuAndItem).get(N)},repositionMenus:m=>{_t.isOn(m)&&vy(m)}},u=(m,g)=>(Ic(m),d.some(!0));return{uid:t.uid,dom:t.dom,components:e,behaviours:go(t.dropdownBehaviours,[_t.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ae.config({others:{sandbox:m=>h0(t,m,{onOpen:()=>_t.on(m),onClose:()=>_t.off(m)})}}),ot.config({mode:"special",onSpace:u,onEnter:u,onDown:(m,g)=>{if(Un.isOpen(m)){const p=Ae.getCoupled(m,"sandbox");r(p)}else Un.open(m);return d.some(!0)},onEscape:(m,g)=>Un.isOpen(m)?(Un.close(m),d.some(!0)):d.none()}),mt.config({})]),events:pm(d.some(c)),eventOrder:{...t.eventOrder,[zn()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),m=>({role:m})),...t.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}},Un=Lo({name:"Dropdown",configFields:LH(),partFields:BH(),factory:RH,apis:{open:(t,e)=>t.open(e),refetch:(t,e)=>t.refetch(e),expand:(t,e)=>t.expand(e),close:(t,e)=>t.close(e),isOpen:(t,e)=>t.isOpen(e),repositionMenus:(t,e)=>t.repositionMenus(e)}}),by="form",zH=[ao("formBehaviours",[q])],yy=t=>"<alloy.field."+t+">",PH=t=>{const e=(()=>{const r=[];return{field:(c,i)=>(r.push(c),Xg(by,yy(c),i)),record:E(r)}})(),o=t(e),n=e.record(),s=Y(n,r=>Eo({name:r,pname:yy(r)}));return Gp(by,zH,s,NH,o)},ZH=(t,e)=>t.fold(()=>Mt.error(e),Mt.value),NH=(t,e)=>({uid:t.uid,dom:t.dom,components:e,behaviours:go(t.formBehaviours,[q.config({store:{mode:"manual",getValue:o=>{const n=tb(o,t);return He(n,(s,r)=>s().bind(a=>{const c=$t.getCurrent(a);return ZH(c,new Error(`Cannot find a current component to extract the value from for form part '${r}': `+$a(a.element)))}).map(q.getValue))},setValue:(o,n)=>{Ue(n,(s,r)=>{ne(o,t,r).each(a=>{$t.getCurrent(a).each(c=>{q.setValue(c,s)})})})}}})]),apis:{getField:(o,n)=>ne(o,t,n).bind($t.getCurrent)}}),nl={getField:J1((t,e,o)=>t.getField(e,o)),sketch:PH},sl=E([B("dom"),A("shell",!0),ao("toolbarBehaviours",[vt])]),UH=E([es({name:"groups",overrides:()=>({behaviours:P([vt.config({})])})})]),WH=(t,e,o,n)=>{const s=(c,i)=>{r(c).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},u=>{vt.set(u,i)})},r=c=>t.shell?d.some(c):ne(c,t,"groups"),a=t.shell?{behaviours:[vt.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:go(t.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:N},domModification:{attributes:{role:"group"}}}},nr=Lo({name:"Toolbar",configFields:sl(),partFields:UH(),factory:WH,apis:{setGroups:(t,e,o)=>{t.setGroups(e,o)}}}),GH=E([$c(["toggledClass"]),B("lazySink"),xs("fetch"),Xr("getBounds"),Sn("fireDismissalEventInstead",[A("event",Hc())]),za(),Bt("onToggled")]),jH=E([ws({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:P([_t.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),ws({factory:nr,schema:sl(),name:"toolbar",overrides:t=>({toolbarBehaviours:P([ot.config({mode:"cyclic",onEscape:e=>(ne(e,t,"button").each(mt.focus),d.none())})])})})]),vm=Kt(),YH=(t,e)=>{vm.set(!0),p0(t,e),vm.clear()},p0=(t,e)=>{const o=Ae.getCoupled(t,"toolbarSandbox");Rt.isOpen(o)?Rt.close(o):Rt.open(o,e.toolbar())},f0=(t,e,o,n)=>{const s=o.getBounds.map(a=>a()),r=o.lazySink(t).getOrDie();Do.positionWithinBounds(r,e,{anchor:{type:"hotspot",hotspot:t,layouts:n,overrides:{maxWidthFunction:gp()}}},s)},xy=(t,e,o,n,s)=>{nr.setGroups(e,s),f0(t,e,o,n),_t.on(t)},XH=(t,e,o)=>{const n=Q3(),s=(a,c)=>{const i=vm.get().getOr(!1);o.fetch().get(u=>{xy(t,c,o,e.layouts,u),n.link(t.element),i||ot.focusIn(c)})},r=()=>{_t.off(t),vm.get().getOr(!1)||mt.focus(t),n.unlink(t.element)};return{dom:{tag:"div",attributes:{id:n.id}},behaviours:P([ot.config({mode:"special",onEscape:a=>(Rt.close(a),d.some(!0))}),Rt.config({onOpen:s,onClose:r,isPartOf:(a,c,i)=>Uc(c,i)||Uc(t,i),getAttachPoint:()=>o.lazySink(t).getOrDie()}),Tn.config({channels:{...u0({isExtraPart:Qt,...o.fireDismissalEventInstead.map(a=>({fireEventInstead:{event:a.event}})).getOr({})}),...d0({doReposition:()=>{Rt.getState(Ae.getCoupled(t,"toolbarSandbox")).each(a=>{f0(t,a,o,e.layouts)})}})}})])}},Za=Lo({name:"FloatingToolbarButton",factory:(t,e,o,n)=>({...po.sketch({...n.button(),action:s=>{p0(s,n)},buttonBehaviours:Os.augment({dump:n.button().buttonBehaviours},[Ae.config({others:{toolbarSandbox:s=>XH(s,o,t)}})])}),apis:{setGroups:(s,r)=>{Rt.getState(Ae.getCoupled(s,"toolbarSandbox")).each(a=>{xy(s,a,t,o.layouts,r)})},reposition:s=>{Rt.getState(Ae.getCoupled(s,"toolbarSandbox")).each(r=>{f0(s,r,t,o.layouts)})},toggle:s=>{p0(s,n)},toggleWithoutFocusing:s=>{YH(s,n)},getToolbar:s=>Rt.getState(Ae.getCoupled(s,"toolbarSandbox")),isOpen:s=>Rt.isOpen(Ae.getCoupled(s,"toolbarSandbox"))}}),configFields:GH(),partFields:jH(),apis:{setGroups:(t,e,o)=>{t.setGroups(e,o)},reposition:(t,e)=>{t.reposition(e)},toggle:(t,e)=>{t.toggle(e)},toggleWithoutFocusing:(t,e)=>{t.toggleWithoutFocusing(e)},getToolbar:(t,e)=>t.getToolbar(e),isOpen:(t,e)=>t.isOpen(e)}}),KH=E([A("prefix","form-field"),ao("fieldBehaviours",[$t,q])]),qH=E([es({schema:[B("dom")],name:"label"}),es({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[B("text")],name:"aria-descriptor"}),Eo({factory:{sketch:t=>{const e=FC(t,["factory"]);return t.factory.sketch(e)}},schema:[B("factory")],name:"field"})]),JH=(t,e,o,n)=>{const s=go(t.fieldBehaviours,[$t.config({find:c=>ne(c,t,"field")}),q.config({store:{mode:"manual",getValue:c=>$t.getCurrent(c).bind(q.getValue),setValue:(c,i)=>{$t.getCurrent(c).each(u=>{q.setValue(u,i)})}}})]),r=ue([ie((c,i)=>{const u=Qv(c,t,["label","field","aria-descriptor"]);u.field().each(m=>{const g=K(t.prefix);u.label().each(p=>{pt(p.element,"for",g),pt(m.element,"id",g)}),u["aria-descriptor"]().each(p=>{const v=K(t.prefix);pt(p.element,"id",v),pt(m.element,"aria-describedby",v)})})})]),a={getField:c=>ne(c,t,"field"),getLabel:c=>ne(c,t,"label")};return{uid:t.uid,dom:t.dom,components:e,behaviours:s,events:r,apis:a}},Et=Lo({name:"FormField",configFields:KH(),partFields:qH(),factory:JH,apis:{getField:(t,e)=>t.getField(e),getLabel:(t,e)=>t.getLabel(e)}}),QH=E([A("field1Name","field1"),A("field2Name","field2"),Fc("onLockedChange"),$c(["lockClass"]),A("locked",!1),Os.field("coupledFieldBehaviours",[$t,q]),ce("onInput",N)]),t9=(t,e,o)=>ne(t,e,o).bind($t.getCurrent),Sy=(t,e)=>Eo({factory:Et,name:t,overrides:o=>({fieldBehaviours:P([ft("coupled-input-behaviour",[I(qr(),n=>{t9(n,o,e).each(s=>{ne(n,o,"lock").each(r=>{_t.isOn(r)&&o.onLockedChange(n,s,r),o.onInput(n)})})})])])})}),e9=E([Sy("field1","field2"),Sy("field2","field1"),Eo({factory:po,schema:[B("dom")],name:"lock",overrides:t=>({buttonBehaviours:P([_t.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),o9=(t,e,o,n)=>({uid:t.uid,dom:t.dom,components:e,behaviours:Os.augment(t.coupledFieldBehaviours,[$t.config({find:d.some}),q.config({store:{mode:"manual",getValue:s=>{const r=Jg(s,t,["field1","field2"]);return{[t.field1Name]:q.getValue(r.field1()),[t.field2Name]:q.getValue(r.field2())}},setValue:(s,r)=>{const a=Jg(s,t,["field1","field2"]);_o(r,t.field1Name)&&q.setValue(a.field1(),r[t.field1Name]),_o(r,t.field2Name)&&q.setValue(a.field2(),r[t.field2Name])}}})]),apis:{getField1:s=>ne(s,t,"field1"),getField2:s=>ne(s,t,"field2"),getLock:s=>ne(s,t,"lock")}}),Ie=Lo({name:"FormCoupledInputs",configFields:QH(),partFields:e9(),factory:o9,apis:{getField1:(t,e)=>t.getField1(e),getField2:(t,e)=>t.getField2(e),getLock:(t,e)=>t.getLock(e)}}),n9=(t,e)=>{const o=Y(t.options,s=>({dom:{tag:"option",value:s.value,innerHtml:s.text}})),n=t.data.map(s=>kc("initialValue",s)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:go(t.selectBehaviours,[mt.config({}),q.config({store:{mode:"manual",getValue:s=>jr(s.element),setValue:(s,r)=>{const a=mn(t.options);le(t.options,i=>i.value===r).isSome()?Mc(s.element,r):s.element.dom.selectedIndex===-1&&r===""&&a.each(i=>Mc(s.element,i.value))},...n}})])}},s9=Nn({name:"HtmlSelect",configFields:[B("options"),ao("selectBehaviours",[mt,q]),A("selectClasses",[]),A("selectAttributes",{}),Wt("data")],factory:n9}),r9=(t,e,o,n,s)=>{const r=()=>t.lazySink(e),a=n.type==="horizontal"?{layouts:{onLtr:()=>cp(),onRtl:()=>ip()}}:{},c=u=>u.length===2,i=u=>c(u)?a:{};return Wc.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(Rt.close(e),t.onEscape.map(u=>u(e)),d.some(!0)),onExecute:()=>d.some(!0),onOpenMenu:(u,m)=>{Do.positionWithinBounds(r().getOrDie(),m,o,s())},onOpenSubmenu:(u,m,g,p)=>{const v=r().getOrDie();Do.position(v,g,{anchor:{type:"submenu",item:m,...i(p)}})},onRepositionMenu:(u,m,g)=>{const p=r().getOrDie();Do.positionWithinBounds(p,m,o,s()),it(g,v=>{const y=i(v.triggeringPath);Do.position(p,v.triggeredMenu,{anchor:{type:"submenu",item:v.triggeringItem,...y}})})}})},a9=(t,e)=>{const o=(p,v)=>t.getRelated(p).exists(w=>Uc(w,v)),n=(p,v)=>{Rt.setContent(p,v)},s=(p,v,y)=>{const w=d.none;r(p,v,y,w)},r=(p,v,y,w)=>{const T=t.lazySink(p).getOrDie();Rt.openWhileCloaked(p,v,()=>Do.positionWithinBounds(T,p,y,w())),q.setValue(p,d.some({mode:"position",config:y,getBounds:w}))},a=(p,v,y)=>{c(p,v,y,d.none)},c=(p,v,y,w)=>{const T=r9(t,p,v,y,w);Rt.open(p,T),q.setValue(p,d.some({mode:"menu",menu:T}))},i=p=>{Rt.isOpen(p)&&(q.setValue(p,d.none()),Rt.close(p))},u=p=>Rt.getState(p),m=p=>{Rt.isOpen(p)&&q.getValue(p).each(v=>{switch(v.mode){case"menu":Rt.getState(p).each(Wc.repositionMenus);break;case"position":const y=t.lazySink(p).getOrDie();Do.positionWithinBounds(y,p,v.config,v.getBounds());break}})},g={setContent:n,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:c,hide:i,getContent:u,reposition:m,isOpen:Rt.isOpen};return{uid:t.uid,dom:t.dom,behaviours:go(t.inlineBehaviours,[Rt.config({isPartOf:(p,v,y)=>Uc(v,y)||o(p,y),getAttachPoint:p=>t.lazySink(p).getOrDie(),onOpen:p=>{t.onShow(p)},onClose:p=>{t.onHide(p)}}),q.config({store:{mode:"memory",initialValue:d.none()}}),Tn.config({channels:{...u0({isExtraPart:e.isExtraPart,...t.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...d0({...t.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:m})}})]),eventOrder:t.eventOrder,apis:g}},be=Nn({name:"InlineView",configFields:[B("lazySink"),Bt("onShow"),Bt("onHide"),Xr("onEscape"),ao("inlineBehaviours",[Rt,q,Tn]),Sn("fireDismissalEventInstead",[A("event",Hc())]),Sn("fireRepositionEventInstead",[A("event",Fv())]),A("getRelated",d.none),A("isExtraPart",Qt),A("eventOrder",d.none)],factory:a9,apis:{showAt:(t,e,o,n)=>{t.showAt(e,o,n)},showWithinBounds:(t,e,o,n,s)=>{t.showWithinBounds(e,o,n,s)},showMenuAt:(t,e,o,n)=>{t.showMenuAt(e,o,n)},showMenuWithinBounds:(t,e,o,n,s)=>{t.showMenuWithinBounds(e,o,n,s)},hide:(t,e)=>{t.hide(e)},isOpen:(t,e)=>t.isOpen(e),getContent:(t,e)=>t.getContent(e),setContent:(t,e,o)=>{t.setContent(e,o)},reposition:(t,e)=>{t.reposition(e)}}}),wy=E([Ce("type","text"),Wt("data"),A("inputAttributes",{}),A("inputStyles",{}),A("tag","input"),A("inputClasses",[]),Bt("onSetValue"),ce("fromInputValue",Ft),ce("toInputValue",Ft),A("styles",{}),A("eventOrder",{}),ao("inputBehaviours",[q,mt]),A("selectOnFocus",!0)]),Cy=t=>P([mt.config({onFocus:t.selectOnFocus?e=>{const o=e.element,n=jr(o);t.type!=="range"&&o.dom.setSelectionRange(0,n.length)}:N})]),c9=t=>({...Cy(t),...go(t.inputBehaviours,[q.config({store:{mode:"manual",...t.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>t.fromInputValue(jr(e.element)),setValue:(e,o)=>{jr(e.element)!==o&&Mc(e.element,t.toInputValue(o))}},onSetValue:t.onSetValue})])}),Ty=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),i9=(t,e)=>({uid:t.uid,dom:Ty(t),components:[],behaviours:c9(t),eventOrder:t.eventOrder}),ca=Nn({name:"Input",configFields:wy(),factory:i9}),v0=Yg(i0(),l0()),l9=(t,e)=>{const o=Ye(t,"id").fold(()=>{const n=K("dialog-label");return pt(e,"id",n),n},Ft);pt(t,"aria-labelledby",o)},u9=E([B("lazySink"),Wt("dragBlockClass"),ce("getBounds",Vo),A("useTabstopAt",ye),A("firstTabstop",0),A("eventOrder",{}),ao("modalBehaviours",[ot]),wn("onExecute"),zg("onEscape")]),b0={sketch:Ft},d9=E([es({name:"draghandle",overrides:(t,e)=>({behaviours:P([Zc.config({mode:"mouse",getTarget:o=>js(o,'[role="dialog"]').getOr(o),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])})}),Eo({schema:[B("dom")],name:"title"}),Eo({factory:b0,schema:[B("dom")],name:"close"}),Eo({factory:b0,schema:[B("dom")],name:"body"}),es({factory:b0,schema:[B("dom")],name:"footer"}),ws({factory:{sketch:(t,e)=>({...t,dom:e.dom,components:e.components})},schema:[A("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),A("components",[])],name:"blocker"})]),m9=(t,e,o,n)=>{const s=Kt(),r=y=>{s.set(y);const w=t.lazySink(y).getOrDie(),T=n.blocker(),x=w.getSystem().build({...T,components:T.components.concat([Zn(y)]),behaviours:P([mt.config({}),ft("dialog-blocker-events",[qi(Ss(),()=>{er.isBlocked(y)?N():ot.focusIn(y)})])])});Rc(w,x),ot.focusIn(y)},a=y=>{s.clear(),Fo(y.element).each(w=>{y.getSystem().getByDom(w).each(T=>{ea(T)})})},c=y=>Ia(y,t,"body"),i=y=>ne(y,t,"footer"),u=(y,w)=>{er.block(y,w)},m=y=>{er.unblock(y)},g=K("modal-events"),p={...t.eventOrder,[qs()]:[g].concat(t.eventOrder["alloy.system.attached"]||[])},v=Jn();return{uid:t.uid,dom:t.dom,components:e,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:m,setBusy:u},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:go(t.modalBehaviours,[vt.config({}),ot.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),er.config({getRoot:s.get}),ft(g,[ie(y=>{const w=Ia(y,t,"title").element,T=M7(w);v.os.isMacOS()&&xe(T)?pt(y.element,"aria-label",T):l9(y.element,w)})])])}},Je=Lo({name:"ModalDialog",configFields:u9(),partFields:d9(),factory:m9,apis:{show:(t,e)=>{t.show(e)},hide:(t,e)=>{t.hide(e)},getBody:(t,e)=>t.getBody(e),getFooter:(t,e)=>t.getFooter(e),setBusy:(t,e,o)=>{t.setBusy(e,o)},setIdle:(t,e)=>{t.setIdle(e)}}}),h9=es({schema:[B("dom")],name:"label"}),Na=t=>es({name:""+t+"-edge",overrides:e=>e.model.manager.edgeActions[t].fold(()=>({}),n=>({events:ue([bp(Kr(),(s,r,a)=>n(s,a),[e]),bp(Rn(),(s,r,a)=>n(s,a),[e]),bp(C1(),(s,r,a)=>{a.mouseIsDown.get()&&n(s,a)},[e])])}))}),g9=Na("top-left"),p9=Na("top"),f9=Na("top-right"),v9=Na("right"),b9=Na("bottom-right"),y9=Na("bottom"),x9=Na("bottom-left"),S9=Na("left"),w9=Eo({name:"thumb",defaults:E({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:ue([Ki(Kr(),t,"spectrum"),Ki(gu(),t,"spectrum"),Ki(Ec(),t,"spectrum"),Ki(Rn(),t,"spectrum"),Ki(C1(),t,"spectrum"),Ki(Ag(),t,"spectrum")])})}),bm=t=>Lc(t.event),C9=Eo({schema:[Go("mouseIsDown",()=>st(!1))],name:"spectrum",overrides:t=>{const o=t.model.manager,n=(s,r)=>o.getValueFromEvent(r).map(a=>o.setValueFrom(s,t,a));return{behaviours:P([ot.config({mode:"special",onLeft:(s,r)=>o.onLeft(s,t,bm(r)),onRight:(s,r)=>o.onRight(s,t,bm(r)),onUp:(s,r)=>o.onUp(s,t,bm(r)),onDown:(s,r)=>o.onDown(s,t,bm(r))}),ee.config({}),mt.config({})]),events:ue([I(Kr(),n),I(gu(),n),I(Rn(),n),I(C1(),(s,r)=>{t.mouseIsDown.get()&&n(s,r)})])}}});var T9=[h9,S9,v9,p9,y9,g9,f9,x9,b9,w9,C9];const Ru=E("slider.change.value"),_9=t=>t.type.indexOf("touch")!==-1,y0=t=>{const e=t.event.raw;if(_9(e)){const o=e;return o.touches!==void 0&&o.touches.length===1?d.some(o.touches[0]).map(n=>ke(n.clientX,n.clientY)):d.none()}else{const o=e;return o.clientX!==void 0?d.some(o).map(n=>ke(n.clientX,n.clientY)):d.none()}},M9="top",O9="right",k9="bottom",E9="left",Gc=t=>t.model.minX,jc=t=>t.model.minY,ym=t=>t.model.minX-1,xm=t=>t.model.minY-1,Yc=t=>t.model.maxX,Xc=t=>t.model.maxY,Sm=t=>t.model.maxX+1,wm=t=>t.model.maxY+1,_y=(t,e,o)=>e(t)-o(t),x0=t=>_y(t,Yc,Gc),S0=t=>_y(t,Xc,jc),My=t=>x0(t)/2,Oy=t=>S0(t)/2,rl=(t,e)=>e?t.stepSize*t.speedMultiplier:t.stepSize,ky=t=>t.snapToGrid,Ey=t=>t.snapStart,Ay=t=>t.rounded,Cm=(t,e)=>t[e+"-edge"]!==void 0,Dy=t=>Cm(t,E9),Hy=t=>Cm(t,O9),$y=t=>Cm(t,M9),Fy=t=>Cm(t,k9),ia=t=>t.model.value.get(),Ua=(t,e)=>({x:t,y:e}),ks=(t,e)=>{ct(t,Ru(),{value:e})},A9=(t,e)=>{ks(t,Ua(ym(e),xm(e)))},D9=(t,e)=>{ks(t,xm(e))},H9=(t,e)=>{ks(t,Ua(My(e),xm(e)))},$9=(t,e)=>{ks(t,Ua(Sm(e),xm(e)))},F9=(t,e)=>{ks(t,Sm(e))},I9=(t,e)=>{ks(t,Ua(Sm(e),Oy(e)))},V9=(t,e)=>{ks(t,Ua(Sm(e),wm(e)))},L9=(t,e)=>{ks(t,wm(e))},B9=(t,e)=>{ks(t,Ua(My(e),wm(e)))},R9=(t,e)=>{ks(t,Ua(ym(e),wm(e)))},z9=(t,e)=>{ks(t,ym(e))},P9=(t,e)=>{ks(t,Ua(ym(e),Oy(e)))},w0=(t,e,o,n)=>t<e?t:t>o?o:t===e?e-1:Math.max(e,t-n),C0=(t,e,o,n)=>t>o?t:t<e?e:t===o?o+1:Math.min(o,t+n),Iy=(t,e,o)=>Math.max(e,Math.min(o,t)),Z9=(t,e,o,n,s)=>s.fold(()=>{const r=t-e,a=Math.round(r/n)*n;return Iy(e+a,e-1,o+1)},r=>{const a=(t-r)%n,c=Math.round(a/n),i=Math.floor((t-r)/n),u=Math.floor((o-r)/n),m=Math.min(u,i+c),g=r+m*n;return Math.max(r,g)}),N9=(t,e,o)=>Math.min(o,Math.max(t,e))-e,Vy=t=>{const{min:e,max:o,range:n,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:u,hasMaxEdge:m,minBound:g,maxBound:p,screenRange:v}=t,y=u?e-1:e,w=m?o+1:o;if(s<g)return y;if(s>p)return w;{const T=N9(s,g,p),x=Iy(T/v*n+e,y,w);return a&&x>=e&&x<=o?Z9(x,e,o,r,c):i?Math.round(x):x}},Ly=t=>{const{min:e,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:u,centerMaxEdge:m}=t;return s<e?r?0:u:s>o?a?c:m:(s-e)/n*i},T0="top",By="right",Ry="bottom",_0="left",U9="width",W9="height",Ar=t=>t.element.dom.getBoundingClientRect(),Es=(t,e)=>t[e],Tm=t=>{const e=Ar(t);return Es(e,_0)},zy=t=>{const e=Ar(t);return Es(e,By)},_m=t=>{const e=Ar(t);return Es(e,T0)},Py=t=>{const e=Ar(t);return Es(e,Ry)},Zy=t=>{const e=Ar(t);return Es(e,U9)},Ny=t=>{const e=Ar(t);return Es(e,W9)},Uy=(t,e,o)=>(t+e)/2-o,Wy=(t,e)=>{const o=Ar(t),n=Ar(e),s=Es(o,_0),r=Es(o,By),a=Es(n,_0);return Uy(s,r,a)},Gy=(t,e)=>{const o=Ar(t),n=Ar(e),s=Es(o,T0),r=Es(o,Ry),a=Es(n,T0);return Uy(s,r,a)},Mm=(t,e)=>{ct(t,Ru(),{value:e})},M0=(t,e,o)=>{const n={min:Gc(e),max:Yc(e),range:x0(e),value:o,step:rl(e),snap:ky(e),snapStart:Ey(e),rounded:Ay(e),hasMinEdge:Dy(e),hasMaxEdge:Hy(e),minBound:Tm(t),maxBound:zy(t),screenRange:Zy(t)};return Vy(n)},G9=(t,e,o)=>{const n=M0(t,e,o);return Mm(t,n),n},j9=(t,e)=>{const o=Gc(e);Mm(t,o)},Y9=(t,e)=>{const o=Yc(e);Mm(t,o)},X9=(t,e,o,n)=>{const r=(t>0?C0:w0)(ia(o),Gc(o),Yc(o),rl(o,n));return Mm(e,r),d.some(r)},jy=t=>(e,o,n)=>X9(t,e,o,n).map(ye),K9=t=>y0(t).map(o=>o.left),q9=(t,e,o,n,s)=>{const a=Zy(t),c=n.bind(m=>d.some(Wy(m,t))).getOr(0),i=s.bind(m=>d.some(Wy(m,t))).getOr(a),u={min:Gc(e),max:Yc(e),range:x0(e),value:o,hasMinEdge:Dy(e),hasMaxEdge:Hy(e),minBound:Tm(t),minOffset:0,maxBound:zy(t),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return Ly(u)},O0=(t,e,o,n,s,r)=>{const a=q9(e,r,o,n,s);return Tm(e)-Tm(t)+a},J9=(t,e,o,n)=>{const s=ia(o),r=O0(t,n.getSpectrum(t),s,n.getLeftEdge(t),n.getRightEdge(t),o),a=yn(e.element)/2;wt(e.element,"left",r-a+"px")},Q9=jy(-1),t$=jy(1),e$=d.none,o$=d.none,n$={"top-left":d.none(),top:d.none(),"top-right":d.none(),right:d.some(F9),"bottom-right":d.none(),bottom:d.none(),"bottom-left":d.none(),left:d.some(z9)};var s$=Object.freeze({__proto__:null,setValueFrom:G9,setToMin:j9,setToMax:Y9,findValueOfOffset:M0,getValueFromEvent:K9,findPositionOfValue:O0,setPositionFromValue:J9,onLeft:Q9,onRight:t$,onUp:e$,onDown:o$,edgeActions:n$});const Om=(t,e)=>{ct(t,Ru(),{value:e})},k0=(t,e,o)=>{const n={min:jc(e),max:Xc(e),range:S0(e),value:o,step:rl(e),snap:ky(e),snapStart:Ey(e),rounded:Ay(e),hasMinEdge:$y(e),hasMaxEdge:Fy(e),minBound:_m(t),maxBound:Py(t),screenRange:Ny(t)};return Vy(n)},r$=(t,e,o)=>{const n=k0(t,e,o);return Om(t,n),n},a$=(t,e)=>{const o=jc(e);Om(t,o)},c$=(t,e)=>{const o=Xc(e);Om(t,o)},i$=(t,e,o,n)=>{const r=(t>0?C0:w0)(ia(o),jc(o),Xc(o),rl(o,n));return Om(e,r),d.some(r)},Yy=t=>(e,o,n)=>i$(t,e,o,n).map(ye),l$=t=>y0(t).map(o=>o.top),u$=(t,e,o,n,s)=>{const a=Ny(t),c=n.bind(m=>d.some(Gy(m,t))).getOr(0),i=s.bind(m=>d.some(Gy(m,t))).getOr(a),u={min:jc(e),max:Xc(e),range:S0(e),value:o,hasMinEdge:$y(e),hasMaxEdge:Fy(e),minBound:_m(t),minOffset:0,maxBound:Py(t),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return Ly(u)},E0=(t,e,o,n,s,r)=>{const a=u$(e,r,o,n,s);return _m(e)-_m(t)+a},d$=(t,e,o,n)=>{const s=ia(o),r=E0(t,n.getSpectrum(t),s,n.getTopEdge(t),n.getBottomEdge(t),o),a=Ht(e.element)/2;wt(e.element,"top",r-a+"px")},m$=d.none,h$=d.none,g$=Yy(-1),p$=Yy(1),f$={"top-left":d.none(),top:d.some(D9),"top-right":d.none(),right:d.none(),"bottom-right":d.none(),bottom:d.some(L9),"bottom-left":d.none(),left:d.none()};var v$=Object.freeze({__proto__:null,setValueFrom:r$,setToMin:a$,setToMax:c$,findValueOfOffset:k0,getValueFromEvent:l$,findPositionOfValue:E0,setPositionFromValue:d$,onLeft:m$,onRight:h$,onUp:g$,onDown:p$,edgeActions:f$});const km=(t,e)=>{ct(t,Ru(),{value:e})},Em=(t,e)=>({x:t,y:e}),b$=(t,e,o)=>{const n=M0(t,e,o.left),s=k0(t,e,o.top),r=Em(n,s);return km(t,r),r},y$=(t,e,o,n,s)=>{const r=t>0?C0:w0,a=e?ia(n).x:r(ia(n).x,Gc(n),Yc(n),rl(n,s)),c=e?r(ia(n).y,jc(n),Xc(n),rl(n,s)):ia(n).y;return km(o,Em(a,c)),d.some(a)},Am=(t,e)=>(o,n,s)=>y$(t,e,o,n,s).map(ye),x$=(t,e)=>{const o=Gc(e),n=jc(e);km(t,Em(o,n))},S$=(t,e)=>{const o=Yc(e),n=Xc(e);km(t,Em(o,n))},w$=t=>y0(t),C$=(t,e,o,n)=>{const s=ia(o),r=O0(t,n.getSpectrum(t),s.x,n.getLeftEdge(t),n.getRightEdge(t),o),a=E0(t,n.getSpectrum(t),s.y,n.getTopEdge(t),n.getBottomEdge(t),o),c=yn(e.element)/2,i=Ht(e.element)/2;wt(e.element,"left",r-c+"px"),wt(e.element,"top",a-i+"px")},T$=Am(-1,!1),_$=Am(1,!1),M$=Am(-1,!0),O$=Am(1,!0),k$={"top-left":d.some(A9),top:d.some(H9),"top-right":d.some($9),right:d.some(I9),"bottom-right":d.some(V9),bottom:d.some(B9),"bottom-left":d.some(R9),left:d.some(P9)};var E$=Object.freeze({__proto__:null,setValueFrom:b$,setToMin:x$,setToMax:S$,getValueFromEvent:w$,setPositionFromValue:C$,onLeft:T$,onRight:_$,onUp:M$,onDown:O$,edgeActions:k$});const A$=[A("stepSize",1),A("speedMultiplier",10),A("onChange",N),A("onChoose",N),A("onInit",N),A("onDragStart",N),A("onDragEnd",N),A("snapToGrid",!1),A("rounded",!0),Wt("snapStart"),Bn("model",nn("mode",{x:[A("minX",0),A("maxX",100),Go("value",t=>st(t.mode.minX)),B("getInitialValue"),ge("manager",s$)],y:[A("minY",0),A("maxY",100),Go("value",t=>st(t.mode.minY)),B("getInitialValue"),ge("manager",v$)],xy:[A("minX",0),A("maxX",100),A("minY",0),A("maxY",100),Go("value",t=>st({x:t.mode.minX,y:t.mode.minY})),B("getInitialValue"),ge("manager",E$)]})),ao("sliderBehaviours",[ot,q]),Go("mouseIsDown",()=>st(!1))],As=Lo({name:"Slider",configFields:A$,partFields:T9,factory:(t,e,o,n)=>{const s=$=>Ia($,t,"thumb"),r=$=>Ia($,t,"spectrum"),a=$=>ne($,t,"left-edge"),c=$=>ne($,t,"right-edge"),i=$=>ne($,t,"top-edge"),u=$=>ne($,t,"bottom-edge"),m=t.model,g=m.manager,p=($,G)=>{g.setPositionFromValue($,G,t,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:u,getSpectrum:r})},v=($,G)=>{m.value.set(G);const R=s($);p($,R)},y=($,G)=>{v($,G);const R=s($);return t.onChange($,R,G),d.some(!0)},w=$=>{g.setToMin($,t)},T=$=>{g.setToMax($,t)},x=$=>{const G=()=>{ne($,t,"thumb").each(F=>{const X=m.value.get();t.onChoose($,F,X)})},R=t.mouseIsDown.get();t.mouseIsDown.set(!1),R&&G()},M=($,G)=>{G.stop(),t.mouseIsDown.set(!0),t.onDragStart($,s($))},O=($,G)=>{G.stop(),t.onDragEnd($,s($)),x($)},D=$=>{ne($,t,"spectrum").map(ot.focusIn)};return{uid:t.uid,dom:t.dom,components:e,behaviours:go(t.sliderBehaviours,[ot.config({mode:"special",focusIn:D}),q.config({store:{mode:"manual",getValue:$=>m.value.get(),setValue:v}}),Tn.config({channels:{[a0()]:{onReceive:x}}})]),events:ue([I(Ru(),($,G)=>{y($,G.event.value)}),ie(($,G)=>{const R=m.getInitialValue();m.value.set(R);const F=s($);p($,F);const X=r($);t.onInit($,F,X,m.value.get())}),I(Kr(),M),I(Ec(),O),I(Rn(),($,G)=>{D($),M($,G)}),I(Ag(),O)]),apis:{resetToMin:w,resetToMax:T,setValue:v,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,e,o)=>{t.setValue(e,o)},resetToMin:(t,e)=>{t.resetToMin(e)},resetToMax:(t,e)=>{t.resetToMax(e)},refresh:(t,e)=>{t.refresh(e)}}}),Xy="container",D$=[ao("slotBehaviours",[])],Ky=t=>"<alloy.field."+t+">",H$=t=>{const e=(()=>{const r=[];return{slot:(c,i)=>(r.push(c),Xg(Xy,Ky(c),i)),record:E(r)}})(),o=t(e),n=e.record(),s=Y(n,r=>Eo({name:r,pname:Ky(r)}));return Gp(Xy,D$,s,$$,o)},$$=(t,e)=>{const o=w=>eb(t),n=(w,T)=>ne(w,t,T),s=(w,T)=>(x,M)=>ne(x,t,M).map(O=>w(O,M)).getOr(T),r=w=>(T,x)=>{it(x,M=>w(T,M))},a=(w,T)=>je(w.element,"aria-hidden")!=="true",c=(w,T)=>{if(!a(w)){const x=w.element;W(x,"display"),Se(x,"aria-hidden"),ct(w,Fg(),{name:T,visible:!0})}},i=(w,T)=>{if(a(w)){const x=w.element;wt(x,"display","none"),pt(x,"aria-hidden","true"),ct(w,Fg(),{name:T,visible:!1})}},u=s(a,!1),m=s(i),g=r(m),p=w=>g(w,o()),v=s(c),y={getSlotNames:o,getSlot:n,isShowing:u,hideSlot:m,hideAllSlots:p,showSlot:v};return{uid:t.uid,dom:t.dom,components:e,behaviours:cm(t.slotBehaviours),apis:y}},Ho={...He({getSlotNames:(t,e)=>t.getSlotNames(e),getSlot:(t,e,o)=>t.getSlot(e,o),isShowing:(t,e,o)=>t.isShowing(e,o),hideSlot:(t,e,o)=>t.hideSlot(e,o),hideAllSlots:(t,e)=>t.hideAllSlots(e),showSlot:(t,e,o)=>t.showSlot(e,o)},t=>J1(t)),sketch:H$},F$=E([B("toggleClass"),B("fetch"),Fc("onExecute"),A("getHotspot",d.some),A("getAnchorOverrides",E({})),za(),Fc("onItemExecute"),Wt("lazySink"),B("dom"),Bt("onOpen"),ao("splitDropdownBehaviours",[Ae,ot,mt]),A("matchWidth",!1),A("useMinWidth",!1),A("eventOrder",{}),Wt("role"),Wt("listRole")].concat(g0())),I$=Eo({factory:po,schema:[B("dom")],name:"arrow",defaults:()=>({buttonBehaviours:P([mt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(Ic)},buttonBehaviours:P([_t.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),V$=Eo({factory:po,schema:[B("dom")],name:"button",defaults:()=>({buttonBehaviours:P([mt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(o=>{t.onExecute(o,e)})}})}),L$=E([I$,V$,es({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[B("text")],name:"aria-descriptor"}),ws({schema:[k1()],name:"menu",defaults:t=>({onExecute:(e,o)=>{e.getSystem().getByUid(t.uid).each(n=>{t.onItemExecute(n,e,o)})}})}),hy()]),B$=(t,e,o,n)=>{const s=m=>{$t.getCurrent(m).each(g=>{Gt.highlightFirst(g),ot.focusIn(g)})},r=m=>{m0(t,Ft,m,n,s,jo.HighlightMenuAndItem).get(N)},a=m=>(r(m),d.some(!0)),c=m=>{const g=Ia(m,t,"button");return Ic(g),d.some(!0)},i={...ue([ie((m,g)=>{ne(m,t,"aria-descriptor").each(v=>{const y=K("aria");pt(v.element,"id",y),pt(m.element,"aria-describedby",y)})})]),...pm(d.some(r))},u={repositionMenus:m=>{_t.isOn(m)&&vy(m)}};return{uid:t.uid,dom:t.dom,components:e,apis:u,eventOrder:{...t.eventOrder,[zn()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:go(t.splitDropdownBehaviours,[Ae.config({others:{sandbox:m=>{const g=Ia(m,t,"arrow");return h0(t,m,{onOpen:()=>{_t.on(g),_t.on(m)},onClose:()=>{_t.off(g),_t.off(m)}})}}}),ot.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),mt.config({}),_t.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Dm=Lo({name:"SplitDropdown",configFields:F$(),partFields:L$(),factory:B$,apis:{repositionMenus:(t,e)=>t.repositionMenus(e)}}),R$=(t,e)=>Ne(t,(s,r)=>e(r,s.len).fold(E(s),c=>({len:c.finish,list:s.list.concat([c])})),{len:0,list:[]}).list,A0=(t,e,o)=>({within:t,extra:e,withinWidth:o}),qy=(t,e,o)=>{const n=R$(t,(c,i)=>{const u=o(c);return d.some({element:c,start:i,finish:i+u,width:u})}),s=oe(n,c=>c.finish<=e),r=lo(s,(c,i)=>c+i.width,0),a=n.slice(s.length);return{within:s,extra:a,withinWidth:r}},Hm=t=>Y(t,e=>e.element),z$=(t,e,o)=>{const n=Hm(t.concat(e));return A0(n,[],o)},P$=(t,e,o,n)=>{const s=Hm(t).concat([o]);return A0(s,Hm(e),n)},Z$=(t,e,o)=>A0(Hm(t),[],o),N$=(t,e,o)=>{const n=qy(e,t,o);return n.extra.length===0?d.some(n):d.none()},U$=(t,e,o,n)=>{const s=N$(t,e,o).getOrThunk(()=>qy(e,t-o(n),o)),r=s.within,a=s.extra,c=s.withinWidth;return a.length===1&&a[0].width<=o(n)?z$(r,a,c):a.length>=1?P$(r,a,n,c):Z$(r,a,c)},Jy=(t,e)=>{const o=Y(e,n=>Zn(n));nr.setGroups(t,o)},W$=t=>Nt(t,e=>bo(e.element).bind(o=>e.getSystem().getByDom(o).toOptional())),Qy=(t,e,o)=>{const n=e.builtGroups.get();if(n.length===0)return;const s=Ia(t,e,"primary"),r=Ae.getCoupled(t,"overflowGroup");wt(s.element,"visibility","hidden");const a=n.concat([r]),c=W$(a);o([]),Jy(s,a);const i=yn(s.element),u=U$(i,e.builtGroups.get(),m=>Math.ceil(m.element.dom.getBoundingClientRect().width),r);u.extra.length===0?(vt.remove(s,r),o([])):(Jy(s,u.within),o(u.extra)),W(s.element,"visibility"),Ct(s.element),c.each(mt.focus)},tx=E([ao("splitToolbarBehaviours",[Ae]),Go("builtGroups",()=>st([]))]),G$=E([$c(["overflowToggledClass"]),Xr("getOverflowBounds"),B("lazySink"),Go("overflowGroups",()=>st([])),Bt("onOpened"),Bt("onClosed")].concat(tx())),j$=E([Eo({factory:nr,schema:sl(),name:"primary"}),ws({schema:sl(),name:"overflow"}),ws({name:"overflow-button"}),ws({name:"overflow-group"})]),Y$=E([B("items"),$c(["itemSelector"]),ao("tgroupBehaviours",[ot])]),X$=E([L1({name:"items",unit:"item"})]),K$=(t,e,o,n)=>({uid:t.uid,dom:t.dom,components:e,behaviours:go(t.tgroupBehaviours,[ot.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),$m=Lo({name:"ToolbarGroup",configFields:Y$(),partFields:X$(),factory:K$}),ex=t=>Y(t,e=>Zn(e)),ox=(t,e,o)=>{Qy(t,o,n=>{o.overflowGroups.set(n),e.getOpt(t).each(s=>{Za.setGroups(s,ex(n))})})},q$=(t,e,o,n)=>{const s=Ut(Za.sketch({fetch:()=>_e.nu(r=>{r(ex(t.overflowGroups.get()))}),layouts:{onLtr:()=>[Ke,Xe],onRtl:()=>[Xe,Ke],onBottomLtr:()=>[To,Co],onBottomRtl:()=>[Co,To]},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(r,a)=>t[a?"onOpened":"onClosed"](r)}));return{uid:t.uid,dom:t.dom,components:e,behaviours:go(t.splitToolbarBehaviours,[Ae.config({others:{overflowGroup:()=>$m.sketch({...n["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(r,a)=>{t.builtGroups.set(Y(a,r.getSystem().build)),ox(r,s,t)},refresh:r=>ox(r,s,t),toggle:r=>{s.getOpt(r).each(a=>{Za.toggle(a)})},toggleWithoutFocusing:r=>{s.getOpt(r).each(Za.toggleWithoutFocusing)},isOpen:r=>s.getOpt(r).map(Za.isOpen).getOr(!1),reposition:r=>{s.getOpt(r).each(a=>{Za.reposition(a)})},getOverflow:r=>s.getOpt(r).bind(Za.getToolbar)},domModification:{attributes:{role:"group"}}}},nx=Lo({name:"SplitFloatingToolbar",configFields:G$(),partFields:j$(),factory:q$,apis:{setGroups:(t,e,o)=>{t.setGroups(e,o)},refresh:(t,e)=>{t.refresh(e)},reposition:(t,e)=>{t.reposition(e)},toggle:(t,e)=>{t.toggle(e)},toggleWithoutFocusing:(t,e)=>{t.toggle(e)},isOpen:(t,e)=>t.isOpen(e),getOverflow:(t,e)=>t.getOverflow(e)}}),J$=E([$c(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Bt("onOpened"),Bt("onClosed")].concat(tx())),Q$=E([Eo({factory:nr,schema:sl(),name:"primary"}),Eo({factory:nr,schema:sl(),name:"overflow",overrides:t=>({toolbarBehaviours:P([sn.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:e=>{ne(e,t,"overflow-button").each(o=>{_t.off(o)}),t.onClosed(e)},onGrown:e=>{t.onOpened(e)},onStartGrow:e=>{ne(e,t,"overflow-button").each(_t.on)}}),ot.config({mode:"acyclic",onEscape:e=>(ne(e,t,"overflow-button").each(mt.focus),d.some(!0))})])})}),ws({name:"overflow-button",overrides:t=>({buttonBehaviours:P([_t.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),ws({name:"overflow-group"})]),tF=(t,e)=>ne(t,e,"overflow").map(sn.hasGrown).getOr(!1),D0=(t,e,o)=>{ne(t,e,"overflow-button").each(n=>{ne(t,e,"overflow").each(s=>{if(H0(t,e),sn.hasShrunk(s)){const r=e.onOpened;e.onOpened=a=>{o||ot.focusIn(s),r(a),e.onOpened=r}}else{const r=e.onClosed;e.onClosed=a=>{o||mt.focus(n),r(a),e.onClosed=r}}sn.toggleGrow(s)})})},H0=(t,e)=>{ne(t,e,"overflow").each(o=>{Qy(t,e,n=>{const s=Y(n,r=>Zn(r));nr.setGroups(o,s)}),ne(t,e,"overflow-button").each(n=>{sn.hasGrown(o)&&_t.on(n)}),sn.refresh(o)})},eF=(t,e,o,n)=>{const s="alloy.toolbar.toggle",r=(a,c)=>{const i=Y(c,a.getSystem().build);t.builtGroups.set(i)};return{uid:t.uid,dom:t.dom,components:e,behaviours:go(t.splitToolbarBehaviours,[Ae.config({others:{overflowGroup:a=>$m.sketch({...n["overflow-group"](),items:[po.sketch({...n["overflow-button"](),action:c=>{Dt(a,s)}})]})}}),ft("toolbar-toggle-events",[I(s,a=>{D0(a,t,!1)})])]),apis:{setGroups:(a,c)=>{r(a,c),H0(a,t)},refresh:a=>H0(a,t),toggle:a=>{D0(a,t,!1)},toggleWithoutFocusing:a=>{D0(a,t,!0)},isOpen:a=>tF(a,t)},domModification:{attributes:{role:"group"}}}},$0=Lo({name:"SplitSlidingToolbar",configFields:J$(),partFields:Q$(),factory:eF,apis:{setGroups:(t,e,o)=>{t.setGroups(e,o)},refresh:(t,e)=>{t.refresh(e)},toggle:(t,e)=>{t.toggle(e)},isOpen:(t,e)=>t.isOpen(e)}}),oF=(t,e)=>({uid:t.uid,dom:t.dom,components:t.components,events:pm(t.action),behaviours:go(t.tabButtonBehaviours,[mt.config({}),ot.config({mode:"execution",useSpace:!0,useEnter:!0}),q.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),nF=Nn({name:"TabButton",configFields:[A("uid",void 0),B("value"),yo("dom","dom",_g(()=>({attributes:{role:"tab",id:K("aria"),"aria-selected":"false"}})),vs()),Wt("action"),A("domModification",{}),ao("tabButtonBehaviours",[mt,ot,q]),B("view")],factory:oF}),sF=E([B("tabs"),B("dom"),A("clickToDismiss",!1),ao("tabbarBehaviours",[Gt,ot]),$c(["tabClass","selectedClass"])]),rF=L1({factory:nF,name:"tabs",unit:"tab",overrides:t=>{const e=(n,s)=>{Gt.dehighlight(n,s),ct(n,Lv(),{tabbar:n,button:s})},o=(n,s)=>{Gt.highlight(n,s),ct(n,Vv(),{tabbar:n,button:s})};return{action:n=>{const s=n.getSystem().getByUid(t.uid).getOrDie(),r=Gt.isHighlighted(s,n);(r&&t.clickToDismiss?e:r?N:o)(s,n)},domModification:{classes:[t.markers.tabClass]}}}}),aF=E([rF]),cF=(t,e,o,n)=>({uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:go(t.tabbarBehaviours,[Gt.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(s,r)=>{pt(r.element,"aria-selected","true")},onDehighlight:(s,r)=>{pt(r.element,"aria-selected","false")}}),ot.config({mode:"flow",getInitial:s=>Gt.getHighlighted(s).map(r=>r.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),sx=Lo({name:"Tabbar",configFields:sF(),partFields:aF(),factory:cF}),iF=(t,e)=>({uid:t.uid,dom:t.dom,behaviours:go(t.tabviewBehaviours,[vt.config({})]),domModification:{attributes:{role:"tabpanel"}}}),lF=Nn({name:"Tabview",configFields:[ao("tabviewBehaviours",[vt])],factory:iF}),uF=E([A("selectFirst",!0),Bt("onChangeTab"),Bt("onDismissTab"),A("tabs",[]),ao("tabSectionBehaviours",[])]),dF=Eo({factory:sx,schema:[B("dom"),Yr("markers",[B("tabClass"),B("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),mF=Eo({factory:lF,name:"tabview"}),hF=E([dF,mF]),gF=(t,e,o,n)=>{const s=a=>{const c=q.getValue(a);ne(a,t,"tabview").each(i=>{le(t.tabs,m=>m.value===c).each(m=>{const g=m.view();Ye(a.element,"id").each(p=>{pt(i.element,"aria-labelledby",p)}),vt.set(i,g),t.onChangeTab(i,a,g)})})},r=(a,c)=>{ne(a,t,"tabbar").each(i=>{c(i).each(Ic)})};return{uid:t.uid,dom:t.dom,components:e,behaviours:cm(t.tabSectionBehaviours),events:ue(Le([t.selectFirst?[ie((a,c)=>{r(a,Gt.getFirst)})]:[],[I(Vv(),(a,c)=>{const i=c.event.button;s(i)}),I(Lv(),(a,c)=>{const i=c.event.button;t.onDismissTab(a,i)})]])),apis:{getViewItems:a=>ne(a,t,"tabview").map(c=>vt.contents(c)).getOr([]),showTab:(a,c)=>{r(a,u=>{const m=Gt.getCandidates(u);return le(m,p=>q.getValue(p)===c).filter(p=>!Gt.isHighlighted(u,p))})}}}},al=Lo({name:"TabSection",configFields:uF(),partFields:hF(),factory:gF,apis:{getViewItems:(t,e)=>t.getViewItems(e),showTab:(t,e,o)=>{t.showTab(e,o)}}}),Fm=(t,e,o)=>{const n=q.getValue(o);q.setValue(e,n),ax(e)},rx=(t,e)=>{const o=t.element,n=jr(o),s=o.dom;je(o,"type")!=="number"&&e(s,n)},ax=t=>{rx(t,(e,o)=>e.setSelectionRange(o.length,o.length))},pF=(t,e)=>{rx(t,(o,n)=>o.setSelectionRange(e,n.length))},fF=(t,e,o)=>{if(t.selectsOver){const n=q.getValue(e),s=t.getDisplayText(n),r=q.getValue(o);return t.getDisplayText(r).indexOf(s)===0?d.some(()=>{Fm(t,e,o),pF(e,s.length)}):d.none()}else return d.none()},F0=E("alloy.typeahead.itemexecute"),vF=(t,e,o,n)=>{const s=(g,p,v)=>{t.previewing.set(!1);const y=Ae.getCoupled(g,"sandbox");if(Rt.isOpen(y))$t.getCurrent(y).each(w=>{Gt.getHighlighted(w).fold(()=>{v(w)},()=>{Cb(y,w.element,"keydown",p)})});else{const w=T=>{$t.getCurrent(T).each(v)};fm(t,a(g),g,y,n,w,jo.HighlightMenuAndItem).get(N)}},r=Cy(t),a=g=>p=>p.map(v=>{const y=xa(v.menus),w=Be(y,x=>oe(x.items,M=>M.type==="item"));return q.getState(g).update(Y(w,x=>x.data)),v}),c=g=>$t.getCurrent(g),i="typeaheadevents",u=[mt.config({}),q.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:g=>jr(g.element),getFallbackEntry:g=>({value:g,meta:{}}),setValue:(g,p)=>{Mc(g.element,t.model.getDisplayText(p))},...t.initialData.map(g=>kc("initialValue",g)).getOr({})}}),r0.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(g,p)=>{const v=Ae.getCoupled(g,"sandbox");if(mt.isFocused(g)&&jr(g.element).length>=t.minChars){const w=c(v).bind(x=>Gt.getHighlighted(x).map(q.getValue));t.previewing.set(!0);const T=x=>{c(v).each(M=>{w.fold(()=>{t.model.selectsOver&&Gt.highlightFirst(M)},O=>{Gt.highlightBy(M,D=>q.getValue(D).value===O.value),Gt.getHighlighted(M).orThunk(()=>(Gt.highlightFirst(M),d.none()))})})};fm(t,a(g),g,v,n,T,jo.HighlightJustMenu).get(N)}},cancelEvent:Hg()}),ot.config({mode:"special",onDown:(g,p)=>(s(g,p,Gt.highlightFirst),d.some(!0)),onEscape:g=>{const p=Ae.getCoupled(g,"sandbox");return Rt.isOpen(p)?(Rt.close(p),d.some(!0)):d.none()},onUp:(g,p)=>(s(g,p,Gt.highlightLast),d.some(!0)),onEnter:g=>{const p=Ae.getCoupled(g,"sandbox"),v=Rt.isOpen(p);if(v&&!t.previewing.get())return c(p).bind(y=>Gt.getHighlighted(y)).map(y=>(ct(g,F0(),{item:y}),!0));{const y=q.getValue(g);return Dt(g,Hg()),t.onExecute(p,g,y),v&&Rt.close(p),d.some(!0)}}}),_t.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ae.config({others:{sandbox:g=>h0(t,g,{onOpen:()=>_t.on(g),onClose:()=>{t.lazyTypeaheadComp.get().each(p=>Se(p.element,"aria-activedescendant")),_t.off(g)}})}}),ft(i,[ie(g=>{t.lazyTypeaheadComp.set(d.some(g))}),Qs(g=>{t.lazyTypeaheadComp.set(d.none())}),Qr(g=>{const p=N;m0(t,a(g),g,n,p,jo.HighlightMenuAndItem).get(N)}),I(F0(),(g,p)=>{const v=Ae.getCoupled(g,"sandbox");Fm(t.model,g,p.event.item),Dt(g,Hg()),t.onItemExecute(g,v,p.event.item,q.getValue(g)),Rt.close(v),ax(g)})].concat(t.dismissOnBlur?[I(fu(),g=>{const p=Ae.getCoupled(g,"sandbox");bo(p.element).isNone()&&Rt.close(p)})]:[]))],m={[Mr()]:[q.name(),r0.name(),i],...t.eventOrder};return{uid:t.uid,dom:Ty(ae(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...go(t.typeaheadBehaviours,u)},eventOrder:m}},bF=E([Wt("lazySink"),B("fetch"),A("minChars",5),A("responseTime",1e3),Bt("onOpen"),A("getHotspot",d.some),A("getAnchorOverrides",E({})),A("layouts",d.none()),A("eventOrder",{}),Eg("model",{},[A("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),A("selectsOver",!0),A("populateFromBrowse",!0)]),Bt("onSetValue"),wn("onExecute"),Bt("onItemExecute"),A("inputClasses",[]),A("inputAttributes",{}),A("inputStyles",{}),A("matchWidth",!0),A("useMinWidth",!1),A("dismissOnBlur",!0),$c(["openClass"]),Wt("initialData"),Wt("listRole"),ao("typeaheadBehaviours",[mt,q,r0,ot,_t,Ae]),Go("lazyTypeaheadComp",()=>st(d.none)),Go("previewing",()=>st(!0))].concat(wy()).concat(g0())),yF=E([ws({schema:[k1()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(e,o,n)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(s=>{fF(t.model,s,n).fold(()=>{t.model.selectsOver?(Gt.dehighlight(o,n),t.previewing.set(!0)):t.previewing.set(!1)},r=>{r(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(s=>{t.model.populateFromBrowse&&Fm(t.model,s,n),Ye(n.element,"id").each(r=>pt(s.element,"aria-activedescendant",r))})},onExecute:(e,o)=>t.lazyTypeaheadComp.get().map(n=>(ct(n,F0(),{item:o}),!0)),onHover:(e,o)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(n=>{t.model.populateFromBrowse&&Fm(t.model,n,o)})}})})]),xF=Lo({name:"Typeahead",configFields:bF(),partFields:yF(),factory:vF});var SF=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Im=tinymce.util.Tools.resolve("tinymce.util.Delay"),zu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),wF=tinymce.util.Tools.resolve("tinymce.EditorManager"),cl=tinymce.util.Tools.resolve("tinymce.Env"),os;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(os||(os={}));var Pu;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Pu||(Pu={}));const Jt=t=>e=>e.options.get(t),Zu=t=>e=>d.from(t(e)),cx=t=>{const e=cl.deviceType.isPhone(),o=cl.deviceType.isTablet()||e,n=t.options.register,s=a=>Zt(a)||a===!1,r=a=>Zt(a)||Hn(a);n("skin",{processor:a=>Zt(a)||a===!1,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:r,default:Math.max(t.getElement().offsetHeight,400)}),n("width",{processor:r,default:zu.DOM.getStyle(t.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("font_size_input_default_unit",{processor:"string",default:"pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:a=>Zt(a)||Xo(a),default:!e}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:a=>Xo(a)||Zt(a)||Pe(a)?{value:a,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Kn(9,a=>{n("toolbar"+(a+1),{processor:"string"})}),n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:Pu.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:t.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("ui_mode",{processor:"string",default:"combined"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:s,default:"#top"}),n("anchor_bottom",{processor:s,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:a=>a==="both"||Xo(a),default:!cl.deviceType.isTouch()}),n("sidebar_show",{processor:"string"}),n("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),n("default_font_stack",{processor:"string[]",default:[]})},ix=Jt("readonly"),Vm=Jt("disabled"),I0=Jt("height"),V0=Jt("width"),L0=Zu(Jt("min_width")),B0=Zu(Jt("min_height")),Lm=Zu(Jt("max_width")),R0=Zu(Jt("max_height")),lx=Zu(Jt("style_formats")),ux=Jt("style_formats_merge"),dx=Jt("style_formats_autohide"),mx=Jt("content_langs"),hx=Jt("removed_menuitems"),il=Jt("toolbar_mode"),gx=Jt("toolbar_groups"),z0=Jt("toolbar_location"),CF=Jt("fixed_toolbar_container"),TF=Jt("fixed_toolbar_container_target"),px=Jt("toolbar_persist"),fx=Jt("toolbar_sticky_offset"),vx=Jt("menubar"),Bm=Jt("toolbar"),bx=Jt("file_picker_callback"),yx=Jt("file_picker_validator_handler"),xx=Jt("font_size_input_default_unit"),Sx=Jt("file_picker_types"),wx=Jt("typeahead_urls"),Cx=Jt("anchor_top"),Tx=Jt("anchor_bottom"),_x=Jt("draggable_modal"),Mx=Jt("statusbar"),Ox=Jt("elementpath"),P0=Jt("branding"),kx=Jt("resize"),Ex=Jt("paste_as_text"),Ax=Jt("sidebar_show"),Dx=Jt("promotion"),Hx=Jt("help_accessibility"),$x=Jt("default_font_stack"),Fx=Jt("skin"),Z0=t=>t.options.get("skin")===!1,Rm=t=>t.options.get("menubar")!==!1,Ix=t=>{const e=t.options.get("skin_url");if(Z0(t))return e;if(e)return t.documentBaseURI.toAbsolute(e);{const o=t.options.get("skin");return wF.baseURL+"/skins/ui/"+o}},_F=t=>d.from(t.options.get("skin_url")),Vx=t=>t.options.get("line_height_formats").split(" "),zm=t=>{const e=Bm(t),o=Zt(e),n=Pe(e)&&e.length>0;return!Nu(t)&&(n||o||e===!0)},N0=t=>{const e=Kn(9,n=>t.options.get("toolbar"+(n+1))),o=oe(e,Zt);return No(o.length>0,o)},Nu=t=>N0(t).fold(()=>{const e=Bm(t);return St(e,Zt)&&e.length>0},ye),U0=t=>z0(t)===Pu.bottom,Lx=t=>{var e;if(!t.inline)return d.none();const o=(e=CF(t))!==null&&e!==void 0?e:"";if(o.length>0)return te(Sr(),o);const n=TF(t);return xe(n)?d.some(j.fromDom(n)):d.none()},ll=t=>t.inline&&Lx(t).isSome(),W0=t=>Lx(t).getOrThunk(()=>Oa(Oo(j.fromDom(t.getElement())))),G0=t=>t.inline&&!Rm(t)&&!zm(t)&&!Nu(t),ul=t=>(t.options.get("toolbar_sticky")||t.inline)&&!ll(t)&&!G0(t),Wa=t=>!ll(t)&&t.options.get("ui_mode")==="split",Bx=t=>{const e=t.options.get("menu");return He(e,o=>({...o,items:o.items}))};var MF=Object.freeze({__proto__:null,get ToolbarMode(){return os},get ToolbarLocation(){return Pu},register:cx,getSkinUrl:Ix,getSkinUrlOption:_F,isReadOnly:ix,isDisabled:Vm,getSkin:Fx,isSkinDisabled:Z0,getHeightOption:I0,getWidthOption:V0,getMinWidthOption:L0,getMinHeightOption:B0,getMaxWidthOption:Lm,getMaxHeightOption:R0,getUserStyleFormats:lx,shouldMergeStyleFormats:ux,shouldAutoHideStyleFormats:dx,getLineHeightFormats:Vx,getContentLanguages:mx,getRemovedMenuItems:hx,isMenubarEnabled:Rm,isMultipleToolbars:Nu,isToolbarEnabled:zm,isToolbarPersist:px,getMultipleToolbarsOption:N0,getUiContainer:W0,useFixedContainer:ll,isSplitUiMode:Wa,getToolbarMode:il,isDraggableModal:_x,isDistractionFree:G0,isStickyToolbar:ul,getStickyToolbarOffset:fx,getToolbarLocation:z0,isToolbarLocationBottom:U0,getToolbarGroups:gx,getMenus:Bx,getMenubar:vx,getToolbar:Bm,getFilePickerCallback:bx,getFilePickerTypes:Sx,useTypeaheadUrls:wx,getAnchorTop:Cx,getAnchorBottom:Tx,getFilePickerValidatorHandler:yx,getFontSizeInputDefaultUnit:xx,useStatusBar:Mx,useElementPath:Ox,promotionEnabled:Dx,useBranding:P0,getResize:kx,getPasteAsText:Ex,getSidebarShow:Ax,useHelpAccessibility:Hx,getDefaultFontStack:$x});const OF=["visible","hidden","clip"],Rx=t=>hc(t).length>0&&!fe(OF,t),zx=t=>{if(Yd(t)){const e=h(t,"overflow-x"),o=h(t,"overflow-y");return Rx(e)||Rx(o)}else return!1},Px=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),kF=(t,e)=>{const o=cv(e,zx),n=o.length===0?Ii(e).map(Vi).map(s=>cv(s,zx)).getOr([]):o;return mn(n).map(s=>({element:s,others:n.slice(1),isFullscreen:()=>Px(t)}))},Ga=(t,e)=>Wa(t)?kF(t,e):d.none(),Kc=t=>{const e=[...Y(t.others,mo),Vo()];return t.isFullscreen()?Vo():Q7(mo(t.element),e)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Zx,setPrototypeOf:Nx,isFrozen:EF,getPrototypeOf:AF,getOwnPropertyDescriptor:DF}=Object;let{freeze:Mn,seal:Ds,create:Ux}=Object,{apply:j0,construct:Y0}=typeof Reflect<"u"&&Reflect;Mn||(Mn=function(e){return e}),Ds||(Ds=function(e){return e}),j0||(j0=function(e,o,n){return e.apply(o,n)}),Y0||(Y0=function(e,o){return new e(...o)});const Pm=kn(Array.prototype.forEach),HF=kn(Array.prototype.lastIndexOf),Wx=kn(Array.prototype.pop),Uu=kn(Array.prototype.push),$F=kn(Array.prototype.splice),Zm=kn(String.prototype.toLowerCase),X0=kn(String.prototype.toString),Gx=kn(String.prototype.match),Wu=kn(String.prototype.replace),FF=kn(String.prototype.indexOf),IF=kn(String.prototype.trim),sr=kn(Object.prototype.hasOwnProperty),On=kn(RegExp.prototype.test),Gu=VF(TypeError);function kn(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++)n[s-1]=arguments[s];return j0(t,e,n)}}function VF(t){return function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return Y0(t,o)}}function se(t,e){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zm;Nx&&Nx(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const r=o(s);r!==s&&(EF(e)||(e[n]=r),s=r)}t[s]=!0}return t}function LF(t){for(let e=0;e<t.length;e++)sr(t,e)||(t[e]=null);return t}function qc(t){const e=Ux(null);for(const[o,n]of Zx(t))sr(t,o)&&(Array.isArray(n)?e[o]=LF(n):n&&typeof n=="object"&&n.constructor===Object?e[o]=qc(n):e[o]=n);return e}function ju(t,e){for(;t!==null;){const n=DF(t,e);if(n){if(n.get)return kn(n.get);if(typeof n.value=="function")return kn(n.value)}t=AF(t)}function o(){return null}return o}const jx=Mn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),K0=Mn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q0=Mn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),BF=Mn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),J0=Mn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),RF=Mn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Yx=Mn(["#text"]),Xx=Mn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Q0=Mn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Kx=Mn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nm=Mn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),zF=Ds(/\{\{[\w\W]*|[\w\W]*\}\}/gm),PF=Ds(/<%[\w\W]*|[\w\W]*%>/gm),ZF=Ds(/\$\{[\w\W]*/gm),NF=Ds(/^data-[\-\w.\u00B7-\uFFFF]+$/),UF=Ds(/^aria-[\-\w]+$/),qx=Ds(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WF=Ds(/^(?:\w+script|data):/i),GF=Ds(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jx=Ds(/^html$/i),jF=Ds(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qx=Object.freeze({__proto__:null,ARIA_ATTR:UF,ATTR_WHITESPACE:GF,CUSTOM_ELEMENT:jF,DATA_ATTR:NF,DOCTYPE_NAME:Jx,ERB_EXPR:PF,IS_ALLOWED_URI:qx,IS_SCRIPT_OR_DATA:WF,MUSTACHE_EXPR:zF,TMPLIT_EXPR:ZF});const Yu={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},YF=function(){return typeof window>"u"?null:window},XF=function(e,o){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";o&&o.hasAttribute(s)&&(n=o.getAttribute(s));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},t5=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function e5(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:YF();const e=At=>e5(At);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==Yu.document||!t.Element)return e.isSupported=!1,e;let{document:o}=t;const n=o,s=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:c,Element:i,NodeFilter:u,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:p,trustedTypes:v}=t,y=i.prototype,w=ju(y,"cloneNode"),T=ju(y,"remove"),x=ju(y,"nextSibling"),M=ju(y,"childNodes"),O=ju(y,"parentNode");if(typeof a=="function"){const At=o.createElement("template");At.content&&At.content.ownerDocument&&(o=At.content.ownerDocument)}let D,$="";const{implementation:G,createNodeIterator:R,createDocumentFragment:F,getElementsByTagName:X}=o,{importNode:at}=n;let tt=t5();e.isSupported=typeof Zx=="function"&&typeof O=="function"&&G&&G.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ot,ERB_EXPR:ht,TMPLIT_EXPR:yt,DATA_ATTR:Q,ARIA_ATTR:L,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:lt,CUSTOM_ELEMENT:xt}=Qx;let{IS_ALLOWED_URI:nt}=Qx,bt=null;const Xt=se({},[...jx,...K0,...q0,...J0,...Yx]);let jt=null;const Ro=se({},[...Xx,...Q0,...Kx,...Nm]);let he=Object.seal(Ux(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),an=null,co=null,cn=!0,ln=!0,Gn=!1,ui=!0,Is=!1,pd=!0,ma=!1,fd=!1,N2=!1,Tl=!1,Ah=!1,Dh=!1,P8=!0,Z8=!1;const lj="user-content-";let U2=!0,vd=!1,_l={},Ml=null;const N8=se({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let U8=null;const W8=se({},["audio","video","img","source","image","track"]);let W2=null;const G8=se({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Hh="http://www.w3.org/1998/Math/MathML",$h="http://www.w3.org/2000/svg",ha="http://www.w3.org/1999/xhtml";let Ol=ha,G2=!1,j2=null;const uj=se({},[Hh,$h,ha],X0);let Fh=se({},["mi","mo","mn","ms","mtext"]),Ih=se({},["annotation-xml"]);const dj=se({},["title","style","font","a","script"]);let bd=null;const mj=["application/xhtml+xml","text/html"],hj="text/html";let zo=null,kl=null;const gj=o.createElement("form"),j8=function(H){return H instanceof RegExp||H instanceof Function},Y2=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(kl&&kl===H)){if((!H||typeof H!="object")&&(H={}),H=qc(H),bd=mj.indexOf(H.PARSER_MEDIA_TYPE)===-1?hj:H.PARSER_MEDIA_TYPE,zo=bd==="application/xhtml+xml"?X0:Zm,bt=sr(H,"ALLOWED_TAGS")?se({},H.ALLOWED_TAGS,zo):Xt,jt=sr(H,"ALLOWED_ATTR")?se({},H.ALLOWED_ATTR,zo):Ro,j2=sr(H,"ALLOWED_NAMESPACES")?se({},H.ALLOWED_NAMESPACES,X0):uj,W2=sr(H,"ADD_URI_SAFE_ATTR")?se(qc(G8),H.ADD_URI_SAFE_ATTR,zo):G8,U8=sr(H,"ADD_DATA_URI_TAGS")?se(qc(W8),H.ADD_DATA_URI_TAGS,zo):W8,Ml=sr(H,"FORBID_CONTENTS")?se({},H.FORBID_CONTENTS,zo):N8,an=sr(H,"FORBID_TAGS")?se({},H.FORBID_TAGS,zo):{},co=sr(H,"FORBID_ATTR")?se({},H.FORBID_ATTR,zo):{},_l=sr(H,"USE_PROFILES")?H.USE_PROFILES:!1,cn=H.ALLOW_ARIA_ATTR!==!1,ln=H.ALLOW_DATA_ATTR!==!1,Gn=H.ALLOW_UNKNOWN_PROTOCOLS||!1,ui=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Is=H.SAFE_FOR_TEMPLATES||!1,pd=H.SAFE_FOR_XML!==!1,ma=H.WHOLE_DOCUMENT||!1,Tl=H.RETURN_DOM||!1,Ah=H.RETURN_DOM_FRAGMENT||!1,Dh=H.RETURN_TRUSTED_TYPE||!1,N2=H.FORCE_BODY||!1,P8=H.SANITIZE_DOM!==!1,Z8=H.SANITIZE_NAMED_PROPS||!1,U2=H.KEEP_CONTENT!==!1,vd=H.IN_PLACE||!1,nt=H.ALLOWED_URI_REGEXP||qx,Ol=H.NAMESPACE||ha,Fh=H.MATHML_TEXT_INTEGRATION_POINTS||Fh,Ih=H.HTML_INTEGRATION_POINTS||Ih,he=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&j8(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&j8(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(he.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Is&&(ln=!1),Ah&&(Tl=!0),_l&&(bt=se({},Yx),jt=[],_l.html===!0&&(se(bt,jx),se(jt,Xx)),_l.svg===!0&&(se(bt,K0),se(jt,Q0),se(jt,Nm)),_l.svgFilters===!0&&(se(bt,q0),se(jt,Q0),se(jt,Nm)),_l.mathMl===!0&&(se(bt,J0),se(jt,Kx),se(jt,Nm))),H.ADD_TAGS&&(bt===Xt&&(bt=qc(bt)),se(bt,H.ADD_TAGS,zo)),H.ADD_ATTR&&(jt===Ro&&(jt=qc(jt)),se(jt,H.ADD_ATTR,zo)),H.ADD_URI_SAFE_ATTR&&se(W2,H.ADD_URI_SAFE_ATTR,zo),H.FORBID_CONTENTS&&(Ml===N8&&(Ml=qc(Ml)),se(Ml,H.FORBID_CONTENTS,zo)),U2&&(bt["#text"]=!0),ma&&se(bt,["html","head","body"]),bt.table&&(se(bt,["tbody"]),delete an.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw Gu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Gu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');D=H.TRUSTED_TYPES_POLICY,$=D.createHTML("")}else D===void 0&&(D=XF(v,s)),D!==null&&typeof $=="string"&&($=D.createHTML(""));Mn&&Mn(H),kl=H}},Y8=se({},[...K0,...q0,...BF]),X8=se({},[...J0,...RF]),pj=function(H){let rt=O(H);(!rt||!rt.tagName)&&(rt={namespaceURI:Ol,tagName:"template"});const kt=Zm(H.tagName),to=Zm(rt.tagName);return j2[H.namespaceURI]?H.namespaceURI===$h?rt.namespaceURI===ha?kt==="svg":rt.namespaceURI===Hh?kt==="svg"&&(to==="annotation-xml"||Fh[to]):!!Y8[kt]:H.namespaceURI===Hh?rt.namespaceURI===ha?kt==="math":rt.namespaceURI===$h?kt==="math"&&Ih[to]:!!X8[kt]:H.namespaceURI===ha?rt.namespaceURI===$h&&!Ih[to]||rt.namespaceURI===Hh&&!Fh[to]?!1:!X8[kt]&&(dj[kt]||!Y8[kt]):!!(bd==="application/xhtml+xml"&&j2[H.namespaceURI]):!1},$r=function(H){Uu(e.removed,{element:H});try{O(H).removeChild(H)}catch{T(H)}},yd=function(H,rt){try{Uu(e.removed,{attribute:rt.getAttributeNode(H),from:rt})}catch{Uu(e.removed,{attribute:null,from:rt})}if(rt.removeAttribute(H),H==="is")if(Tl||Ah)try{$r(rt)}catch{}else try{rt.setAttribute(H,"")}catch{}},K8=function(H){let rt=null,kt=null;if(N2)H="<remove></remove>"+H;else{const Po=Gx(H,/^[\r\n\t ]+/);kt=Po&&Po[0]}bd==="application/xhtml+xml"&&Ol===ha&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const to=D?D.createHTML(H):H;if(Ol===ha)try{rt=new p().parseFromString(to,bd)}catch{}if(!rt||!rt.documentElement){rt=G.createDocument(Ol,"template",null);try{rt.documentElement.innerHTML=G2?$:to}catch{}}const un=rt.body||rt.documentElement;return H&&kt&&un.insertBefore(o.createTextNode(kt),un.childNodes[0]||null),Ol===ha?X.call(rt,ma?"html":"body")[0]:ma?rt.documentElement:un},q8=function(H){return R.call(H.ownerDocument||H,H,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},X2=function(H){return H instanceof g&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof m)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},J8=function(H){return typeof c=="function"&&H instanceof c};function ga(At,H,rt){Pm(At,kt=>{kt.call(e,H,rt,kl)})}const Q8=function(H){let rt=null;if(ga(tt.beforeSanitizeElements,H,null),X2(H))return $r(H),!0;const kt=zo(H.nodeName);if(ga(tt.uponSanitizeElement,H,{tagName:kt,allowedTags:bt}),H.hasChildNodes()&&!J8(H.firstElementChild)&&On(/<[/\w]/g,H.innerHTML)&&On(/<[/\w]/g,H.textContent)||H.nodeType===Yu.progressingInstruction||pd&&H.nodeType===Yu.comment&&On(/<[/\w]/g,H.data))return $r(H),!0;if(!bt[kt]||an[kt]){if(!an[kt]&&e7(kt)&&(he.tagNameCheck instanceof RegExp&&On(he.tagNameCheck,kt)||he.tagNameCheck instanceof Function&&he.tagNameCheck(kt)))return!1;if(U2&&!Ml[kt]){const to=O(H)||H.parentNode,un=M(H)||H.childNodes;if(un&&to){const Po=un.length;for(let jn=Po-1;jn>=0;--jn){const Fr=w(un[jn],!0);Fr.__removalCount=(H.__removalCount||0)+1,to.insertBefore(Fr,x(H))}}}return $r(H),!0}return H instanceof i&&!pj(H)||(kt==="noscript"||kt==="noembed"||kt==="noframes")&&On(/<\/no(script|embed|frames)/i,H.innerHTML)?($r(H),!0):(Is&&H.nodeType===Yu.text&&(rt=H.textContent,Pm([Ot,ht,yt],to=>{rt=Wu(rt,to," ")}),H.textContent!==rt&&(Uu(e.removed,{element:H.cloneNode()}),H.textContent=rt)),ga(tt.afterSanitizeElements,H,null),!1)},t7=function(H,rt,kt){if(P8&&(rt==="id"||rt==="name")&&(kt in o||kt in gj))return!1;if(!(ln&&!co[rt]&&On(Q,rt))){if(!(cn&&On(L,rt))){if(!jt[rt]||co[rt]){if(!(e7(H)&&(he.tagNameCheck instanceof RegExp&&On(he.tagNameCheck,H)||he.tagNameCheck instanceof Function&&he.tagNameCheck(H))&&(he.attributeNameCheck instanceof RegExp&&On(he.attributeNameCheck,rt)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(rt))||rt==="is"&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&On(he.tagNameCheck,kt)||he.tagNameCheck instanceof Function&&he.tagNameCheck(kt))))return!1}else if(!W2[rt]){if(!On(nt,Wu(kt,lt,""))){if(!((rt==="src"||rt==="xlink:href"||rt==="href")&&H!=="script"&&FF(kt,"data:")===0&&U8[H])){if(!(Gn&&!On(Z,Wu(kt,lt,"")))){if(kt)return!1}}}}}}return!0},e7=function(H){return H!=="annotation-xml"&&Gx(H,xt)},o7=function(H){ga(tt.beforeSanitizeAttributes,H,null);const{attributes:rt}=H;if(!rt||X2(H))return;const kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:jt,forceKeepAttr:void 0};let to=rt.length;for(;to--;){const un=rt[to],{name:Po,namespaceURI:jn,value:Fr}=un,xd=zo(Po);let Yo=Po==="value"?Fr:IF(Fr);const vj=Yo;if(kt.attrName=xd,kt.attrValue=Yo,kt.keepAttr=!0,kt.forceKeepAttr=void 0,ga(tt.uponSanitizeAttribute,H,kt),Yo=kt.attrValue,Z8&&(xd==="id"||xd==="name")&&(yd(Po,H),Yo=lj+Yo),pd&&On(/((--!?|])>)|<\/(style|title)/i,Yo)){yd(Po,H);continue}if(kt.forceKeepAttr)continue;if(!kt.keepAttr){yd(Po,H);continue}if(!ui&&On(/\/>/i,Yo)){yd(Po,H);continue}Is&&Pm([Ot,ht,yt],s7=>{Yo=Wu(Yo,s7," ")});const n7=zo(H.nodeName);if(!t7(n7,xd,Yo)){yd(Po,H);continue}if(D&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!jn)switch(v.getAttributeType(n7,xd)){case"TrustedHTML":{Yo=D.createHTML(Yo);break}case"TrustedScriptURL":{Yo=D.createScriptURL(Yo);break}}if(Yo!==vj)try{jn?H.setAttributeNS(jn,Po,Yo):H.setAttribute(Po,Yo),X2(H)?$r(H):Wx(e.removed)}catch{}}ga(tt.afterSanitizeAttributes,H,null)},fj=function At(H){let rt=null;const kt=q8(H);for(ga(tt.beforeSanitizeShadowDOM,H,null);rt=kt.nextNode();)ga(tt.uponSanitizeShadowNode,rt,null),Q8(rt),o7(rt),rt.content instanceof r&&At(rt.content);ga(tt.afterSanitizeShadowDOM,H,null)};return e.sanitize=function(At){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=null,kt=null,to=null,un=null;if(G2=!At,G2&&(At="<!-->"),typeof At!="string"&&!J8(At))if(typeof At.toString=="function"){if(At=At.toString(),typeof At!="string")throw Gu("dirty is not a string, aborting")}else throw Gu("toString is not a function");if(!e.isSupported)return At;if(fd||Y2(H),e.removed=[],typeof At=="string"&&(vd=!1),vd){if(At.nodeName){const Fr=zo(At.nodeName);if(!bt[Fr]||an[Fr])throw Gu("root node is forbidden and cannot be sanitized in-place")}}else if(At instanceof c)rt=K8("<!---->"),kt=rt.ownerDocument.importNode(At,!0),kt.nodeType===Yu.element&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?rt=kt:rt.appendChild(kt);else{if(!Tl&&!Is&&!ma&&At.indexOf("<")===-1)return D&&Dh?D.createHTML(At):At;if(rt=K8(At),!rt)return Tl?null:Dh?$:""}rt&&N2&&$r(rt.firstChild);const Po=q8(vd?At:rt);for(;to=Po.nextNode();)Q8(to),o7(to),to.content instanceof r&&fj(to.content);if(vd)return At;if(Tl){if(Ah)for(un=F.call(rt.ownerDocument);rt.firstChild;)un.appendChild(rt.firstChild);else un=rt;return(jt.shadowroot||jt.shadowrootmode)&&(un=at.call(n,un,!0)),un}let jn=ma?rt.outerHTML:rt.innerHTML;return ma&&bt["!doctype"]&&rt.ownerDocument&&rt.ownerDocument.doctype&&rt.ownerDocument.doctype.name&&On(Jx,rt.ownerDocument.doctype.name)&&(jn="<!DOCTYPE "+rt.ownerDocument.doctype.name+`>
`+jn),Is&&Pm([Ot,ht,yt],Fr=>{jn=Wu(jn,Fr," ")}),D&&Dh?D.createHTML(jn):jn},e.setConfig=function(){let At=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Y2(At),fd=!0},e.clearConfig=function(){kl=null,fd=!1},e.isValidAttribute=function(At,H,rt){kl||Y2({});const kt=zo(At),to=zo(H);return t7(kt,to,rt)},e.addHook=function(At,H){typeof H=="function"&&Uu(tt[At],H)},e.removeHook=function(At,H){if(H!==void 0){const rt=HF(tt[At],H);return rt===-1?void 0:$F(tt[At],rt,1)[0]}return Wx(tt[At])},e.removeHooks=function(At){tt[At]=[]},e.removeAllHooks=function(){tt=t5()},e}var KF=e5();const o5=t=>KF().sanitize(t);var ns=tinymce.util.Tools.resolve("tinymce.util.I18n");const qF={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},n5="temporary-placeholder",tf=t=>()=>dt(t,n5).getOr("!not found!"),ef=(t,e)=>{const o=t.toLowerCase();if(ns.isRtl()){const n=ki(o,"-rtl");return Lt(e,n)?n:o}else return o},s5=(t,e)=>dt(e,ef(t,e)),r5=(t,e)=>{const o=e();return s5(t,o).getOrThunk(tf(o))},JF=(t,e,o)=>{const n=e();return s5(t,n).or(o).getOrThunk(tf(n))},QF=t=>ns.isRtl()?Lt(qF,t):!1,a5=()=>ft("add-focusable",[ie(t=>{gg(t.element,"svg").each(e=>pt(e,"focusable","false"))})]),c5=(t,e,o,n)=>{var s,r;const a=QF(e)?["tox-icon--flip"]:[],c=dt(o,ef(e,o)).or(n).getOrThunk(tf(o));return{dom:{tag:t.tag,attributes:(s=t.attributes)!==null&&s!==void 0?s:{},classes:t.classes.concat(a),innerHtml:c},behaviours:P([...(r=t.behaviours)!==null&&r!==void 0?r:[],a5()])}},Wn=(t,e,o,n=d.none())=>c5(e,t,o(),n),tI=(t,e,o)=>{const n=o(),s=le(t,r=>Lt(n,ef(r,n)));return c5(e,s.getOr(n5),n,d.none())},eI={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},of=Nn({name:"Notification",factory:t=>{const e=K("notification-text"),o=Ut({dom:sa(`<p id=${e}>${o5(t.backstageProvider.translate(t.text))}</p>`),behaviours:P([vt.config({})])}),n=y=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${y}%`}}}),s=y=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${y}%`}}),r=Ut({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},s(0)],behaviours:P([vt.config({})])}),i={updateProgress:(y,w)=>{y.getSystem().isConnected()&&r.getOpt(y).each(T=>{vt.set(T,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(w)]},s(w)])})},updateText:(y,w)=>{if(y.getSystem().isConnected()){const T=o.get(y);vt.set(T,[de(w)])}}},u=Le([t.icon.toArray(),[t.level],d.from(eI[t.level]).toArray()]),m=Ut(po.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Wn("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:P([ee.config({}),me.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:y=>{t.onAction(y)}})),g=tI(u,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),p={dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:P([vt.config({})])},v=[g,p];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":e},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},behaviours:P([ee.config({}),mt.config({}),ot.config({mode:"special",onEscape:y=>(t.onAction(y),d.some(!0))})]),components:v.concat(t.progress?[r.asSpec()]:[]).concat([m.asSpec()]),apis:i}},configFields:[Xs("level","info",["success","error","warning","warn","info"]),B("progress"),Wt("icon"),B("onAction"),B("text"),B("iconProvider"),B("backstageProvider")],apis:{updateProgress:(t,e,o)=>{t.updateProgress(e,o)},updateText:(t,e,o)=>{t.updateText(e,o)}}});var oI=(t,e,o,n)=>{const s=e.backstage.shared,r=()=>j.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),a=()=>{const g=mo(r());return d.some(g)},c=g=>{a().each(p=>{it(g,v=>{W(v.element,"width"),yn(v.element)>p.width&&wt(v.element,"width",p.width+"px")})})};return{open:(g,p,v)=>{const y=()=>{const O=R=>{vt.remove(R,T),x()},D=(R,F)=>{Io(R.element).length===0?$(R,F):G(R,F)},$=(R,F)=>{be.hide(R),n.clear(),F&&t.focus()},G=(R,F)=>{F&&ot.focusIn(R)};n.on(R=>{p();const F=v();O(R),D(R,F)})},w=()=>!ul(t)||!s.header.isPositionedAtTop(),T=Ao(of.sketch({text:g.text,level:fe(["success","error","warning","warn","info"],g.type)?g.type:void 0,progress:g.progressBar===!0,icon:g.icon,onAction:y,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(n.isSet()){const O=Zn(T);n.on(D=>{vt.append(D,O),be.reposition(D),T.hasConfigured(pe)&&pe.refresh(D),c(D.components())})}else{const O=Ao(be.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:P([ot.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),vt.config({}),...w()?[pe.config({contextual:{lazyContext:()=>d.some(mo(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:R=>Ga(t,R.element).map(X=>({bounds:Kc(X),optScrollEnv:d.some({currentScrollTop:X.element.dom.scrollTop,scrollElmTop:ps(X.element).top})})).getOrThunk(()=>({bounds:Vo(),optScrollEnv:d.none()}))})]:[]])})),D=Zn(T),$={maxHeightFunction:Yi()},G={...s.anchors.banner(),overrides:$};n.set(O),o.add(O),be.showWithinBounds(O,D,{anchor:G},a)}Hn(g.timeout)&&g.timeout>0&&Im.setEditorTimeout(t,()=>{y()},g.timeout);const x=()=>{n.on(O=>{be.reposition(O),O.hasConfigured(pe)&&pe.refresh(O),c(O.components())})};return{close:y,reposition:x,text:O=>{of.updateText(T,O)},settings:g,getEl:()=>T.element.dom,progressBar:{value:O=>{of.updateProgress(T,O)}}}},close:g=>{g.close()},getArgs:g=>g.settings}};const nI={setup:(t,e)=>{const o=(s,r)=>{ct(s,Ks(),{raw:r})},n=()=>t.getMenu().bind(Gt.getHighlighted);e.on("keydown",s=>{const r=s.which;t.isActive()&&(t.isMenuOpen()?r===13?(n().each(Ic),s.preventDefault()):r===40?(n().fold(()=>{t.getMenu().each(Gt.highlightFirst)},a=>{o(a,s)}),s.preventDefault(),s.stopImmediatePropagation()):(r===37||r===38||r===39)&&n().each(a=>{o(a,s),s.preventDefault(),s.stopImmediatePropagation()}):(r===13||r===38||r===40)&&t.cancelIfNecessary())}),e.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!e.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var nf;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(nf||(nf={}));var Hs=nf;const sf="tox-menu-nav__js",Um="tox-collection__item",rf="tox-swatch",sI={normal:sf,color:rf},af="tox-collection__item--enabled",rI="tox-collection__group-heading",i5="tox-collection__item-icon",aI="tox-collection__item-image",cI="tox-collection__item-image-selector",cf="tox-collection__item-label",iI="tox-collection__item-accessory",l5="tox-collection__item-caret",lI="tox-collection__item-checkmark",Jc="tox-collection__item--active",u5="tox-collection__item-container",uI="tox-collection__item-container--column",d5="tox-collection__item-container--row",dI="tox-collection__item-container--align-right",mI="tox-collection__item-container--align-left",hI="tox-collection__item-container--valign-top",gI="tox-collection__item-container--valign-middle",pI="tox-collection__item-container--valign-bottom",m5=t=>dt(sI,t).getOr(sf),fI=t=>t==="color"?"tox-swatches":"tox-menu",lf=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:fI(t),tieredMenu:"tox-tiered-menu"}),ja=t=>{const e=lf(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:m5(t)}},vI=(t,e,o)=>{const n=lf(o);return{tag:"div",classes:Le([[n.menu,`tox-menu-${e}-column`],t?[n.hasIcons]:[]])}},bI=[aa.parts.items({})],Wm=(t,e,o)=>{const n=lf(o);return{dom:{tag:"div",classes:Le([[n.tieredMenu]])},markers:ja(o)}},h5=K("refetch-trigger-event"),g5=K("redirect-menu-item-interaction"),p5="tox-menu__searcher",Gm=t=>te(t.element,`.${p5}`).bind(e=>t.getSystem().getByDom(e).toOptional()),f5=Gm,yI=(t,e)=>{q.setValue(t,e.fetchPattern),t.element.dom.selectionStart=e.selectionStart,t.element.dom.selectionEnd=e.selectionEnd},v5=t=>{const e=q.getValue(t),o=t.element.dom.selectionStart,n=t.element.dom.selectionEnd;return{fetchPattern:e,selectionStart:o,selectionEnd:n}},xI=(t,e)=>{Ye(e.element,"id").each(o=>pt(t.element,"aria-activedescendant",o))},SI=t=>{const e=(s,r)=>(r.cut(),d.none()),o=(s,r)=>{const a={interactionEvent:r.event,eventType:r.event.raw.type};return ct(s,g5,a),d.some(!0)},n="searcher-events";return{dom:{tag:"div",classes:[Um]},components:[ca.sketch({inputClasses:[p5,"tox-textfield"],inputAttributes:{...t.placeholder.map(s=>({placeholder:t.i18n(s)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:P([ft(n,[I(qr(),s=>{Dt(s,h5)}),I(Ks(),(s,r)=>{r.event.raw.key==="Escape"&&r.stop()})]),ot.config({mode:"special",onLeft:e,onRight:e,onSpace:e,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,ot.name()]}})]}},jm="tox-collection--results__js",b5=t=>{var e;return t.dom?{...t,dom:{...t.dom,attributes:{...(e=t.dom.attributes)!==null&&e!==void 0?e:{},id:K("aria-item-search-result-id"),"aria-selected":"false"}}}:t},Ym=(t,e)=>o=>{const n=gi(o,e);return Y(n,s=>({dom:t,components:s}))},wI=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[aa.parts.items({preprocess:t!=="auto"?Ym({tag:"div",classes:["tox-swatches__row"]},t):Ft})]}]}),CI=t=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[aa.parts.items({preprocess:t!=="auto"?Ym({tag:"div",classes:["tox-image-selector__row"]},t):Ft})]}]}),TI=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[aa.parts.items({preprocess:Ym({tag:"div",classes:["tox-collection__group"]},t)})]}),y5=(t,e)=>{const o=[];let n=[];return it(t,(s,r)=>{e(s,r)?(n.length>0&&o.push(n),n=[],(Lt(s.dom,"innerHtml")||s.components&&s.components.length>0)&&n.push(s)):n.push(s)}),n.length>0&&o.push(n),Y(o,s=>({dom:{tag:"div",classes:["tox-collection__group"]},components:s}))},uf=(t,e,o)=>aa.parts.items({preprocess:n=>{const s=Y(n,o);return t!=="auto"&&t>1?Ym({tag:"div",classes:["tox-collection__group"]},t)(s):y5(s,(r,a)=>e[a].type==="separator")}}),x5=(t,e,o=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[uf(t,e,Ft)]}),_I=(t,e,o=!0)=>{const n=K("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",jm].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[uf(t,e,b5)]}},MI=(t,e,o)=>{const n=K("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[SI({i18n:ns.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],jm],attributes:{id:n}},components:[uf(t,e,b5)]}]}},OI=(t,e=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[aa.parts.items({preprocess:o=>y5(o,(n,s)=>t[s].type==="separator")})]}),Xu=t=>fo(t,e=>"icon"in e&&e.icon!==void 0),rr=t=>(console.error(Ui(t)),console.log(t),d.none()),kI=(t,e,o,n,s)=>{const r=OI(o);return{value:t,dom:r.dom,components:r.components,items:o}},df=(t,e,o,n,s)=>{const r=()=>s.menuType!=="searchable"?x5(n,o):s.searchMode.searchMode==="search-with-field"?MI(n,o,s.searchMode):_I(n,o);if(s.menuType==="color"){const a=wI(n);return{value:t,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="imageselector"&&n!=="auto"){const a=CI(n);return{value:t,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="normal"&&n==="auto"){const a=x5(n,o);return{value:t,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="normal"||s.menuType==="searchable"){const a=r();return{value:t,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="listpreview"&&n!=="auto"){const a=TI(n);return{value:t,dom:a.dom,components:a.components,items:o}}else return{value:t,dom:vI(e,n,s.menuType),components:bI,items:o}},De=oo("type"),mf=oo("name"),Xm=oo("label"),la=oo("text"),S5=oo("title"),hf=oo("icon"),EI=oo("url"),dl=oo("value"),AI=xs("fetch"),DI=xs("getSubmenuItems"),ml=xs("onAction"),HI=xs("onItemAction"),Qc=ce("onSetup",()=>N),$I=Re("name"),Ya=Re("text"),FI=Re("role"),ss=Re("icon"),ti=Re("tooltip"),Ku=Re("label"),gf=Re("shortcut"),II=Xr("select"),hl=ko("active",!1),VI=ko("borderless",!1),$s=ko("enabled",!0),Km=ko("primary",!1),w5=t=>A("columns",t),pf=A("meta",{}),ff=ce("onAction",N),ei=t=>Ce("type",t),vf=t=>yo("name","name",y1(()=>K(`${t}-name`)),eo),LI=t=>yo("value","value",y1(()=>K(`${t}-value`)),vs()),BI=[De,la,ys("level",["info","warn","error","success"]),hf,A("url","")],RI=gt(BI),zI=t=>[De,t],PI=[De,la,$s,vf("button"),ss,VI,Av("buttonType",["primary","secondary","toolbar"]),Km,Ce("context","mode:design")],ZI=gt(PI),gl=[De,mf],ar=gl.concat([Ku]),NI=gl.concat([Xm,$s,Ce("context","mode:design")]),UI=gt(NI),WI=b1,GI=ar.concat([w5("auto"),Ce("context","mode:design")]),jI=gt(GI),YI=w1([dl,la,hf]),XI=ar.concat([Ce("storageKey","default"),Ce("context","mode:design")]),KI=gt(XI),qI=eo,JI=gt(ar),QI=eo,tV=gl.concat([Ce("tag","textarea"),oo("scriptId"),oo("scriptUrl"),Xr("onFocus"),AC("settings",void 0)]),eV=gl.concat([Ce("tag","textarea"),xs("init")]),oV=mu(t=>we("customeditor.old",Ln(eV),t).orThunk(()=>we("customeditor.new",Ln(tV),t))),nV=eo,Xa=[$s,Ya,FI,gf,LI("menuitem"),pf,Ce("context","mode:design")],sV=gt([De,mf].concat(Xa)),rV=b1,bf=[vf("button"),ss,Xs("align","end",["start","end"]),Km,$s,Av("buttonType",["primary","secondary"]),Ce("context","mode:design")],C5=[...bf,la],yf=[ys("type",["submit","cancel","custom"]),...C5],aV=[ys("type",["menu"]),Ya,ti,ss,xn("items",sV),...bf],cV=[...bf,ys("type",["togglebutton"]),ti,ss,Ya,ko("active",!1)],iV=nn("type",{submit:yf,cancel:yf,custom:yf,menu:aV,togglebutton:cV}),lV=ar.concat([Ce("context","mode:design")]),uV=gt(lV),dV=MC(),mV=t=>[De,kv("columns"),t],hV=[De,oo("html"),Xs("presets","presentation",["presentation","document"]),ce("onInit",N),ko("stretched",!1)],gV=gt(hV),pV=ar.concat([ko("border",!1),ko("sandboxed",!0),ko("streamContent",!1),ko("transparent",!0)]),fV=gt(pV),vV=eo,bV=gt(gl.concat([Re("height")])),yV=gt([oo("url"),hu("zoom"),hu("cachedWidth"),hu("cachedHeight")]),xV=ar.concat([Re("inputMode"),Re("placeholder"),ko("maximized",!1),$s,Ce("context","mode:design")]),SV=gt(xV),wV=eo,CV=t=>[De,Xm,t,Xs("align","start",["start","center","end"]),Re("for")],TV=[la,dl],_V=[la,xn("items",Ov("items",()=>T5))],T5=S1([gt(TV),gt(_V)]),MV=ar.concat([xn("items",T5),$s,Ce("context","mode:design")]),OV=gt(MV),kV=eo,EV=ar.concat([Ev("items",[la,dl]),kg("size",1),$s,Ce("context","mode:design")]),AV=gt(EV),DV=eo,HV=ar.concat([ko("constrain",!0),$s,Ce("context","mode:design")]),$V=gt(HV),_5=gt([oo("width"),oo("height")]),FV=gl.concat([Xm,kg("min",0),kg("max",0)]),IV=gt(FV),VV=v1,LV=[De,xn("header",eo),xn("cells",Aa(eo))],BV=gt(LV),RV=ar.concat([Re("placeholder"),ko("maximized",!1),$s,Ce("context","mode:design")]),zV=gt(RV),PV=eo,ZV=[Ce("buttonType","default"),Re("text"),Re("tooltip"),Re("icon"),ts("search",!1,S1([b1,gt([Re("placeholder")])],t=>Xo(t)?t?d.some({placeholder:d.none()}):d.none():d.some(t))),xs("fetch"),ce("onSetup",()=>N),Ce("context","mode:design")],M5=gt([De,...ZV]),O5=t=>we("menubutton",M5,t),k5=[ys("type",["directory","leaf"]),S5,oo("id"),Tr("menu",M5),Re("customStateIcon"),Re("customStateIconTooltip")],E5=gt(k5),NV=k5.concat([xn("children",Ov("children",()=>Ni("type",{directory:A5,leaf:E5})))]),A5=gt(NV),UV=Ni("type",{directory:A5,leaf:E5}),WV=[De,xn("items",UV),Xr("onLeafAction"),Xr("onToggleExpand"),Da("defaultExpandedIds",[],eo),Re("defaultSelectedId")],GV=gt(WV),jV=ar.concat([Xs("filetype","file",["image","media","file"]),$s,Re("picker_text"),Ce("context","mode:design")]),YV=gt(jV),XV=gt([dl,pf]),xf=t=>yo("items","items",Ys(),Aa(mu(e=>we(`Checking item of ${t}`,Sf,e).fold(o=>Mt.error(Ui(o)),o=>Mt.value(o))))),Sf=_v(()=>Ni("type",{alertbanner:RI,bar:gt(zI(xf("bar"))),button:ZI,checkbox:UI,colorinput:KI,colorpicker:JI,dropzone:uV,grid:gt(mV(xf("grid"))),iframe:fV,input:SV,listbox:OV,selectbox:AV,sizeinput:$V,slider:IV,textarea:zV,urlinput:YV,customeditor:oV,htmlpanel:gV,imagepreview:bV,collection:jI,label:gt(CV(xf("label"))),table:BV,tree:GV,panel:D5})),KV=[De,A("classes",[]),xn("items",Sf)],D5=gt(KV),qV=[vf("tab"),S5,xn("items",Sf)],JV=[De,Ev("tabs",qV)],QV=gt(JV),tL=C5,eL=iV,oL=gt([oo("title"),Bn("body",Ni("type",{panel:D5,tabpanel:QV})),Ce("size","normal"),Da("buttons",[],eL),A("initialData",{}),ce("onAction",N),ce("onChange",N),ce("onSubmit",N),ce("onClose",N),ce("onCancel",N),ce("onTabChange",N)]),nL=t=>we("dialog",oL,t),sL=gt([ys("type",["cancel","custom"]),...tL]),rL=gt([oo("title"),oo("url"),hu("height"),hu("width"),Dv("buttons",sL),ce("onAction",N),ce("onCancel",N),ce("onClose",N),ce("onMessage",N)]),aL=t=>we("dialog",rL,t),wf=t=>Dn(t)?[t].concat(Be(xa(t),wf)):Pe(t)?Be(t,wf):[],cL=t=>Zt(t.type)&&Zt(t.name),iL={checkbox:WI,colorinput:qI,colorpicker:QI,dropzone:dV,input:wV,iframe:vV,imagepreview:yV,selectbox:DV,sizeinput:_5,slider:VV,listbox:kV,size:_5,textarea:PV,urlinput:XV,customeditor:nV,collection:YI,togglemenuitem:rV},lL=t=>d.from(iL[t.type]),uL=t=>oe(wf(t),cL),dL=t=>{const e=uL(t),o=Be(e,n=>lL(n).fold(()=>[],s=>[Bn(n.name,s)]));return gt(o)},H5=t=>{var e;const o=bs(nL(t)),n=dL(t),s=(e=t.initialData)!==null&&e!==void 0?e:{};return{internalDialog:o,dataValidator:n,initialData:s}},oi={open:(t,e)=>{const o=H5(e);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(t,e)=>{const o=bs(aL(e));return t(o)},redial:t=>H5(t)},$5=gt([De,Ya]),mL=t=>we("separatormenuitem",$5,t),hL=gt([ei("autocompleteitem"),hl,$s,pf,dl,Ya,ss]),gL=t=>we("Autocompleter.Separator",$5,t),pL=t=>we("Autocompleter.Item",hL,t),pl=[$s,ti,ss,Ya,Qc,Ce("context","mode:design")],fL=gt([De,ml,gf].concat(pl)),Cf=t=>we("toolbarbutton",fL,t),Tf=[hl].concat(pl),vL=gt(Tf.concat([De,ml,gf])),F5=t=>we("ToggleButton",vL,t),qm=[ce("predicate",Qt),Xs("scope","node",["node","editor"]),Xs("position","selection",["node","selection","line"])],bL=pl.concat([ei("contextformbutton"),Ce("align","end"),Km,ml,Go("original",Ft)]),yL=Tf.concat([ei("contextformbutton"),Ce("align","end"),Km,ml,Go("original",Ft)]),xL=pl.concat([ei("contextformbutton")]),SL=Tf.concat([ei("contextformtogglebutton")]),wL=nn("type",{contextformbutton:bL,contextformtogglebutton:yL}),_f=[Ku,xn("commands",wL),Tr("launch",nn("type",{contextformbutton:xL,contextformtogglebutton:SL})),ce("onInput",N),ce("onSetup",N)],CL=[...qm,..._f,ys("type",["contextform"]),ce("initValue",E("")),Re("placeholder")],TL=[...qm,..._f,ys("type",["contextsliderform"]),ce("initValue",E(0)),ce("min",E(0)),ce("max",E(100))],_L=[...qm,..._f,ys("type",["contextsizeinputform"]),ce("initValue",E({width:"",height:""}))],ML=nn("type",{contextform:CL,contextsliderform:TL,contextsizeinputform:_L}),OL=t=>we("ContextForm",ML,t),kL=pl.concat([ei("contexttoolbarbutton")]),EL=gt([ei("contexttoolbar"),Sn("launch",kL),Bn("items",S1([eo,w1([Re("name"),Re("label"),xn("items",eo)])]))].concat(qm)),AL=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),DL=t=>({...t,launch:t.launch.getOrUndefined(),items:Zt(t.items)?t.items:Y(t.items,AL)}),HL=t=>we("ContextToolbar",EL,t),$L=[De,oo("src"),Re("alt"),Da("classes",[],eo)],FL=gt($L),IL=[De,la,$I,Da("classes",["tox-collection__item-label"],eo)],VL=gt(IL),I5=_v(()=>Ni("type",{cardimage:FL,cardtext:VL,cardcontainer:LL})),LL=gt([De,Ce("direction","horizontal"),Ce("align","left"),Ce("valign","middle"),xn("items",I5)]),BL=gt([De,Ku,xn("items",I5),Qc,ff].concat(Xa)),RL=t=>we("cardmenuitem",BL,t),zL=gt([De,hl,ss,Ku].concat(Xa)),PL=t=>we("choicemenuitem",zL,t),Mf=[De,oo("fancytype"),ff],ZL=[A("initData",{})].concat(Mf),NL=[Xr("select"),Eg("initData",{},[ko("allowCustomColors",!0),Ce("storageKey","default"),Dv("colors",vs())])].concat(Mf),UL=[Xr("select"),Yr("initData",[kv("columns"),Da("items",[],vs())])].concat(Mf),WL=nn("fancytype",{inserttable:ZL,colorswatch:NL,imageselect:UL}),GL=t=>we("fancymenuitem",WL,t),jL=gt([De,hl,EI,Ku,ti].concat(Xa)),YL=gt([De,hl,hf,Xm,ti,dl].concat(Xa)),XL=t=>we("imagemenuitem",jL,t),KL=t=>we("resetimageitem",YL,t),qL=gt([De,Qc,ff,ss].concat(Xa)),JL=t=>we("menuitem",qL,t),QL=gt([De,DI,Qc,ss].concat(Xa)),tB=t=>we("nestedmenuitem",QL,t),eB=gt([De,ss,hl,Qc,ml].concat(Xa)),oB=t=>we("togglemenuitem",eB,t),nB=gt([ss,ti,ce("onShow",N),ce("onHide",N),Qc]),sB=t=>we("sidebar",nB,t),rB=gt([De,Bn("items",S1([w1([mf,xn("items",eo)]),eo]))].concat(pl)),aB=t=>we("GroupToolbarButton",rB,t),cB=gt([De,ti,ss,Ya,II,AI,Qc,Xs("presets","normal",["normal","color","listpreview"]),w5(1),ml,HI,Ce("context","mode:design")]),iB=t=>we("SplitButton",cB,t),V5=[Ya,ss,Re("tooltip"),Xs("buttonType","secondary",["primary","secondary"]),ko("borderless",!1),xs("onAction"),Ce("context","mode:design")],lB=[...V5,la,ys("type",["button"])],uB=[...V5,ko("active",!1),ys("type",["togglebutton"])],L5={button:lB,togglebutton:uB},dB=[ys("type",["group"]),Da("buttons",[],nn("type",L5))],mB=nn("type",{...L5,group:dB}),hB=gt([Da("buttons",[],mB),xs("onShow"),xs("onHide")]),gB=t=>we("view",hB,t),Of=(t,e,o)=>{const n=Wo(t.element,"."+o);if(n.length>0){const s=ur(n,r=>{const a=r.dom.getBoundingClientRect().top,c=n[0].dom.getBoundingClientRect().top;return Math.abs(a-c)>e}).getOr(n.length);return d.some({numColumns:s,numRows:Math.ceil(n.length/s)})}else return d.none()},B5=(t,e)=>P([ft(t,e)]),qu={namedEvents:B5,unnamedEvents:t=>B5(K("unnamed-events"),t)},rs={item:t=>et.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>et.config({disabled:t}),splitButton:t=>et.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>et.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Ju=(t,e)=>{const o=t.getApi(e);return n=>{n(o)}},cr=(t,e)=>ie(o=>{$o(t.onBeforeSetup)&&t.onBeforeSetup(o),Ju(t,o)(s=>{const r=t.onSetup(s);$o(r)&&e.set(r)})}),Ka=(t,e)=>Qs(o=>Ju(t,o)(e.get())),kf=(t,e,o)=>Qs(n=>(o.set(q.getValue(n)),Ju(t,n)(e.get()))),R5="silver.uistate",Qu="setDisabled",pB="setEnabled",z5="init",fB=["switchmode",z5],td=(t,e)=>{const o=t.mainUi.outerContainer,n=[t.mainUi.mothership,...t.uiMotherships];e===Qu&&it(n,s=>{s.broadcastOn([ra()],{target:o.element})}),it(n,s=>{s.broadcastOn([R5],e)})},P5=(t,e)=>{t.on("init SwitchMode",o=>{td(e,o.type)}),t.on("DisabledStateChange",o=>{if(!o.isDefaultPrevented()){const n=o.state?Qu:z5;td(e,n),o.state||t.nodeChanged()}}),t.on("NodeChange",o=>{const n=t.ui.isEnabled()?o.type:Qu;td(e,n)}),ix(t)&&t.mode.set("readonly")},Ve=t=>Tn.config({channels:{[R5]:{onReceive:(e,o)=>{if(o===Qu||o===pB){et.set(e,o===Qu);return}const{contextType:n,shouldDisable:s}=t();n==="mode"&&!fe(fB,o)||et.set(e,s)}}}}),vB=(t,e)=>Qr((o,n)=>{Ju(t,o)(t.onAction),!t.triggersSubmenu&&e===Hs.CLOSE_ON_EXECUTE&&(o.getSystem().isConnected()&&Dt(o,_1()),n.stop())}),bB={[zn()]:["disabling","alloy.base.behaviour","toggling","item-events"]},fl=Zs,ni=(t,e,o,n)=>{const s=st(N);return{type:"item",dom:e.dom,components:fl(e.optComponents),data:t.data,eventOrder:bB,hasSubmenu:t.triggersSubmenu,itemBehaviours:P([ft("item-events",[vB(t,o),cr(t,s),Ka(t,s)]),rs.item(()=>!t.enabled||n.checkUiComponentContext(t.context).shouldDisable),Ve(()=>n.checkUiComponentContext(t.context)),vt.config({})].concat(t.itemBehaviours))}},si=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),yB=(t,e)=>{var o,n;const s=j.fromTag("div");Fe(s,"tox-image-selector-loading-spinner");const r=c=>{Fe(c,"tox-image-selector-loading-spinner-wrapper"),tn(c,s)},a=c=>{Ee(c,"tox-image-selector-loading-spinner-wrapper"),gs(s)};return{dom:{tag:t.tag,attributes:(o=t.attributes)!==null&&o!==void 0?o:{},classes:t.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:e},classes:["tox-image-selector-image-img"]}}]},...t.checkMark.toArray()],behaviours:P([...(n=t.behaviours)!==null&&n!==void 0?n:[],ft("render-image-events",[ie(c=>{r(c.element),te(c.element,"img").each(i=>{a1(i).catch(u=>{console.error(u)}).finally(()=>{a(c.element)})})})])])}},xB=(t,e)=>yB(e,t),Ef=t=>{const e=cl.os.isMacOS()||cl.os.isiOS(),s=e?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},r=t.split("+"),a=Y(r,c=>{const i=c.toLowerCase().trim();return Lt(s,i)?s[i]:c});return e?a.join(""):a.join("+")},Af=(t,e,o=[i5])=>Wn(t,{tag:"div",classes:o},e),Z5=t=>({dom:{tag:"div",classes:[cf]},components:[de(ns.translate(t))]}),N5=(t,e)=>({dom:{tag:"div",classes:e,innerHtml:t}}),SB=(t,e)=>({dom:{tag:"div",classes:[cf]},components:[{dom:{tag:t.tag,styles:t.styles},components:[de(ns.translate(e))]}]}),wB=t=>({dom:{tag:"div",classes:[iI]},components:[de(Ef(t))]}),Df=t=>Af("checkmark",t,[lI]),CB=t=>Af("chevron-right",t,[l5]),TB=t=>Af("chevron-down",t,[l5]),_B=(t,e)=>{const o=t.direction==="vertical"?uI:d5,n=t.align==="left"?mI:dI;return{dom:{tag:"div",classes:[u5,o,n,(()=>{switch(t.valign){case"top":return hI;case"middle":return gI;case"bottom":return pI}})()]},components:e}},MB=(t,e,o)=>({dom:{tag:"img",classes:e,attributes:{src:t,alt:o.getOr("")}}}),OB=(t,e,o)=>{const n="custom",s="remove",r=t.value,a=t.iconContent.map(u=>JF(u,e.icons,o)),c=t.ariaLabel.map(u=>({"aria-label":e.translate(u),"data-mce-name":u})).getOr({});return{dom:(()=>{const u=rf,m=a.getOr(""),g={tag:"div",attributes:c,classes:[u]};return r===n?{...g,tag:"button",classes:[...g.classes,"tox-swatches__picker-btn"],innerHtml:m}:r===s?{...g,classes:[...g.classes,"tox-swatch--remove"],innerHtml:m}:xe(r)?{...g,attributes:{...g.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:m}:g})(),optComponents:[]}},Hf=(t,e)=>{const o=t.map(n=>({attributes:{id:K("menu-item"),"aria-label":ns.translate(n)}})).getOr({});return{tag:"div",classes:[sf,Um].concat(e),...o}},U5=t=>({dom:{tag:"label"},components:[de(t)]}),kB=(t,e,o,n)=>{const s={tag:"div",classes:[i5]},r=p=>Wn(p,s,e.icons,n),a=()=>d.some({dom:s}),c=o?t.iconContent.map(r).orThunk(a):d.none(),i=t.checkMark,u=d.from(t.meta).fold(()=>Z5,p=>Lt(p,"style")?so(SB,p.style):Z5),m=t.htmlContent.fold(()=>t.textContent.map(u),p=>d.some(N5(p,[cf])));return{dom:Hf(t.ariaLabel,[]),optComponents:[c,m,t.shortcutContent.map(wB),i,t.caret,t.labelContent.map(U5)]}},EB=t=>({dom:Hf(t.ariaLabel,[cI]),optComponents:[d.some(xB(t.iconContent.getOrDie(),{tag:"div",classes:[aI],checkMark:t.checkMark})),t.labelContent.map(U5)]}),vl=(t,e,o,n=d.none())=>t.presets==="color"?OB(t,e,n):t.presets==="img"?EB(t):kB(t,e,o,n),W5=(t,e,o)=>dt(t,"tooltipWorker").map(n=>[me.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:s=>({type:"submenu",item:s,overrides:{maxHeightFunction:Yi}}),mode:"follow-highlight",onShow:(s,r)=>{n(a=>{me.setComponents(s,[O4({element:j.fromDom(a)})])})}})]).getOrThunk(()=>o.map(n=>[me.config({...e.providers.tooltips.getConfig({tooltipText:n}),mode:"follow-highlight"})]).getOr([])),AB=t=>zu.DOM.encode(t),G5=(t,e)=>{const o=ns.translate(t),n=AB(o);if(e.length>0){const s=new RegExp(_i(e),"gi");return n.replace(s,r=>`<span class="tox-autocompleter-highlight">${r}</span>`)}else return n},DB=(t,e,o,n,s,r,a,c=!0)=>{const i=vl({presets:n,textContent:d.none(),htmlContent:o?t.text.map(m=>G5(m,e)):d.none(),ariaLabel:t.text,labelContent:d.none(),iconContent:t.icon,shortcutContent:d.none(),checkMark:d.none(),caret:d.none(),value:t.value},a.providers,c,t.icon),u=t.text.filter(m=>!o&&m!=="");return ni({context:"mode:design",data:si(t),enabled:t.enabled,getApi:E({}),onAction:m=>s(t.value,t.meta),onSetup:E(N),triggersSubmenu:!1,itemBehaviours:W5(t,a,u)},i,r,a.providers)},j5=(t,e)=>Y(t,o=>{switch(o.type){case"cardcontainer":return _B(o,j5(o.items,e));case"cardimage":return MB(o.src,o.classes,o.alt);case"cardtext":const s=o.name.exists(r=>fe(e.cardText.highlightOn,r))?d.from(e.cardText.matchText).getOr(""):"";return N5(G5(o.text,s),o.classes)}}),HB=(t,e,o,n)=>{const s=a=>({isEnabled:()=>!et.isDisabled(a),setEnabled:c=>{et.set(a,!c),it(Wo(a.element,"*"),i=>{a.getSystem().getByDom(i).each(u=>{u.hasConfigured(et)&&et.set(u,!c)})})}}),r={dom:Hf(t.label,[]),optComponents:[d.some({dom:{tag:"div",classes:[u5,d5]},components:j5(t.items,n)})]};return ni({context:"mode:design",data:si({text:d.none(),...t}),enabled:t.enabled,getApi:s,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:d.from(n.itemBehaviours).getOr([])},r,e,o.providers)},Y5=(t,e,o,n,s,r,a,c=!0)=>{const i=g=>({setActive:p=>{_t.set(g,p)},isActive:()=>_t.isOn(g),isEnabled:()=>!et.isDisabled(g),setEnabled:p=>et.set(g,!p)}),u=vl({presets:o,textContent:e?t.text:d.none(),htmlContent:d.none(),labelContent:t.label,ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:d.none(),checkMark:e?d.some(Df(a.icons)):d.none(),caret:d.none(),value:t.value},a,c),m=t.text.filter(E(!e)).map(g=>me.config(a.tooltips.getConfig({tooltipText:a.translate(g)})));return ae(ni({context:t.context,data:si(t),enabled:t.enabled,getApi:i,onAction:g=>n(t.value),onSetup:g=>(g.setActive(s),N),triggersSubmenu:!1,itemBehaviours:[...m.toArray()]},u,r,a),{toggling:{toggleClass:af,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},X5=t=>({value:Q5(t)}),K5=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,q5=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,J5=t=>K5.test(t)||q5.test(t),Q5=t=>gn(t,"#").toUpperCase(),$B=t=>J5(t)?d.some({value:Q5(t)}):d.none(),FB=t=>({value:t.value.replace(K5,(o,n,s,r)=>n+n+s+s+r+r)}),IB=t=>{const e=FB(t),o=q5.exec(e.value);return o===null?["FFFFFF","FF","FF","FF"]:o},$f=t=>{const e=t.toString(16);return(e.length===1?"0"+e:e).toUpperCase()},ed=t=>{const e=$f(t.red)+$f(t.green)+$f(t.blue);return X5(e)},od=(t,e,o)=>({hue:t,saturation:e,value:o}),Ff=t=>{let e=0,o=0,n=0;const s=t.red/255,r=t.green/255,a=t.blue/255,c=Math.min(s,Math.min(r,a)),i=Math.max(s,Math.max(r,a));if(c===i)return n=c,od(0,0,n*100);const u=s===c?r-a:a===c?s-r:a-s;return e=s===c?3:a===c?1:5,e=60*(e-u/(i-c)),o=(i-c)/i,n=i,od(Math.round(e),Math.round(o*100),Math.round(n*100))},tS=Math.min,eS=Math.max,Jm=Math.round,VB=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,LB=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ri=(t,e,o,n)=>({red:t,green:e,blue:o,alpha:n}),If=t=>{const e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},oS=t=>{let e,o,n;const s=(t.hue||0)%360;let r=t.saturation/100,a=t.value/100;if(r=eS(0,tS(r,1)),a=eS(0,tS(a,1)),r===0)return e=o=n=Jm(255*a),ri(e,o,n,1);const c=s/60,i=a*r,u=i*(1-Math.abs(c%2-1)),m=a-i;switch(Math.floor(c)){case 0:e=i,o=u,n=0;break;case 1:e=u,o=i,n=0;break;case 2:e=0,o=i,n=u;break;case 3:e=0,o=u,n=i;break;case 4:e=u,o=0,n=i;break;case 5:e=i,o=0,n=u;break;default:e=o=n=0}return e=Jm(255*(e+m)),o=Jm(255*(o+m)),n=Jm(255*(n+m)),ri(e,o,n,1)},nd=t=>{const e=IB(t),o=parseInt(e[1],16),n=parseInt(e[2],16),s=parseInt(e[3],16);return ri(o,n,s,1)},nS=(t,e,o,n)=>{const s=parseInt(t,10),r=parseInt(e,10),a=parseInt(o,10),c=parseFloat(n);return ri(s,r,a,c)},Vf=t=>{const e=VB.exec(t);if(e!==null)return d.some(nS(e[1],e[2],e[3],"1"));const o=LB.exec(t);return o!==null?d.some(nS(o[1],o[2],o[3],o[4])):d.none()},sS=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,rS=ri(255,0,0,1),BB=t=>Ff(nd(t)),aS=t=>ed(oS(t)),RB=t=>$B(t).orThunk(()=>Vf(t).map(ed)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data,s=n[0],r=n[1],a=n[2],c=n[3];return ed(ri(s,r,a,c))}),zB=t=>{t.dispatch("SkinLoaded")},PB=(t,e)=>{t.dispatch("SkinLoadError",e)},ZB=t=>{t.dispatch("ResizeEditor")},Lf=(t,e)=>{t.dispatch("ResizeContent",e)},NB=(t,e)=>{t.dispatch("ScrollContent",e)},cS=(t,e)=>{t.dispatch("TextColorChange",e)},UB=(t,e)=>{t.dispatch("AfterProgressState",{state:e})},WB=(t,e)=>t.dispatch("ResolveName",{name:e.nodeName.toLowerCase(),target:e}),GB=(t,e)=>{t.dispatch("ToggleToolbarDrawer",{state:e})},jB=(t,e)=>{t.dispatch("StylesTextUpdate",e)},YB=(t,e)=>{t.dispatch("AlignTextUpdate",e)},XB=(t,e)=>{t.dispatch("FontSizeTextUpdate",e)},KB=(t,e)=>{t.dispatch("FontSizeInputTextUpdate",e)},qB=(t,e)=>{t.dispatch("BlocksTextUpdate",e)},JB=(t,e)=>{t.dispatch("FontFamilyTextUpdate",e)},QB=t=>{t.dispatch("ToggleSidebar")},tR=t=>{t.dispatch("ToggleView")},iS=t=>{t.dispatch("ContextToolbarClose")},eR=t=>{t.dispatch("ContextFormSlideBack")},Qm=(t,e)=>()=>{t(),e()},Bo=(t,e=ye)=>ai(t,"NodeChange",o=>{o.setEnabled(t.selection.isEditable()&&e())}),oR=(t,e)=>o=>{const n=br(),s=()=>{o.setActive(t.formatter.match(e));const r=t.formatter.formatChanged(e,o.setActive);n.set(r)};return t.initialized?s():t.once("init",s),()=>{t.off("init",s),n.clear()}},th=(t,e)=>o=>{const n=Bo(t)(o),s=oR(t,e)(o);return()=>{n(),s()}},ai=(t,e,o)=>n=>{const s=()=>o(n),r=()=>{o(n),t.on(e,s)};return t.initialized?r():t.once("init",r),()=>{t.off("init",r),t.off(e,s)}},lS=t=>e=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,e.format)})},En=(t,e)=>()=>t.execCommand(e);var ci=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const uS={},nR=(t,e=10)=>{const o=ci.getItem(t),n=Zt(o)?JSON.parse(o):[],r=(u=>e-u.length<0?u.slice(0,e):u)(n),a=u=>{hi(r,u).each(c),r.unshift(u),r.length>e&&r.pop(),ci.setItem(t,JSON.stringify(r))},c=u=>{r.splice(u,1)};return{add:a,state:()=>r.slice(0)}},dS=t=>dt(uS,t).getOrThunk(()=>{const e=`tinymce-custom-colors-${t}`,o=ci.getItem(e);if(Ir(o)){const s=ci.getItem("tinymce-custom-colors");ci.setItem(e,xe(s)?s:"[]")}const n=nR(e,10);return uS[t]=n,n}),sR=t=>Y(dS(t).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})),mS=(t,e)=>{dS(t).add(e)},Bf="forecolor",Rf="hilitecolor",rR=5,aR=t=>hS(t.map((e,o)=>o%2===0?"#"+RB(e).value:e)),hS=t=>{const e=[];for(let o=0;o<t.length;o+=2)e.push({text:t[o+1],value:t[o],icon:"checkmark",type:"choiceitem"});return e},ir=t=>e=>e.options.get(t),zf="#000000",cR=t=>{const e=t.options.register,o=r=>St(r,Zt)?{value:aR(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},n=r=>St(r,Zt)?{value:hS(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},s=r=>Hn(r)&&r>0?{value:r,valid:!0}:{valid:!1,message:"Must be a positive number."};e("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),e("color_map_raw",{processor:n}),e("color_map_background",{processor:o}),e("color_map_foreground",{processor:o}),e("color_cols",{processor:s,default:Pf(t)}),e("color_cols_foreground",{processor:s,default:gS(t,Bf)}),e("color_cols_background",{processor:s,default:gS(t,Rf)}),e("custom_colors",{processor:"boolean",default:!0}),e("color_default_foreground",{processor:"string",default:zf}),e("color_default_background",{processor:"string",default:zf})},eh=(t,e)=>e===Bf&&t.options.isSet("color_map_foreground")?ir("color_map_foreground")(t):e===Rf&&t.options.isSet("color_map_background")?ir("color_map_background")(t):t.options.isSet("color_map_raw")?ir("color_map_raw")(t):ir("color_map")(t),Pf=(t,e="default")=>Math.max(rR,Math.ceil(Math.sqrt(eh(t,e).length))),gS=(t,e)=>{const o=ir("color_cols")(t),n=Pf(t,e);return o===Pf(t)?n:o},pS=(t,e="default")=>Math.round(e===Bf?ir("color_cols_foreground")(t):e===Rf?ir("color_cols_background")(t):ir("color_cols")(t)),fS=ir("custom_colors"),iR=ir("color_default_foreground"),lR=ir("color_default_background"),uR="rgba(0, 0, 0, 0)",dR=t=>Vf(t).exists(e=>e.alpha!==0),mR=t=>m1(t,e=>{if(Jo(e)){const o=h(e,"background-color");return No(dR(o),o)}else return d.none()}).getOr(uR),vS=(t,e)=>{const o=j.fromDom(t.selection.getStart()),n=e==="hilitecolor"?mR(o):h(o,"color");return Vf(n).map(s=>"#"+ed(s).value)},hR=(t,e,o)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(e,{value:o}),t.nodeChanged()})},gR=(t,e)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(e,{value:null},void 0,!0),t.nodeChanged()})},pR=t=>{t.addCommand("mceApplyTextcolor",(e,o)=>{hR(t,e,o)}),t.addCommand("mceRemoveTextcolor",e=>{gR(t,e)})},bS=t=>{const e="choiceitem",o={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[o,{type:e,text:"Custom color",icon:"color-picker",value:"custom"}]:[o]},Zf=(t,e,o,n)=>{o==="custom"?TS(t)(r=>{r.each(a=>{mS(e,a),t.execCommand("mceApplyTextcolor",e,a),n(a)})},vS(t,e).getOr(zf)):o==="remove"?(n(""),t.execCommand("mceRemoveTextcolor",e)):(n(o),t.execCommand("mceApplyTextcolor",e,o))},Nf=(t,e,o)=>t.concat(sR(e).concat(bS(o))),yS=(t,e,o)=>n=>{n(Nf(t,e,o))},Uf=(t,e,o)=>{const n=e==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(n,o)},xS=(t,e)=>{t.setTooltip(e)},SS=(t,e)=>o=>{const n=vS(t,e);return hn(n,o.toUpperCase())},Wf=(t,e,o)=>{if(Us(o))return e==="forecolor"?"Text color":"Background color";const n=e==="forecolor"?"Text color {0}":"Background color {0}",s=Nf(eh(t,e),e,!1),r=le(s,a=>a.value===o).getOr({text:""}).text;return t.translate([n,t.translate(r)])},wS=(t,e,o,n)=>{t.ui.registry.addSplitButton(e,{tooltip:Wf(t,o,n.get()),presets:"color",icon:e==="forecolor"?"text-color":"highlight-bg-color",select:SS(t,o),columns:pS(t,o),fetch:yS(eh(t,o),o,fS(t)),onAction:s=>{Zf(t,o,n.get(),N)},onItemAction:(s,r)=>{Zf(t,o,r,a=>{n.set(a),cS(t,{name:e,color:a})})},onSetup:s=>{Uf(s,e,n.get());const r=a=>{a.name===e&&(Uf(s,a.name,a.color),xS(s,Wf(t,o,a.color)))};return t.on("TextColorChange",r),Qm(Bo(t)(s),()=>{t.off("TextColorChange",r)})}})},CS=(t,e,o,n,s)=>{t.ui.registry.addNestedMenuItem(e,{text:n,icon:e==="forecolor"?"text-color":"highlight-bg-color",onSetup:r=>(xS(r,Wf(t,o,s.get())),Uf(r,e,s.get()),Bo(t)(r)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:SS(t,o),initData:{storageKey:o},onAction:r=>{Zf(t,o,r.value,a=>{s.set(a),cS(t,{name:e,color:a})})}}]})},TS=t=>(e,o)=>{let n=!1;const s=c=>{const u=c.getData().colorpicker;n?(e(d.from(u)),c.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",u]))},r=(c,i)=>{i.name==="hex-valid"&&(n=i.value)},a={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:r,onSubmit:s,onClose:N,onCancel:()=>{e(d.none())}})},fR=t=>{pR(t);const e=iR(t),o=lR(t),n=st(e),s=st(o);wS(t,"forecolor","forecolor",n),wS(t,"backcolor","hilitecolor",s),CS(t,"forecolor","forecolor","Text color",n),CS(t,"backcolor","hilitecolor","Background color",s)},vR=(t,e,o,n,s)=>{const r=i=>({setActive:u=>{_t.set(i,u)},isActive:()=>_t.isOn(i),isEnabled:()=>!et.isDisabled(i),setEnabled:u=>et.set(i,!u)}),a=vl({presets:"img",textContent:d.none(),htmlContent:d.none(),ariaLabel:t.tooltip,iconContent:d.some(t.url),labelContent:t.label,shortcutContent:d.none(),checkMark:d.some(Df(s.icons)),caret:d.none(),value:t.value},s,!0),c=t.tooltip.map(i=>me.config(s.tooltips.getConfig({tooltipText:s.translate(i)})));return ae(ni({context:t.context,data:si(t),enabled:t.enabled,getApi:r,onAction:i=>{e(t.value),i.setActive(!0)},onSetup:i=>(i.setActive(o),N),triggersSubmenu:!1,itemBehaviours:[...c.toArray()]},a,n,s),{toggling:{toggleClass:af,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},oh=(t,e,o,n,s,r,a,c)=>{const i=Xu(e),m=bR(e,o,n,s!=="color"?"normal":"color",r,a,c);return df(t,i,m,n,{menuType:s})},bR=(t,e,o,n,s,r,a)=>Zs(Y(t,c=>c.type==="choiceitem"?PL(c).fold(rr,i=>d.some(Y5(i,o===1,n,e,r(i.value),s,a,Xu(t)))):c.type==="imageitem"?XL(c).fold(rr,i=>d.some(vR(i,e,r(i.value),s,a))):c.type==="resetimage"?KL(c).fold(rr,i=>d.some(Y5({...i,type:"choiceitem",text:i.tooltip,icon:d.some(i.icon),label:d.some(i.label)},o===1,n,e,r(i.value),s,a,Xu(t)))):d.none())),sd=(t,e)=>{const o=ja(e);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[e],previousSelector:s=>e==="color"?te(s.element,"[aria-checked=true]"):d.none()}},yR=(t,e)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:e==="color"?".tox-swatches__row":".tox-collection__group",cell:e==="color"?`.${rf}`:`.${Um}`}},xR=(t,e)=>{const o=SR(t,e),n=e.colorinput.getColorCols(t.initData.storageKey),s="color",a={...oh(K("menu-value"),o,c=>{t.onAction({value:c})},n,s,Hs.CLOSE_ON_EXECUTE,t.select.getOr(Qt),e.shared.providers),markers:ja(s),movement:sd(n,s),showMenuRole:!1};return{type:"widget",data:{value:K("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[v0.widget(aa.sketch(a))]}},SR=(t,e)=>{const o=t.initData.allowCustomColors&&e.colorinput.hasCustomColors();return t.initData.colors.fold(()=>Nf(e.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,o),n=>n.concat(bS(o)))},wR=(t,e)=>{const o="imageselector",n=t.initData.columns,r={...oh(K("menu-value"),t.initData.items,a=>{t.onAction({value:a})},n,o,Hs.CLOSE_ON_EXECUTE,t.select.getOr(Qt),e.shared.providers),markers:ja(o),movement:sd(n,o),showMenuRole:!1};return{type:"widget",data:{value:K("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[v0.widget(aa.sketch(r))]}},_S=K("cell-over"),MS=K("cell-execute"),CR=t=>(e,o)=>t.shared.providers.translate(["{0} columns, {1} rows",o,e]),TR=(t,e,o)=>{const n=a=>ct(a,_S,{row:t,col:e}),s=a=>ct(a,MS,{row:t,col:e}),r=(a,c)=>{c.stop(),s(a)};return Ao({dom:{tag:"div",attributes:{role:"button","aria-label":o}},behaviours:P([ft("insert-table-picker-cell",[I(_r(),mt.focus),I(zn(),s),I(Ac(),r),I(bu(),r)]),_t.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),mt.config({onFocus:n})])})},_R=(t,e,o)=>{const n=[];for(let s=0;s<e;s++){const r=[];for(let a=0;a<o;a++){const c=t(s+1,a+1);r.push(TR(s,a,c))}n.push(r)}return n},MR=(t,e,o,n,s)=>{for(let r=0;r<n;r++)for(let a=0;a<s;a++)_t.set(t[r][a],r<=e&&a<=o)},OR=t=>Be(t,e=>Y(e,Zn)),OS=(t,e)=>de(`${e}x${t}`),kR={inserttable:(t,e)=>{const s=CR(e),r=_R(s,10,10),a=OS(0,0),c=Ut({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:P([vt.config({})])});return{type:"widget",data:{value:K("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[v0.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:OR(r).concat(c.asSpec()),behaviours:P([ft("insert-table-picker",[ie(i=>{vt.set(c.get(i),[a])}),yp(_S,(i,u,m)=>{const{row:g,col:p}=m.event;MR(r,g,p,10,10),vt.set(c.get(i),[OS(g+1,p+1)])}),yp(MS,(i,u,m)=>{const{row:g,col:p}=m.event;Dt(i,_1()),t.onAction({numRows:g+1,numColumns:p+1})})]),ot.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:xR,imageselect:wR},ER=(t,e)=>dt(kR,t.fancytype).map(o=>o(t,e)),AR=(t,e,o,n=!0,s=!1)=>{const r=s?TB(o.icons):CB(o.icons),a=i=>({isEnabled:()=>!et.isDisabled(i),setEnabled:u=>et.set(i,!u),setIconFill:(u,m)=>{te(i.element,`svg path[class="${u}"], rect[class="${u}"]`).each(g=>{pt(g,"fill",m)})},setTooltip:u=>{const m=o.translate(u);pt(i.element,"aria-label",m)}}),c=vl({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:d.none(),ariaLabel:t.text,labelContent:d.none(),caret:d.some(r),checkMark:d.none(),shortcutContent:t.shortcut},o,n);return ni({context:t.context,data:si(t),getApi:a,enabled:t.enabled,onAction:N,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},c,e,o)},DR=(t,e,o,n=!0)=>{const s=a=>({isEnabled:()=>!et.isDisabled(a),setEnabled:c=>et.set(a,!c)}),r=vl({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:d.none(),labelContent:d.none(),ariaLabel:t.text,caret:d.none(),checkMark:d.none(),shortcutContent:t.shortcut},o,n);return ni({context:t.context,data:si(t),getApi:s,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e,o)},HR=t=>({type:"separator",dom:{tag:"div",classes:[Um,rI]},components:t.text.map(de).toArray()}),$R=(t,e,o,n=!0)=>{const s=a=>({setActive:c=>{_t.set(a,c)},isActive:()=>_t.isOn(a),isEnabled:()=>!et.isDisabled(a),setEnabled:c=>et.set(a,!c)}),r=vl({iconContent:t.icon,textContent:t.text,htmlContent:d.none(),labelContent:d.none(),ariaLabel:t.text,checkMark:d.some(Df(o.icons)),caret:d.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,n);return ae(ni({context:t.context,data:si(t),enabled:t.enabled,getApi:s,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e,o),{toggling:{toggleClass:af,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},FR=DB,kS=HR,IR=DR,VR=AR,LR=$R,BR=ER,RR=HB,zR=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},PR=t=>{const e=q.getValue(t),o=Gm(t).map(v5);Un.refetch(e).get(()=>{const n=Ae.getCoupled(e,"sandbox");o.each(s=>Gm(n).each(r=>yI(r,s)))})},ZR=(t,e)=>{NR(t).each(o=>{PT(t,o.element,e.event.eventType,e.event.interactionEvent)})},NR=t=>Rt.getState(t).bind(Gt.getHighlighted).bind(Gt.getHighlighted),UR=t=>en(t.element,jm)?d.some(t.element):te(t.element,"."+jm),ES=(t,e,o)=>{f5(t).each(n=>{xI(n,o),UR(e).each(r=>{Ye(r,"id").each(a=>pt(n.element,"aria-controls",a))})}),pt(o.element,"aria-selected","true")},WR=(t,e,o)=>{pt(o.element,"aria-selected","false")},GR=t=>{f5(t).each(e=>mt.focus(e))},jR=t=>Ae.getExistingCoupled(t,"sandbox").bind(Gm).map(v5).map(o=>o.fetchPattern).getOr("");var nh;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(nh||(nh={}));const YR=(t,e,o,n,s)=>{const r=o.shared.providers,a=c=>s?{...c,shortcut:d.none(),icon:c.text.isSome()?d.none():c.icon}:c;switch(t.type){case"menuitem":return JL(t).fold(rr,c=>d.some(IR(a(c),e,r,n)));case"nestedmenuitem":return tB(t).fold(rr,c=>d.some(VR(a(c),e,r,n,s)));case"togglemenuitem":return oB(t).fold(rr,c=>d.some(LR(a(c),e,r,n)));case"separator":return mL(t).fold(rr,c=>d.some(kS(c)));case"fancymenuitem":return GL(t).fold(rr,c=>BR(c,o));default:return console.error("Unknown item in general menu",t),d.none()}},XR=(t,e,o,n,s,r,a)=>{const c=n===1,i=!c||Xu(t);return Zs(Y(t,u=>{switch(u.type){case"separator":return gL(u).fold(rr,m=>d.some(kS(m)));case"cardmenuitem":return RL(u).fold(rr,m=>d.some(RR({...m,onAction:g=>{m.onAction(g),o(m.value,m.meta)}},s,r,{itemBehaviours:W5(m.meta,r,d.none()),cardText:{matchText:e,highlightOn:a}})));case"autocompleteitem":default:return pL(u).fold(rr,m=>d.some(FR(m,e,c,"normal",o,s,r,i)))}}))},AS=(t,e,o,n,s,r)=>{const a=Xu(e),c=Zs(Y(e,m=>{const g=v=>s?!Lt(v,"text"):a,p=v=>YR(v,o,n,g(v),s);return m.type==="nestedmenuitem"&&m.getSubmenuItems().length<=0?p({...m,enabled:!1}):p(m)})),i=zR(r);return(s?kI:df)(t,a,c,1,i)},Gf=t=>Wc.singleData(t.value,t),KR=(t,e,o,n)=>{const s=sd(e,n),r=ja(n);return{data:Gf({...t,movement:s,menuBehaviours:qu.unnamedEvents(e!=="auto"?[]:[ie((a,c)=>{Of(a,4,r.item).each(({numColumns:i,numRows:u})=>{ot.setGridSize(a,u,i)})})])}),menu:{markers:ja(n),fakeFocus:o===nh.ContentFocus}}},qR=t=>h1.create(j.fromDom(t.startContainer),t.startOffset,j.fromDom(t.endContainer),t.endOffset),JR={register:(t,e)=>{const o=K("autocompleter"),n=st(!1),s=st(!1),r=Kt(),a=Ao(be.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:o}},components:[],fireDismissalEventInstead:{},inlineBehaviours:P([ft("dismissAutocompleter",[I(Hc(),()=>g()),I(Ig(),(x,M)=>{Ye(M.event.target,"id").each(O=>pt(j.fromDom(t.getBody()),"aria-activedescendant",O))})])]),lazySink:e.getSink})),c=()=>be.isOpen(a),i=s.get,u=()=>{if(c()){be.hide(a),t.dom.remove(o,!1);const x=j.fromDom(t.getBody());Ye(x,"aria-owns").filter(M=>M===o).each(()=>{Se(x,"aria-owns"),Se(x,"aria-activedescendant")})}},m=()=>be.getContent(a).bind(x=>ya(x.components(),0)),g=()=>t.execCommand("mceAutocompleterClose"),p=x=>{const M=Nt(x,O=>d.from(O.columns)).getOr(1);return Be(x,O=>{const D=O.items;return XR(D,O.matchText,($,G)=>{const R={hide:()=>g(),reload:F=>{u(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:F})}};t.execCommand("mceAutocompleterRefreshActiveRange"),r.get().each(F=>{n.set(!0),O.onAction(R,F,$,G),n.set(!1)})},M,Hs.BUBBLE_TO_SANDBOX,e,O.highlightOn)})},v=(x,M)=>{const O=Nt(x,D=>d.from(D.columns)).getOr(1);be.showMenuAt(a,{anchor:{type:"selection",getSelection:()=>r.get().map(qR),root:j.fromDom(t.getBody())}},KR(df("autocompleter-value",!0,M,O,{menuType:"normal"}),O,nh.ContentFocus,"normal")),m().each(Gt.highlightFirst)},y=x=>{const M=p(x);M.length>0?(v(x,M),pt(j.fromDom(t.getBody()),"aria-owns",o),t.inline||w()):u()},w=()=>{t.dom.get(o)&&t.dom.remove(o,!1);const x=t.getDoc().documentElement,M=t.selection.getNode(),O=ru(a.element);Gr(O,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${M.offsetTop}px`,left:`${M.offsetLeft}px`}),t.dom.add(x,O.dom),te(O,'[role="menu"]').each(D=>{W(D,"position"),W(D,"max-height")})};t.on("AutocompleterStart",({lookupData:x})=>{s.set(!0),n.set(!1),y(x)}),t.on("AutocompleterUpdate",({lookupData:x})=>y(x)),t.on("AutocompleterUpdateActiveRange",({range:x})=>r.set(x)),t.on("AutocompleterEnd",()=>{u(),s.set(!1),n.set(!1),r.clear()});const T={cancelIfNecessary:g,isMenuOpen:c,isActive:i,isProcessingAction:n.get,getMenu:m};nI.setup(T,t)}},QR=(t,e)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Y(t.items,e.interpreter)});var tz=tinymce.util.Tools.resolve("tinymce.html.Entities");const rd=(t,e,o,n)=>{const s=oz(t,e,o,n);return Et.sketch(s)},ez=(t,e)=>rd(t,e,[],[]),oz=(t,e,o,n)=>({dom:DS(o),components:t.toArray().concat([e]),fieldBehaviours:P(n)}),nz=()=>DS([]),DS=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),qa=(t,e)=>Et.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(t))]}),rn=K("form-component-change"),HS=K("form-component-input"),ad=K("form-close"),Ja=K("form-cancel"),Dr=K("form-action"),cd=K("form-submit"),jf=K("form-block"),Yf=K("form-unblock"),$S=K("form-tabchange"),FS=K("form-resize"),sz=(t,e,o)=>{const n=t.label.map(v=>qa(v,e)),s=e.icons(),r=v=>{var y;return(y=s[v])!==null&&y!==void 0?y:v},a=v=>(y,w)=>{Cr(w.event.target,"[data-collection-item-value]").each(T=>{v(y,w,T,je(T,"data-collection-item-value"))})},c=(v,y)=>{const T=e.checkUiComponentContext("mode:design").shouldDisable||e.isDisabled()?" tox-collection__item--state-disabled":"",x=Y(y,D=>{const $=ns.translate(D.text),G=t.columns===1?`<div class="tox-collection__item-label">${$}</div>`:"",R=`<div class="tox-collection__item-icon">${r(D.icon)}</div>`,F={_:" "," - ":" ","-":" "},X=$.replace(/\_| \- |\-/g,at=>F[at]);return`<div data-mce-tooltip="${X}" class="tox-collection__item${T}" tabindex="-1" data-collection-item-value="${tz.encodeAllRaw(D.value)}" aria-label="${X}">${R}${G}</div>`}),M=t.columns!=="auto"&&t.columns>1?gi(x,t.columns):[x],O=Y(M,D=>`<div class="tox-collection__group">${D.join("")}</div>`);Ea(v.element,O.join(""))},i=a((v,y,w,T)=>{y.stop(),e.checkUiComponentContext("mode:design").shouldDisable||e.isDisabled()||ct(v,Dr,{name:t.name,value:T})}),u=[I(_r(),a((v,y,w)=>{Ge(w,!0)})),I(Ac(),i),I(bu(),i),I(Ss(),a((v,y,w)=>{te(v.element,"."+Jc).each(T=>{Ee(T,Jc)}),Fe(w,Jc)})),I($v(),a(v=>{te(v.element,"."+Jc).each(y=>{Ee(y,Jc),Ri(y)})})),Qr(a((v,y,w,T)=>{ct(v,Dr,{name:t.name,value:T})}))],m=(v,y)=>Y(Wo(v.element,".tox-collection__item"),y),g=Et.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ft},behaviours:P([et.config({disabled:()=>e.checkUiComponentContext(t.context).shouldDisable,onDisabled:v=>{m(v,y=>{Fe(y,"tox-collection__item--state-disabled"),pt(y,"aria-disabled",!0)})},onEnabled:v=>{m(v,y=>{Ee(y,"tox-collection__item--state-disabled"),Se(y,"aria-disabled")})}}),Ve(()=>e.checkUiComponentContext(t.context)),vt.config({}),me.config({...e.tooltips.getConfig({tooltipText:"",onShow:v=>{te(v.element,"."+Jc+"[data-mce-tooltip]").each(y=>{Ye(y,"data-mce-tooltip").each(w=>{me.setComponents(v,e.tooltips.getComponents({tooltipText:w}))})})}}),mode:"children-keyboard-focus",anchor:v=>({type:"node",node:te(v.element,"."+Jc).orThunk(()=>v7(".tox-collection__item")),root:v.element,layouts:{onLtr:E([qe,ro,Xe,Co,Ke,To]),onRtl:E([qe,ro,Xe,Co,Ke,To])},bubble:Cs(0,-2,{})})}),q.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(v,y)=>{c(v,y),t.columns==="auto"&&Of(v,5,"tox-collection__item").each(({numRows:w,numColumns:T})=>{ot.setGridSize(v,w,T)}),Dt(v,FS)}}),ee.config({}),ot.config(yR(t.columns,"normal")),ft("collection-events",u)]),eventOrder:{[zn()]:["disabling","alloy.base.behaviour","collection-events"],[Ss()]:["collection-events","tooltipping"]}});return rd(n,g,["tox-form__group--collection"],[])},rz=(t,e)=>Un.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:P([rs.button(()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable),Ve(()=>e.providers.checkUiComponentContext(t.context)),Vu.config({}),ee.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:o=>_e.nu(n=>t.fetch(n)).map(n=>d.from(Gf(ae(oh(K("menu-value"),n,s=>{t.onItemAction(o,s)},t.columns,t.presets,Hs.CLOSE_ON_EXECUTE,Qt,e.providers),{movement:sd(t.columns,t.presets)})))),parts:{menu:Wm(!1,1,t.presets)}}),IS=K("color-input-change"),VS=K("color-swatch-change"),LS=K("color-picker-cancel"),az=(t,e,o,n)=>{const s=Et.parts.field({factory:ca,inputClasses:["tox-textfield"],data:n,onSetValue:u=>kr.run(u).get(N),inputBehaviours:P([et.config({disabled:()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable}),Ve(()=>e.providers.checkUiComponentContext(t.context)),ee.config({}),kr.config({invalidClass:"tox-textbox-field-invalid",getRoot:u=>Qo(u.element),notify:{onValid:u=>{const m=q.getValue(u);ct(u,IS,{color:m})}},validator:{validateOnLoad:!1,validate:u=>{const m=q.getValue(u);if(m.length===0)return _e.pure(Mt.value(!0));{const g=j.fromTag("span");wt(g,"background-color",m);const p=S(g,"background-color").fold(()=>Mt.error("blah"),v=>Mt.value(m));return _e.pure(p)}}}})]),selectOnFocus:!1}),r=t.label.map(u=>qa(u,e.providers)),a=(u,m)=>{ct(u,VS,{value:m})},c=(u,m)=>{i.getOpt(u).each(g=>{m==="custom"?o.colorPicker(p=>{p.fold(()=>Dt(g,LS),v=>{a(g,v),mS(t.storageKey,v)})},"#ffffff"):m==="remove"?a(g,""):a(g,m)})},i=Ut(rz({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:()=>[Ke,Xe,qe],onLtr:()=>[Xe,Ke,qe]},components:[],fetch:yS(o.getColors(t.storageKey),t.storageKey,o.hasCustomColors()),columns:o.getColorCols(t.storageKey),presets:"color",onItemAction:c,context:t.context},e));return Et.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:P([ft("form-field-events",[I(IS,(u,m)=>{i.getOpt(u).each(g=>{wt(g.element,"background-color",m.event.color)}),ct(u,rn,{name:t.name})}),I(VS,(u,m)=>{Et.getField(u).each(g=>{q.setValue(g,m.event.value),$t.getCurrent(u).each(mt.focus)})}),I(LS,(u,m)=>{Et.getField(u).each(g=>{$t.getCurrent(u).each(mt.focus)})})])])})},Fs={self:()=>$t.config({find:d.some}),memento:t=>$t.config({find:t.getOpt}),childAt:t=>$t.config({find:e=>Wr(e.element,t).bind(o=>e.getSystem().getByDom(o).toOptional())})},cz=gt([A("preprocess",Ft),A("postprocess",Ft)]),iz=(t,e)=>{const o=on("RepresentingConfigs.memento processors",cz,e);return q.config({store:{mode:"manual",getValue:n=>{const s=t.get(n),r=q.getValue(s);return o.postprocess(r)},setValue:(n,s)=>{const r=o.preprocess(s),a=t.get(n);q.setValue(a,r)}}})},ii=(t,e,o)=>q.config({store:{mode:"manual",...t.map(n=>({initialValue:n})).getOr({}),getValue:e,setValue:o}}),BS=(t,e,o)=>ii(t,n=>e(n.element),(n,s)=>o(n.element,s)),lz=t=>BS(t,au,Ea),sh=t=>q.config({store:{mode:"memory",initialValue:t}}),Xf=K("rgb-hex-update"),RS=K("slider-update"),zS=K("palette-update"),uz=(t,e)=>{const o=As.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=As.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return As.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:E(0)},components:[o,n],sliderBehaviours:P([mt.config({})]),onChange:(s,r,a)=>{pt(s.element,"aria-valuenow",Math.floor(360-a*3.6)),ct(s,RS,{value:a})}})},PS=K("valid-input"),ZS=K("invalid-input"),NS=K("validating-input"),Kf="colorcustom.rgb.",dz={isEnabled:ye,setEnabled:N,immediatelyShow:N,immediatelyHide:N},mz=(t,e,o,n,s,r)=>{const a=(w,T)=>{const x=T.get();w!==x.isEnabled()&&(x.setEnabled(w),w?x.immediatelyShow():x.immediatelyHide())},c=(w,T,x)=>kr.config({invalidClass:e("invalid"),notify:{onValidate:M=>{ct(M,NS,{type:w})},onValid:M=>{a(!1,x),ct(M,PS,{type:w,value:q.getValue(M)})},onInvalid:M=>{a(!0,x),ct(M,ZS,{type:w,value:q.getValue(M)})}},validator:{validate:M=>{const O=q.getValue(M),D=T(O)?Mt.value(!0):Mt.error(t("aria.input.invalid"));return _e.pure(D)},validateOnLoad:!1}}),i=(w,T,x,M,O)=>{const D=st(dz),$=t(Kf+"range"),G=Et.parts.label({dom:{tag:"label"},components:[de(x)]}),R=Et.parts.field({data:O,factory:ca,inputAttributes:{type:"text","aria-label":M,...T==="hex"?{"aria-live":"polite"}:{}},inputClasses:[e("textfield")],inputBehaviours:P([c(T,w,D),ee.config({}),me.config({...s({tooltipText:"",onSetup:yt=>{D.set({isEnabled:()=>me.isEnabled(yt),setEnabled:Q=>me.setEnabled(yt,Q),immediatelyShow:()=>me.immediateOpenClose(yt,!0),immediatelyHide:()=>me.immediateOpenClose(yt,!1)}),me.setEnabled(yt,!1)},onShow:(yt,Q)=>{me.setComponents(yt,[{dom:{tag:"p",classes:[e("rgb-warning-note")]},components:[de(t(T==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:yt=>{kr.isInvalid(yt)&&kr.run(yt).get(N)}}),F=K("aria-invalid"),X=Ut(r("invalid",d.some(F),"warning")),at=Ut({dom:{tag:"div",classes:[e("invalid-icon")]},components:[X.asSpec()]}),tt=[G,R,at.asSpec()],Ot=T!=="hex"?[Et.parts["aria-descriptor"]({text:$})]:[],ht=tt.concat(Ot);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[e("rgb-container")]},components:ht}},u=(w,T)=>{const x=ed(T);return nl.getField(w,"hex").each(M=>{mt.isFocused(M)||q.setValue(w,{hex:x.value})}),x},m=(w,T)=>{const x=T.red,M=T.green,O=T.blue;q.setValue(w,{red:x,green:M,blue:O})},g=Ut({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),p=(w,T)=>{g.getOpt(w).each(x=>{wt(x.element,"background-color","#"+T.value)})};return Nn({factory:()=>{const w={red:st(d.some(255)),green:st(d.some(255)),blue:st(d.some(255)),hex:st(d.some("ffffff"))},T=(Q,L)=>{const Z=nd(L);m(Q,Z),D(Z)},x=Q=>w[Q].get(),M=(Q,L)=>{w[Q].set(L)},O=()=>x("red").bind(Q=>x("green").bind(L=>x("blue").map(Z=>ri(Q,L,Z,1)))),D=Q=>{const L=Q.red,Z=Q.green,lt=Q.blue;M("red",d.some(L)),M("green",d.some(Z)),M("blue",d.some(lt))},$=(Q,L)=>{const Z=L.event;Z.type!=="hex"?M(Z.type,d.none()):n(Q)},G=(Q,L)=>{o(Q);const Z=X5(L);M("hex",d.some(Z.value));const lt=nd(Z);m(Q,lt),D(lt),ct(Q,Xf,{hex:Z}),p(Q,Z)},R=(Q,L,Z)=>{const lt=parseInt(Z,10);M(L,d.some(lt)),O().each(xt=>{const nt=u(Q,xt);ct(Q,Xf,{hex:nt}),p(Q,nt)})},F=Q=>Q.type==="hex",X=(Q,L)=>{const Z=L.event;F(Z)?G(Q,Z.value):R(Q,Z.type,Z.value)},at=Q=>({label:t(Kf+Q+".label"),description:t(Kf+Q+".description")}),tt=at("red"),Ot=at("green"),ht=at("blue"),yt=at("hex");return ae(nl.sketch(Q=>({dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Q.field("red",Et.sketch(i(If,"red",tt.label,tt.description,255))),Q.field("green",Et.sketch(i(If,"green",Ot.label,Ot.description,255))),Q.field("blue",Et.sketch(i(If,"blue",ht.label,ht.description,255))),Q.field("hex",Et.sketch(i(J5,"hex",yt.label,yt.description,"ffffff"))),g.asSpec()],formBehaviours:P([kr.config({invalidClass:e("form-invalid")}),ft("rgb-form-events",[I(PS,X),I(ZS,$),I(NS,$)])])})),{apis:{updateHex:(Q,L)=>{q.setValue(Q,{hex:L.value}),T(Q,L),p(Q,L)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(w,T,x)=>{w.updateHex(T,x)}},extraApis:{}})},hz=(t,e)=>{const o=As.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),n=As.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:`<div class=${e("sv-palette-inner-thumb")} role="presentation"></div>`}}),s=(u,m)=>{const{width:g,height:p}=u,v=u.getContext("2d");if(v===null)return;v.fillStyle=m,v.fillRect(0,0,g,p);const y=v.createLinearGradient(0,0,g,0);y.addColorStop(0,"rgba(255,255,255,1)"),y.addColorStop(1,"rgba(255,255,255,0)"),v.fillStyle=y,v.fillRect(0,0,g,p);const w=v.createLinearGradient(0,0,0,p);w.addColorStop(0,"rgba(0,0,0,0)"),w.addColorStop(1,"rgba(0,0,0,1)"),v.fillStyle=w,v.fillRect(0,0,g,p)},r=(u,m)=>{const g=u.components()[0].element.dom,p=od(m,100,100),v=oS(p);s(g,sS(v))},a=(u,m)=>{const g=Ff(nd(m));As.setValue(u,{x:g.saturation,y:100-g.value}),pt(u.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",g.saturation,g.value]))};return Nn({factory:u=>{const m=E({x:0,y:0}),g=(y,w,T)=>{Hn(T)||pt(y.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(T.x),Math.floor(100-T.y)])),ct(y,zS,{value:T})},p=(y,w,T,x)=>{s(T.element.dom,sS(rS))},v=P([$t.config({find:d.some}),mt.config({})]);return As.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:m},rounded:!1,components:[o,n],onChange:g,onInit:p,sliderBehaviours:v})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(u,m,g)=>{r(m,g)},setThumb:(u,m,g)=>{a(m,g)}},extraApis:{}})},gz=(t,e,o,n)=>{const s=a=>{const c=mz(t,e,a.onValidHex,a.onInvalidHex,o,n),i=hz(t,e),u=F=>(100-F)/100*360,m=F=>100-F/360*100,g={paletteRgba:st(rS),paletteHue:st(0)},p=Ut(uz(t,e)),v=Ut(i.sketch({})),y=Ut(c.sketch({})),w=(F,X,at)=>{v.getOpt(F).each(tt=>{i.setHue(tt,at)})},T=(F,X)=>{y.getOpt(F).each(at=>{c.updateHex(at,X)})},x=(F,X,at)=>{p.getOpt(F).each(tt=>{As.setValue(tt,m(at))})},M=(F,X)=>{v.getOpt(F).each(at=>{i.setThumb(at,X)})},O=(F,X)=>{const at=nd(F);g.paletteRgba.set(at),g.paletteHue.set(X)},D=(F,X,at,tt)=>{O(X,at),it(tt,Ot=>{Ot(F,X,at)})},$=()=>{const F=[T];return(X,at)=>{const tt=at.event.value,Ot=g.paletteHue.get(),ht=od(Ot,tt.x,100-tt.y),yt=aS(ht);D(X,yt,Ot,F)}},G=()=>{const F=[w,T];return(X,at)=>{const tt=u(at.event.value),Ot=g.paletteRgba.get(),ht=Ff(Ot),yt=od(tt,ht.saturation,ht.value),Q=aS(yt);D(X,Q,tt,F)}},R=()=>{const F=[w,x,M];return(X,at)=>{const tt=at.event.hex,Ot=BB(tt);D(X,tt,Ot.hue,F)}};return{uid:a.uid,dom:a.dom,components:[v.asSpec(),p.asSpec(),y.asSpec()],behaviours:P([ft("colour-picker-events",[I(Xf,R()),I(zS,$()),I(RS,G())]),$t.config({find:F=>y.getOpt(F)}),ot.config({mode:"acyclic"})])}};return Nn({name:"ColourPicker",configFields:[B("dom"),A("onValidHex",N),A("onInvalidHex",N)],factory:s})},pz={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},fz=t=>e=>Zt(e)?t.translate(pz[e]):t.translate(e),vz=(t,e,o)=>{const n=u=>"tox-"+u,s=(u,m,g=u,p=u)=>Wn(g,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+u],attributes:{title:e.translate(p),"aria-live":"polite",...m.fold(()=>({}),v=>({id:v}))}},e.icons),r=gz(fz(e),n,e.tooltips.getConfig,s),a=u=>{ct(u,Dr,{name:"hex-valid",value:!0})},c=u=>{ct(u,Dr,{name:"hex-valid",value:!1})},i=Ut(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:c}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:P([ii(o,u=>{const m=i.get(u);return $t.getCurrent(m).bind(v=>q.getValue(v).hex).map(v=>"#"+gn(v,"#")).getOr("")},(u,m)=>{const g=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,p=d.from(g.exec(m)).bind(w=>ya(w,1)),v=i.get(u);$t.getCurrent(v).fold(()=>{console.log("Can not find form")},w=>{q.setValue(w,{hex:p.getOr("")}),nl.getField(w,"hex").each(T=>{Dt(T,qr())})})}),Fs.self()])}};var bz=tinymce.util.Tools.resolve("tinymce.Resource");const US=t=>Lt(t,"init"),yz=t=>{const e=Kt(),o=Ut({dom:{tag:t.tag}}),n=Kt(),s=!US(t)&&t.onFocus.isSome()?[mt.config({onFocus:r=>{t.onFocus.each(a=>{a(r.element.dom)})}}),ee.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:P([ft("custom-editor-events",[ie(r=>{o.getOpt(r).each(a=>{(US(t)?t.init(a.element.dom):bz.load(t.scriptId,t.scriptUrl).then(c=>c(a.element.dom,t.settings))).then(c=>{n.on(i=>{c.setValue(i)}),n.clear(),e.set(c)})})})]),ii(d.none(),()=>e.get().fold(()=>n.get().getOr(""),r=>r.getValue()),(r,a)=>{e.get().fold(()=>n.set(a),c=>c.setValue(a))}),Fs.self()].concat(s)),components:[o.asSpec()]}};var ua=tinymce.util.Tools.resolve("tinymce.util.Tools");const qf=K("browse.files.event"),xz=(t,e)=>{const o=ua.explode(e.getOption("images_file_types")),n=s=>fo(o,r=>cs(s.name.toLowerCase(),`.${r.toLowerCase()}`));return oe(sc(t),n)},Sz=(t,e,o)=>{const n=(p,v)=>{v.stop()},s=p=>(v,y)=>{it(p,w=>{w(v,y)})},r=(p,v)=>{var y;if(!et.isDisabled(p)){const w=v.event.raw;ct(p,qf,{files:(y=w.dataTransfer)===null||y===void 0?void 0:y.files})}},a=(p,v)=>{const y=v.event.raw.target;ct(p,qf,{files:y.files})},c=(p,v)=>{v&&(q.setValue(p,xz(v,e)),ct(p,rn,{name:t.name}))},i=Ut({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:P([ft("input-file-events",[Vc(Ac()),Vc(bu())])])}),u=t.label.map(p=>qa(p,e)),m=Et.parts.field({factory:po,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[de(e.translate("Browse for an image")),i.asSpec()],action:p=>{i.get(p).element.dom.click()},buttonBehaviours:P([Fs.self(),sh(o.getOr([])),ee.config({}),rs.button(()=>e.checkUiComponentContext(t.context).shouldDisable),Ve(()=>e.checkUiComponentContext(t.context))])}),g={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:P([et.config({disabled:()=>e.checkUiComponentContext(t.context).shouldDisable}),Ve(()=>e.checkUiComponentContext(t.context)),_t.config({toggleClass:"dragenter",toggleOnExecute:!1}),ft("dropzone-events",[I("dragenter",s([n,_t.toggle])),I("dragleave",s([n,_t.toggle])),I("dragover",n),I("drop",s([n,r])),I(Gi(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[de(e.translate("Drop an image here"))]},m]}]};return rd(u,g,["tox-form__group--stretched"],[ft("handle-files",[I(qf,(p,v)=>{Et.getField(p).each(y=>{c(y,v.event.files)})})])])},wz=(t,e)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:Y(t.items,e.interpreter)}),Jf=K("alloy-fake-before-tabstop"),Qf=K("alloy-fake-after-tabstop"),WS=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:P([mt.config({ignore:!0}),ee.config({})])}),GS=(t,e)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[WS([Jf]),e,WS([Qf])],behaviours:P([Fs.childAt(1)])}),jS=(t,e)=>{ct(t,Ks(),{raw:{which:9,shiftKey:e}})},Cz=(t,e)=>{const o=e.element;en(o,Jf)?jS(t,!0):en(o,Qf)&&jS(t,!1)},id=t=>lu(t,["."+Jf,"."+Qf].join(","),Qt),rh=K("update-dialog"),YS=K("update-title"),XS=K("update-body"),KS=K("update-footer"),qS=K("body-send-message"),ah=K("dialog-focus-shifted"),t2=Jn().browser,ld=t2.isSafari(),Tz=t2.isFirefox(),JS=ld||Tz,_z=t2.isChromium(),Mz=({scrollTop:t,scrollHeight:e,clientHeight:o})=>Math.ceil(t)+o>=e,QS=(t,e)=>t.scrollTo(0,e==="bottom"?99999999:e),Oz=(t,e)=>{const o=t.body;return d.from(!/^<!DOCTYPE (html|HTML)/.test(e)&&(!_z&&!ld||xe(o)&&(o.scrollTop!==0||Math.abs(o.scrollHeight-o.clientHeight)>1))?o:t.documentElement)},tw=(t,e,o)=>{const n=t.dom;d.from(n.contentDocument).fold(o,s=>{let r=0;const a=Oz(s,e).map(i=>(r=i.scrollTop,i)).forall(Mz),c=()=>{const i=n.contentWindow;xe(i)&&(a?QS(i,"bottom"):!a&&JS&&r!==0&&QS(i,r))};ld&&n.addEventListener("load",c,{once:!0}),s.open(),s.write(e),s.close(),ld||c()})},kz=No(JS,ld?500:200).map(t=>zl(tw,t)),Ez=(t,e)=>{const o=st(t.getOr(""));return{getValue:n=>o.get(),setValue:(n,s)=>{if(o.get()!==s){const r=n.element,a=()=>pt(r,"srcdoc",s);e?kz.fold(E(tw),c=>c.throttle)(r,s,a):a()}o.set(s)}}},Az=(t,e,o)=>{const n="tox-dialog__iframe",s=t.transparent?[]:[`${n}--opaque`],r=t.border?["tox-navobj-bordered"]:[],a={...t.label.map(g=>({title:g})).getOr({}),...o.map(g=>({srcdoc:g})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},c=Ez(o,t.streamContent),i=t.label.map(g=>qa(g,e)),u=g=>GS(d.from(r),{uid:g.uid,dom:{tag:"iframe",attributes:a,classes:[n,...s]},behaviours:P([ee.config({}),mt.config({}),ii(o,c.getValue,c.setValue),Tn.config({channels:{[ah]:{onReceive:(p,v)=>{v.newFocus.each(y=>{Qo(p.element).each(w=>{(qt(p.element,y)?Fe:Ee)(w,"tox-navobj-bordered-focus")})})}}}})])}),m=Et.parts.field({factory:{sketch:u}});return rd(i,m,["tox-form__group--stretched"],[])},Dz=(t,e,o,n,s)=>{const r=o*s,a=n*s,c=Math.max(0,t/2-r/2),i=Math.max(0,e/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}},Hz=(t,e,o)=>{const n=yn(t),s=Ht(t);return Math.min(n/e,s/o,1)},$z=(t,e)=>{const o=st(e.getOr({url:""})),n=Ut({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:e.map(i=>({src:i.url})).getOr({})}}),s=Ut({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]}),r=(i,u)=>{const m={url:u.url};u.zoom.each(p=>m.zoom=p),u.cachedWidth.each(p=>m.cachedWidth=p),u.cachedHeight.each(p=>m.cachedHeight=p),o.set(m);const g=()=>{const{cachedWidth:p,cachedHeight:v,zoom:y}=m;if(!dn(p)&&!dn(v)){if(dn(y)){const T=Hz(i.element,p,v);m.zoom=T}const w=Dz(yn(i.element),Ht(i.element),p,v,m.zoom);s.getOpt(i).each(T=>{Gr(T.element,w)})}};n.getOpt(i).each(p=>{const v=p.element;u.url!==je(v,"src")&&(pt(v,"src",u.url),Ee(i.element,"tox-imagepreview__loaded")),g(),a1(v).then(y=>{i.getSystem().isConnected()&&(Fe(i.element,"tox-imagepreview__loaded"),m.cachedWidth=y.dom.naturalWidth,m.cachedHeight=y.dom.naturalHeight,g())})})},a={};t.height.each(i=>a.height=i);const c=e.map(i=>({url:i.url,zoom:d.from(i.zoom),cachedWidth:d.from(i.cachedWidth),cachedHeight:d.from(i.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:P([Fs.self(),ii(c,()=>o.get(),r)])}},Fz=(t,e,o)=>{const n="tox-label",s=t.align==="center"?[`${n}--center`]:[],r=t.align==="end"?[`${n}--end`]:[],a=Ut({dom:{tag:"label",classes:[n,...s,...r]},components:[de(e.providers.translate(t.label))]}),c=Y(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a.asSpec(),...c],behaviours:P([Fs.self(),vt.config({}),lz(d.none()),ot.config({mode:"acyclic"}),ft("label",[ie(i=>{t.for.each(u=>{o(u).each(m=>{a.getOpt(i).each(g=>{var p;const v=(p=je(m.element,"id"))!==null&&p!==void 0?p:K("form-field");pt(m.element,"id",v),pt(g.element,"for",v)})})})})])])}},e2=K("toolbar.button.execute"),Iz=t=>Qr((e,o)=>{Ju(t,e)(n=>{ct(e,e2,{buttonApi:n}),t.onAction(n)})}),Qa=K("common-button-display-events"),ew={[zn()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[qs()]:["toolbar-button-events",Qa],[Mr()]:["toolbar-button-events","dropdown-events","tooltipping"],[Rn()]:["focusing","alloy.base.behaviour",Qa]},o2=t=>wt(t.element,"width",h(t.element,"width")),ow=(t,e,o)=>Wn(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},e),n2=(t,e)=>ow(t,e,[]),tc=(t,e)=>ow(t,e,[vt.config({})]),nw=(t,e,o)=>({dom:{tag:"span",classes:[`${e}__select-label`]},components:[de(o.translate(t))],behaviours:P([vt.config({})])}),as=K("update-menu-text"),li=K("update-menu-icon"),sw=K("update-tooltip-text"),s2=(t,e,o,n)=>{const s=st(N),r=st(t.tooltip),a=t.text.map(T=>Ut(nw(T,e,o.providers))),c=t.icon.map(T=>Ut(tc(T,o.providers.icons))),i=(T,x)=>{const M=q.getValue(T);return mt.focus(M),ct(M,"keydown",{raw:x.event.raw}),Un.close(M),d.some(!0)},u=t.role.fold(()=>({}),T=>({role:T})),m=d.from(t.listRole).map(T=>({listRole:T})).getOr({}),g=t.ariaLabel.fold(()=>({}),T=>({"aria-label":o.providers.translate(T)})),p=Wn("chevron-down",{tag:"div",classes:[`${e}__select-chevron`]},o.providers.icons),v=K("common-button-display-events"),y="dropdown-events";return Ut(Un.sketch({...t.uid?{uid:t.uid}:{},...u,...m,dom:{tag:"button",classes:[e,`${e}--select`].concat(Y(t.classes,T=>`${e}--${T}`)),attributes:{...g,...xe(n)?{"data-mce-name":n}:{}}},components:fl([c.map(T=>T.asSpec()),a.map(T=>T.asSpec()),d.some(p)]),matchWidth:!0,useMinWidth:!0,onOpen:(T,x,M)=>{t.searchable&&GR(M)},dropdownBehaviours:P([...t.dropdownBehaviours,rs.button(()=>t.disabled||o.providers.checkUiComponentContext(t.context).shouldDisable),Ve(()=>o.providers.checkUiComponentContext(t.context)),Vu.config({}),vt.config({}),...t.tooltip.map(T=>me.config(o.providers.tooltips.getConfig({tooltipText:o.providers.translate(T),onShow:x=>{if(vr(r.get(),t.tooltip,(M,O)=>O!==M).getOr(!1)){const M=o.providers.translate(r.get().getOr(""));me.setComponents(x,o.providers.tooltips.getComponents({tooltipText:M}))}}}))).toArray(),ft(y,[cr(t,s),Ka(t,s)]),ft(v,[ie((T,x)=>{t.listRole!=="listbox"&&o2(T)})]),ft("update-dropdown-width-variable",[I(yu(),(T,x)=>Un.close(T))]),ft("menubutton-update-display-text",[I(as,(T,x)=>{a.bind(M=>M.getOpt(T)).each(M=>{vt.set(M,[de(o.providers.translate(x.event.text))])})}),I(li,(T,x)=>{c.bind(M=>M.getOpt(T)).each(M=>{vt.set(M,[tc(x.event.icon,o.providers.icons)])})}),I(sw,(T,x)=>{const M=o.providers.translate(x.event.text);pt(T.element,"aria-label",M),r.set(d.some(x.event.text))})])]),eventOrder:ae(ew,{[Rn()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[qs()]:["toolbar-button-events",me.name(),y,v]}),sandboxBehaviours:P([ot.config({mode:"special",onLeft:i,onRight:i}),ft("dropdown-sandbox-events",[I(h5,(T,x)=>{PR(T),x.stop()}),I(g5,(T,x)=>{ZR(T,x),x.stop()})])]),lazySink:o.getSink,toggleClass:`${e}--active`,parts:{menu:{...Wm(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:ES,onCollapseMenu:(T,x,M)=>{Gt.getHighlighted(M).each(O=>{ES(T,M,O)})},onDehighlightItem:WR}}},getAnchorOverrides:()=>({maxHeightFunction:(T,x)=>{wb()(T,x-10)}}),fetch:T=>_e.nu(so(t.fetch,T))})).asSpec()},Vz=t=>Zt(t),rw=t=>t.type==="separator",Lz=t=>Lt(t,"getSubmenuItems"),Bz={type:"separator"},Rz=(t,e)=>{const o=Ne(t,(n,s)=>Vz(s)?s===""?n:s==="|"?n.length>0&&!rw(n[n.length-1])?n.concat([Bz]):n:Lt(e,s.toLowerCase())?n.concat([e[s.toLowerCase()]]):n:n.concat([s]),[]);return o.length>0&&rw(o[o.length-1])&&o.pop(),o},zz=(t,e)=>{const o=t.getSubmenuItems(),n=aw(o,e),s=ae(n.menus,{[t.value]:n.items}),r=ae(n.expansions,{[t.value]:t.value});return{item:t,menus:s,expansions:r}},Pz=t=>{const e=dt(t,"value").getOrThunk(()=>K("generated-menu-item"));return ae({value:e},t)},aw=(t,e)=>{const o=Rz(Zt(t)?t.split(" "):t,e);return lo(o,(n,s)=>{if(Lz(s)){const r=Pz(s),a=zz(r,e);return{menus:ae(n.menus,a.menus),items:[a.item,...n.items],expansions:ae(n.expansions,a.expansions)}}else return{...n,items:[s,...n.items]}},{menus:{},expansions:{},items:[]})},Zz=t=>t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder})),Nz=t=>t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"})),bl=(t,e,o,n)=>{const s=K("primary-menu"),r=aw(t,o.shared.providers.menuItems());if(r.items.length===0)return d.none();const a=Zz(n),c=AS(s,r.items,e,o,n.isHorizontalMenu,a),i=Nz(n),u=He(r.menus,(g,p)=>AS(p,g,e,o,!1,i)),m=ae(u,kc(s,c));return d.from(Wc.tieredData(s,m,r.expansions))},ch=t=>!Lt(t,"items"),cw="data-value",iw=(t,e,o,n,s)=>Y(o,r=>ch(r)?{type:"togglemenuitem",...s?{}:{role:"option"},text:r.text,value:r.value,active:r.value===n,onAction:()=>{q.setValue(t,r.value),ct(t,rn,{name:e}),mt.focus(t)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>iw(t,e,r.items,n,s)}),r2=(t,e)=>Nt(t,o=>ch(o)?No(o.value===e,o):r2(o.items,e)),Uz=(t,e,o)=>{const n=fo(t.items,u=>!ch(u)),s=e.shared.providers,r=o.bind(u=>r2(t.items,u)).orThunk(()=>mn(t.items).filter(ch)),a=t.label.map(u=>qa(u,s)),c=Et.parts.field({dom:{},factory:{sketch:u=>s2({context:t.context,uid:u.uid,text:r.map(m=>m.text),icon:d.none(),tooltip:d.none(),role:No(!n,"combobox"),...n?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(m,g)=>{const p=iw(m,t.name,t.items,q.getValue(m),n);g(bl(p,Hs.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:d.none()}))},onSetup:E(N),getApi:E({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ee.config({}),ii(r.map(m=>m.value),m=>je(m.element,cw),(m,g)=>{r2(t.items,g).each(p=>{pt(m.element,cw,p.value),ct(m,as,{text:p.text})})})]},"tox-listbox",e.shared)}}),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[c]};return Et.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Le([a.toArray(),[i]]),fieldBehaviours:P([et.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:u=>{Et.getField(u).each(et.disable)},onEnabled:u=>{Et.getField(u).each(et.enable)}})])})},Wz=(t,e)=>({dom:{tag:"div",classes:t.classes},components:Y(t.items,e.shared.interpreter)}),Gz=(t,e,o)=>{const n=Y(t.items,i=>({text:e.translate(i.text),value:i.value})),s=t.label.map(i=>qa(i,e)),r=Et.parts.field({dom:{},...o.map(i=>({data:i})).getOr({}),selectAttributes:{size:t.size},options:n,factory:s9,selectBehaviours:P([et.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable}),ee.config({}),ft("selectbox-change",[I(Gi(),(i,u)=>{ct(i,rn,{name:t.name})})])])}),a=t.size>1?d.none():d.some(Wn("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},e.icons)),c={dom:{tag:"div",classes:["tox-selectfield"]},components:Le([[r],a.toArray()])};return Et.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Le([s.toArray(),[c]]),fieldBehaviours:P([et.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:i=>{Et.getField(i).each(et.disable)},onEnabled:i=>{Et.getField(i).each(et.enable)}}),Ve(()=>e.checkUiComponentContext(t.context))])})},lw=t=>{const e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=s=>s in e?e[s]:1;let n=t.value.toFixed(o(t.unit));return n.indexOf(".")!==-1&&(n=n.replace(/\.?0*$/,"")),n+t.unit},ih=t=>{const o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(o!==null){const n=parseFloat(o[1]),s=o[2];return Mt.value({value:n,unit:s})}else return Mt.error(t)},uw=(t,e)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=s=>Lt(o,s);return t.unit===e?d.some(t.value):n(t.unit)&&n(e)?o[t.unit]===o[e]?d.some(t.value):d.some(t.value/o[t.unit]*o[e]):d.none()},lh=t=>d.none(),jz=(t,e)=>o=>uw(o,e).map(n=>({value:n*t,unit:e})),dw=(t,e)=>{const o=ih(t).toOptional(),n=ih(e).toOptional();return vr(o,n,(s,r)=>uw(s,r.unit).map(a=>r.value/a).map(a=>jz(a,r.unit)).getOr(lh)).getOr(lh)},Yz=(t,e)=>{let o=lh;const n=K("ratio-event"),s=w=>Wn(w,{tag:"span",classes:["tox-icon","tox-lock-icon__"+w]},e.icons),r=()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable,a=Ve(()=>e.checkUiComponentContext(t.context)),c=t.label.getOr("Constrain proportions"),i=e.translate(c),u=Ie.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":i,"data-mce-name":c}},components:[s("lock"),s("unlock")],buttonBehaviours:P([et.config({disabled:r}),a,ee.config({}),me.config(e.tooltips.getConfig({tooltipText:i}))])}),m=w=>({dom:{tag:"div",classes:["tox-form__group"]},components:w}),g=w=>Et.parts.field({factory:ca,inputClasses:["tox-textfield"],inputBehaviours:P([et.config({disabled:r}),a,ee.config({}),ft("size-input-events",[I(Ss(),(T,x)=>{ct(T,n,{isField1:w})}),I(Gi(),(T,x)=>{ct(T,rn,{name:t.name})})])]),selectOnFocus:!1}),p=w=>({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(w))]}),v=Ie.parts.field1(m([Et.parts.label(p("Width")),g(!0)])),y=Ie.parts.field2(m([Et.parts.label(p("Height")),g(!1)]));return Ie.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[v,y,m([p(fc),u])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(w,T,x)=>{ih(q.getValue(w)).each(M=>{o(M).each(O=>{q.setValue(T,lw(O))})})},coupledFieldBehaviours:P([et.config({disabled:r,onDisabled:w=>{Ie.getField1(w).bind(Et.getField).each(et.disable),Ie.getField2(w).bind(Et.getField).each(et.disable),Ie.getLock(w).each(et.disable)},onEnabled:w=>{Ie.getField1(w).bind(Et.getField).each(et.enable),Ie.getField2(w).bind(Et.getField).each(et.enable),Ie.getLock(w).each(et.enable)}}),Ve(()=>e.checkUiComponentContext("mode:design")),ft("size-input-events2",[I(n,(w,T)=>{const x=T.event.isField1,M=x?Ie.getField1(w):Ie.getField2(w),O=x?Ie.getField2(w):Ie.getField1(w),D=M.map(q.getValue).getOr(""),$=O.map(q.getValue).getOr("");o=dw(D,$)})])])})},Xz=(t,e,o)=>{const n=As.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(t.label))]}),s=As.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=As.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return As.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:E(o.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[n,s,r],sliderBehaviours:P([Fs.self(),mt.config({})]),onChoose:(a,c,i)=>{ct(a,rn,{name:t.name,value:i})},onChange:(a,c,i)=>{ct(a,rn,{name:t.name,value:i})}})},Kz=(t,e)=>{const o=c=>({dom:{tag:"th",innerHtml:e.translate(c)}}),n=c=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Y(c,o)}]}),s=c=>({dom:{tag:"td",innerHtml:e.translate(c)}}),r=c=>({dom:{tag:"tr"},components:Y(c,s)}),a=c=>({dom:{tag:"tbody"},components:Y(c,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[n(t.header),a(t.cells)],behaviours:P([ee.config({}),mt.config({})])}},mw=(t,e)=>{const o=t.label.map(v=>qa(v,e)),n=[et.config({disabled:()=>t.disabled||e.checkUiComponentContext(t.context).shouldDisable}),Ve(()=>e.checkUiComponentContext(t.context)),ot.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:v=>(Dt(v,cd),d.some(!0))}),ft("textfield-change",[I(qr(),(v,y)=>{ct(v,rn,{name:t.name})}),I(Dg(),(v,y)=>{ct(v,rn,{name:t.name})})]),ee.config({})],s=t.validation.map(v=>kr.config({getRoot:y=>Qo(y.element),invalidClass:"tox-invalid",validator:{validate:y=>{const w=q.getValue(y),T=v.validator(w);return _e.pure(T===!0?Mt.value(w):Mt.error(T))},validateOnLoad:v.validateOnLoad}})).toArray(),r=t.placeholder.fold(E({}),v=>({placeholder:e.translate(v)})),a=t.inputMode.fold(E({}),v=>({inputmode:v})),c={...r,...a,"data-mce-name":t.name},i=Et.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(v=>({data:v})).getOr({}),inputAttributes:c,inputClasses:[t.classname],inputBehaviours:P(Le([n,s])),selectOnFocus:!1,factory:ca}),u=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i,g=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),p=[et.config({disabled:()=>t.disabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:v=>{Et.getField(v).each(et.disable)},onEnabled:v=>{Et.getField(v).each(et.enable)}}),Ve(()=>e.checkUiComponentContext(t.context))];return rd(o,u,g,p)},qz=(t,e,o)=>mw({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:d.none(),maximized:t.maximized,data:o,context:t.context},e),Jz=(t,e,o)=>mw({name:t.name,multiline:!0,label:t.label,inputMode:d.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:d.none(),maximized:t.maximized,data:o,context:t.context},e),hw=t=>({isEnabled:()=>!et.isDisabled(t),setEnabled:e=>et.set(t,!e),setActive:e=>{const o=t.element;e?(Fe(o,"tox-tbtn--enabled"),pt(o,"aria-pressed",!0)):(Ee(o,"tox-tbtn--enabled"),Se(o,"aria-pressed"))},isActive:()=>en(t.element,"tox-tbtn--enabled"),setTooltip:e=>{ct(t,sw,{text:e})},setText:e=>{ct(t,as,{text:e})},setIcon:e=>ct(t,li,{icon:e})}),ud=(t,e,o,n,s=!0,r)=>{const a=t.buttonType==="bordered"?["bordered"]:[];return s2({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:n,fetch:(c,i)=>{const u={pattern:t.search.isSome()?jR(c):""};t.fetch(m=>{i(bl(m,Hs.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:t.search}))},u,hw(c))},onSetup:t.onSetup,getApi:c=>hw(c),columns:1,presets:"normal",classes:a,dropdownBehaviours:[...s?[ee.config({})]:[]],context:t.context},e,o.shared,r)},Qz=(t,e,o)=>{const n=r=>a=>{const c=!a.isActive();a.setActive(c),r.storage.set(c),o.shared.getSink().each(i=>{e().getOpt(i).each(u=>{Ge(u.element),ct(u,Dr,{name:r.name,value:r.storage.get()})})})},s=r=>a=>{a.setActive(r.storage.get())};return r=>{r(Y(t,a=>{const c=a.text.fold(()=>({}),i=>({text:i}));return{type:a.type,active:!1,...c,context:a.context,onAction:n(a),onSetup:s(a)}}))}},gw=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[de(t)]}),pw=(t,e,o)=>{t.customStateIcon.each(n=>e.push(vw(n,o.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],s=>[me.config(o.shared.providers.tooltips.getConfig({tooltipText:s}))]),["tox-icon-custom-state"])))},fw=K("leaf-label-event-id"),a2=({leaf:t,onLeafAction:e,visible:o,treeId:n,selectedId:s,backstage:r})=>{const a=t.menu.map(i=>ud(i,"tox-mbtn",r,d.none(),o)),c=[gw(t.title)];return pw(t,c,r),a.each(i=>c.push(i)),po.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(o?["tox-tree--leaf__label--visible"]:[])},components:c,role:"treeitem",action:i=>{e(t.id),i.getSystem().broadcastOn([`update-active-item-${n}`],{value:t.id})},eventOrder:{[Ks()]:[fw,"keying"]},buttonBehaviours:P([...o?[ee.config({})]:[],_t.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Tn.config({channels:{[`update-active-item-${n}`]:{onReceive:(i,u)=>{(u.value===t.id?_t.on:_t.off)(i)}}}}),ft(fw,[ie((i,u)=>{s.each(m=>{(m===t.id?_t.on:_t.off)(i)})}),I(Ks(),(i,u)=>{const m=u.event.raw.code==="ArrowLeft",g=u.event.raw.code==="ArrowRight";m?(js(i.element,".tox-tree--directory").each(p=>{i.getSystem().getByDom(p).each(v=>{gg(p,".tox-tree--directory__label").each(y=>{v.getSystem().getByDom(y).each(mt.focus)})})}),u.stop()):g&&u.stop()})])])})},vw=(t,e,o,n,s)=>Wn(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(n||[]),behaviours:o,attributes:s},e),tP=(t,e)=>vw(t,e,[]),bw=K("directory-label-event-id"),eP=({directory:t,visible:e,noChildren:o,backstage:n})=>{const s=t.menu.map(c=>ud(c,"tox-mbtn",n,d.none())),r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[tP("chevron-right",n.shared.providers.icons)]},gw(t.title)];pw(t,r,n),s.each(c=>{r.push(c)});const a=c=>{js(c.element,".tox-tree--directory").each(i=>{c.getSystem().getByDom(i).each(u=>{const m=!_t.isOn(u);_t.toggle(u),ct(c,"expand-tree-node",{expanded:m,node:t.id})})})};return po.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(e?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[Ks()]:[bw,"keying"]},buttonBehaviours:P([...e?[ee.config({})]:[],ft(bw,[I(Ks(),(c,i)=>{const u=i.event.raw.code==="ArrowRight",m=i.event.raw.code==="ArrowLeft";u&&o&&i.stop(),(u||m)&&js(c.element,".tox-tree--directory").each(g=>{c.getSystem().getByDom(g).each(p=>{!_t.isOn(p)&&u||_t.isOn(p)&&m?(a(c),i.stop()):m&&!_t.isOn(p)&&(js(p.element,".tox-tree--directory").each(v=>{gg(v,".tox-tree--directory__label").each(y=>{p.getSystem().getByDom(y).each(mt.focus)})}),i.stop())})})})])])})},oP=({children:t,onLeafAction:e,visible:o,treeId:n,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(c=>c.type==="leaf"?a2({leaf:c,selectedId:r,onLeafAction:e,visible:o,treeId:n,backstage:a}):c2({directory:c,expandedIds:s,selectedId:r,onLeafAction:e,labelTabstopping:o,treeId:n,backstage:a})),behaviours:P([sn.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),vt.config({})])}),nP=K("directory-event-id"),c2=({directory:t,onLeafAction:e,labelTabstopping:o,treeId:n,backstage:s,expandedIds:r,selectedId:a})=>{const{children:c}=t,i=st(r),u=g=>c.map(p=>p.type==="leaf"?a2({leaf:p,selectedId:a,onLeafAction:e,visible:g,treeId:n,backstage:s}):c2({directory:p,expandedIds:i.get(),selectedId:a,onLeafAction:e,labelTabstopping:g,treeId:n,backstage:s})),m=r.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[eP({directory:t,visible:o,noChildren:t.children.length===0,backstage:s}),oP({children:c,expandedIds:r,selectedId:a,onLeafAction:e,visible:m,treeId:n,backstage:s})],behaviours:P([ft(nP,[ie((g,p)=>{_t.set(g,m)}),I("expand-tree-node",(g,p)=>{const{expanded:v,node:y}=p.event;i.set(v?[...i.get(),y]:i.get().filter(w=>w!==y))})]),_t.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(g,p)=>{const v=g.components()[1],y=u(p);p?sn.grow(v):sn.shrink(v),vt.set(v,y)}})])}},sP=K("tree-event-id"),rP=(t,e)=>{const o=t.onLeafAction.getOr(N),n=t.onToggleExpand.getOr(N),s=t.defaultExpandedIds,r=st(s),a=st(t.defaultSelectedId),c=K("tree-id"),i=(u,m)=>t.items.map(g=>g.type==="leaf"?a2({leaf:g,selectedId:u,onLeafAction:o,visible:!0,treeId:c,backstage:e}):c2({directory:g,selectedId:u,onLeafAction:o,expandedIds:m,labelTabstopping:!0,treeId:c,backstage:e}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(a.get(),r.get()),behaviours:P([ot.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),ft(sP,[I("expand-tree-node",(u,m)=>{const{expanded:g,node:p}=m.event;r.set(g?[...r.get(),p]:r.get().filter(v=>v!==p)),n(r.get(),{expanded:g,node:p})})]),Tn.config({channels:{[`update-active-item-${c}`]:{onReceive:(u,m)=>{a.set(d.some(m.value)),vt.set(u,i(d.some(m.value),r.get()))}}}}),vt.config({})])}},uh=(t,e,o=[],n,s,r,a)=>{const c=e.fold(()=>({}),m=>({action:m})),i={buttonBehaviours:P([rs.item(()=>!t.enabled||a.checkUiComponentContext(t.context).shouldDisable),Ve(()=>a.checkUiComponentContext(t.context)),ee.config({}),...r.map(m=>me.config(a.tooltips.getConfig({tooltipText:a.translate(m)}))).toArray(),ft("button press",[NT("click")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...c},u=ae(i,{dom:n});return ae(u,{components:s})},aP=(t,e,o,n=[],s)=>{const r=t.tooltip.map(u=>({"aria-label":o.translate(u)})).getOr({}),a={tag:"button",classes:["tox-tbtn"],attributes:{...r,"data-mce-name":s}},c=t.icon.map(u=>n2(u,o.icons)),i=fl([c]);return uh(t,e,n,a,i,t.tooltip,o)},i2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},yw=(t,e,o,n=[],s=[])=>{const r=o.translate(t.text),a=t.icon.map(v=>n2(v,o.icons)),c=[a.getOrThunk(()=>de(r))],i=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),g={tag:"button",classes:[...i2(i),...a.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...s],attributes:{"aria-label":r,"data-mce-name":t.text}},p=t.icon.map(E(r));return uh(t,e,n,g,c,p,o)},xw=(t,e,o,n=[],s=[])=>{const r=yw(t,d.some(e),o,n,s);return po.sketch(r)},Sw=(t,e)=>o=>{e==="custom"?ct(o,Dr,{name:t,value:{}}):e==="submit"?Dt(o,cd):e==="cancel"?Dt(o,Ja):console.error("Unknown button type: ",e)},cP=(t,e)=>e==="menu",iP=(t,e)=>e==="custom"||e==="cancel"||e==="submit",lP=(t,e)=>e==="togglebutton",uP=(t,e,o)=>{var n,s;const r=t.icon.map(O=>tc(O,e.icons)).map(Ut),a=O=>{ct(O,Dr,{name:t.name,value:{setIcon:D=>{r.map($=>$.getOpt(O).each(G=>{vt.set(G,[tc(D,e.icons)])}))}}})},c=t.buttonType.getOr(t.primary?"primary":"secondary"),i={...t,name:(n=t.name)!==null&&n!==void 0?n:"",primary:c==="primary",tooltip:t.tooltip,enabled:(s=t.enabled)!==null&&s!==void 0?s:!1,borderless:!1},u=i.tooltip.or(t.text).map(O=>({"aria-label":e.translate(O)})).getOr({}),m=i2(c??"secondary"),g=t.icon.isSome()&&t.text.isSome(),p={tag:"button",classes:[...m.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...g?["tox-button--icon-and-text"]:[]],attributes:{...u,...xe(o)?{"data-mce-name":o}:{}}},v=[],y=e.translate(t.text.getOr("")),w=de(y),x=[...fl([r.map(O=>O.asSpec())]),...t.text.isSome()?[w]:[]],M=uh(i,d.some(a),v,p,x,t.tooltip,e);return po.sketch(M)},dh=(t,e,o)=>{if(cP(t,e)){const n=()=>a,s=t,r={...t,buttonType:"default",type:"menubutton",search:d.none(),onSetup:c=>(c.setEnabled(t.enabled),N),fetch:Qz(s.items,n,o)},a=Ut(ud(r,"tox-tbtn",o,d.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return a.asSpec()}else if(iP(t,e)){const n=Sw(t.name,e),s={...t,context:e==="cancel"?"any":t.context,borderless:!1};return xw(s,n,o.shared.providers,[])}else{if(lP(t,e))return uP(t,o.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type")}},dP=(t,e)=>{const o=Sw(t.name,"custom");return ez(d.none(),Et.parts.field({factory:po,...yw(t,d.some(o),e,[sh(""),Fs.self()])}))},mP={type:"separator"},hP=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:N}),l2=(t,e)=>({type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:N}),gP=t=>Y(t,hP),pP=(t,e)=>oe(e,o=>o.type===t),ww=(t,e)=>gP(pP(t,e)),fP=t=>ww("header",t.targets),vP=t=>ww("anchor",t.targets),bP=t=>d.from(t.anchorTop).map(e=>l2("<top>",e)).toArray(),yP=t=>d.from(t.anchorBottom).map(e=>l2("<bottom>",e)).toArray(),xP=t=>Y(t,e=>l2(e,e)),SP=t=>Ne(t,(e,o)=>e.length===0||o.length===0?e.concat(o):e.concat(mP,o),[]),u2=(t,e)=>{const o=t.toLowerCase();return oe(e,n=>{var s;const r=n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.text,a=(s=n.value)!==null&&s!==void 0?s:"";return We(r.toLowerCase(),o)||We(a.toLowerCase(),o)})},wP=(t,e,o)=>{var n,s;const r=q.getValue(e),a=(s=(n=r==null?void 0:r.meta)===null||n===void 0?void 0:n.text)!==null&&s!==void 0?s:r.value;return o.getLinkInformation().fold(()=>[],i=>{const u=u2(a,xP(o.getHistory(t)));return t==="file"?SP([u,u2(a,fP(i)),u2(a,Le([bP(i),vP(i),yP(i)]))]):u})},Cw=K("aria-invalid"),CP=(t,e,o,n)=>{const s=e.shared.providers,r=M=>{const O=q.getValue(M);o.addToHistory(O.value,t.filetype)},a={...n.map(M=>({initialData:M})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":Cw,type:"url"},minChars:0,responseTime:0,fetch:M=>{const O=wP(t.filetype,M,o),D=bl(O,Hs.BUBBLE_TO_SANDBOX,e,{isHorizontalMenu:!1,search:d.none()});return _e.pure(D)},getHotspot:M=>y.getOpt(M),onSetValue:(M,O)=>{M.hasConfigured(kr)&&kr.run(M).get(N)},typeaheadBehaviours:P([...o.getValidationHandler().map(M=>kr.config({getRoot:O=>Qo(O.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(O,D)=>{m.getOpt(O).each($=>{pt($.element,"title",s.translate(D))})}},validator:{validate:O=>{const D=q.getValue(O);return wi.nu($=>{M({type:t.filetype,url:D.value},G=>{if(G.status==="invalid"){const R=Mt.error(G.message);$(R)}else{const R=Mt.value(G.message);$(R)}})})},validateOnLoad:!1}})).toArray(),et.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),ee.config({}),ft("urlinput-events",[I(qr(),M=>{const O=jr(M.element),D=O.trim();D!==O&&Mc(M.element,D),t.filetype==="file"&&ct(M,rn,{name:t.name})}),I(Gi(),M=>{ct(M,rn,{name:t.name}),r(M)}),I(Dg(),M=>{ct(M,rn,{name:t.name}),r(M)})])]),eventOrder:{[qr()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:M=>M.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:Wm(!1,1,"normal")},onExecute:(M,O,D)=>{ct(O,cd,{})},onItemExecute:(M,O,D,$)=>{r(M),ct(M,rn,{name:t.name})}},c=Et.parts.field({...a,factory:xF}),i=t.label.map(M=>qa(M,s)),m=Ut(((M,O,D=M,$=M)=>Wn(D,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+M],attributes:{title:s.translate($),"aria-live":"polite",...O.fold(()=>({}),G=>({id:G}))}},s.icons))("invalid",d.some(Cw),"warning")),g=Ut({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[m.asSpec()]}),p=o.getUrlPicker(t.filetype),v=K("browser.url.event"),y=Ut({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,g.asSpec()],behaviours:P([et.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable})])}),w=Ut(xw({context:t.context,name:t.name,icon:d.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:d.none(),borderless:!0},M=>Dt(M,v),s,[],["tox-browse-url"])),T=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Le([[y.asSpec()],p.map(()=>w.asSpec()).toArray()])}),x=M=>{$t.getCurrent(M).each(O=>{const D=q.getValue(O),$={fieldname:t.name,...D};p.each(G=>{G($).get(R=>{q.setValue(O,R),ct(M,rn,{name:t.name})})})})};return Et.sketch({dom:nz(),components:i.toArray().concat([T()]),fieldBehaviours:P([et.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:M=>{Et.getField(M).each(et.disable),w.getOpt(M).each(et.disable)},onEnabled:M=>{Et.getField(M).each(et.enable),w.getOpt(M).each(et.enable)}}),Ve(()=>s.checkUiComponentContext(t.context)),ft("url-input-events",[I(v,x)])])})},TP=(t,e)=>{const o=r5(t.icon,e.icons);return or.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:o},components:t.url?[po.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:o,attributes:{title:e.translate(t.iconTooltip)}},action:n=>ct(n,Dr,{name:"alert-banner",value:t.url}),buttonBehaviours:P([a5()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},_P=(t,e,o)=>{const n=i=>(i.element.dom.click(),d.some(!0)),s=Et.parts.field({factory:{sketch:Ft},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:P([Fs.self(),et.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:i=>{Qo(i.element).each(u=>Fe(u,"tox-checkbox--disabled"))},onEnabled:i=>{Qo(i.element).each(u=>Ee(u,"tox-checkbox--disabled"))}}),ee.config({}),mt.config({}),BS(o,x7,y7),ot.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),ft("checkbox-events",[I(Gi(),(i,u)=>{ct(i,rn,{name:t.name})})])])}),r=Et.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[de(e.translate(t.label))],behaviours:P([Vu.config({})])}),a=i=>Wn(i==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+i]},e.icons),c=Ut({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Et.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:P([et.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable}),Ve(()=>e.checkUiComponentContext(t.context))])})},MP=(t,e)=>{const o=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],n=ft("htmlpanel",[ie(s=>{t.onInit(s.element.dom)})]);return t.presets==="presentation"?or.sketch({dom:{tag:"div",classes:o,innerHtml:t.html},containerBehaviours:P([me.config({...e.tooltips.getConfig({tooltipText:"",onShow:s=>{te(s.element,"[data-mce-tooltip]:hover").orThunk(()=>bo(s.element)).each(r=>{Ye(r,"data-mce-tooltip").each(a=>{me.setComponents(s,e.tooltips.getComponents({tooltipText:a}))})})}}),mode:"children-normal",anchor:s=>({type:"node",node:te(s.element,"[data-mce-tooltip]:hover").orThunk(()=>bo(s.element).filter(r=>Ye(r,"data-mce-tooltip").isSome())),root:s.element,layouts:{onLtr:E([qe,ro,Xe,Co,Ke,To]),onRtl:E([qe,ro,Xe,Co,Ke,To])},bubble:Cs(0,-2,{})})}),n])}):or.sketch({dom:{tag:"div",classes:o,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:P([ee.config({}),mt.config({}),n])})},Qe=t=>(e,o,n,s,r)=>dt(o,"name").fold(()=>t(o,s,d.none(),r),a=>e.field(a,t(o,s,dt(n,a),r))),OP=t=>(e,o,n,s,r)=>{const a=ae(o,{source:"dynamic"});return Qe(t)(e,a,n,s,r)},kP={bar:Qe((t,e)=>QR(t,e.shared)),collection:Qe((t,e,o)=>sz(t,e.shared.providers,o)),alertbanner:Qe((t,e)=>TP(t,e.shared.providers)),input:Qe((t,e,o)=>qz(t,e.shared.providers,o)),textarea:Qe((t,e,o)=>Jz(t,e.shared.providers,o)),label:Qe((t,e,o,n)=>Fz(t,e.shared,n)),iframe:OP((t,e,o)=>Az(t,e.shared.providers,o)),button:Qe((t,e)=>dP(t,e.shared.providers)),checkbox:Qe((t,e,o)=>_P(t,e.shared.providers,o)),colorinput:Qe((t,e,o)=>az(t,e.shared,e.colorinput,o)),colorpicker:Qe((t,e,o)=>vz(t,e.shared.providers,o)),dropzone:Qe((t,e,o)=>Sz(t,e.shared.providers,o)),grid:Qe((t,e)=>wz(t,e.shared)),listbox:Qe((t,e,o)=>Uz(t,e,o)),selectbox:Qe((t,e,o)=>Gz(t,e.shared.providers,o)),sizeinput:Qe((t,e)=>Yz(t,e.shared.providers)),slider:Qe((t,e,o)=>Xz(t,e.shared.providers,o)),urlinput:Qe((t,e,o)=>CP(t,e,e.urlinput,o)),customeditor:Qe(yz),htmlpanel:Qe((t,e)=>MP(t,e.shared.providers)),imagepreview:Qe((t,e,o)=>$z(t,o)),table:Qe((t,e)=>Kz(t,e.shared.providers)),tree:Qe((t,e)=>rP(t,e)),panel:Qe((t,e)=>Wz(t,e))},EP={field:(t,e)=>e,record:E([])},Tw=(t,e,o,n,s)=>{const r=ae(n,{shared:{interpreter:a=>d2(t,a,o,r,s)}});return d2(t,e,o,r,s)},d2=(t,e,o,n,s)=>dt(kP,e.type).fold(()=>(console.error(`Unknown factory type "${e.type}", defaulting to container: `,e),e),r=>r(t,e,o,n,s)),_w=(t,e,o,n)=>d2(EP,t,e,o,n),dd={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AP=(t,e,o)=>{const s={maxHeightFunction:Yi()},r=()=>({type:"node",root:Oa(Oo(t())),node:d.from(t()),bubble:Cs(12,12,dd),layouts:{onRtl:()=>[Su],onLtr:()=>[xu]},overrides:s}),a=()=>({type:"hotspot",hotspot:e(),bubble:Cs(-12,12,dd),layouts:{onRtl:()=>[Xe,Ke,qe],onLtr:()=>[Ke,Xe,qe]},overrides:s});return()=>o()?r():a()},DP=(t,e,o,n)=>{const r={maxHeightFunction:Yi()},a=()=>({type:"node",root:Oa(Oo(e())),node:d.from(e()),bubble:Cs(12,12,dd),layouts:{onRtl:()=>[Ts],onLtr:()=>[Ts]},overrides:r}),c=()=>t?{type:"node",root:Oa(Oo(e())),node:d.from(e()),bubble:Cs(0,-ve(e()),dd),layouts:{onRtl:()=>[ro],onLtr:()=>[ro]},overrides:r}:{type:"hotspot",hotspot:o(),bubble:Cs(0,0,dd),layouts:{onRtl:()=>[ro],onLtr:()=>[ro]},overrides:r};return()=>n()?a():c()},HP=(t,e,o)=>{const n=()=>({type:"node",root:Oa(Oo(t())),node:d.from(t()),layouts:{onRtl:()=>[Ts],onLtr:()=>[Ts]}}),s=()=>({type:"hotspot",hotspot:e(),layouts:{onRtl:()=>[qe],onLtr:()=>[qe]}});return()=>o()?n():s()},$P=(t,e)=>()=>({type:"selection",root:e(),getSelection:()=>{const o=t.selection.getRng(),n=t.model.table.getSelectedCells();if(n.length>1){const s=n[0],r=n[n.length-1],a={firstCell:j.fromDom(s),lastCell:j.fromDom(r)};return d.some(a)}return d.some(uu.range(j.fromDom(o.startContainer),o.startOffset,j.fromDom(o.endContainer),o.endOffset))}}),FP=t=>e=>({type:"node",root:t(),node:e}),IP=(t,e,o,n)=>{const s=ll(t),r=()=>j.fromDom(t.getBody()),a=()=>j.fromDom(t.getContentAreaContainer()),c=()=>s||!n();return{inlineDialog:AP(a,e,c),inlineBottomDialog:DP(t.inline,a,o,c),banner:HP(a,e,c),cursor:$P(t,r),node:FP(r)}},VP=t=>(e,o)=>{TS(t)(e,o)},LP=t=>()=>fS(t),BP=t=>e=>eh(t,e),RP=t=>e=>pS(t,e),zP=t=>({colorPicker:VP(t),hasCustomColors:LP(t),getColors:BP(t),getColorCols:RP(t)}),PP=t=>()=>_x(t),ZP=t=>({isDraggableModal:PP(t)}),NP=t=>{const e=st(U0(t)?"bottom":"top");return{isPositionedAtTop:()=>e.get()==="top",getDockingMode:e.get,setDockingMode:e.set}},Mw=t=>_o(t,"items"),Ow=t=>_o(t,"format"),kw=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],UP=t=>Lt(t,"items"),WP=t=>Lt(t,"block"),GP=t=>Lt(t,"inline"),jP=t=>Lt(t,"selector"),Ew=t=>Ne(t,(e,o)=>{if(UP(o)){const n=Ew(o.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:o.title,items:n.formats}])}}else if(GP(o)||WP(o)||jP(o)){const s=`custom-${Zt(o.name)?o.name:o.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:s,format:o}]),formats:e.formats.concat([{title:o.title,format:s,icon:o.icon}])}}else return{...e,formats:e.formats.concat(o)}},{customFormats:[],formats:[]}),YP=(t,e)=>{const o=Ew(e),n=s=>{it(s,r=>{t.formatter.has(r.name)||t.formatter.register(r.name,r.format)})};return t.formatter?n(o.customFormats):t.on("init",()=>{n(o.customFormats)}),o.formats},Aw=t=>lx(t).map(e=>{const o=YP(t,e);return ux(t)?kw.concat(o):o}).getOr(kw),XP=t=>{const e=Te(t);return e.length===1&&fe(e,"title")},Dw=(t,e,o)=>({...t,type:"formatter",isSelected:e(t.format),getStylePreview:o(t.format)}),Hw=(t,e,o,n)=>{const s=i=>Dw(i,o,n),r=i=>{const u=c(i.items);return{...i,type:"submenu",getStyleItems:E(u)}},a=i=>{const u=Zt(i.name)?i.name:K(i.title),m=`custom-${u}`,g={...i,type:"formatter",format:m,isSelected:o(m),getStylePreview:n(m)};return t.formatter.register(u,g),g},c=i=>Y(i,u=>Mw(u)?r(u):Ow(u)?s(u):XP(u)?{...u,type:"separator"}:a(u));return c(e)},KP=t=>{const e=c=>()=>t.formatter.match(c),o=c=>()=>{const i=t.formatter.get(c);return i!==void 0?d.some({tag:i.length>0&&(i[0].inline||i[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(c))}):d.none()},n=st([]),s=st([]),r=st(!1);return t.on("PreInit",c=>{const i=Aw(t),u=Hw(t,i,e,o);n.set(u)}),t.on("addStyleModifications",c=>{const i=Hw(t,c.items,e,o);s.set(i),r.set(c.replace)}),{getData:()=>{const c=r.get()?[]:n.get(),i=s.get();return c.concat(i)}}},qP=t=>{let n=0;const s=()=>n>0,r=c=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[de(c.tooltipText)]}];return{getConfig:c=>({delayForShow:()=>s()?60:300,delayForHide:E(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:r(c),onShow:(i,u)=>{n++,c.onShow&&c.onShow(i,u)},onHide:(i,u)=>{n--,c.onHide&&c.onHide(i,u)},onSetup:c.onSetup}),getComponents:r}},JP=t=>xe(t)&&t.nodeType===1,QP=ua.trim,$w=t=>e=>!!(JP(e)&&(e.contentEditable===t||e.getAttribute("data-mce-contenteditable")===t)),tZ=$w("true"),eZ=$w("false"),Fw=(t,e,o,n,s)=>({type:t,title:e,url:o,level:n,attach:s}),oZ=t=>{let e=t;for(;e=e.parentNode;){const o=e.contentEditable;if(o&&o!=="inherit")return tZ(e)}return!1},nZ=(t,e)=>Y(Wo(j.fromDom(e),t),o=>o.dom),Iw=t=>t.innerText||t.textContent,sZ=t=>t.id?t.id:K("h"),rZ=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,aZ=t=>rZ(t)&&Lw(t),Vw=t=>t&&/^(H[1-6])$/.test(t.nodeName),Lw=t=>oZ(t)&&!eZ(t),cZ=t=>Vw(t)&&Lw(t),iZ=t=>Vw(t)?parseInt(t.nodeName.substr(1),10):0,lZ=t=>{var e;const o=sZ(t),n=()=>{t.id=o};return Fw("header",(e=Iw(t))!==null&&e!==void 0?e:"","#"+o,iZ(t),n)},uZ=t=>{const e=t.id||t.name,o=Iw(t);return Fw("anchor",o||"#"+e,"#"+e,0,N)},dZ=t=>Y(oe(t,cZ),lZ),mZ=t=>Y(oe(t,aZ),uZ),hZ=t=>nZ("h1,h2,h3,h4,h5,h6,a:not([href])",t),gZ=t=>QP(t.title).length>0,pZ={find:t=>{const e=hZ(t);return oe(dZ(e).concat(mZ(e)),gZ)}},mh="tinymce-url-history",Bw=5,Rw=t=>Zt(t)&&/^https?/.test(t),fZ=t=>Pe(t)&&t.length<=Bw&&Bs(t,Rw),zw=t=>Dn(t)&&Br(t,e=>!fZ(e)).isNone(),Pw=()=>{const t=ci.getItem(mh);if(t===null)return{};let e;try{e=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+mh+" was not valid JSON",o),{};throw o}return zw(e)?e:(console.log("Local storage "+mh+" was not valid format",e),{})},vZ=t=>{if(!zw(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));ci.setItem(mh,JSON.stringify(t))},bZ=t=>{const e=Pw();return dt(e,t).getOr([])},yZ=(t,e)=>{if(!Rw(t))return;const o=Pw(),n=dt(o,e).getOr([]),s=oe(n,r=>r!==t);o[e]=[t].concat(s).slice(0,Bw),vZ(o)},Zw=t=>!!t,xZ=t=>He(ua.makeMap(t,/[, ]/),Zw),m2=t=>d.from(bx(t)),SZ=t=>{const e=d.from(Sx(t)).filter(Zw).map(xZ);return m2(t).fold(Qt,o=>e.fold(ye,n=>Te(n).length>0?n:!1))},wZ=(t,e)=>{const o=SZ(t);return Xo(o)?o?m2(t):d.none():o[e]?m2(t):d.none()},CZ=(t,e)=>wZ(t,e).map(o=>n=>_e.nu(s=>{const r=(c,i)=>{if(!Zt(c))throw new Error("Expected value to be string");if(i!==void 0&&!Dn(i))throw new Error("Expected meta to be a object");s({value:c,meta:i})},a={filetype:e,fieldname:n.fieldname,...d.from(n.meta).getOr({})};o.call(t,r,n.value,a)})),Nw=t=>d.from(t).filter(Zt).getOrUndefined(),TZ=t=>wx(t)?d.some({targets:pZ.find(t.getBody()),anchorTop:Nw(Cx(t)),anchorBottom:Nw(Tx(t))}):d.none(),_Z=t=>d.from(yx(t)),MZ=t=>({getHistory:bZ,addToHistory:yZ,getLinkInformation:()=>TZ(t),getValidationHandler:()=>_Z(t),getUrlPicker:e=>CZ(t,e)}),OZ=(t,e,o,n)=>{const s=st(!1),r=NP(e),a={icons:()=>e.ui.registry.getAll().icons,menuItems:()=>e.ui.registry.getAll().menuItems,translate:ns.translate,isDisabled:()=>!e.ui.isEnabled(),getOption:e.options.get,tooltips:qP(t.dialog),checkUiComponentContext:x=>{if(Vm(e))return{contextType:"disabled",shouldDisable:!0};const[M,O=""]=x.split(":"),D=e.ui.registry.getAll().contexts,$=dt(D,M).fold(()=>dt(D,"mode").map(G=>G("design")).getOr(!1),G=>O.charAt(0)==="!"?!G(O.slice(1)):G(O));return{contextType:M,shouldDisable:!$}}},c=MZ(e),i=KP(e),u=zP(e),m=ZP(e),g=()=>s.get(),p=x=>s.set(x),v={shared:{providers:a,anchors:IP(e,o,n,r.isPositionedAtTop),header:r},urlinput:c,styles:i,colorinput:u,dialog:m,isContextMenuOpen:g,setContextMenuState:p},y=x=>d.none(),w={...v,shared:{...v.shared,interpreter:x=>_w(x,{},w,y),getSink:t.popup}},T={...v,shared:{...v.shared,interpreter:x=>_w(x,{},T,y),getSink:t.dialog}};return{popup:w,dialog:T}},kZ=(t,e,o)=>{const n=(F,X)=>{it([e,...o],at=>{at.broadcastEvent(F,X)})},s=(F,X)=>{it([e,...o],at=>{at.broadcastOn([F],X)})},r=F=>s(ra(),{target:F.target}),a=Bi(),c=vo(a,"touchstart",r),i=vo(a,"touchmove",F=>n(UC(),F)),u=vo(a,"touchend",F=>n(WC(),F)),m=vo(a,"mousedown",r),g=vo(a,"mouseup",F=>{F.raw.button===0&&s(a0(),{target:F.target})}),p=F=>s(ra(),{target:j.fromDom(F.target)}),v=F=>{F.button===0&&s(a0(),{target:j.fromDom(F.target)})},y=()=>{it(t.editorManager.get(),F=>{t!==F&&F.dispatch("DismissPopups",{relatedTarget:t})})},w=F=>n($g(),Jd(F)),T=F=>{s(Pa(),{}),n(yu(),Jd(F))},x=Oo(j.fromDom(t.getElement())),M=nu(x,"scroll",F=>{requestAnimationFrame(()=>{const X=t.getContainer();if(X!=null){const tt=Ga(t,e.element).map(Ot=>[Ot.element,...Ot.others]).getOr([]);fo(tt,Ot=>qt(Ot,F.target))&&(t.dispatch("ElementScroll",{target:F.target.dom}),n(Iv(),F))}})}),O=()=>s(Pa(),{}),D=F=>{F.state&&s(ra(),{target:j.fromDom(t.getContainer())})},$=F=>{s(ra(),{target:j.fromDom(F.relatedTarget.getContainer())})},G=F=>t.dispatch("focusin",F),R=F=>t.dispatch("focusout",F);t.on("PostRender",()=>{t.on("click",p),t.on("tap",p),t.on("mouseup",v),t.on("mousedown",y),t.on("ScrollWindow",w),t.on("ResizeWindow",T),t.on("ResizeEditor",O),t.on("AfterProgressState",D),t.on("DismissPopups",$),it([e,...o],F=>{F.element.dom.addEventListener("focusin",G),F.element.dom.addEventListener("focusout",R)})}),t.on("remove",()=>{t.off("click",p),t.off("tap",p),t.off("mouseup",v),t.off("mousedown",y),t.off("ScrollWindow",w),t.off("ResizeWindow",T),t.off("ResizeEditor",O),t.off("AfterProgressState",D),t.off("DismissPopups",$),it([e,...o],F=>{F.element.dom.removeEventListener("focusin",G),F.element.dom.removeEventListener("focusout",R)}),m.unbind(),c.unbind(),i.unbind(),u.unbind(),g.unbind(),M.unbind()}),t.on("detach",()=>{it([e,...o],WM),it([e,...o],F=>F.destroy())})},EZ=N,AZ=Qt,Uw=E([]);var DZ=Object.freeze({__proto__:null,setup:EZ,isDocked:AZ,getBehaviours:Uw});const h2=E(K("toolbar-height-change")),Hr={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Ww="tox-tinymce--toolbar-sticky-on",Gw="tox-tinymce--toolbar-sticky-off",HZ=(t,e)=>{const o=fn(e),s=ms(e).dom.innerHeight,r=Vn(o),a=j.fromDom(t.elm),c=Oc(a),i=Ht(a),u=c.y,m=u+i,g=ps(e),p=Ht(e),v=g.top,y=v+p,w=Math.abs(v-r.top)<2,T=Math.abs(y-(r.top+s))<2;if(w&&u<y)dg(r.left,u-p,o);else if(T&&m>v){const x=u-s+i+p;dg(r.left,x,o)}},hh=(t,e)=>fe(pe.getModes(t),e),g2=t=>{const e=n=>ve(n)+(parseInt(h(n,"margin-top"),10)||0)+(parseInt(h(n,"margin-bottom"),10)||0),o=t.element;Qo(o).each(n=>{const s="padding-"+pe.getModes(t)[0];if(pe.isDocked(t)){const r=yn(n);wt(o,"width",r+"px"),wt(n,s,e(o)+"px")}else W(o,"width"),W(n,s)})},jw=(t,e)=>{e?(Ee(t,Hr.fadeOutClass),_c(t,[Hr.transitionClass,Hr.fadeInClass])):(Ee(t,Hr.fadeInClass),_c(t,[Hr.fadeOutClass,Hr.transitionClass]))},Yw=(t,e)=>{const o=j.fromDom(t.getContainer());e?(Fe(o,Ww),Ee(o,Gw)):(Fe(o,Gw),Ee(o,Ww))},$Z=(t,e)=>{const o=fn(e);hs(o).filter(n=>!qt(e,n)).filter(n=>qt(n,j.fromDom(o.dom.body))||Di(t,n)).each(()=>Ge(e))},FZ=(t,e)=>bo(t).orThunk(()=>e().toOptional().bind(o=>bo(o.element))),IZ=(t,e,o)=>{t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{o().each(pe.reset)}),t.on("ResizeWindow ResizeEditor",()=>{o().each(g2)}),t.on("SkinLoaded",()=>{o().each(n=>{pe.isDocked(n)?pe.reset(n):pe.refresh(n)})}),t.on("FullscreenStateChanged",()=>{o().each(pe.reset)})),t.on("AfterScrollIntoView",n=>{o().each(s=>{pe.refresh(s);const r=s.element;q2(r)&&HZ(n,r)})}),t.on("PostRender",()=>{Yw(t,!1)})},VZ=t=>t().map(pe.isDocked).getOr(!1),LZ=()=>[Tn.config({channels:{[h2()]:{onReceive:g2}}})],Xw=(t,e)=>{const o=Kt(),n=e.getSink,s=c=>{n().each(i=>c(i.element))},r=c=>{t.inline||g2(c),Yw(t,pe.isDocked(c)),c.getSystem().broadcastOn([Pa()],{}),n().each(i=>i.getSystem().broadcastOn([Pa()],{}))},a=t.inline?[]:LZ();return[mt.config({}),pe.config({contextual:{lazyContext:c=>{const i=ve(c.element),u=t.inline?t.getContentAreaContainer():t.getContainer();return d.from(u).map(m=>{const g=mo(j.fromDom(m));return Ga(t,c.element).fold(()=>{const v=g.height-i,y=g.y+(hh(c,"top")?0:i);return uo(g.x,y,g.width,v)},v=>{const y=yg(g,Kc(v)),w=hh(c,"top")?y.y:y.y+i;return uo(y.x,w,y.width,y.height-i)})})},onShow:()=>{s(c=>jw(c,!0))},onShown:c=>{s(i=>fs(i,[Hr.transitionClass,Hr.fadeInClass])),o.get().each(i=>{$Z(c.element,i),o.clear()})},onHide:c=>{FZ(c.element,n).fold(o.clear,o.set),s(i=>jw(i,!1))},onHidden:()=>{s(c=>fs(c,[Hr.transitionClass]))},...Hr},lazyViewport:c=>Ga(t,c.element).fold(()=>{const u=Vo(),m=fx(t),g=u.y+(hh(c,"top")&&!Px(t)?m:0),p=u.height-(hh(c,"bottom")?m:0);return{bounds:uo(u.x,g,u.width,p),optScrollEnv:d.none()}},u=>({bounds:Kc(u),optScrollEnv:d.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:ps(u.element).top})})),modes:[e.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var BZ=Object.freeze({__proto__:null,setup:IZ,isDocked:VZ,getBehaviours:Xw});const RZ=t=>{const e=t.editor,o=t.sticky?Xw:Uw;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:P(o(e,t.sharedBackstage))}};var p2=Nn({factory:(t,e)=>{const o=(s,r)=>{const a=Y(r,c=>{const i={type:"menubutton",text:c.text,fetch:m=>{m(c.getItems())},context:"any"},u=O5(i).mapError(m=>Ui(m)).getOrDie();return ud(u,"tox-mbtn",e.backstage,d.some("menuitem"))});vt.set(s,a)},n={focus:ot.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:P([vt.config({}),ft("menubar-events",[ie(s=>{t.onSetup(s)}),I(_r(),(s,r)=>{te(s.element,".tox-mbtn--active").each(a=>{Cr(r.event.target,".tox-mbtn").each(c=>{qt(a,c)||s.getSystem().getByDom(a).each(i=>{s.getSystem().getByDom(c).each(u=>{Un.expand(u),Un.close(i),mt.focus(u)})})})})}),I(O1(),(s,r)=>{r.event.prevFocus.bind(a=>s.getSystem().getByDom(a).toOptional()).each(a=>{r.event.newFocus.bind(c=>s.getSystem().getByDom(c).toOptional()).each(c=>{Un.isOpen(a)&&(Un.expand(c),Un.close(a))})})})]),ot.config({mode:"flow",selector:".tox-mbtn",onEscape:s=>(t.onEscape(s),d.some(!0))}),ee.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[B("dom"),B("uid"),B("onEscape"),B("backstage"),A("onSetup",N)],apis:{focus:(t,e)=>{t.focus(e)},setMenus:(t,e,o)=>{t.setMenus(e,o)}}});const zZ="Get all features",PZ="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",ZZ=t=>{const e=t.promotionLink?[{dom:{tag:"a",attributes:{href:PZ,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:zZ}}]:[];return{uid:t.uid,dom:t.dom,components:e}},NZ=t=>{const{sidebars:e}=t.ui.registry.getAll();it(Te(e),o=>{const n=e[o],s=()=>hn(d.from(t.queryCommandValue("ToggleSidebar")),o);t.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:r=>{t.execCommand("ToggleSidebar",!1,o),r.setActive(s())},onSetup:r=>{r.setActive(s());const a=()=>r.setActive(s());return t.on("ToggleSidebar",a),()=>{t.off("ToggleSidebar",a)}},context:"any"})})},UZ=t=>({element:()=>t.element.dom}),WZ=(t,e)=>{const o=Y(Te(e),n=>{const s=e[n],r=bs(sB(s));return{name:n,getApi:UZ,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return Y(o,n=>{const s=st(N);return t.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:qu.unnamedEvents([cr(n,s),Ka(n,s),I(Fg(),(r,a)=>{const c=a.event;le(o,u=>u.name===c.name).each(u=>{(c.visible?u.onShow:u.onHide)(u.getApi(r))})})])})})},GZ=t=>Ho.sketch(e=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:WZ(e,t),slotBehaviours:qu.unnamedEvents([ie(o=>Ho.hideAllSlots(o))])})),jZ=(t,e,o)=>{$t.getCurrent(t).each(s=>{vt.set(s,[GZ(e)]);const r=o==null?void 0:o.toLowerCase();Zt(r)&&Lt(e,r)&&$t.getCurrent(s).each(a=>{Ho.showSlot(a,r),sn.immediateGrow(s),W(s.element,"width"),gh(t.element,"region")})})},gh=(t,e)=>{pt(t,"role",e)},YZ=(t,e)=>{$t.getCurrent(t).each(n=>{$t.getCurrent(n).each(r=>{sn.hasGrown(n)?Ho.isShowing(r,e)?(sn.shrink(n),gh(t.element,"presentation")):(Ho.hideAllSlots(r),Ho.showSlot(r,e),gh(t.element,"region")):(Ho.hideAllSlots(r),Ho.showSlot(r,e),sn.grow(n),gh(t.element,"region"))})})},XZ=t=>$t.getCurrent(t).bind(o=>sn.isGrowing(o)||sn.hasGrown(o)?$t.getCurrent(o).bind(r=>le(Ho.getSlotNames(r),a=>Ho.isShowing(r,a))):d.none()),f2=K("FixSizeEvent"),v2=K("AutoSizeEvent"),KZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:P([ee.config({}),mt.config({}),sn.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{$t.getCurrent(e).each(Ho.hideAllSlots),Dt(e,v2)},onGrown:e=>{Dt(e,v2)},onStartGrow:e=>{ct(e,f2,{width:S(e.element,"width").getOr("")})},onStartShrink:e=>{ct(e,f2,{width:yn(e.element)+"px"})}}),vt.config({}),$t.config({find:e=>{const o=vt.contents(e);return mn(o)}})])}],behaviours:P([Fs.childAt(0),ft("sidebar-sliding-events",[I(f2,(e,o)=>{wt(e.element,"width",o.event.width)}),I(v2,(e,o)=>{W(e.element,"width")})])])}),qZ=t=>(e,o)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:sa('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),Kw=t=>$t.getCurrent(t).each(e=>Ge(e.element,!0)),JZ=(t,e)=>{const o="tabindex",n=`data-mce-${o}`;d.from(t.iframeElement).map(j.fromDom).each(s=>{e?(Ye(s,o).each(r=>pt(s,n,r)),pt(s,o,-1)):(Se(s,o),Ye(s,n).each(r=>{pt(s,o,r),Se(s,n)}))})},QZ=(t,e,o,n)=>{const s=e.element;if(JZ(t,o),o)er.block(e,qZ(n)),W(s,"display"),Se(s,"aria-hidden"),t.hasFocus()&&Kw(e);else{const r=$t.getCurrent(e).exists(a=>ka(a.element));er.unblock(e),wt(s,"display","none"),pt(s,"aria-hidden","true"),r&&t.focus()}},tN=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:P([vt.config({}),er.config({focus:!1}),$t.config({find:e=>mn(e.components())})]),components:[]}),eN=t=>t.type==="focusin",oN=t=>eN(t)?(t.composed?mn(t.composedPath()):d.from(t.target)).map(j.fromDom).filter(Jo).exists(o=>en(o,"mce-pastebin")):!1,nN=(t,e,o)=>{const n=st(!1),s=Kt(),r=c=>{n.get()&&!oN(c)&&(c.preventDefault(),Kw(e()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",r),t.on("BeforeExecCommand",c=>{c.command.toLowerCase()==="mcefocus"&&c.value!==!0&&r(c)})});const a=c=>{c!==n.get()&&(n.set(c),QZ(t,e(),c,o.providers),UB(t,c))};t.on("ProgressState",c=>{if(s.on(clearTimeout),Hn(c.time)){const i=Im.setEditorTimeout(t,()=>a(c.state),c.time);s.set(i)}else a(c.state),s.clear()})},qw=t=>{const e=t.label.isNone()?t.title.fold(()=>({}),o=>({attributes:{"aria-label":o}})):t.label.fold(()=>({}),o=>({attributes:{"aria-label":o}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...e},components:[...t.label.map(o=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[de(o)]})).toArray(),$m.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:P([ee.config({}),mt.config({ignore:!0})])}},ph=t=>$m.sketch(qw(t)),Jw=(t,e)=>{const o=ie(n=>{const s=Y(t.initGroups,ph);nr.setGroups(n,s)});return P([rs.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),Ve(()=>t.providers.checkUiComponentContext("any")),ot.config({mode:e,onEscape:t.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),ft("toolbar-events",[o])])},Qw=t=>{const e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":qw({title:d.none(),label:d.none(),items:[]}),"overflow-button":aP({context:"any",name:"more",icon:d.some("more-drawer"),enabled:!0,tooltip:d.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:d.none(),borderless:!1},d.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:Jw(t,e)}},sN=t=>{const e=Qw(t),o=4,n=nx.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return nx.sketch({...e,lazySink:t.getSink,getOverflowBounds:()=>{const s=t.moreDrawerData.lazyHeader().element,r=Oc(s),a=Ql(s),c=Oc(a),i=Math.max(a.dom.scrollHeight,c.height);return uo(r.x+o,c.y,r.width-o*2,i)},parts:{...e.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>t.onToggled(s,!0),onClosed:s=>t.onToggled(s,!1)})},rN=t=>{const e=$0.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=$0.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=Qw(t);return $0.sketch({...n,components:[e,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>{s.getSystem().broadcastOn([h2()],{type:"opened"}),t.onToggled(s,!0)},onClosed:s=>{s.getSystem().broadcastOn([h2()],{type:"closed"}),t.onToggled(s,!1)}})},fh=t=>{const e=t.cyclicKeying?"cyclic":"acyclic";return nr.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===os.scrolling?["tox-toolbar--scrolling"]:[])},components:[nr.parts.groups({})],toolbarBehaviours:Jw(t,e)})},aN=(t,e)=>{var o,n;const s=t.type==="togglebutton",r=t.icon.map(O=>tc(O,e.icons)).map(Ut),c=O=>{const D=F=>{r.map(X=>X.getOpt(O).each(at=>{vt.set(at,[tc(F,e.icons)])}))},$=F=>{const X=O.element;F?(Fe(X,"tox-button--enabled"),pt(X,"aria-pressed",!0)):(Ee(X,"tox-button--enabled"),Se(X,"aria-pressed"))},G=()=>en(O.element,"tox-button--enabled"),R=()=>Ge(O.element);if(s)return t.onAction({setIcon:D,setActive:$,isActive:G,focus:R});if(t.type==="button")return t.onAction({setIcon:D})},i={...t,name:s?t.text.getOr(t.icon.getOr("")):(o=t.text)!==null&&o!==void 0?o:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:d.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},u=i2((n=t.buttonType)!==null&&n!==void 0?n:"secondary"),m=s?t.text.map(e.translate):d.some(e.translate(t.text)),g=m.map(de),p=i.tooltip.or(m).map(O=>({"aria-label":e.translate(O)})).getOr({}),v=r.map(O=>O.asSpec()),y=fl([v,g]),w=t.icon.isSome()&&g.isSome(),T={tag:"button",classes:u.concat(...t.icon.isSome()&&!w?["tox-button--icon"]:[]).concat(...w?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:p},x=[],M=uh(i,d.some(c),x,T,y,t.tooltip,e);return po.sketch(M)},t6=(t,e)=>aN(t,e),cN=(t,e)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:Y(t.buttons,o=>t6(o,e))}),e6=Jn().deviceType,iN=e6.isPhone(),lN=e6.isTablet(),uN=t=>{let e=!1;const o=Y(t.buttons,n=>n.type==="group"?(e=!0,cN(n,t.providers)):t6(n,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[e?"tox-view__toolbar":"tox-view__header",...iN||lN?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:P([mt.config({}),ot.config({mode:"flow",selector:"button, .tox-button",focusInside:Fa.OnEnterOrSpaceMode})]),components:e?o:[or.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),or.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:o})]}},dN=t=>({uid:t.uid,behaviours:P([mt.config({}),ee.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),mN=(t,e,o,n)=>{const s={getPane:r=>no.getPart(r,t,"pane"),getOnShow:r=>t.viewConfig.onShow,getOnHide:r=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:e,behaviours:P([mt.config({}),ot.config({mode:"cyclic",focusInside:Fa.OnEnterOrSpaceMode})]),apis:s}};var yl=Lo({name:"silver.View",configFields:[B("viewConfig")],partFields:[es({factory:{sketch:uN},schema:[B("buttons"),B("providers")],name:"header"}),es({factory:{sketch:dN},schema:[],name:"pane"})],factory:mN,apis:{getPane:(t,e)=>t.getPane(e),getOnShow:(t,e)=>t.getOnShow(e),getOnHide:(t,e)=>t.getOnHide(e)}});const hN=(t,e,o)=>hr(e,(n,s)=>{const r=bs(gB(n));return t.slot(s,yl.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[yl.parts.header({buttons:r.buttons,providers:o})]:[],yl.parts.pane({})]}))}),gN=(t,e)=>Ho.sketch(o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:hN(o,t,e),slotBehaviours:qu.unnamedEvents([ie(n=>Ho.hideAllSlots(n))])})),o6=t=>le(Ho.getSlotNames(t),e=>Ho.isShowing(t,e)),pN=t=>{const e=t.element;wt(e,"display","none"),pt(e,"aria-hidden","true")},fN=t=>{const e=t.element;W(e,"display"),Se(e,"aria-hidden")},vN=t=>({getContainer:E(t)}),n6=(t,e,o)=>{Ho.getSlot(t,e).each(n=>{yl.getPane(n).each(s=>{o(n)(vN(s.element.dom))})})},bN=(t,e)=>n6(t,e,yl.getOnShow),yN=(t,e)=>n6(t,e,yl.getOnHide);var vh=Nn({factory:(t,e)=>{const r={setViews:(a,c)=>{vt.set(a,[gN(c,e.backstage.shared.providers)])},whichView:a=>$t.getCurrent(a).bind(o6),toggleView:(a,c,i,u)=>$t.getCurrent(a).exists(m=>{const g=o6(m),p=g.exists(y=>u===y),v=Ho.getSlot(m,u).isSome();return v&&(Ho.hideAllSlots(m),p?(pN(a),c()):(i(),fN(a),Ho.showSlot(m,u),bN(m,u)),g.each(y=>yN(m,y))),v})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:P([vt.config({}),$t.config({find:a=>{const c=vt.contents(a);return mn(c)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[B("backstage")],apis:{setViews:(t,e,o)=>t.setViews(e,o),toggleView:(t,e,o,n,s)=>t.toggleView(e,o,n,s),whichView:(t,e)=>t.whichView(e)}});const xN=(t,e,o)=>{let n=!1;const s=a=>{b7(a,".tox-statusbar").each(c=>{h(c,"display")==="none"&&je(c,"aria-hidden")==="true"?(W(c,"display"),Se(c,"aria-hidden")):(wt(c,"display","none"),pt(c,"aria-hidden","true"))})},r={getSocket:a=>no.getPart(a,t,"socket"),setSidebar:(a,c,i)=>{no.getPart(a,t,"sidebar").each(u=>jZ(u,c,i))},toggleSidebar:(a,c)=>{no.getPart(a,t,"sidebar").each(i=>YZ(i,c))},whichSidebar:a=>no.getPart(a,t,"sidebar").bind(XZ).getOrNull(),getHeader:a=>no.getPart(a,t,"header"),getToolbar:a=>no.getPart(a,t,"toolbar"),setToolbar:(a,c)=>{no.getPart(a,t,"toolbar").each(i=>{const u=Y(c,ph);i.getApis().setGroups(i,u)})},setToolbars:(a,c)=>{no.getPart(a,t,"multiple-toolbar").each(i=>{const u=Y(c,m=>Y(m,ph));J3.setItems(i,u)})},refreshToolbar:a=>{no.getPart(a,t,"toolbar").each(i=>i.getApis().refresh(i))},toggleToolbarDrawer:a=>{no.getPart(a,t,"toolbar").each(c=>{uc(c.getApis().toggle,i=>i(c))})},toggleToolbarDrawerWithoutFocusing:a=>{no.getPart(a,t,"toolbar").each(c=>{uc(c.getApis().toggleWithoutFocusing,i=>i(c))})},isToolbarDrawerToggled:a=>no.getPart(a,t,"toolbar").bind(c=>d.from(c.getApis().isOpen).map(i=>i(c))).getOr(!1),getThrobber:a=>no.getPart(a,t,"throbber"),focusToolbar:a=>{no.getPart(a,t,"toolbar").orThunk(()=>no.getPart(a,t,"multiple-toolbar")).each(i=>{ot.focusIn(i)})},setMenubar:(a,c)=>{no.getPart(a,t,"menubar").each(i=>{p2.setMenus(i,c)})},focusMenubar:a=>{no.getPart(a,t,"menubar").each(c=>{p2.focus(c)})},setViews:(a,c)=>{no.getPart(a,t,"viewWrapper").each(i=>{vh.setViews(i,c)})},toggleView:(a,c)=>no.getPart(a,t,"viewWrapper").exists(i=>vh.toggleView(i,()=>r.showMainView(a),()=>r.hideMainView(a),c)),whichView:a=>no.getPart(a,t,"viewWrapper").bind(vh.whichView).getOrNull(),hideMainView:a=>{n=r.isToolbarDrawerToggled(a),n&&r.toggleToolbarDrawer(a),no.getPart(a,t,"editorContainer").each(c=>{const i=c.element;s(i),wt(i,"display","none"),pt(i,"aria-hidden","true")})},showMainView:a=>{n&&r.toggleToolbarDrawer(a),no.getPart(a,t,"editorContainer").each(c=>{const i=c.element;s(i),W(i,"display"),Se(i,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},SN=Er.optional({factory:p2,name:"menubar",schema:[B("backstage")]}),wN=t=>t.type===os.sliding?rN:t.type===os.floating?sN:fh,CN=Er.optional({factory:{sketch:t=>J3.sketch({uid:t.uid,dom:t.dom,listBehaviours:P([ot.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>fh({type:t.type,uid:K("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),d.some(!0))}),setupItem:(e,o,n,s)=>{nr.setGroups(o,n)},shell:!0})},name:"multiple-toolbar",schema:[B("dom"),B("onEscape")]}),TN=Er.optional({factory:{sketch:t=>{const e=wN(t),o={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),d.some(!0)),onToggled:(n,s)=>t.onToolbarToggled(s),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(o)}},name:"toolbar",schema:[B("dom"),B("onEscape"),B("getSink")]}),_N=Er.optional({factory:{sketch:RZ},name:"header",schema:[B("dom")]}),MN=Er.optional({factory:{sketch:ZZ},name:"promotion",schema:[B("dom"),B("promotionLink")]}),ON=Er.optional({name:"socket",schema:[B("dom")]}),kN=Er.optional({factory:{sketch:KZ},name:"sidebar",schema:[B("dom")]}),EN=Er.optional({factory:{sketch:tN},name:"throbber",schema:[B("dom")]}),AN=Er.optional({factory:vh,name:"viewWrapper",schema:[B("backstage")]}),DN=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),HN=Er.optional({factory:{sketch:DN},name:"editorContainer",schema:[]});var re=Lo({name:"OuterContainer",factory:xN,configFields:[B("dom"),B("behaviours")],partFields:[_N,SN,TN,CN,ON,kN,MN,EN,AN,HN],apis:{getSocket:(t,e)=>t.getSocket(e),setSidebar:(t,e,o,n)=>{t.setSidebar(e,o,n)},toggleSidebar:(t,e,o)=>{t.toggleSidebar(e,o)},whichSidebar:(t,e)=>t.whichSidebar(e),getHeader:(t,e)=>t.getHeader(e),getToolbar:(t,e)=>t.getToolbar(e),setToolbar:(t,e,o)=>{t.setToolbar(e,o)},setToolbars:(t,e,o)=>{t.setToolbars(e,o)},refreshToolbar:(t,e)=>t.refreshToolbar(e),toggleToolbarDrawer:(t,e)=>{t.toggleToolbarDrawer(e)},toggleToolbarDrawerWithoutFocusing:(t,e)=>{t.toggleToolbarDrawerWithoutFocusing(e)},isToolbarDrawerToggled:(t,e)=>t.isToolbarDrawerToggled(e),getThrobber:(t,e)=>t.getThrobber(e),setMenubar:(t,e,o)=>{t.setMenubar(e,o)},focusMenubar:(t,e)=>{t.focusMenubar(e)},focusToolbar:(t,e)=>{t.focusToolbar(e)},setViews:(t,e,o)=>{t.setViews(e,o)},toggleView:(t,e,o)=>t.toggleView(e,o),whichView:(t,e)=>t.whichView(e)}});const $N="file edit view insert format tools table help",s6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},FN=(t,e,o)=>{const n=hx(o).split(/[ ,]/);return{text:t.title,getItems:()=>Be(t.items,s=>{const r=s.toLowerCase();return r.trim().length===0?[]:fo(n,a=>a===r)?[]:r==="separator"||r==="|"?[{type:"separator"}]:e.menuItems[r]?[e.menuItems[r]]:[]})}},b2=t=>t.split(" "),r6=(t,e)=>{const o={...s6,...e.menus},n=Te(e.menus).length>0,s=e.menubar===void 0||e.menubar===!0?b2($N):b2(e.menubar===!1?"":e.menubar),r=oe(s,c=>{const i=Lt(s6,c);return n?i||dt(e.menus,c).exists(u=>Lt(u,"items")):i}),a=Y(r,c=>{const i=o[c];return FN({title:i.title,items:b2(i.items)},e,t)});return oe(a,c=>{const i=u=>Zt(u)||u.type!=="separator";return c.getItems().length>0&&fo(c.getItems(),i)})},IN=t=>{const e=()=>{t._skinLoaded=!0,zB(t)};return()=>{t.initialized?e():t.on("init",e)}},VN=(t,e)=>()=>PB(t,{message:e}),LN=t=>{const e=Fx(t);return e?d.from(e):d.none()},a6=(t,e,o)=>(t.on("remove",()=>o.unload(e)),o.load(e)),bh=(t,e,o,n)=>(t.on("remove",()=>n.unloadRawCss(e)),n.loadRawCss(e,o)),BN=(t,e)=>"ui/"+t+"/"+e,RN=t=>d.from(tinymce.Resource.get(t)).filter(Zt),y2=(t,e,o="")=>{const n=LN(t).map(r=>BN(r,`${e}.css`)),s=n.bind(RN);return vr(n,s,(r,a)=>({_kind:"load-raw",key:r,css:a})).getOrThunk(()=>{const r=t.editorManager.suffix;return{_kind:"load-stylesheet",url:o+`/${e}${r}.css`}})},zN=(t,e)=>{const o=t.ui.styleSheetLoader,n=y2(t,"skin",e);switch(n._kind){case"load-raw":const{key:s,css:r}=n;return bh(t,s,r,o),Promise.resolve();case"load-stylesheet":const{url:a}=n;return a6(t,a,o);default:return Promise.resolve()}},PN=(t,e)=>{if(tg(j.fromDom(t.getElement()))){const n=zu.DOM.styleSheetLoader,s=y2(t,"skin.shadowdom",e);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return bh(t,r,a,n),Promise.resolve();case"load-stylesheet":const{url:c}=s;return a6(t,c,n);default:return Promise.resolve()}}else return Promise.resolve()},ZN=(t,e,o)=>{const s=y2(t,e?"content.inline":"content",o);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return e?bh(t,r,a,t.ui.styleSheetLoader):t.on("PostRender",()=>{bh(t,r,a,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:c}=s;return o&&t.contentCSS.push(c),Promise.resolve();default:return Promise.resolve()}},NN=async(t,e)=>{const o=Ix(e);if(await ZN(e,t,o),!Z0(e)&&Zt(o))return Promise.all([zN(e,o),PN(e,o)]).then()},c6=(t,e)=>NN(t,e).then(IN(e),VN(e,"Skin could not be loaded")),UN=so(c6,!1),WN=so(c6,!0),i6=t=>({isEnabled:()=>!et.isDisabled(t),setEnabled:e=>et.set(t,!e),setText:e=>ct(t,as,{text:e}),setIcon:e=>ct(t,li,{icon:e})}),GN=t=>({setActive:e=>{_t.set(t,e)},isActive:()=>_t.isOn(t),isEnabled:()=>!et.isDisabled(t),setEnabled:e=>et.set(t,!e),setText:e=>ct(t,as,{text:e}),setIcon:e=>ct(t,li,{icon:e})}),l6=(t,e)=>t.map(o=>({"aria-label":e.translate(o)})).getOr({}),u6=K("focus-button"),x2=(t,e,o,n,s,r,a)=>{const c=e.map(u=>Ut(nw(u,"tox-tbtn",s))),i=t.map(u=>Ut(tc(u,s.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]),attributes:{...l6(o,s),...xe(a)?{"data-mce-name":a}:{}}},components:fl([i.map(u=>u.asSpec()),c.map(u=>u.asSpec())]),eventOrder:{[Rn()]:["focusing","alloy.base.behaviour",Qa],[qs()]:[Qa,"toolbar-group-button-events"],[Mr()]:[Qa,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:P([rs.toolbarButton(()=>s.checkUiComponentContext(r).shouldDisable),Ve(()=>s.checkUiComponentContext(r)),ft(Qa,[ie((u,m)=>o2(u)),I(as,(u,m)=>{c.bind(g=>g.getOpt(u)).each(g=>{vt.set(g,[de(s.translate(m.event.text))])})}),I(li,(u,m)=>{i.bind(g=>g.getOpt(u)).each(g=>{vt.set(g,[tc(m.event.icon,s.icons)])})}),I(Rn(),(u,m)=>{m.event.prevent(),Dt(u,u6)})])].concat(n.getOr([])))}},jN=(t,e,o,n,s)=>{const r=e.shared,a=st(N),c={toolbarButtonBehaviours:[],getApi:i6,onSetup:t.onSetup},i=[ft("toolbar-group-button-events",[cr(c,a),Ka(c,a)]),...t.tooltip.map(u=>me.config(e.shared.providers.tooltips.getConfig({tooltipText:e.shared.providers.translate(u)}))).toArray()];return Za.sketch({lazySink:r.getSink,fetch:()=>_e.nu(u=>{u(Y(o(t.items),ph))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:x2(t.icon,t.text,t.tooltip,d.some(i),r.providers,t.context,s),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})},d6=(t,e,o,n)=>{var s;const r=st(N),a=x2(t.icon,t.text,t.tooltip,d.none(),o,t.context,n);return po.sketch({dom:a.dom,components:a.components,eventOrder:ew,buttonBehaviours:{...P([ft("toolbar-button-events",[Iz({onAction:t.onAction,getApi:e.getApi}),cr(e,r),Ka(e,r)]),...t.tooltip.map(c=>me.config(o.tooltips.getConfig({tooltipText:o.translate(c)+t.shortcut.map(i=>` (${Ef(i)})`).getOr("")}))).toArray(),rs.toolbarButton(()=>!t.enabled||o.checkUiComponentContext(t.context).shouldDisable),Ve(()=>o.checkUiComponentContext(t.context))].concat(e.toolbarButtonBehaviours)),[Qa]:(s=a.buttonBehaviours)===null||s===void 0?void 0:s[Qa]}})},YN=(t,e,o)=>S2(t,e,[],o),S2=(t,e,o,n)=>d6(t,{toolbarButtonBehaviours:o.length>0?[ft("toolbarButtonWith",o)]:[],getApi:i6,onSetup:t.onSetup},e,n),XN=(t,e,o)=>m6(t,e,[],o),m6=(t,e,o,n)=>d6(t,{toolbarButtonBehaviours:[vt.config({}),_t.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[ft("toolbarToggleButtonWith",o)]:[]),getApi:GN,onSetup:t.onSetup},e,n),KN=(t,e,o)=>n=>_e.nu(s=>e.fetch(s)).map(s=>d.from(Gf(ae(oh(K("menu-value"),s,r=>{e.onItemAction(t(n),r)},e.columns,e.presets,Hs.CLOSE_ON_EXECUTE,e.select.getOr(Qt),o),{movement:sd(e.columns,e.presets),menuBehaviours:qu.unnamedEvents(e.columns!=="auto"?[]:[ie((r,a)=>{Of(r,4,m5(e.presets)).each(({numRows:c,numColumns:i})=>{ot.setGridSize(r,c,i)})})])})))),qN=(t,e,o)=>{const n=st(t.tooltip.getOr("")),s=c=>({isEnabled:()=>!et.isDisabled(c),setEnabled:i=>et.set(c,!i),setIconFill:(i,u)=>{te(c.element,`svg path[class="${i}"], rect[class="${i}"]`).each(m=>{pt(m,"fill",u)})},setActive:i=>{pt(c.element,"aria-pressed",i),te(c.element,"span").each(u=>{c.getSystem().getByDom(u).each(m=>_t.set(m,i))})},isActive:()=>te(c.element,"span").exists(i=>c.getSystem().getByDom(i).exists(_t.isOn)),setText:i=>te(c.element,"span").each(u=>c.getSystem().getByDom(u).each(m=>ct(m,as,{text:i}))),setIcon:i=>te(c.element,"span").each(u=>c.getSystem().getByDom(u).each(m=>ct(m,li,{icon:i}))),setTooltip:i=>{const u=e.providers.translate(i);pt(c.element,"aria-label",u),n.set(i)}}),r=st(N),a={getApi:s,onSetup:t.onSetup};return Dm.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...l6(t.tooltip,e.providers),...xe(o)?{"data-mce-name":o}:{}}},onExecute:c=>{const i=s(c);i.isEnabled()&&t.onAction(i)},onItemExecute:(c,i,u)=>{},splitDropdownBehaviours:P([ft("split-dropdown-events",[ie((c,i)=>o2(c)),I(u6,mt.focus),cr(a,r),Ka(a,r)]),rs.splitButton(()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable),Ve(()=>e.providers.checkUiComponentContext(t.context)),Vu.config({}),...t.tooltip.map(c=>me.config({...e.providers.tooltips.getConfig({tooltipText:e.providers.translate(c),onShow:i=>{if(n.get()!==c){const u=e.providers.translate(n.get());me.setComponents(i,e.providers.tooltips.getComponents({tooltipText:u}))}}})})).toArray()]),eventOrder:{[qs()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Mr()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:KN(s,t,e.providers),parts:{menu:Wm(!1,t.columns,t.presets)},components:[Dm.parts.button(x2(t.icon,t.text,d.none(),d.some([_t.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),rs.toolbarButton(Qt),Ve(E({contextType:"any",shouldDisable:!1}))]),e.providers,t.context)),Dm.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:r5("chevron-down",e.providers.icons)},buttonBehaviours:P([rs.splitButton(Qt),Ve(E({contextType:"any",shouldDisable:!1}))])}),Dm.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},JN=".tox-toolbar-slider__input,.tox-toolbar-textfield",h6=t=>{be.getContent(t).each(e=>{te(e.element,JN).fold(()=>ot.focusIn(e),Ge)})},QN=t=>bo(t.element).each(e=>{js(e,'[tabindex="-1"]').each(o=>{Ge(o)})}),g6=K("forward-slide"),yh=K("backward-slide"),w2=K("change-slide-event"),C2="tox-pop--resizing",tU=t=>{const e=st([]);return{sketch:be.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:n=>{e.set([]),be.getContent(n).each(s=>{W(s.element,"visibility")}),Ee(n.element,C2),W(n.element,"width")},onHide:()=>{e.set([]),t.onHide()},inlineBehaviours:P([ft("context-toolbar-events",[qi(pu(),(n,s)=>{s.event.raw.propertyName==="width"&&(Ee(n.element,C2),W(n.element,"width"))}),I(w2,(n,s)=>{const r=n.element;W(r,"width");const a=yn(r),c=bo(n.element).isSome();W(r,"left"),W(r,"right"),W(r,"max-width"),be.setContent(n,s.event.contents),Fe(r,C2);const i=yn(r);wt(r,"transition","none"),be.reposition(n),W(r,"transition"),wt(r,"width",a+"px"),s.event.focus.fold(()=>{c&&h6(n)},u=>{hs(Oo(n.element)).fold(()=>Ge(u),m=>{qt(m,u)||Ge(u)})}),setTimeout(()=>{wt(n.element,"width",i+"px")},0)}),I(g6,(n,s)=>{be.getContent(n).each(r=>{e.set(e.get().concat([{bar:r,focus:hs(Oo(n.element))}]))}),ct(n,w2,{contents:s.event.forwardContents,focus:d.none()})}),I(yh,(n,s)=>{t.onBack(),zs(e.get()).each(r=>{e.set(e.get().slice(0,e.get().length-1)),ct(n,w2,{contents:Zn(r.bar),focus:r.focus})})})]),ot.config({mode:"special",onEscape:n=>zs(e.get()).fold(()=>t.onEscape(),s=>(Dt(n,yh),d.some(!0)))})]),lazySink:()=>Mt.value(t.sink)}),inSubtoolbar:()=>e.get().length>0}},eU=(t,e)=>{const o=bs(Cf({type:"button",icon:"chevron-left",tooltip:"Back",onAction:N}));return S2(o,e.shared.providers,[I(e2,n=>{Dt(n,yh)})])},xl=(t,e,o)=>Us(o)?t.translate(e):t.translate([e,t.translate(o)]),oU=(t,e)=>{const o=(a,c,i,u)=>{const m=t.shared.providers.translate(a.title);if(a.type==="separator")return d.some({type:"separator",text:m});if(a.type==="submenu"){const g=Be(a.getStyleItems(),p=>n(p,c,u));return c===0&&g.length<=0?d.none():d.some({type:"nestedmenuitem",text:m,enabled:g.length>0,getSubmenuItems:()=>Be(a.getStyleItems(),p=>n(p,c,u))})}else return d.some({type:"togglemenuitem",text:m,icon:a.icon,active:a.isSelected(u),enabled:!i,onAction:e.onAction(a),...a.getStylePreview().fold(()=>({}),g=>({meta:{style:g}}))})},n=(a,c,i)=>{const u=a.type==="formatter"&&e.isInvalid(a);return c===0?u?[]:o(a,c,!1,i).toArray():o(a,c,u,i).toArray()},s=a=>{const c=e.getCurrentValue(),i=e.shouldHide?0:1;return Be(a,u=>n(u,i,c))};return{validateItems:s,getFetch:(a,c)=>(i,u)=>{const m=c(),g=s(m),p=bl(g,Hs.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:d.none()});u(p)}}},Sl=(t,e)=>{const o=e.dataset,n=o.type==="basic"?()=>Y(o.data,s=>Dw(s,e.isSelectedFor,e.getPreviewFor)):o.getData;return{items:oU(t,e),getStyleItems:n}},md=(t,e,o,n,s,r)=>{const{items:a,getStyleItems:c}=Sl(e,o),i=st(o.tooltip),u=g=>({getComponent:E(g),setTooltip:p=>{const v=e.shared.providers.translate(p);pt(g.element,"aria-label",v),i.set(p)}}),m=g=>{const p=v=>g.setTooltip(xl(t,n(v.value),v.value));return t.on(s,p),Qm(ai(t,"NodeChange",v=>{const y=v.getComponent();o.updateText(y),et.set(v.getComponent(),!t.selection.isEditable()||c().length===0)})(g),()=>t.off(s,p))};return s2({context:"mode:design",text:o.icon.isSome()?d.none():o.text,icon:o.icon,ariaLabel:d.some(o.tooltip),tooltip:d.none(),role:d.none(),fetch:a.getFetch(e,c),onSetup:m,getApi:u,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[me.config({...e.shared.providers.tooltips.getConfig({tooltipText:e.shared.providers.translate(o.tooltip),onShow:g=>{if(o.tooltip!==i.get()){const p=e.shared.providers.translate(i.get());me.setComponents(g,e.shared.providers.tooltips.getComponents({tooltipText:p}))}}})})]},"tox-tbtn",e.shared,r)},nU=t=>Y(t,e=>{let o=e,n=e;const s=e.split("=");return s.length>1&&(o=s[0],n=s[1]),{title:o,format:n}}),sU=t=>({type:"basic",data:t});var wl;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(wl||(wl={}));const rU=(t,e)=>e===wl.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),T2=(t,e,o)=>{const n=t.options.get(e);return{type:"basic",data:nU(rU(n,o))}},aU="Align",p6=E("Alignment {0}"),f6="left",_2=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],v6=t=>{const e=()=>le(_2,c=>t.formatter.match(c.format)),o=c=>()=>t.formatter.match(c),n=c=>d.none,s=c=>{const u=e().fold(E(f6),m=>m.title.toLowerCase());ct(c,li,{icon:`align-${u}`}),YB(t,{value:u})},r=sU(_2),a=c=>()=>le(_2,i=>i.format===c.format).each(i=>t.execCommand(i.command));return{tooltip:xl(t,p6(),f6),text:d.none(),icon:d.some("align-left"),isSelectedFor:o,getCurrentValue:d.none,getPreviewFor:n,onAction:a,updateText:s,dataset:r,shouldHide:!1,isInvalid:c=>!t.formatter.canApply(c.format)}},cU=(t,e)=>md(t,e,v6(t),p6,"AlignTextUpdate","align"),iU=(t,e)=>{const o=Sl(e,v6(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate(aU),onSetup:Bo(t),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},b6=(t,e)=>{const o=e(),n=Y(o,s=>s.format);return d.from(t.formatter.closest(n)).bind(s=>le(o,r=>r.format===s))},lU="Blocks",y6=E("Block {0}"),M2="Paragraph",x6=t=>{const e=r=>()=>t.formatter.match(r),o=r=>()=>{const a=t.formatter.get(r);return a?d.some({tag:a.length>0&&(a[0].inline||a[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(r))}):d.none()},n=r=>{const c=b6(t,()=>s.data).fold(E(M2),i=>i.title);ct(r,as,{text:c}),qB(t,{value:c})},s=T2(t,"block_formats",wl.SemiColon);return{tooltip:xl(t,y6(),M2),text:d.some(M2),icon:d.none(),isSelectedFor:e,getCurrentValue:d.none,getPreviewFor:o,onAction:lS(t),updateText:n,dataset:s,shouldHide:!1,isInvalid:r=>!t.formatter.canApply(r.format)}},uU=(t,e)=>md(t,e,x6(t),y6,"BlocksTextUpdate","blocks"),dU=(t,e)=>{const o=Sl(e,x6(t));t.ui.registry.addNestedMenuItem("blocks",{text:lU,onSetup:Bo(t),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},mU="Fonts",S6=E("Font {0}"),O2="System Font",hU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],w6=t=>{const e=t.split(/\s*,\s*/);return Y(e,o=>o.replace(/^['"]+|['"]+$/g,""))},C6=(t,e)=>e.length>0&&Bs(e,o=>t.indexOf(o.toLowerCase())>-1),gU=(t,e)=>{if(t.indexOf("-apple-system")===0||e.length>0){const o=w6(t.toLowerCase());return C6(o,hU)||C6(o,e)}else return!1},T6=t=>{const e=()=>{const i=y=>y?w6(y)[0]:"",u=t.queryCommandValue("FontName"),m=c.data,g=u?u.toLowerCase():"",p=$x(t);return{matchOpt:le(m,y=>{const w=y.format;return w.toLowerCase()===g||i(w).toLowerCase()===i(g).toLowerCase()}).orThunk(()=>No(gU(g,p),{title:O2,format:g})),font:u}},o=i=>u=>u.exists(m=>m.format===i),n=()=>{const{matchOpt:i}=e();return i},s=i=>()=>d.some({tag:"div",styles:i.indexOf("dings")===-1?{"font-family":i}:{}}),r=i=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,i.format)})},a=i=>{const{matchOpt:u,font:m}=e(),g=u.fold(E(m),p=>p.title);ct(i,as,{text:g}),JB(t,{value:g})},c=T2(t,"font_family_formats",wl.SemiColon);return{tooltip:xl(t,S6(),O2),text:d.some(O2),icon:d.none(),isSelectedFor:o,getCurrentValue:n,getPreviewFor:s,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:Qt}},pU=(t,e)=>md(t,e,T6(t),S6,"FontFamilyTextUpdate","fontfamily"),fU=(t,e)=>{const o=Sl(e,T6(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:e.shared.providers.translate(mU),onSetup:Bo(t),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})};var xh=tinymce.util.Tools.resolve("tinymce.util.VK");const vU=(t,e,o,n)=>{let s=d.none();const r=O=>O.map(D=>q.getValue(D)).getOr(""),a=ai(t,"NodeChange SwitchMode DisabledStateChange",O=>{const D=O.getComponent();s=d.some(D),o.updateInputValue(D),et.set(D,!t.selection.isEditable()||Vm(t))}),c=O=>({getComponent:E(O)}),i=st(N),u=K("custom-number-input-events"),m=(O,D,$)=>{const G=r(s),R=o.getNewValue(G,O),F=G.length-`${R}`.length,X=s.map(tt=>tt.element.dom.selectionStart-F),at=s.map(tt=>tt.element.dom.selectionEnd-F);o.onAction(R,$),s.each(tt=>{q.setValue(tt,R),D&&(X.each(Ot=>tt.element.dom.selectionStart=Ot),at.each(Ot=>tt.element.dom.selectionEnd=Ot))})},g=(O,D)=>m(($,G)=>$-G,O,D),p=(O,D)=>m(($,G)=>$+G,O,D),v=O=>Qo(O.element).fold(d.none,D=>(Ge(D),d.some(!0))),y=O=>ka(O.element)?(Ma(O.element).each(D=>Ge(D)),d.some(!0)):d.none(),w=(O,D,$,G)=>{const R=st(N),F=e.shared.providers.translate($),X=K("altExecuting"),at=ai(t,"NodeChange SwitchMode DisabledStateChange",Ot=>{et.set(Ot.getComponent(),!t.selection.isEditable()||Vm(t))}),tt=Ot=>{et.isDisabled(Ot)||O(!0)};return po.sketch({dom:{tag:"button",attributes:{"aria-label":F,"data-mce-name":D},classes:G.concat(D)},components:[n2(D,e.shared.providers.icons)],buttonBehaviours:P([et.config({}),me.config(e.shared.providers.tooltips.getConfig({tooltipText:F})),ft(X,[cr({onSetup:at,getApi:c},R),Ka({getApi:c},R),I(Ks(),(Ot,ht)=>{(ht.event.raw.keyCode===xh.SPACEBAR||ht.event.raw.keyCode===xh.ENTER)&&(et.isDisabled(Ot)||O(!1))}),I(Ac(),tt),I(Ec(),tt)])]),eventOrder:{[Ks()]:[X,"keying"],[Ac()]:[X,"alloy.base.behaviour"],[Ec()]:[X,"alloy.base.behaviour"],[qs()]:["alloy.base.behaviour",X,"tooltipping"],[Mr()]:[X,"tooltipping"]}})},T=Ut(w(O=>g(!1,O),"minus","Decrease font size",[])),x=Ut(w(O=>p(!1,O),"plus","Increase font size",[])),M=Ut({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[ca.sketch({inputBehaviours:P([et.config({}),ft(u,[cr({onSetup:a,getApi:c},i),Ka({getApi:c},i)]),ft("input-update-display-text",[I(as,(O,D)=>{q.setValue(O,D.event.text)}),I($v(),O=>{o.onAction(q.getValue(O))}),I(Gi(),O=>{o.onAction(q.getValue(O))})]),ot.config({mode:"special",onEnter:O=>(m(Ft,!0,!0),d.some(!0)),onEscape:v,onUp:O=>(p(!0,!1),d.some(!0)),onDown:O=>(g(!0,!1),d.some(!0)),onLeft:(O,D)=>(D.cut(),d.none()),onRight:(O,D)=>(D.cut(),d.none())})])})],behaviours:P([mt.config({}),ot.config({mode:"special",onEnter:y,onSpace:y,onEscape:v}),ft("input-wrapper-events",[I(_r(),O=>{it([T,x],D=>{const $=j.fromDom(D.get(O).element.dom);ka($)&&Ri($)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...xe(n)?{"data-mce-name":n}:{}}},components:[T.asSpec(),M.asSpec(),x.asSpec()],behaviours:P([mt.config({}),ot.config({mode:"flow",focusInside:Fa.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:O=>ka(O.element)?d.none():(Ge(O.element),d.some(!0))})])}},bU="Font sizes",_6=E("Font size {0}"),M6="12pt",yU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},xU={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},SU=(t,e)=>{const o=Math.pow(10,e);return Math.round(t*o)/o},wU=(t,e)=>/[0-9.]+px$/.test(t)?SU(parseInt(t,10)*72/96,e||0)+"pt":dt(xU,t).getOr(t),CU=t=>dt(yU,t).getOr(""),O6=t=>{const e=()=>{let i=d.none();const u=c.data,m=t.queryCommandValue("FontSize");if(m)for(let g=3;i.isNone()&&g>=0;g--){const p=wU(m,g),v=CU(p);i=le(u,y=>y.format===m||y.format===p||y.format===v)}return{matchOpt:i,size:m}},o=i=>u=>u.exists(m=>m.format===i),n=()=>{const{matchOpt:i}=e();return i},s=E(d.none),r=i=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,i.format)})},a=i=>{const{matchOpt:u,size:m}=e(),g=u.fold(E(m),p=>p.title);ct(i,as,{text:g}),XB(t,{value:g})},c=T2(t,"font_size_formats",wl.Space);return{tooltip:xl(t,_6(),M6),text:d.some(M6),icon:d.none(),isSelectedFor:o,getPreviewFor:s,getCurrentValue:n,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:Qt}},TU=(t,e)=>md(t,e,O6(t),_6,"FontSizeTextUpdate","fontsize"),_U=t=>{var e;const o={step:1};return(e={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&e!==void 0?e:o},MU=16,OU=t=>t>=0,kU=t=>{const e=()=>t.queryCommandValue("FontSize");return{updateInputValue:n=>ct(n,as,{text:e()}),onAction:(n,s)=>t.execCommand("FontSize",!1,n,{skip_focus:!s}),getNewValue:(n,s)=>{p1(n,["unsupportedLength","empty"]);const r=e(),a=p1(n,["unsupportedLength","empty"]).or(p1(r,["unsupportedLength","empty"])),c=a.map(p=>p.value).getOr(MU),i=xx(t),u=a.map(p=>p.unit).filter(p=>p!=="").getOr(i),m=s(c,_U(u).step),g=`${OU(m)?m:c}${u}`;return g!==r&&KB(t,{value:g}),g}}},EU=(t,e)=>vU(t,e,kU(t),"fontsizeinput"),AU=(t,e)=>{const o=Sl(e,O6(t));t.ui.registry.addNestedMenuItem("fontsize",{text:bU,onSetup:Bo(t),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},DU="Formats",k6=t=>Us(t)?"Formats":"Format {0}",E6=(t,e)=>{const o="Formats",n=a=>()=>t.formatter.match(a),s=a=>()=>{const c=t.formatter.get(a);return c!==void 0?d.some({tag:c.length>0&&(c[0].inline||c[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(a))}):d.none()},r=a=>{const c=g=>Mw(g)?Be(g.items,c):Ow(g)?[{title:g.title,format:g.format}]:[],i=Be(Aw(t),c),m=b6(t,E(i)).fold(E({title:o,tooltipLabel:""}),g=>({title:g.title,tooltipLabel:g.title}));ct(a,as,{text:m.title}),jB(t,{value:m.tooltipLabel})};return{tooltip:xl(t,k6(""),""),text:d.some(o),icon:d.none(),isSelectedFor:n,getCurrentValue:d.none,getPreviewFor:s,onAction:lS(t),updateText:r,shouldHide:dx(t),isInvalid:a=>!t.formatter.canApply(a.format),dataset:e}},HU=(t,e)=>{const o={type:"advanced",...e.styles};return md(t,e,E6(t,o),k6,"StylesTextUpdate","styles")},$U=(t,e)=>{const o={type:"advanced",...e.styles},n=Sl(e,E6(t,o));t.ui.registry.addNestedMenuItem("styles",{text:DU,onSetup:Bo(t,()=>n.getStyleItems().length>0),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},FU=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hd=(t,e)=>(o,n,s,r)=>{const a=t(o).mapError(c=>Ui(c)).getOrDie();return e(a,n,s,r)},IU={button:hd(Cf,(t,e,o,n)=>YN(t,e.shared.providers,n)),togglebutton:hd(F5,(t,e,o,n)=>XN(t,e.shared.providers,n)),menubutton:hd(O5,(t,e,o,n)=>ud(t,"tox-tbtn",e,d.none(),!1,n)),splitbutton:hd(iB,(t,e,o,n)=>qN(t,e.shared,n)),grouptoolbarbutton:hd(aB,(t,e,o,n)=>{const s=o.ui.registry.getAll().buttons,r=c=>Sh(o,{buttons:s,toolbar:c,allowToolbarGroups:!1},e,d.none()),a={[pp]:e.shared.header.isPositionedAtTop()?Jr.TopToBottom:Jr.BottomToTop};switch(il(o)){case os.floating:return jN(t,e,r,a,n);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},VU=(t,e,o,n)=>dt(IU,t.type).fold(()=>(console.error("skipping button defined by",t),d.none()),s=>d.some(s(t,e,o,n))),A6={styles:HU,fontsize:TU,fontsizeinput:EU,fontfamily:pU,blocks:uU,align:cU,navigateback:eU},LU=t=>{const e=Y(FU,o=>{const n=oe(o.items,s=>Lt(t,s)||Lt(A6,s));return{name:o.name,items:n}});return oe(e,o=>o.items.length>0)},BU=t=>{const e=t.split("|");return Y(e,o=>({items:o.trim().split(" ")}))},RU=t=>St(t,e=>(Lt(e,"name")||Lt(e,"label"))&&Lt(e,"items")),zU=t=>{const e=t.toolbar,o=t.buttons;return e===!1?[]:e===void 0||e===!0?LU(o):Zt(e)?BU(e):RU(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},PU=(t,e,o,n,s,r)=>dt(e,o.toLowerCase()).orThunk(()=>r.bind(a=>Nt(a,c=>dt(e,c+o.toLowerCase())))).fold(()=>dt(A6,o.toLowerCase()).map(a=>a(t,s)),a=>a.type==="grouptoolbarbutton"&&!n?(console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),d.none()):VU(a,s,t,o.toLowerCase())),Sh=(t,e,o,n)=>{const s=zU(e),r=Y(s,a=>{const c=Be(a.items,i=>i.trim().length===0?[]:PU(t,e.buttons,i,e.allowToolbarGroups,o,n).toArray());return{title:d.from(t.translate(a.name)),label:No(a.label!==void 0,t.translate(a.label)),items:c}});return oe(r,a=>a.items.length>0)},D6=(t,e,o,n)=>{const s=e.mainUi.outerContainer,r=o.toolbar,a=o.buttons;if(St(r,Zt)){const c=r.map(i=>{const u={toolbar:i,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return Sh(t,u,n,d.none())});re.setToolbars(s,c)}else re.setToolbar(s,Sh(t,o,n,d.none()))},H6=Jn(),ZU=H6.os.isiOS()&&H6.os.version.major<=12,NU=(t,e)=>{const{uiMotherships:o}=e,n=t.dom;let s=t.getWin();const r=t.getDoc().documentElement,a=st(ke(s.innerWidth,s.innerHeight)),c=st(ke(r.offsetWidth,r.offsetHeight)),i=()=>{const p=a.get();(p.left!==s.innerWidth||p.top!==s.innerHeight)&&(a.set(ke(s.innerWidth,s.innerHeight)),Lf(t))},u=()=>{const p=t.getDoc().documentElement,v=c.get();(v.left!==p.offsetWidth||v.top!==p.offsetHeight)&&(c.set(ke(p.offsetWidth,p.offsetHeight)),Lf(t))},m=p=>{NB(t,p)};n.bind(s,"resize",i),n.bind(s,"scroll",m);const g=nu(j.fromDom(t.getBody()),"load",u);t.on("hide",()=>{it(o,p=>{wt(p.element,"display","none")})}),t.on("show",()=>{it(o,p=>{W(p.element,"display")})}),t.on("NodeChange",u),t.on("remove",()=>{g.unbind(),n.unbind(s,"resize",i),n.unbind(s,"scroll",m),s=null})},UU=(t,e,o)=>{Wa(t)&&Q1(o.mainUi.mothership.element,o.popupUi.mothership),Ep(e,o.dialogUi.mothership)};var WU=Object.freeze({__proto__:null,render:(t,e,o,n,s)=>{const{mainUi:r,uiMotherships:a}=e,c=st(0),i=r.outerContainer;UN(t);const u=j.fromDom(s.targetNode),m=Oa(Oo(u));Q1(u,r.mothership),UU(t,m,e),t.on("PostRender",()=>{re.setSidebar(i,o.sidebar,Ax(t))}),t.on("SkinLoaded",()=>{D6(t,e,o,n),c.set(t.getWin().innerWidth),re.setMenubar(i,r6(t,o)),re.setViews(i,o.views),NU(t,e)});const g=re.getSocket(i).getOrDie("Could not find expected socket element");if(ZU){Gr(g.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const w=is(()=>{t.dispatch("ScrollContent")},20),T=vo(g.element,"scroll",w.throttle);t.on("remove",T.unbind)}P5(t,e),t.addCommand("ToggleSidebar",(w,T)=>{re.toggleSidebar(i,T),QB(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var w;return(w=re.whichSidebar(i))!==null&&w!==void 0?w:""}),t.addCommand("ToggleView",(w,T)=>{if(re.toggleView(i,T)){const x=i.element;r.mothership.broadcastOn([ra()],{target:x}),it(a,M=>{M.broadcastOn([ra()],{target:x})}),Yn(re.whichView(i))&&(t.focus(),t.nodeChanged(),re.refreshToolbar(i)),tR(t)}}),t.addQueryValueHandler("ToggleView",()=>{var w;return(w=re.whichView(i))!==null&&w!==void 0?w:""});const p=il(t),v=()=>{re.refreshToolbar(e.mainUi.outerContainer)};(p===os.sliding||p===os.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const w=t.getWin().innerWidth;w!==c.get()&&(v(),c.set(w))});const y={setEnabled:w=>{td(e,w?"setEnabled":"setDisabled")},isEnabled:()=>!et.isDisabled(i)};return{iframeContainer:g.element.dom,editorContainer:i.element.dom,api:y}}});const GU=t=>/^[0-9\.]+(|px)$/i.test(""+t)?d.some(parseInt(""+t,10)):d.none(),k2=t=>Hn(t)?t+"px":t,wh=(t,e,o)=>{const n=e.filter(r=>t<r),s=o.filter(r=>t>r);return n.or(s).getOr(t)},jU=(t,e)=>{if(typeof e=="number")return d.from(e);const o=/^([0-9.]+)(pt|em|px)$/.exec(e.trim());if(o){const n=o[2],s=Number.parseFloat(o[1]);if(Number.isNaN(s)||s<0)return d.none();if(n==="em")return d.from(s*Number.parseFloat(window.getComputedStyle(t.dom).fontSize));if(n==="pt")return d.from(s*(72/96));if(n==="px")return d.from(s)}return d.none()},YU=t=>{const e=jU(j.fromDom(t.targetElm),I0(t)),o=B0(t),n=R0(t);return e.map(s=>wh(s,o,n))},XU=t=>YU(t).getOr(I0(t)),$6=t=>{const e=V0(t),o=L0(t),n=Lm(t);return GU(e).map(s=>wh(s,o,n))},KU=t=>$6(t).getOr(V0(t)),{ToolbarLocation:E2,ToolbarMode:F6}=MF,qU=40,JU=(t,e,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o,c=zu.DOM,i=ll(t),u=ul(t),m=Lm(t).or($6(t)),g=n.shared.header,p=g.isPositionedAtTop,v=150,y=il(t),w=y===F6.sliding||y===F6.floating,T=st(!1),x=()=>T.get()&&!t.removed,M=Q=>w?Q.fold(E(0),L=>L.components().length>1?Ht(L.components()[1].element):0):0,O=Q=>{switch(z0(t)){case E2.auto:const L=re.getToolbar(r.outerContainer),Z=M(L),lt=Ht(Q.element)-Z,xt=mo(e);if(xt.y>lt)return"top";{const bt=Ql(e),Xt=Math.max(bt.dom.scrollHeight,Ht(bt));return xt.bottom<Xt-lt||Vo().bottom<xt.bottom-lt?"bottom":"top"}case E2.bottom:return"bottom";case E2.top:default:return"top"}},D=Q=>{s.on(L=>{pe.setModes(L,[Q]),g.setDockingMode(Q);const Z=p()?Jr.TopToBottom:Jr.BottomToTop;pt(L.element,pp,Z)})},$=()=>{s.on(Q=>{const L=m.getOrThunk(()=>vg().width-d1(e).left-10);wt(Q.element,"max-width",L+"px")})},G=(Q,L)=>{s.on(Z=>{const lt=re.getToolbar(r.outerContainer),xt=M(lt),nt=mo(e),bt=R(t,r.outerContainer.element),Xt=()=>bt.fold(()=>nt.x,co=>{const cn=mo(co);return qt(co,Sr())?nt.x:nt.x-cn.x}),jt=()=>bt.fold(()=>p()?Math.max(nt.y-Ht(Z.element)+xt,0):nt.bottom,co=>{var cn;const ln=mo(co),Gn=(cn=co.dom.scrollTop)!==null&&cn!==void 0?cn:0,Is=qt(co,Sr())?Math.max(nt.y-Ht(Z.element)+xt,0):nt.y-ln.y+Gn-Ht(Z.element)+xt;return p()?Is:nt.bottom}),Ro=Xt(),he=No(Q,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter(co=>co>v).map(co=>{const cn=L.getOr(Vn()),ln=window.innerWidth-(Ro-cn.left),Gn=Math.max(Math.min(co,ln),v);return ln<co&&wt(r.outerContainer.element,"width",Gn+"px"),{width:Gn+"px"}}).getOr({width:"max-content"}),an={position:"absolute",left:Math.round(Ro)+"px",top:jt()+"px"};Gr(r.outerContainer.element,{...an,...he})})},R=(Q,L)=>Wa(Q)?xg(L):d.none(),F=()=>{it(a,Q=>{Q.broadcastOn([Pa()],{})})},X=()=>!i&&(ps(r.outerContainer.element).left+iu(r.outerContainer.element)>=window.innerWidth-qU||S(r.outerContainer.element,"width").isSome())?(wt(r.outerContainer.element,"position","absolute"),wt(r.outerContainer.element,"left","0px"),W(r.outerContainer.element,"width"),!0):!1,at=Q=>{if(!x())return;i||$();const L=Vn(),Z=i?!1:X();if(w&&re.refreshToolbar(r.outerContainer),!i){const lt=Vn(),xt=No(L.left!==lt.left,L);G(Z,xt),xt.each(nt=>{dg(nt.left,lt.top)})}u&&s.on(Q),F()},tt=()=>i||!u||!x()?!1:s.get().exists(Q=>{const L=g.getDockingMode(),Z=O(Q);return Z!==L?(D(Z),!0):!1});return{isVisible:x,isPositionedAtTop:p,show:()=>{T.set(!0),wt(r.outerContainer.element,"display","flex"),c.addClass(t.getBody(),"mce-edit-focus"),it(a,Q=>{W(Q.element,"display")}),tt(),Wa(t)?at(Q=>pe.isDocked(Q)?pe.reset(Q):pe.refresh(Q)):at(pe.refresh)},hide:()=>{T.set(!1),wt(r.outerContainer.element,"display","none"),c.removeClass(t.getBody(),"mce-edit-focus"),it(a,Q=>{wt(Q.element,"display","none")})},update:at,updateMode:()=>{tt()&&at(pe.reset)},repositionPopups:F}},I6=(t,e)=>{const o=mo(t);return{pos:e?o.y:o.bottom,bounds:o}},QU=(t,e,o,n)=>{const s=st(I6(e,o.isPositionedAtTop())),r=u=>{const{pos:m,bounds:g}=I6(e,o.isPositionedAtTop()),{pos:p,bounds:v}=s.get(),y=g.height!==v.height||g.width!==v.width;s.set({pos:m,bounds:g}),y&&Lf(t,u),o.isVisible()&&(p!==m?o.update(pe.reset):y&&(o.updateMode(),o.repositionPopups()))};n||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",()=>o.update(pe.reset)),t.on("NodeChange keydown",u=>{requestAnimationFrame(()=>r(u))});let a=0;const c=pc(()=>o.update(pe.refresh),33);t.on("ScrollWindow",()=>{const u=Vn().left;u!==a&&(a=u,c.throttle()),o.updateMode()}),Wa(t)&&t.on("ElementScroll",u=>{o.update(pe.refresh)});const i=br();i.set(nu(j.fromDom(t.getBody()),"load",u=>r(u.raw))),t.on("remove",()=>{i.clear()})};var tW=Object.freeze({__proto__:null,render:(t,e,o,n,s)=>{const{mainUi:r}=e,a=Kt(),c=j.fromDom(s.targetNode),i=JU(t,c,e,n,a),u=px(t);WN(t);const m=()=>{if(a.isSet()){i.show();return}a.set(re.getHeader(r.outerContainer).getOrDie());const p=W0(t);Wa(t)?(Q1(c,r.mothership),Q1(c,e.popupUi.mothership)):Ep(p,r.mothership),Ep(p,e.dialogUi.mothership);const v=()=>{D6(t,e,o,n),re.setMenubar(r.outerContainer,r6(t,o)),i.show(),QU(t,c,i,u),t.nodeChanged()};u?t.once("SkinLoaded",v):v()};t.on("show",m),t.on("hide",i.hide),u||(t.on("focus",m),t.on("blur",i.hide)),t.on("init",()=>{(t.hasFocus()||u)&&m()}),P5(t,e);const g={show:m,hide:i.hide,setEnabled:p=>{td(e,p?"setEnabled":"setDisabled")},isEnabled:()=>!et.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:g}}});const eW=()=>{const t=Kt(),e=Kt(),o=Kt();return{dialogUi:t,popupUi:e,mainUi:o,getUiMotherships:()=>{const r=t.get().map(c=>c.mothership),a=e.get().map(c=>c.mothership);return r.fold(()=>a.toArray(),c=>a.fold(()=>[c],i=>qt(c.element,i.element)?[c]:[c,i]))},lazyGetInOuterOrDie:(r,a)=>()=>o.get().bind(c=>a(c.outerContainer)).getOrDie(`Could not find ${r} element in OuterContainer`)}},oW="contexttoolbar-show",V6="contexttoolbar-hide",Cl=(t,e,o)=>({setInputEnabled:n=>{!n&&o&&Ge(o),et.set(t,!n)},isInputEnabled:()=>!et.isDisabled(t),hide:()=>{Dt(t,_1())},back:()=>{Dt(t,yh)},getValue:()=>e.get().getOrThunk(()=>q.getValue(t)),setValue:n=>{t.getSystem().isConnected()?q.setValue(t,n):e.set(n)}}),L6=(t,e,o)=>I(e2,(n,s)=>{const r=t.get(n),a=Cl(r,o,n.element);e.onAction(a,s.event.buttonApi)}),nW=(t,e,o,n)=>{const{primary:s,...r}=e.original,a=bs(Cf({...r,type:"button",onAction:N}));return S2(a,o,[L6(t,e,n)])},sW=(t,e,o,n)=>{const{primary:s,...r}=e.original,a=bs(F5({...r,type:"togglebutton",onAction:N}));return m6(a,o,[L6(t,e,n)])},rW=t=>t.type==="contextformtogglebutton",aW=(t,e,o,n)=>rW(e)?sW(t,e,o,n):nW(t,e,o,n),B6=(t,e,o,n)=>{const s=Y(e,c=>Ut(aW(t,c,o,n)));return{asSpecs:()=>Y(s,c=>c.asSpec()),findPrimary:c=>Nt(e,(i,u)=>i.primary?d.from(s[u]).bind(m=>m.getOpt(c)).filter(Zo(et.isDisabled)):d.none())}},cW=(t,e,o,n)=>{const{width:s,height:r}=t.initValue();let a=lh;const c=K("ratio-event"),i=R=>Cl(R,n),u=R=>Wn(R,{tag:"span",classes:["tox-icon","tox-lock-icon__"+R]},e.icons),m=()=>!1,g=t.label.getOr("Constrain proportions"),p=e.translate(g),v=Ie.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":p,"data-mce-name":g}},components:[u("lock"),u("unlock")],buttonBehaviours:P([et.config({disabled:m}),ee.config({}),me.config(e.tooltips.getConfig({tooltipText:p}))])}),y=R=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:R}),w=R=>js(R.element,"div.tox-focusable-wrapper").fold(d.none,X=>(Ge(X),d.some(!0))),T=R=>Et.parts.field({factory:ca,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:R?s:r,inputBehaviours:P([et.config({disabled:m}),ee.config({}),ft("size-input-toolbar-events",[I(Ss(),(F,X)=>{ct(F,c,{isField1:R})})]),ot.config({mode:"special",onEnter:o,onEscape:w})]),selectOnFocus:!1}),x=R=>({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(R))]}),M=R=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[R],behaviours:P([ee.config({}),mt.config({}),ot.config({mode:"special",onEnter:F=>te(F.element,"input").fold(d.none,at=>(Ge(at),d.some(!0)))})])}),O=M(Ie.parts.field1(y([Et.parts.label(x("Width:")),T(!0)]))),D=M(Ie.parts.field2(y([Et.parts.label(x("Height:")),T(!1)]))),$=st(N),G=[cr({onBeforeSetup:R=>te(R.element,"input").each(Ge),onSetup:t.onSetup,getApi:i},$),kf({getApi:i},$,n)];return Ie.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[O,y([v]),D],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(R,F,X)=>{ih(q.getValue(R)).each(at=>{a(at).each(tt=>{q.setValue(F,lw(tt))})})},onInput:R=>Dt(R,HS),coupledFieldBehaviours:P([mt.config({}),ot.config({mode:"flow",focusInside:Fa.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),et.config({disabled:m,onDisabled:R=>{Ie.getField1(R).bind(Et.getField).each(et.disable),Ie.getField2(R).bind(Et.getField).each(et.disable),Ie.getLock(R).each(et.disable)},onEnabled:R=>{Ie.getField1(R).bind(Et.getField).each(et.enable),Ie.getField2(R).bind(Et.getField).each(et.enable),Ie.getLock(R).each(et.enable)}}),Ve(()=>e.checkUiComponentContext("mode:design")),ft("size-input-toolbar-events2",[I(c,(R,F)=>{const X=F.event.isField1,at=X?Ie.getField1(R):Ie.getField2(R),tt=X?Ie.getField2(R):Ie.getField1(R),Ot=at.map(q.getValue).getOr(""),ht=tt.map(q.getValue).getOr("");a=dw(Ot,ht)}),I(HS,R=>t.onInput(i(R))),...G])])})},R6=(t,e,o)=>Et.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),e],fieldBehaviours:P([et.config({disabled:()=>o.checkUiComponentContext("mode:design").shouldDisable,onDisabled:n=>{QN(n),Et.getField(n).each(et.disable)},onEnabled:n=>{Et.getField(n).each(et.enable)}})])}),iW=(t,e,o,n)=>{const s=st(N),r=i=>Cl(i,n),a=t.label.map(i=>Et.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(i))]})),c=Et.parts.field({factory:ca,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:i=>gc(i).getOr(t.min()),toInputValue:i=>String(i),inputBehaviours:P([et.config({disabled:()=>e.checkUiComponentContext("mode:design").shouldDisable}),Ve(()=>e.checkUiComponentContext("mode:design")),ot.config({mode:"special",onEnter:o,onLeft:(i,u)=>(u.cut(),d.none()),onRight:(i,u)=>(u.cut(),d.none())}),ft("slider-events",[cr({onSetup:t.onSetup,getApi:r,onBeforeSetup:ot.focusIn},s),kf({getApi:r},s,n),I(qr(),i=>{t.onInput(r(i))})])])});return R6(a,c,e)},lW=(t,e,o,n)=>{const s=st(N),r=m=>Cl(m,n),a=t.label.map(m=>Et.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[de(e.translate(m))]})),i={...t.placeholder.map(m=>({placeholder:e.translate(m)})).getOr({})},u=Et.parts.field({factory:ca,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:i,data:t.initValue(),selectOnFocus:!0,inputBehaviours:P([et.config({disabled:()=>e.checkUiComponentContext("mode:design").shouldDisable}),Ve(()=>e.checkUiComponentContext("mode:design")),ot.config({mode:"special",onEnter:o,onLeft:(m,g)=>(g.cut(),d.none()),onRight:(m,g)=>(g.cut(),d.none())}),ft("input-events",[cr({onSetup:t.onSetup,getApi:m=>js(m.element,".tox-toolbar").bind(p=>te(p,"button:enabled")).fold(()=>Cl(m,n),p=>Cl(m,n,p)),onBeforeSetup:ot.focusIn},s),kf({getApi:r},s,n),I(qr(),m=>{t.onInput(r(m))})])])});return R6(a,u,e)},A2=(t,e,o)=>{const n=Kt(),r=Ut(t(o,u=>c.findPrimary(u).orThunk(()=>i.findPrimary(u)).map(m=>(Ic(m),!0)),n)),a=nc(e.commands,u=>u.align==="start"),c=B6(r,a.pass,o,n),i=B6(r,a.fail,o,n);return oe([{title:d.none(),label:d.none(),items:c.asSpecs()},{title:d.none(),label:d.none(),items:[r.asSpec()]},{title:d.none(),label:d.none(),items:i.asSpecs()}],u=>u.items.length>0)},z6=(t,e)=>{switch(t.type){case"contextform":return A2(so(lW,t),t,e);case"contextsliderform":return A2(so(iW,t),t,e);case"contextsizeinputform":return A2(so(cW,t),t,e)}},uW={renderContextForm:(t,e,o)=>fh({type:t,uid:K("context-toolbar"),initGroups:z6(e,o),onEscape:d.none,cyclicKeying:!0,providers:o}),buildInitGroups:z6},P6=(t,e,o)=>e.bottom-t.y>=o&&t.bottom-e.y>=o,dW=t=>{const e=t.getBoundingClientRect();if(e.height<=0&&e.width<=0){const o=Xd(j.fromDom(t.startContainer),t.startOffset).element;return(Ur(o)?Fo(o):d.some(o)).filter(Jo).map(s=>s.dom.getBoundingClientRect()).getOr(e)}else return e},D2=t=>{const e=t.selection.getRng(),o=dW(e);if(t.inline){const n=Vn();return uo(n.left+o.left,n.top+o.top,o.width,o.height)}else{const n=Oc(j.fromDom(t.getBody()));return uo(n.x+o.left,n.y+o.top,o.width,o.height)}},mW=(t,e)=>e.filter(o=>vn(o)&&Yd(o)).map(Oc).getOrThunk(()=>D2(t)),hW=(t,e,o)=>{const n=Math.max(t.x+o,e.x),s=Math.min(t.right-o,e.right);return{x:n,width:s-n}},gW=(t,e,o,n,s,r)=>{const a=j.fromDom(t.getContainer()),c=te(a,".tox-editor-header").getOr(a),i=mo(c),u=i.y>=e.bottom,m=n&&!u;if(t.inline&&m)return{y:Math.max(i.bottom+r,o.y),bottom:o.bottom};if(t.inline&&!m)return{y:o.y,bottom:Math.min(i.y-r,o.bottom)};const g=s==="line"?mo(a):e;return m?{y:Math.max(i.bottom+r,o.y),bottom:Math.min(g.bottom-r,o.bottom)}:{y:Math.max(g.y+r,o.y),bottom:Math.min(i.y-r,o.bottom)}},Z6=(t,e,o,n=0)=>{const s=vg(window),r=mo(j.fromDom(t.getContentAreaContainer())),a=Rm(t)||zm(t)||Nu(t),{x:c,width:i}=hW(r,s,n);if(t.inline&&!a)return uo(c,s.y,i,s.height);{const u=e.header.isPositionedAtTop(),{y:m,bottom:g}=gW(t,r,s,u,o,n);return uo(c,m,i,g-m)}},Ch=12,N6={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},U6={maxHeightFunction:Yi(),maxWidthFunction:gp()},pW=(t,e)=>{const o=t.selection.getRng(),n=Xd(j.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&qt(n.element,e)},fW=(t,e,o)=>{const n=S(t,"position");wt(t,"position",e);const s=o(t);return n.each(r=>wt(t,"position",r)),s},W6=t=>t==="node",vW=(t,e,o,n,s)=>{const r=D2(t),a=n.lastElement().exists(c=>qt(o,c));if(pW(t,o))return a?xb:Ts;if(a)return fW(e,n.getMode(),()=>P6(r,mo(e),-20)&&!n.isReposition()?FT:xb);{const c=n.getMode()==="fixed"?s.y+Vn().top:s.y,i=Ht(e)+Ch;return c+i<=r.y?Ts:wu}},bW=(t,e,o,n)=>{const s=i=>(u,m,g,p,v)=>{const y=vW(t,p,i,o,v),w={...u,y:v.y,height:v.height};return{...y(w,m,g,p,v),alwaysFit:!0}},r=i=>W6(n)?[s(i)]:[];return e?{onLtr:i=>[qe,Xe,Ke,Co,To,ro].concat(r(i)),onRtl:i=>[qe,Ke,Xe,To,Co,ro].concat(r(i))}:{onLtr:i=>[ro,qe,Co,Xe,To,Ke].concat(r(i)),onRtl:i=>[ro,qe,To,Ke,Co,Xe].concat(r(i))}},yW=(t,e,o,n)=>e==="line"?{bubble:Cs(Ch,0,N6),layouts:{onLtr:()=>[rp],onRtl:()=>[ap]},overrides:U6}:{bubble:Cs(0,Ch,N6,1/Ch),layouts:bW(t,o,n,e),overrides:U6},H2=(t,e)=>{const o=oe(e,r=>r.predicate(t.dom)),{pass:n,fail:s}=nc(o,r=>r.type==="contexttoolbar");return{contextToolbars:n,contextForms:s}},xW=t=>{if(t.length<=1)return t;{const e=r=>fo(t,a=>a.position===r),o=r=>oe(t,a=>a.position===r),n=e("selection"),s=e("node");if(n||s)if(s&&n){const r=o("node"),a=Y(o("selection"),c=>({...c,position:"node"}));return r.concat(a)}else return o(n?"selection":"node");else return o("line")}},SW=t=>{if(t.length<=1)return t;{const e=n=>le(t,s=>s.position===n);return e("selection").orThunk(()=>e("node")).orThunk(()=>e("line")).map(n=>n.position).fold(()=>[],n=>oe(t,s=>s.position===n))}},wW=(t,e,o)=>{const n=H2(t,e);if(n.contextForms.length>0)return d.some({elem:t,toolbars:[n.contextForms[0]]});{const s=H2(t,o);if(s.contextForms.length>0)return d.some({elem:t,toolbars:[s.contextForms[0]]});if(n.contextToolbars.length>0||s.contextToolbars.length>0){const r=xW(n.contextToolbars.concat(s.contextToolbars));return d.some({elem:t,toolbars:r})}else return d.none()}},CW=(t,e,o)=>t(e)?d.none():uv(e,n=>{if(Jo(n)){const{contextToolbars:s,contextForms:r}=H2(n,o.inNodeScope),a=r.length>0?r:SW(s);return a.length>0?d.some({elem:n,toolbars:a}):d.none()}else return d.none()},t),TW=(t,e)=>{const o=j.fromDom(e.getBody()),n=a=>qt(a,o),s=a=>!n(a)&&!Di(o,a),r=j.fromDom(e.selection.getNode());return s(r)?d.none():wW(r,t.inNodeScope,t.inEditorScope).orThunk(()=>CW(n,r,t))},_W=(t,e)=>{const o={},n=[],s=[],r={},a={},c=(m,g)=>{const p=bs(OL(g));o[m]=p,p.launch.map(v=>{r["form:"+m]={...g.launch,type:v.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{e(p)}}}),p.scope==="editor"?s.push(p):n.push(p),a[m]=p},i=(m,g)=>{HL(g).each(p=>{p.launch.isSome()&&(r["toolbar:"+m]={...g.launch,type:"button",onAction:()=>{e(p)}}),g.scope==="editor"?s.push(p):n.push(p),a[m]=p})},u=Te(t);return it(u,m=>{const g=t[m];g.type==="contextform"||g.type==="contextsliderform"||g.type==="contextsizeinputform"?c(m,g):g.type==="contexttoolbar"&&i(m,g)}),{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}},$2="tox-pop--transition",MW=t=>t===xh.ENTER||t===xh.SPACEBAR,OW=(t,e,o,n)=>{const s=n.backstage,r=s.shared,a=Jn().deviceType.isTouch,c=Kt(),i=Kt(),u=Kt(),m=tU({sink:o,onEscape:()=>(t.focus(),iS(t),d.some(!0)),onHide:()=>{iS(t)},onBack:()=>{eR(t)}}),g=Ao(m.sketch),p=()=>{const ht=u.get().getOr("node"),yt=W6(ht)?1:0;return Z6(t,r,ht,yt)},v=()=>!t.removed&&!(a()&&s.isContextMenuOpen()),y=ht=>hn(vr(ht,c.get(),qt),!0),w=()=>{if(v()){const ht=p(),yt=hn(u.get(),"node")?mW(t,c.get()):D2(t);return ht.height<=0||!P6(yt,ht,.01)}else return!0},T=()=>{c.clear(),i.clear(),u.clear(),be.hide(g)},x=()=>{if(be.isOpen(g)){const ht=g.element;W(ht,"display"),w()?wt(ht,"display","none"):(i.set(0),be.reposition(g))}},M=ht=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ht],behaviours:P([ot.config({mode:"acyclic"}),ft("pop-dialog-wrap-events",[ie(yt=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>ot.focusIn(yt))}),Qs(yt=>{t.shortcuts.remove("ctrl+F9")})])])}),O=ht=>{const yt=R([ht]);ct(g,g6,{forwardContents:M(yt)})},D=pn(()=>_W(e,O)),$=(ht,yt)=>Sh(t,{buttons:ht,toolbar:yt.items,allowToolbarGroups:!1},n.backstage,d.some(["form:","toolbar:"])),G=(ht,yt)=>uW.buildInitGroups(ht,yt),R=ht=>{const{buttons:yt}=t.ui.registry.getAll(),Q=D(),L={...yt,...Q.formNavigators},Z=il(t)===os.scrolling?os.scrolling:os.default,lt=Le(Y(ht,xt=>xt.type==="contexttoolbar"?$(L,DL(xt)):G(xt,r.providers)));return fh({type:Z,uid:K("context-toolbar"),initGroups:lt,onEscape:d.none,cyclicKeying:!0,providers:r.providers})},F=(ht,yt)=>{const Q=ht==="node"?r.anchors.node(yt):r.anchors.cursor(),L=yW(t,ht,a(),{lastElement:c.get,isReposition:()=>hn(i.get(),0),getMode:()=>Do.getMode(o)});return ae(Q,L)},X=(ht,yt)=>{if(Ot.cancel(),!v())return;const Q=R(ht),L=ht[0].position,Z=F(L,yt);u.set(L),i.set(1);const lt=g.element;W(lt,"display"),y(yt)||(Ee(lt,$2),Do.reset(o,g)),be.showWithinBounds(g,M(Q),{anchor:Z,transition:{classes:[$2],mode:"placement"}},()=>d.some(p())),yt.fold(c.clear,c.set),w()&&wt(lt,"display","none")},at=()=>{wt(g.element,"transition","none"),x(),W(g.element,"transition")};let tt=!1;const Ot=pc(()=>{if(!(!t.hasFocus()||t.removed||tt))if(en(g.element,$2))Ot.throttle();else{const ht=D();TW(ht,t).fold(T,yt=>{X(yt.toolbars,d.some(yt.elem))})}},17);t.on("init",()=>{t.on("remove",T),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",x),t.on("click focus SetContent",Ot.throttle),t.on("keyup",ht=>{(!MW(ht.keyCode)||!m.inSubtoolbar())&&Ot.throttle()}),t.on(V6,T),t.on(oW,ht=>{const yt=D();dt(yt.lookupTable,ht.toolbarKey).each(Q=>{X([Q],No(ht.target!==t,ht.target)),h6(g)})}),t.on("focusout",ht=>{Im.setEditorTimeout(t,()=>{bo(o.element).isNone()&&bo(g.element).isNone()&&!t.hasFocus()&&T()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&T()}),t.on("DisabledStateChange",ht=>{ht.state&&T()}),t.on("ExecCommand",({command:ht})=>{ht.toLowerCase()==="toggleview"&&T()}),t.on("AfterProgressState",ht=>{ht.state?T():t.hasFocus()&&Ot.throttle()}),t.on("dragstart",()=>{tt=!0}),t.on("dragend drop",()=>{tt=!1}),t.on("NodeChange",ht=>{m.inSubtoolbar()?at():bo(g.element).fold(Ot.throttle,N)})})},kW=t=>{it([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],o=>{t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:En(t,o.cmd),onSetup:th(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Bo(t),onAction:En(t,"JustifyNone")})},G6=(t,e)=>{const o=()=>{const n=e.getOptions(t),s=e.getCurrent(t).map(e.hash),r=Kt();return Y(n,a=>({type:"togglemenuitem",text:e.display(a),onSetup:c=>{const i=m=>{m&&(r.on(g=>g.setActive(!1)),r.set(c)),c.setActive(m)};i(hn(s,e.hash(a)));const u=e.watcher(t,a,i);return()=>{r.clear(),u()}},onAction:()=>e.setCurrent(t,a)}))};t.ui.registry.addMenuButton(e.name,{tooltip:e.text,icon:e.icon,fetch:n=>n(o()),onSetup:e.onToolbarSetup}),t.ui.registry.addNestedMenuItem(e.name,{type:"nestedmenuitem",text:e.text,getSubmenuItems:o,onSetup:e.onMenuSetup})},EW=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Vx,hash:e=>j7(e,["fixed","relative","empty"]).getOr(e),display:Ft,watcher:(e,o,n)=>e.formatter.formatChanged("lineheight",n,!1,{value:o}).unbind,getCurrent:e=>d.from(e.queryCommandValue("LineHeight")),setCurrent:(e,o)=>e.execCommand("LineHeight",!1,o),onToolbarSetup:Bo(t),onMenuSetup:Bo(t)}),AW=t=>d.from(mx(t)).map(o=>({name:"language",text:"Language",icon:"language",getOptions:E(o),hash:n=>dn(n.customCode)?n.code:`${n.code}/${n.customCode}`,display:n=>n.title,watcher:(n,s,r)=>{var a;return n.formatter.formatChanged("lang",r,!1,{value:s.code,customValue:(a=s.customCode)!==null&&a!==void 0?a:null}).unbind},getCurrent:n=>{const s=j.fromDom(n.selection.getNode());return m1(s,r=>d.some(r).filter(Jo).bind(a=>Ye(a,"lang").map(i=>{const u=Ye(a,"data-mce-lang").getOrUndefined();return{code:i,customCode:u,title:""}})))},setCurrent:(n,s)=>n.execCommand("Lang",!1,s),onToolbarSetup:n=>{const s=br();return n.setActive(t.formatter.match("lang",{},void 0,!0)),s.set(t.formatter.formatChanged("lang",n.setActive,!0)),Qm(s.clear,Bo(t)(n))},onMenuSetup:Bo(t)})),DW=t=>{G6(t,EW(t)),AW(t).each(e=>G6(t,e))},HW=(t,e)=>{iU(t,e),fU(t,e),$U(t,e),dU(t,e),AU(t,e)},$W=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",e=>t.mode.get()===e),t.ui.registry.addContext("any",ye),t.ui.registry.addContext("formatting",e=>t.formatter.canApply(e)),t.ui.registry.addContext("insert",e=>t.schema.isValidChild(t.selection.getNode().tagName,e))},FW=t=>ai(t,"NodeChange",e=>{e.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),IW=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:FW(t),onAction:En(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Bo(t),onAction:En(t,"indent")})},VW=t=>{IW(t)},j6=(t,e)=>o=>{o.setActive(e.get());const n=s=>{e.set(s.state),o.setActive(s.state)};return t.on("PastePlainTextToggle",n),Qm(()=>t.off("PastePlainTextToggle",n),Bo(t)(o))},LW=t=>{const e=st(Ex(t)),o=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:j6(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:j6(t,e)})},F2=(t,e)=>()=>{t.execCommand("mceToggleFormat",!1,e)},BW=t=>{ua.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(e,o)=>{t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:th(t,e.name),onAction:F2(t,e.name),shortcut:e.shortcut})});for(let e=1;e<=6;e++){const o="h"+e,n=`Access+${e}`;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+e,onSetup:th(t,o),onAction:F2(t,o),shortcut:n})}},RW=t=>{ua.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:En(t,e.action),shortcut:e.shortcut,context:e.context})}),ua.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:Bo(t),onAction:En(t,e.action)})})},zW=t=>{ua.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],e=>{t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:En(t,e.action),onSetup:th(t,e.name)})})},PW=t=>{BW(t),RW(t),zW(t)},ZW=t=>{ua.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:En(t,e.action),context:e.context})}),ua.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onSetup:Bo(t),onAction:En(t,e.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Bo(t),onAction:F2(t,"code")})},NW=t=>{PW(t),ZW(t)},Th=(t,e)=>ai(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o=>{o.setEnabled(!t.mode.isReadOnly()&&t.undoManager[e]())}),UW=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Th(t,"hasUndo"),onAction:En(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Th(t,"hasRedo"),onAction:En(t,"redo")})},WW=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Th(t,"hasUndo"),onAction:En(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Th(t,"hasRedo"),onAction:En(t,"redo"),shortcut:"Meta+Y"})},GW=t=>{UW(t),WW(t)},jW=t=>ai(t,"VisualAid",e=>{e.setActive(t.hasVisual)}),YW=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:jW(t),onAction:En(t,"mceToggleVisualAid"),context:"any"})},XW=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:En(t,"mceToggleVisualAid"),context:"any"})},KW=t=>{XW(t),YW(t)},qW=(t,e)=>{kW(t),NW(t),HW(t,e),GW(t),fR(t),KW(t),VW(t),DW(t),LW(t),$W(t)},JW=t=>Zt(t)?t.split(/[ ,]/):t,Y6=t=>e=>e.options.get(t),QW=t=>{const e=t.options.register;e("contextmenu_avoid_overlap",{processor:"string",default:""}),e("contextmenu_never_use_native",{processor:"boolean",default:!1}),e("contextmenu",{processor:o=>o===!1?{value:[],valid:!0}:Zt(o)||St(o,Zt)?{value:JW(o),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},X6=Y6("contextmenu_never_use_native"),tG=Y6("contextmenu_avoid_overlap"),eG=t=>K6(t).length===0,K6=t=>{const e=t.ui.registry.getAll().contextMenus,o=t.options.get("contextmenu");return t.options.isSet("contextmenu")?o:oe(o,n=>Lt(e,n))},gd=(t,e)=>({type:"makeshift",x:t,y:e}),oG=(t,e,o)=>gd(t.x+e,t.y+o),q6=t=>t.type==="longpress"||t.type.indexOf("touch")===0,nG=t=>{if(q6(t)){const e=t.touches[0];return gd(e.pageX,e.pageY)}else return gd(t.pageX,t.pageY)},sG=t=>{if(q6(t)){const e=t.touches[0];return gd(e.clientX,e.clientY)}else return gd(t.clientX,t.clientY)},rG=(t,e)=>{const o=zu.DOM.getPos(t);return oG(e,o.x,o.y)},aG=(t,e)=>e.type==="contextmenu"||e.type==="longpress"?t.inline?nG(e):rG(t.getContentAreaContainer(),sG(e)):J6(t),J6=t=>({type:"selection",root:j.fromDom(t.selection.getNode())}),cG=t=>({type:"node",node:d.some(j.fromDom(t.selection.getNode())),root:j.fromDom(t.getBody())}),Q6=(t,e,o)=>{switch(o){case"node":return cG(t);case"point":return aG(t,e);case"selection":return J6(t)}},iG=(t,e,o,n,s,r)=>{const a=o(),c=Q6(t,e,r);bl(a,Hs.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:d.none()}).map(i=>{e.preventDefault(),be.showMenuAt(s,{anchor:c},{menu:{markers:ja("normal")},data:i})})},lG={onLtr:()=>[qe,Xe,Ke,Co,To,ro,Ts,wu,Su,P1,xu,z1],onRtl:()=>[qe,Ke,Xe,To,Co,ro,Ts,wu,xu,z1,Su,P1]},uG=12,dG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},mG=(t,e)=>{const o=t.selection;if(o.isCollapsed()||e.touches.length<1)return!1;{const n=e.touches[0],s=o.getRng();return mv(t.getWin(),uu.domRange(s)).exists(a=>a.left<=n.clientX&&a.right>=n.clientX&&a.top<=n.clientY&&a.bottom>=n.clientY)}},hG=t=>{const e=t.selection.getRng(),o=()=>{Im.setEditorTimeout(t,()=>{t.selection.setRng(e)},10),r()};t.once("touchend",o);const n=a=>{a.preventDefault(),a.stopImmediatePropagation()};t.on("mousedown",n,!0);const s=()=>r();t.once("longpresscancel",s);const r=()=>{t.off("touchend",o),t.off("longpresscancel",s),t.off("mousedown",n)}},gG=(t,e,o)=>{const n=Q6(t,e,o);return{bubble:Cs(0,o==="point"?uG:0,dG),layouts:lG,overrides:{maxWidthFunction:gp(),maxHeightFunction:Yi()},...n}},pG=(t,e,o,n,s,r,a)=>{const c=gG(t,e,r);bl(o,Hs.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:d.none()}).map(i=>{e.preventDefault();const u=a?jo.HighlightMenuAndItem:jo.HighlightNone;be.showMenuWithinBounds(s,{anchor:c},{menu:{markers:ja("normal"),highlightOnOpen:u},data:i,type:"horizontal"},()=>d.some(Z6(t,n.shared,r==="node"?"node":"selection"))),t.dispatch(V6)})},fG=(t,e,o,n,s,r)=>{const a=Jn(),c=a.os.isiOS(),i=a.os.isMacOS(),u=a.os.isAndroid(),m=a.deviceType.isTouch(),g=()=>!(u||c||i&&m),p=()=>{const v=o();pG(t,e,v,n,s,r,g())};if((i||c)&&r!=="node"){const v=()=>{hG(t),p()};mG(t,e)?v():(t.once("selectionchange",v),t.once("touchend",()=>t.off("selectionchange",v)))}else p()},t8=t=>Zt(t)?t==="|":t.type==="separator",I2={type:"separator"},e8=t=>{const e=o=>({text:o.text,icon:o.icon,enabled:o.enabled,shortcut:o.shortcut});if(Zt(t))return t;switch(t.type){case"separator":return I2;case"submenu":return{type:"nestedmenuitem",...e(t),getSubmenuItems:()=>{const n=t.getSubmenuItems();return Zt(n)?n:Y(n,e8)}};default:const o=t;return{type:"menuitem",...e(o),onAction:Pt(o.onAction)}}},o8=(t,e)=>{if(e.length===0)return t;const n=zs(t).filter(s=>!t8(s)).fold(()=>[],s=>[I2]);return t.concat(n).concat(e).concat([I2])},vG=(t,e,o)=>{const n=Ne(e,(s,r)=>dt(t,r.toLowerCase()).map(a=>{const c=a.update(o);if(Zt(c)&&Ns(hc(c)))return o8(s,c.split(" "));if(Pe(c)&&c.length>0){const i=Y(c,e8);return o8(s,i)}else return s}).getOrThunk(()=>s.concat([r])),[]);return n.length>0&&t8(n[n.length-1])&&n.pop(),n},bG=(t,e)=>e.ctrlKey&&!X6(t),yG=t=>t.type==="longpress"||Lt(t,"touches"),n8=(t,e)=>!yG(e)&&(e.button!==2||e.target===t.getBody()&&e.pointerType===""),s8=(t,e)=>n8(t,e)?t.selection.getStart(!0):e.target,xG=(t,e)=>{const o=tG(t),n=n8(t,e)?"selection":"point";if(Ns(o)){const s=s8(t,e);return lu(j.fromDom(s),o)?"node":n}else return n},SG=(t,e,o)=>{const s=Jn().deviceType.isTouch,r=Ao(be.sketch({dom:{tag:"div"},lazySink:e,onEscape:()=>t.focus(),onShow:()=>o.setContextMenuState(!0),onHide:()=>o.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:P([ft("dismissContextMenu",[I(Hc(),(i,u)=>{Rt.close(i),t.focus()})])])})),a=()=>be.hide(r),c=i=>{if(X6(t)&&i.preventDefault(),bG(t,i)||eG(t))return;const u=xG(t,i),m=()=>{const p=s8(t,i),v=t.ui.registry.getAll(),y=K6(t);return vG(v.contextMenus,y,p)};(s()?fG:iG)(t,i,m,o,r,u)};t.on("init",()=>{const i="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");t.on(i,a),t.on("longpress contextmenu",c)})},V2=40,_h=V2/2,r8=(t,e,o,n,s,r)=>t.fold(()=>Zc.snap({sensor:Ra(o-_h,n-_h),range:ke(s,r),output:Ra(d.some(o),d.some(n)),extra:{td:e}}),a=>{const c=o-_h,i=n-_h,u=V2,m=V2,g=a.element.dom.getBoundingClientRect();return Zc.snap({sensor:Ra(c,i),range:ke(u,m),output:Ra(d.some(o-g.width/2),d.some(n-g.height/2)),extra:{td:e}})}),a8=(t,e,o)=>{const n=(s,r)=>s.exists(a=>qt(a,r));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(s,r)=>{const a=r.td;n(e.get(),a)||(e.set(a),o(a))},mustSnap:!0}},c8=t=>Ut(po.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:P([Zc.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),Vu.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),wG=(t,e)=>{const o=st([]),n=st([]),s=st(!1),r=Kt(),a=Kt(),c=R=>{const F=Oc(R);return r8(v.getOpt(e),R,F.x,F.y,F.width,F.height)},i=()=>Y(o.get(),R=>c(R)),u=R=>{const F=Oc(R);return r8(y.getOpt(e),R,F.right,F.bottom,F.width,F.height)},m=()=>Y(n.get(),R=>u(R)),g=a8(i,r,R=>{a.get().each(F=>{t.dispatch("TableSelectorChange",{start:R,finish:F})})}),p=a8(m,a,R=>{r.get().each(F=>{t.dispatch("TableSelectorChange",{start:F,finish:R})})}),v=c8(g),y=c8(p),w=Ao(v.asSpec()),T=Ao(y.asSpec()),x=(R,F,X,at)=>{const tt=F.dom.getBoundingClientRect();W(R.element,"display");const Ot=ms(j.fromDom(t.getBody())).dom.innerHeight,ht=X(tt),yt=at(tt,Ot);(ht||yt)&&wt(R.element,"display","none")},M=(R,F,X,at)=>{const tt=X(F);Zc.snapTo(R,tt),x(R,F,yt=>yt[at]<0,(yt,Q)=>yt[at]>Q)},O=R=>M(w,R,c,"top"),D=()=>r.get().each(O),$=R=>M(T,R,u,"bottom"),G=()=>a.get().each($);if(Jn().deviceType.isTouch()){const R=F=>Y(F,j.fromDom);t.on("TableSelectionChange",F=>{s.get()||(Rc(e,w),Rc(e,T),s.set(!0));const X=j.fromDom(F.start),at=j.fromDom(F.finish);r.set(X),a.set(at),d.from(F.otherCells).each(tt=>{o.set(R(tt.upOrLeftCells)),n.set(R(tt.downOrRightCells)),O(X),$(at)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{D(),G()}),t.on("TableSelectionClear",()=>{s.get()&&(ea(w),ea(T),s.set(!1)),r.clear(),a.clear()})}};var CG=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const TG=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",_G=(t,e,o)=>{var n;const s=(n=e.delimiter)!==null&&n!==void 0?n:"",r=(u,m,g)=>po.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":g}},components:[de(u)],action:p=>{t.focus(),t.selection.select(m),t.nodeChanged()},buttonBehaviours:P([me.config({...o.tooltips.getConfig({tooltipText:o.translate(["Select the {0} element",m.nodeName.toLowerCase()]),onShow:(p,v)=>{tC(p.element,v.element)},onHide:p=>{eC(p.element)}})}),rs.button(o.isDisabled),Ve(()=>o.checkUiComponentContext("any"))])}),a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[de(` ${s} `)]}),c=u=>Ne(u,(m,g,p)=>{const v=r(g.name,g.element,p);return p===0?m.concat([v]):m.concat([a(),v])},[]),i=u=>{const m=[];let g=u.length;for(;g-- >0;){const p=u[g];if(p.nodeType===1&&!TG(p)){const v=WB(t,p);if(v.isDefaultPrevented()||m.push({name:v.name,element:p}),v.isPropagationStopped())break}}return m};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:P([ot.config({mode:"flow",selector:"div[role=button]"}),et.config({disabled:o.isDisabled}),Ve(()=>o.checkUiComponentContext("any")),ee.config({}),vt.config({}),ft("elementPathEvents",[ie((u,m)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ot.focusIn(u)),t.on("NodeChange",g=>{const p=i(g.parents),v=p.length>0?c(p):[];vt.set(u,v)})})])]),components:[]}};var da;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(da||(da={}));const MG=(t,e,o,n,s)=>{const r={height:wh(n+e.top,B0(t),R0(t))};return o===da.Both&&(r.width=wh(s+e.left,L0(t),Lm(t))),r},i8=(t,e,o)=>{const n=j.fromDom(t.getContainer()),s=MG(t,e,o,Ht(n),yn(n));Ue(s,(r,a)=>{Hn(r)&&wt(n,a,k2(r))}),ZB(t)},OG=t=>{const e=kx(t);return e===!1?da.None:e==="both"?da.Both:da.Vertical},Mh=(t,e,o,n)=>{const r=ke(o*20,n*20);return i8(t,r,e),d.some(!0)},kG=(t,e)=>{const o=OG(t);if(o===da.None)return d.none();const n=o===da.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",s=o===da.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return d.some(Wn("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",s],attributes:{"aria-label":e.translate(n),"data-mce-name":"resize-handle"},behaviours:[Zc.config({mode:"mouse",repositionTarget:!1,onDrag:(r,a,c)=>i8(t,c,o),blockerClass:"tox-blocker"}),ot.config({mode:"special",onLeft:()=>Mh(t,o,-1,0),onRight:()=>Mh(t,o,1,0),onUp:()=>Mh(t,o,0,-1),onDown:()=>Mh(t,o,0,1)}),ee.config({}),mt.config({}),me.config(e.tooltips.getConfig({tooltipText:e.translate("Resize")}))]},e.icons))},EG=(t,e)=>{const o=(n,s,r)=>vt.set(n,[de(e.translate(["{0} "+r,s[r]]))]);return po.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:P([rs.button(e.isDisabled),Ve(()=>e.checkUiComponentContext("any")),ee.config({}),vt.config({}),q.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),ft("wordcount-events",[Qr(n=>{const s=q.getValue(n),r=s.mode==="words"?"characters":"words";q.setValue(n,{mode:r,count:s.count}),o(n,s.count,r)}),ie(n=>{t.on("wordCountUpdate",s=>{const{mode:r}=q.getValue(n);q.setValue(n,{mode:r,count:s.wordCount}),o(n,s.wordCount,r)})})])]),eventOrder:{[zn()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},AG=(t,e)=>{const o=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",CG.trim()])},behaviours:P([mt.config({})])}]}),n=()=>{const c=Ef("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[de(ns.translate(["Press {0} for help",c]))]}},s=()=>{const c=[];return t.hasPlugin("wordcount")&&c.push(EG(t,e)),P0(t)&&c.push(o()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:c}},r=()=>{const c=[],i=Hx(t),u=Ox(t),m=P0(t)||t.hasPlugin("wordcount"),g=()=>{const p="tox-statusbar__text-container--flex-start",v="tox-statusbar__text-container--flex-end",y="tox-statusbar__text-container--space-around";if(i){const w="tox-statusbar__text-container-3-cols";return!m&&!u?[w,y]:m&&!u?[w,v]:[w,p]}return[m&&!u?v:p]};return u&&c.push(_G(t,{},e)),i&&c.push(n()),m&&c.push(s()),c.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...g()]},components:c}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const c=r(),i=kG(t,e);return c.concat(i.toArray())})()}},l8=(t,e)=>e.get().getOrDie(`UI for ${t} has not been rendered`),DG=(t,e)=>{const o=t.inline,n=o?tW:WU,s=ul(t)?BZ:DZ,r=eW(),a=Kt(),c=Kt(),i=Kt(),p=Jn().deviceType.isTouch()?["tox-platform-touch"]:[],v=U0(t),y=il(t),w=Ut({dom:{tag:"div",classes:["tox-anchorbar"]}}),T=Ut({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),x=()=>r.mainUi.get().map(nt=>nt.outerContainer).bind(re.getHeader),M=()=>Mt.fromOption(r.dialogUi.get().map(nt=>nt.sink),"UI has not been rendered"),O=()=>Mt.fromOption(r.popupUi.get().map(nt=>nt.sink),"(popup) UI has not been rendered"),D=r.lazyGetInOuterOrDie("anchor bar",w.getOpt),$=r.lazyGetInOuterOrDie("bottom anchor bar",T.getOpt),G=r.lazyGetInOuterOrDie("toolbar",re.getToolbar),R=r.lazyGetInOuterOrDie("throbber",re.getThrobber),F=OZ({popup:O,dialog:M},t,D,$),X=()=>{const nt={attributes:{[pp]:v?Jr.BottomToTop:Jr.TopToBottom}},bt=re.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:F.popup,onEscape:()=>{t.focus()}}),Xt=re.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:F.popup.shared.getSink,providers:F.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:Is=>{GB(t,Is)},type:y,lazyToolbar:G,lazyHeader:()=>x().getOrDie("Could not find header element"),...nt}),jt=re.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:F.popup.shared.providers,onEscape:()=>{t.focus()},type:y}),Ro=Nu(t),he=zm(t),an=Rm(t),co=Dx(t),cn=at(co),ln=Ro||he||an,Gn=()=>Ro?[jt]:he?[Xt]:[],ui=[cn,bt];return re.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(ln?[]:["tox-editor-header--empty"]),...nt},components:Le([an?ui:[],Gn(),ll(t)?[]:[w.asSpec()]]),sticky:ul(t),editor:t,sharedBackstage:F.popup.shared})},at=nt=>re.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:nt}),tt=()=>{const nt=re.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),bt=re.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[nt,bt]}},Ot=()=>{const nt=W0(t),bt=qt(Sr(),nt)&&h(nt,"display")==="grid",Xt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(p),attributes:{...ns.isRtl()?{dir:"rtl"}:{}}},behaviours:P([Do.config({useFixed:()=>s.isDocked(x)})])},jt={dom:{styles:{width:document.body.clientWidth+"px"}},events:ue([I(yu(),an=>{wt(an.element,"width",document.body.clientWidth+"px")})])},Ro=Ao(ae(Xt,bt?jt:{})),he=c0(Ro);return c.set(he),{sink:Ro,mothership:he}},ht=()=>{const nt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(p),attributes:{...ns.isRtl()?{dir:"rtl"}:{}}},behaviours:P([Do.config({useFixed:()=>s.isDocked(x),getBounds:()=>e.getPopupSinkBounds()})])},bt=Ao(nt),Xt=c0(bt);return i.set(Xt),{sink:bt,mothership:Xt}},yt=()=>{const nt=X(),bt=tt(),Xt=re.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:F.popup}),jt=re.parts.viewWrapper({backstage:F.popup}),Ro=Mx(t)&&!o?d.some(AG(t,F.popup.shared.providers)):d.none(),he=Le([v?[]:[nt],o?[]:[bt],v?[nt]:[]]),an=re.parts.editorContainer({components:Le([he,o?[]:[T.asSpec()]])}),co=G0(t),cn={role:"application",...ns.isRtl()?{dir:"rtl"}:{},...co?{"aria-hidden":"true"}:{}},ln=Ao(re.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(v?["tox-tinymce--toolbar-bottom"]:[]).concat(p),styles:{visibility:"hidden",...co?{opacity:"0",border:"0"}:{}},attributes:cn},components:[an,...o?[]:[jt,...Ro.toArray()],Xt],behaviours:P([Ve(()=>F.popup.shared.providers.checkUiComponentContext("any")),et.config({disableClass:"tox-tinymce--disabled"}),ot.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Gn=c0(ln);return a.set(Gn),{mothership:Gn,outerContainer:ln}},Q=nt=>{const bt=k2(XU(t)),Xt=k2(KU(t));return t.inline||(z("div","width",Xt)&&wt(nt.element,"width",Xt),z("div","height",bt)?wt(nt.element,"height",bt):wt(nt.element,"height","400px")),bt},L=nt=>{t.addShortcut("alt+F9","focus menubar",()=>{re.focusMenubar(nt)}),t.addShortcut("alt+F10","focus toolbar",()=>{re.focusToolbar(nt)}),t.addCommand("ToggleToolbarDrawer",(bt,Xt)=>{Xt!=null&&Xt.skipFocus?re.toggleToolbarDrawerWithoutFocusing(nt):re.toggleToolbarDrawer(nt)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>re.isToolbarDrawerToggled(nt))},Z=nt=>{const{mainUi:bt,popupUi:Xt,uiMotherships:jt}=nt;He(gx(t),(ma,fd)=>{t.ui.registry.addGroupToolbarButton(fd,ma)});const{buttons:Ro,menuItems:he,contextToolbars:an,sidebars:co,views:cn}=t.ui.registry.getAll(),ln=N0(t),Gn={menuItems:he,menus:Bx(t),menubar:vx(t),toolbar:ln.getOrThunk(()=>Bm(t)),allowToolbarGroups:y===os.floating,buttons:Ro,sidebar:co,views:cn};L(bt.outerContainer),kZ(t,bt.mothership,jt),s.setup(t,F.popup.shared,x),qW(t,F.popup),SG(t,F.popup.shared.getSink,F.popup),NZ(t),nN(t,R,F.popup.shared),OW(t,an,Xt.sink,{backstage:F.popup}),wG(t,Xt.sink);const ui=t.getElement(),Is=Q(bt.outerContainer),pd={targetNode:ui,height:Is};return n.render(t,nt,Gn,F.popup,pd)},lt=nt=>(i.set(nt.mothership),nt),xt=()=>{const nt=yt(),bt=Ot(),Xt=Wa(t)?ht():lt(bt);r.dialogUi.set(bt),r.popupUi.set(Xt),r.mainUi.set(nt);const jt={popupUi:Xt,dialogUi:bt,mainUi:nt,uiMotherships:r.getUiMotherships()};return Z(jt)};return{popups:{backstage:F.popup,getMothership:()=>l8("popups",i)},dialogs:{backstage:F.dialog,getMothership:()=>l8("dialogs",c)},renderUI:xt}},u8=t=>{const e=[],o={};return Ue(t,(n,s)=>{n.fold(()=>{e.push(s)},r=>{o[s]=r})}),e.length>0?Mt.error(e):Mt.value(o)},HG=(t,e,o,n)=>{const s=Ut(nl.sketch(r=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:Y(t.items,a=>Tw(r,a,e,o,n))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[s.asSpec()]}],behaviours:P([ot.config({mode:"acyclic",useTabstopAt:Zo(id)}),Fs.memento(s),iz(s,{postprocess:r=>u8(r).fold(a=>(console.error(a),{}),Ft)}),ft("dialog-body-panel",[I(Ss(),(r,a)=>{r.getSystem().broadcastOn([ah],{newFocus:d.some(a.event.target)})})])])}},$G=(t,e,o)=>Y(t,(n,s)=>{vt.set(o,t[s].view());const r=e.dom.getBoundingClientRect();return vt.set(o,[]),r.height}),FG=t=>mn(vi(t,(e,o)=>e>o?-1:e<o?1:0)),IG=(t,e,o)=>{const n=Ql(t).dom,s=js(t,".tox-dialog-wrap").getOr(t),r=h(s,"position")==="fixed";let a;r?a=Math.max(n.clientHeight,window.innerHeight):a=Math.max(n.offsetHeight,n.scrollHeight);const c=Ht(e),u=e.dom.offsetLeft>=o.dom.offsetLeft+yn(o)?Math.max(Ht(o),c):c,m=parseInt(h(t,"margin-top"),10)||0,g=parseInt(h(t,"margin-bottom"),10)||0,v=Ht(t)+m+g-u;return a-v},VG=(t,e)=>{mn(t).each(o=>al.showTab(e,o.value))},d8=(t,e)=>{wt(t,"height",e+"px"),wt(t,"flex-basis",e+"px")},Oh=(t,e,o)=>{js(t,'[role="dialog"]').each(n=>{te(n,'[role="tablist"]').each(s=>{o.get().map(r=>(wt(e,"height","0"),wt(e,"flex-basis","0"),Math.min(r,IG(n,e,s)))).each(r=>{d8(e,r)})})})},L2=t=>te(t,'[role="tabpanel"]'),LG=t=>{const e=Kt();return{extraEvents:[ie(s=>{const r=s.element;L2(r).each(a=>{wt(a,"visibility","hidden"),s.getSystem().getByDom(a).toOptional().each(c=>{const i=$G(t,a,c);FG(i).fold(e.clear,e.set)}),Oh(r,a,e),W(a,"visibility"),VG(t,s),requestAnimationFrame(()=>{Oh(r,a,e)})})}),I(yu(),s=>{const r=s.element;L2(r).each(a=>{Oh(r,a,e)})}),I(FS,(s,r)=>{const a=s.element;L2(a).each(c=>{const i=hs(Oo(c));wt(c,"visibility","hidden");const u=S(c,"height").map(p=>parseInt(p,10));W(c,"height"),W(c,"flex-basis");const m=c.dom.getBoundingClientRect().height;u.forall(p=>m>p)?(e.set(m),Oh(a,c,e)):u.each(p=>{d8(c,p)}),W(c,"visibility"),i.each(Ge)})})],selectFirst:!1}},m8="send-data-to-section",h8="send-data-to-view",BG=(t,e,o,n)=>{const s=st({}),r=m=>{const g=q.getValue(m),p=u8(g).getOr({}),v=s.get(),y=ae(v,p);s.set(y)},a=m=>{const g=s.get();q.setValue(m,g)},c=st(null),i=Y(t.tabs,m=>({value:m.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[de(o.shared.providers.translate(m.title))],view:()=>[nl.sketch(g=>({dom:{tag:"div",classes:["tox-form"]},components:Y(m.items,p=>Tw(g,p,e,o,n)),formBehaviours:P([ot.config({mode:"acyclic",useTabstopAt:Zo(id)}),ft("TabView.form.events",[ie(a),Qs(r)]),Tn.config({channels:Wi([{key:m8,value:{onReceive:r}},{key:h8,value:{onReceive:a}}])})])}))]})),u=LG(i);return al.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(m,g,p)=>{const v=q.getValue(g);ct(m,$S,{name:v,oldName:c.get()}),c.set(v)},tabs:i,components:[al.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[sx.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:P([ee.config({})])}),al.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:P([ft("tabpanel",u.extraEvents),ot.config({mode:"acyclic"}),$t.config({find:m=>mn(al.getViewItems(m))}),ii(d.none(),m=>(m.getSystem().broadcastOn([m8],{}),s.get()),(m,g)=>{s.set(g),m.getSystem().broadcastOn([h8],{})})])})},g8=(t,e,o,n,s,r)=>{const a=u=>{const m=u.body;switch(m.type){case"tabpanel":return[BG(m,u.initialData,n,r)];default:return[HG(m,u.initialData,n,r)]}},c=(u,m)=>d.some({isTabPanel:()=>m.body.type==="tabpanel"}),i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map(u=>({id:u})).getOr({}),...s?i:{}}},components:[],behaviours:P([Fs.childAt(0),_n.config({channel:`${XS}-${e}`,updateState:c,renderComponents:a,initialData:t})])}},RG=(t,e,o,n,s,r)=>g8(t,e,d.some(o),n,s,r),zG=(t,e,o,n)=>{const s=g8(t,e,d.none(),o,!1,n);return Je.parts.body(s)},PG=t=>{const e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[GS(d.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:P([ee.config({}),mt.config({})])})]}],behaviours:P([ot.config({mode:"acyclic",useTabstopAt:Zo(id)})])};return Je.parts.body(e)},ZG=cl.deviceType.isTouch(),p8=(t,e)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}),f8=(t,e)=>Je.parts.close(po.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:P([ee.config({})])})),v8=()=>Je.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),b8=(t,e)=>Je.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:sa(`<p>${o5(e.translate(t))}</p>`)}]}]}),y8=t=>Je.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),x8=(t,e)=>[or.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),or.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})],B2=t=>{const e="tox-dialog",o=e+"-wrap",n=o+"__backdrop",s=e+"__disable-scroll";return Je.sketch({lazySink:t.lazySink,onEscape:r=>(t.onEscape(r),d.some(!0)),useTabstopAt:r=>!id(r),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:sa(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:ZG?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:P([mt.config({}),ft("dialog-events",t.dialogEvents.concat([qi(Ss(),(r,a)=>{er.isBlocked(r)?N():ot.focusIn(r)}),I(O1(),(r,a)=>{r.getSystem().broadcastOn([ah],{newFocus:a.event.newFocus})})])),ft("scroll-lock",[ie(()=>{Fe(Sr(),s)}),Qs(()=>{Ee(Sr(),s)})]),...t.extraBehaviours]),eventOrder:{[zn()]:["dialog-events"],[qs()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Mr()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},S8=t=>po.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:P([ee.config({}),me.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Wn("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:e=>{Dt(e,Ja)}}),w8=(t,e,o,n)=>{const s=r=>[de(n.translate(r.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...o.map(r=>({id:r})).getOr({})}},components:[],behaviours:P([_n.config({channel:`${YS}-${e}`,initialData:t,renderComponents:s})])}},C8=()=>({dom:sa('<div class="tox-dialog__draghandle"></div>')}),NG=(t,e,o,n)=>or.sketch({dom:sa('<div class="tox-dialog__header"></div>'),components:[w8(t,e,d.some(o),n),C8(),S8(n)],containerBehaviours:P([Zc.config({mode:"mouse",blockerClass:"blocker",getTarget:s=>Cr(s,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(s,r)=>{s.getSystem().broadcastOn([Pa()],{target:r})}})])}),UG=(t,e,o)=>{const n=Je.parts.title(w8(t,e,d.none(),o)),s=Je.parts.draghandle(C8()),r=Je.parts.close(S8(o)),a=[n].concat(t.draggable?[s]:[]).concat([r]);return or.sketch({dom:sa('<div class="tox-dialog__header"></div>'),components:a})},T8=(t,e,o)=>UG({title:o.shared.providers.translate(t),draggable:o.dialog.isDraggableModal()},e,o.shared.providers),_8=(t,e,o,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${n.getOr(0)}px`,position:"absolute"}},behaviours:e,components:[{dom:sa('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),M8=(t,e,o)=>({onClose:()=>o.closeWindow(),onBlock:n=>{const s=te(t().element,".tox-dialog__header").map(r=>Ht(r));Je.setBusy(t(),(r,a)=>_8(n.message,a,e,s))},onUnblock:()=>{Je.setIdle(t())}}),O8="tox-dialog--fullscreen",R2="tox-dialog--width-lg",z2="tox-dialog--width-md",kh=t=>{switch(t){case"large":return d.some(R2);case"medium":return d.some(z2);default:return d.none()}},k8=(t,e)=>{const o=j.fromDom(e.element.dom);en(o,O8)||(fs(o,[R2,z2]),kh(t).each(n=>Fe(o,n)))},E8=(t,e)=>{const o=j.fromDom(t.element.dom),n=av(o),s=le(n,r=>r===R2||r===z2).or(kh(e));C7(o,[O8,...s.toArray()])},A8=(t,e,o)=>Ao(B2({...t,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[sh({}),...t.extraBehaviours],onEscape:n=>{Dt(n,Ja)},dialogEvents:e,eventOrder:{[Dc()]:[_n.name(),Tn.name()],[qs()]:["scroll-lock",_n.name(),"messages","dialog-events","alloy.base.behaviour"],[Mr()]:["alloy.base.behaviour","dialog-events","messages",_n.name(),"scroll-lock"]}})),P2=(t,e={})=>{const o=n=>{const s=Y(n.items,r=>{const a=dt(e,r.name).getOr(st(!1));return{...r,storage:a}});return{...n,items:s}};return Y(t,n=>n.type==="menu"?o(n):n)},D8=t=>Ne(t,(e,o)=>o.type==="menu"?Ne(o.items,(s,r)=>(s[r.name]=r.storage,s),e):e,{}),H8=(t,e)=>[yp(Ss(),Cz),t(ad,(o,n,s,r)=>{ka(r.element)&&hs(Oo(r.element)).each(Ri),e.onClose(),n.onClose()}),t(Ja,(o,n,s,r)=>{n.onCancel(o),Dt(r,ad)}),I(Yf,(o,n)=>e.onUnblock()),I(jf,(o,n)=>e.onBlock(n.event))],WG=(t,e)=>{const o=(s,r)=>I(s,(a,c)=>{n(a,(i,u)=>{r(t(),i,c.event,a)})}),n=(s,r)=>{_n.getState(s).get().each(a=>{r(a,s)})};return[...H8(o,e),o(Dr,(s,r,a)=>{r.onAction(s,{name:a.name})})]},$8=(t,e,o)=>{const n=(r,a)=>I(r,(c,i)=>{s(c,(u,m)=>{a(t(),u,i.event,c)})}),s=(r,a)=>{_n.getState(r).get().each(c=>{a(c.internalDialog,r)})};return[...H8(n,e),n(cd,(r,a)=>a.onSubmit(r)),n(rn,(r,a,c)=>{a.onChange(r,{name:c.name})}),n(Dr,(r,a,c,i)=>{const u=()=>i.getSystem().isConnected()?ot.focusIn(i):void 0,m=v=>e1(v,"disabled")||Ye(v,"aria-disabled").exists(y=>y==="true"),g=Oo(i.element),p=hs(g);a.onAction(r,{name:c.name,value:c.value}),hs(g).fold(u,v=>{m(v)||p.exists(y=>Di(v,y)&&m(y))?u():o().toOptional().filter(y=>!Di(y.element,v)).each(u)})}),n($S,(r,a,c)=>{a.onTabChange(r,{newTabName:c.name,oldTabName:c.oldName})}),Qs(r=>{const a=t();q.setValue(r,a.getData())})]},GG=(t,e)=>dh(t,t.type,e),jG=(t,e,o)=>le(e,n=>n.name===o).bind(n=>n.memento.getOpt(t)),YG=(t,e)=>{const o=e.map(c=>c.footerButtons).getOr([]),n=nc(o,c=>c.align==="start"),s=(c,i)=>or.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${c}`]},components:Y(i,u=>u.memento.asSpec())}),r=s("start",n.pass),a=s("end",n.fail);return[r,a]},F8=(t,e,o)=>{const n=(s,r)=>{const a=Y(r.buttons,i=>{const u=Ut(GG(i,o));return{name:i.name,align:i.align,memento:u}}),c=i=>jG(s,a,i);return d.some({lookupByName:c,footerButtons:a})};return{dom:sa('<div class="tox-dialog__footer"></div>'),components:[],behaviours:P([_n.config({channel:`${KS}-${e}`,initialData:t,updateState:n,renderComponents:YG})])}},XG=(t,e,o)=>F8(t,e,o),I8=(t,e,o)=>Je.parts.footer(F8(t,e,o)),Eh=(t,e)=>{if(t.getRoot().getSystem().isConnected()){const n=$t.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return nl.getField(n,e).orThunk(()=>t.getFooter().bind(a=>_n.getState(a).get()).bind(a=>a.lookupByName(e)))}else return d.none()},KG=(t,e)=>{const o=t.getRoot();return _n.getState(o).get().map(n=>bs(we("data",n.dataValidator,e))).getOr(e)},V8=(t,e,o)=>{const n=y=>{const w=t.getRoot();w.getSystem().isConnected()&&y(w)},v={getData:()=>{const y=t.getRoot(),w=y.getSystem().isConnected()?t.getFormWrapper():y,T=q.getValue(w),x=He(o,M=>M.get());return{...T,...x}},setData:y=>{n(w=>{const T=v.getData(),x=ae(T,y),M=KG(t,x),O=t.getFormWrapper();q.setValue(O,M),Ue(o,(D,$)=>{Lt(x,$)&&D.set(x[$])})})},setEnabled:(y,w)=>{Eh(t,y).each(w?et.enable:et.disable)},focus:y=>{Eh(t,y).each(mt.focus)},block:y=>{if(!Zt(y))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(w=>{ct(w,jf,{message:y})})},unblock:()=>{n(y=>{Dt(y,Yf)})},showTab:y=>{n(w=>{const T=t.getBody();_n.getState(T).get().exists(M=>M.isTabPanel())&&$t.getCurrent(T).each(M=>{al.showTab(M,y)})})},redial:y=>{n(w=>{const T=t.getId(),x=e(y),M=P2(x.internalDialog.buttons,o);w.getSystem().broadcastOn([`${rh}-${T}`],x),w.getSystem().broadcastOn([`${YS}-${T}`],x.internalDialog),w.getSystem().broadcastOn([`${XS}-${T}`],x.internalDialog),w.getSystem().broadcastOn([`${KS}-${T}`],{...x.internalDialog,buttons:M}),v.setData(x.initialData)})},close:()=>{n(y=>{Dt(y,ad)})},toggleFullscreen:t.toggleFullscreen};return v},qG=(t,e,o)=>{const n=K("dialog"),s=t.internalDialog,r=T8(s.title,n,o),a=st(s.size),c=O=>Eh(x,O),i=kh(a.get()).toArray(),u=(O,D)=>(a.set(D.internalDialog.size),k8(D.internalDialog.size,O),d.some(D)),m=zG({body:s.body,initialData:s.initialData},n,o,c),g=P2(s.buttons),p=D8(g),v=No(g.length!==0,I8({buttons:g},n,o)),y=$8(()=>M,M8(()=>T,o.shared.providers,e),o.shared.getSink),w={id:n,header:r,body:m,footer:v,extraClasses:i,extraBehaviours:[_n.config({channel:`${rh}-${n}`,updateState:u,initialData:t})],extraStyles:{}},T=A8(w,y,o),x=(()=>{const O=()=>{const $=Je.getBody(T);return $t.getCurrent($).getOr($)},D=()=>{E8(T,a.get())};return{getId:E(n),getRoot:E(T),getBody:()=>Je.getBody(T),getFooter:()=>Je.getFooter(T),getFormWrapper:O,toggleFullscreen:D}})(),M=V8(x,e.redial,p);return{dialog:T,instanceApi:M}},L8=(t,e,o,n=!1,s)=>{const r=K("dialog"),a=K("dialog-label"),c=K("dialog-content"),i=t.internalDialog,u=X=>Eh(R,X),m=st(i.size),g=kh(m.get()).toArray(),p=(X,at)=>(m.set(at.internalDialog.size),k8(at.internalDialog.size,X),s(),d.some(at)),v=Ut(NG({title:i.title,draggable:!0},r,a,o.shared.providers)),y=Ut(RG({body:i.body,initialData:i.initialData},r,c,o,n,u)),w=P2(i.buttons),T=D8(w),x=No(w.length!==0,Ut(XG({buttons:w},r,o))),M=$8(()=>F,{onBlock:X=>{er.block($,(at,tt)=>{const Ot=v.getOpt($).map(ht=>Ht(ht.element));return _8(X.message,tt,o.shared.providers,Ot)})},onUnblock:()=>{er.unblock($)},onClose:()=>e.closeWindow()},o.shared.getSink),O="tox-dialog-inline",D=Jn().os,$=Ao({dom:{tag:"div",classes:["tox-dialog",O,...g],attributes:{role:"dialog",...D.isMacOS()?{"aria-label":i.title}:{"aria-labelledby":a}}},eventOrder:{[Dc()]:[_n.name(),Tn.name()],[zn()]:["execute-on-form"],[qs()]:["reflecting","execute-on-form"]},behaviours:P([ot.config({mode:"cyclic",onEscape:X=>(Dt(X,ad),d.some(!0)),useTabstopAt:X=>!id(X)&&(Gs(X)!=="button"||je(X,"disabled")!=="disabled"),firstTabstop:1}),_n.config({channel:`${rh}-${r}`,updateState:p,initialData:t}),mt.config({}),ft("execute-on-form",M.concat([qi(Ss(),(X,at)=>{ot.focusIn(X)}),I(O1(),(X,at)=>{X.getSystem().broadcastOn([ah],{newFocus:at.event.newFocus})})])),er.config({getRoot:()=>d.some($)}),vt.config({}),sh({})]),components:[v.asSpec(),y.asSpec(),...x.map(X=>X.asSpec()).toArray()]}),G=()=>{E8($,m.get())},R={getId:E(r),getRoot:E($),getFooter:()=>x.map(X=>X.get($)),getBody:()=>y.get($),getFormWrapper:()=>{const X=y.get($);return $t.getCurrent(X).getOr(X)},toggleFullscreen:G},F=V8(R,e.redial,T);return{dialog:$,instanceApi:F}};var Z2=tinymce.util.Tools.resolve("tinymce.util.URI");const JG=t=>{const e=a=>{t.getSystem().isConnected()&&a(t)};return{block:a=>{if(!Zt(a))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(c=>{ct(c,jf,{message:a})})},unblock:()=>{e(a=>{Dt(a,Yf)})},close:()=>{e(a=>{Dt(a,ad)})},sendMessage:a=>{e(c=>{c.getSystem().broadcastOn([qS],a)})}}},QG=["insertContent","setContent","execCommand","close","block","unblock"],B8=t=>Dn(t)&&QG.indexOf(t.mceAction)!==-1,tj=t=>!B8(t)&&Dn(t)&&Lt(t,"mceAction"),ej=(t,e,o)=>{switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":const n=Xo(o.ui)?o.ui:!1;t.execCommand(o.cmd,n,o.value);break;case"close":e.close();break;case"block":e.block(o.message);break;case"unblock":e.unblock();break}},oj=(t,e,o,n)=>{const s=K("dialog"),r=T8(t.title,s,n),a=PG(t),c=t.buttons.bind(O=>O.length===0?d.none():d.some(I8({buttons:O},s,n))),i=WG(()=>M,M8(()=>x,n.shared.providers,e)),u={...t.height.fold(()=>({}),O=>({height:O+"px","max-height":O+"px"})),...t.width.fold(()=>({}),O=>({width:O+"px","max-width":O+"px"}))},m=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],g=new Z2(t.url,{base_uri:new Z2(window.location.href)}),p=`${g.protocol}://${g.host}${g.port?":"+g.port:""}`,v=br(),y=(O,D)=>d.some(D),w=[_n.config({channel:`${rh}-${s}`,updateState:y,initialData:t}),ft("messages",[ie(()=>{const O=vo(j.fromDom(window),"message",D=>{if(g.isSameOrigin(new Z2(D.raw.origin))){const $=D.raw.data;B8($)?ej(o,M,$):tj($)&&t.onMessage(M,$)}});v.set(O)}),Qs(v.clear)]),Tn.config({channels:{[qS]:{onReceive:(O,D)=>{te(O.element,"iframe").each($=>{const G=$.dom.contentWindow;xe(G)&&G.postMessage(D,p)})}}}})],x=A8({id:s,header:r,body:a,footer:c,extraClasses:m,extraBehaviours:w,extraStyles:u},i,n),M=JG(x);return{dialog:x,instanceApi:M}},nj=t=>{const e=t.shared;return{open:(n,s)=>{const r=()=>{Je.hide(u),s()},a=Ut(dh({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:d.some("primary"),align:"end",enabled:!0,icon:d.none()},"cancel",t)),c=v8(),i=f8(r,e.providers),u=Ao(B2({lazySink:()=>e.getSink(),header:p8(c,i),body:b8(n,e.providers),footer:d.some(y8(x8([],[a.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[I(Ja,r)],eventOrder:{}}));Je.show(u);const m=a.get(u);mt.focus(m)}}},sj=t=>{const e=t.shared;return{open:(n,s)=>{const r=p=>{Je.hide(m),s(p)},a=Ut(dh({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:d.some("primary"),align:"end",enabled:!0,icon:d.none()},"submit",t)),c=dh({context:"any",name:"no",text:"No",primary:!1,buttonType:d.some("secondary"),align:"end",enabled:!0,icon:d.none()},"cancel",t),i=v8(),u=f8(()=>r(!1),e.providers),m=Ao(B2({lazySink:()=>e.getSink(),header:p8(i,u),body:b8(n,e.providers),footer:d.some(y8(x8([],[c,a.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[I(Ja,()=>r(!1)),I(cd,()=>r(!0))],eventOrder:{}}));Je.show(m);const g=a.get(m);mt.focus(g)}}},R8=(t,e)=>bs(we("data",e,t)),z8=t=>lu(t,".tox-alert-dialog")||lu(t,".tox-confirm-dialog"),rj=(t,e,o,n)=>e&&o?[]:[pe.config({contextual:{lazyContext:()=>d.some(mo(j.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:n},modes:["top"],lazyViewport:s=>Ga(t,s.element).map(a=>({bounds:Kc(a),optScrollEnv:d.some({currentScrollTop:a.element.dom.scrollTop,scrollElmTop:ps(a.element).top})})).getOrThunk(()=>({bounds:Vo(),optScrollEnv:d.none()}))})],aj=t=>{const e=t.editor,o=ul(e),n=nj(t.backstages.dialog),s=sj(t.backstages.dialog),r=(y,w,T)=>{if(!dn(w)){if(w.inline==="toolbar")return u(y,t.backstages.popup.shared.anchors.inlineDialog(),T,w);if(w.inline==="bottom")return m(y,t.backstages.popup.shared.anchors.inlineBottomDialog(),T,w);if(w.inline==="cursor")return u(y,t.backstages.popup.shared.anchors.cursor(),T,w)}return i(y,T)},a=(y,w)=>c(y,w),c=(y,w)=>{const T=x=>{const M=oj(x,{closeWindow:()=>{Je.hide(M.dialog),w(M.instanceApi)}},e,t.backstages.dialog);return Je.show(M.dialog),M.instanceApi};return oi.openUrl(T,y)},i=(y,w)=>{const T=(x,M,O)=>{const D=M,G=qG({dataValidator:O,initialData:D,internalDialog:x},{redial:oi.redial,closeWindow:()=>{Je.hide(G.dialog),w(G.instanceApi)}},t.backstages.dialog);return Je.show(G.dialog),G.instanceApi.setData(D),G.instanceApi};return oi.open(T,y)},u=(y,w,T,x)=>{const M=(O,D,$)=>{const G=R8(D,$),R=Kt(),F=t.backstages.popup.shared.header.isPositionedAtTop(),X={dataValidator:$,initialData:G,internalDialog:O},at=()=>R.on(L=>{be.reposition(L),(!o||!F)&&pe.refresh(L)}),tt=L8(X,{redial:oi.redial,closeWindow:()=>{R.on(be.hide),e.off("ResizeEditor",at),e.off("ScrollWindow",Ot),R.clear(),T(tt.instanceApi)}},t.backstages.popup,x.ariaAttrs,at),Ot=()=>tt.dialog.getSystem().broadcastOn([Pa()],{target:tt.dialog.element}),ht=()=>tt.dialog.getSystem().broadcastOn([ra()],{target:tt.dialog.element}),yt=Ao(be.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:x.persistent?{event:"doNotDismissYet"}:{},...F?{}:{fireRepositionEventInstead:{}},inlineBehaviours:P([ft("window-manager-inline-events",[I(Hc(),(L,Z)=>{Dt(tt.dialog,Ja)})]),...rj(e,o,F,ht)]),isExtraPart:(L,Z)=>z8(Z)}));R.set(yt);const Q=()=>{const L=e.inline?Sr():j.fromDom(e.getContainer()),Z=mo(L);return d.some(Z)};return be.showWithinBounds(yt,Zn(tt.dialog),{anchor:w},Q),(!o||!F)&&(pe.refresh(yt),e.on("ResizeEditor",at)),e.on("ScrollWindow",Ot),tt.instanceApi.setData(G),ot.focusIn(tt.dialog),tt.instanceApi};return oi.open(M,y)},m=(y,w,T,x)=>{const M=(O,D,$)=>{const G=R8(D,$),R=Kt(),F=t.backstages.popup.shared.header.isPositionedAtTop(),X={dataValidator:$,initialData:G,internalDialog:O},at=()=>R.on(yt=>{be.reposition(yt),pe.refresh(yt)}),tt=L8(X,{redial:oi.redial,closeWindow:()=>{R.on(be.hide),e.off("ResizeEditor ScrollWindow ElementScroll",at),R.clear(),T(tt.instanceApi)}},t.backstages.popup,x.ariaAttrs,at),Ot=Ao(be.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:x.persistent?{event:"doNotDismissYet"}:{},...F?{}:{fireRepositionEventInstead:{}},inlineBehaviours:P([ft("window-manager-inline-events",[I(Hc(),(yt,Q)=>{Dt(tt.dialog,Ja)})]),pe.config({contextual:{lazyContext:()=>d.some(mo(j.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:yt=>Ga(e,yt.element).map(L=>({bounds:Kc(L),optScrollEnv:d.some({currentScrollTop:L.element.dom.scrollTop,scrollElmTop:ps(L.element).top})})).getOrThunk(()=>({bounds:Vo(),optScrollEnv:d.none()}))})]),isExtraPart:(yt,Q)=>z8(Q)}));R.set(Ot);const ht=()=>t.backstages.popup.shared.getSink().toOptional().bind(yt=>{const Q=Ga(e,yt.element),L=15,Z=Q.map(nt=>Kc(nt)).getOr(Vo()),lt=mo(j.fromDom(e.getContentAreaContainer())),xt=yg(lt,Z);return d.some(uo(xt.x,xt.y,xt.width,xt.height-L))});return be.showWithinBounds(Ot,Zn(tt.dialog),{anchor:w},ht),pe.refresh(Ot),e.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",at),tt.instanceApi.setData(G),ot.focusIn(tt.dialog),tt.instanceApi};return oi.open(M,y)};return{open:r,openUrl:a,alert:(y,w)=>{n.open(y,w)},close:y=>{y.close()},confirm:(y,w)=>{s.open(y,w)}}},cj=t=>{cx(t),cR(t),QW(t)};var ij=()=>{SF.add("silver",t=>{cj(t);let e=()=>Vo();const{dialogs:o,popups:n,renderUI:s}=DG(t,{getPopupSinkBounds:()=>e()}),r=()=>{const m=s();return Ga(t,n.getMothership().element).each(p=>{e=()=>Kc(p)}),m};JR.register(t,n.backstage.shared);const a=aj({editor:t,backstages:{popup:n.backstage,dialog:o.backstage}}),c=Kt(),i=()=>oI(t,{backstage:n.backstage},n.getMothership(),c),u=()=>te(j.fromDom(t.getContainer()),".tox-promotion").map(m=>m.dom).getOrNull();return{renderUI:r,getWindowManagerImpl:E(a),getNotificationManagerImpl:i,getPromotionElement:u}})};ij()})();
