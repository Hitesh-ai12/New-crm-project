import{a as p}from"./axios-CdtiCRuU.js";import{S as i}from"./sweetalert2.all-DyJFIm0t.js";import{_ as u,l as a,bP as d,j as o,aG as f,P as m,L as s,d6 as l,Z as g,F as v,Y as h,X as b,o as n,k as y}from"./main-FuKp66C3.js";import"./_commonjsHelpers-BosuxZz1.js";const S={data(){return{userRole:null,form:{first_name:"",email1:"",email2:"",email3:"",phone1:"",phone2:"",phone3:"",password:"",role:""},roles:[{value:"superadmin",label:"Superadmin"},{value:"admin",label:"Admin"},{value:"user",label:"User"},{value:"custom",label:"Custom"}]}},computed:{filteredRoles(){return this.userRole==="superadmin"?this.roles.filter(r=>r.value==="admin"):this.userRole==="admin"?[]:[]},showRoleField(){return this.userRole==="superadmin"}},methods:{async fetchUserRole(){try{const r=localStorage.getItem("auth_token");if(!r){i.fire({icon:"error",title:"Unauthorized",text:"No authentication token found. Please log in again."});return}const e=await p.get("/api/get-role",{headers:{Authorization:`Bearer ${r}`,Accept:"application/json"}});this.userRole=e.data.role}catch(r){console.error("Error fetching user role:",r),i.fire({icon:"error",title:"Error",text:"Failed to fetch user role. Please try again."})}},async handleSubmit(){try{const r=await p.post("/api/form-submit",this.form,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,Accept:"application/json"}});i.fire({icon:"success",title:"Form submitted successfully!",text:"Your data has been successfully saved."})}catch{i.fire({icon:"error",title:"Error",text:"There was an error submitting the form. Please try again."})}}},mounted(){this.fetchUserRole()}},w={...S},V={class:"container"},R={class:"form-container"},P={class:"form-grid"},U={class:"form-group"},k={class:"form-group"},E={class:"form-group"},z={class:"form-group"},A={class:"form-group"},F={class:"form-group"},N={class:"form-group"},$={class:"form-group"},j={key:0,class:"form-group"},q=["value"];function B(r,e,C,I,M,T){return n(),a("div",V,[e[20]||(e[20]=d('<div class="card"><img src="https://supervisa4u.com/wp-content/uploads/2024/07/form-pic.png" alt="Profile Image" class="profile-image"><h3>SuperVisa4u</h3><p><strong>Company Name:</strong> SuperVisa4u</p><p><strong>Website:</strong> <a href="https://supervisa4u.com" target="_blank">supervisa4u.com</a></p><p><strong>Email:</strong> <a href="mailto:info@supervisa4u.com">info@supervisa4u.com</a></p><p><strong>Revenue:</strong> 0/5000 per month</p><p><strong>Alternate Email:</strong> <a href="mailto:info@Supervisa4u.com">info@Supervisa4u.com</a></p><p><strong>Contact Email:</strong> <a href="mailto:jazz.chaggar@gmail.com">jazz.chaggar@gmail.com</a></p><p><strong>Phone:</strong> +18737102623</p><p><strong>Revenue:</strong> 0/500 per month</p><p><strong>Additional Phone:</strong> 4165531010</p></div>',1)),o("div",R,[o("form",{onSubmit:e[9]||(e[9]=f((...t)=>r.handleSubmit&&r.handleSubmit(...t),["prevent"]))},[o("div",P,[o("div",U,[e[10]||(e[10]=o("label",{for:"first_name"},[m("First Name "),o("span",{style:{color:"red"}},"*")],-1)),s(o("input",{type:"text",id:"first_name","onUpdate:modelValue":e[0]||(e[0]=t=>r.form.first_name=t),required:""},null,512),[[l,r.form.first_name]])]),o("div",k,[e[11]||(e[11]=o("label",{for:"email1"},[m("Email 1 "),o("span",{style:{color:"red"}},"*")],-1)),s(o("input",{type:"email",id:"email1","onUpdate:modelValue":e[1]||(e[1]=t=>r.form.email1=t),required:""},null,512),[[l,r.form.email1]])]),o("div",E,[e[12]||(e[12]=o("label",{for:"email2"},"Email 2",-1)),s(o("input",{type:"email",id:"email2","onUpdate:modelValue":e[2]||(e[2]=t=>r.form.email2=t)},null,512),[[l,r.form.email2]])]),o("div",z,[e[13]||(e[13]=o("label",{for:"email3"},"Email 3",-1)),s(o("input",{type:"email",id:"email3","onUpdate:modelValue":e[3]||(e[3]=t=>r.form.email3=t)},null,512),[[l,r.form.email3]])]),o("div",A,[e[14]||(e[14]=o("label",{for:"phone1"},[m("Phone 1 "),o("span",{style:{color:"red"}},"*")],-1)),s(o("input",{type:"tel",id:"phone1","onUpdate:modelValue":e[4]||(e[4]=t=>r.form.phone1=t),required:""},null,512),[[l,r.form.phone1]])]),o("div",F,[e[15]||(e[15]=o("label",{for:"phone2"},"Phone 2",-1)),s(o("input",{type:"tel",id:"phone2","onUpdate:modelValue":e[5]||(e[5]=t=>r.form.phone2=t)},null,512),[[l,r.form.phone2]])]),o("div",N,[e[16]||(e[16]=o("label",{for:"phone3"},"Phone 3",-1)),s(o("input",{type:"tel",id:"phone3","onUpdate:modelValue":e[6]||(e[6]=t=>r.form.phone3=t)},null,512),[[l,r.form.phone3]])]),o("div",$,[e[17]||(e[17]=o("label",{for:"password"},"Password",-1)),s(o("input",{type:"password",id:"password","onUpdate:modelValue":e[7]||(e[7]=t=>r.form.password=t),required:""},null,512),[[l,r.form.password]])]),r.showRoleField?(n(),a("div",j,[e[18]||(e[18]=o("label",{for:"role"},"Role",-1)),s(o("select",{id:"role","onUpdate:modelValue":e[8]||(e[8]=t=>r.form.role=t),required:""},[(n(!0),a(v,null,h(r.filteredRoles,t=>(n(),a("option",{key:t.value,value:t.value},y(t.label),9,q))),128))],512),[[g,r.form.role]])])):b("",!0)]),e[19]||(e[19]=o("button",{type:"submit"},"Submit",-1))],32)])])}const W=u(w,[["render",B]]);export{W as default};
