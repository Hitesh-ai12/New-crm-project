import{_ as ye,r as u,b as G,S as he,m as s,k as t,Q as T,M as y,bp as x,F as j,$ as E,l as i,a0 as c,n as C,Z as R,j as ee,u as te,aw as _e,o}from"./main-Bq4JhgZc.js";import{E as le}from"./Editor-B3df31Aw.js";import{a as f}from"./axios-CdtiCRuU.js";import"./bootstrap.min-KxrJAQL6.js";import{S as r}from"./sweetalert2.all-CaToW68q.js";const Ce={class:"container py-4"},we={class:"d-flex justify-content-between align-items-center mb-4"},ke={key:0,class:"table-responsive"},xe={class:"table table-bordered table-hover"},Fe=["onClick"],Te=["onClick"],je=["onClick"],Ee={key:0,class:"d-flex justify-content-between align-items-center mt-2"},$e=["disabled"],Se=["disabled"],Be={key:1},Me={class:"d-flex align-items-center mb-3"},Pe={class:"list-group"},Ve={key:0,class:"list-group-item text-muted fst-italic"},Ae={key:1,class:"table-auto w-full border text-left"},De={class:"p-2"},Ne={class:"p-2"},Ue={class:"p-2"},Ie=["innerHTML"],Le={class:"p-2"},ze={class:"p-2"},Xe=["href"],Ge={key:1},qe={class:"p-2"},Oe={class:"p-2 flex gap-2"},Je=["onClick"],Ke=["onClick"],He={key:2,class:"modal fade show d-block",tabindex:"-1"},Ye={class:"modal-dialog"},Qe={class:"modal-content"},We={class:"modal-header"},Ze={class:"modal-body"},Re={class:"modal-footer"},et={key:3,class:"modal fade show d-block",tabindex:"-1"},tt={class:"modal-dialog"},lt={class:"modal-content"},at={class:"modal-header"},st={class:"modal-body"},ot={class:"modal-footer"},nt={key:4,class:"modal fade show d-block",tabindex:"-1"},it={class:"modal-dialog modal-xl"},dt={class:"modal-content"},rt={class:"modal-header"},ut={class:"modal-body"},ct={class:"row g-3"},mt={class:"col-md-6"},vt={key:0,class:"text-danger small mt-1"},pt={class:"col-md-6"},ft={class:"input-group"},bt=["value"],gt={key:0,class:"text-danger small mt-1"},yt={class:"col-12"},ht={class:"input-group"},_t=["value"],Ct={key:0,class:"text-danger small mt-1"},wt={class:"col-12"},kt={key:0,class:"text-danger small mt-1"},xt={class:"col-12"},Ft={key:0,class:"text-danger small mt-1"},Tt={class:"modal-footer"},jt={key:5,class:"modal fade show d-block",tabindex:"-1"},Et={class:"modal-dialog modal-xl"},$t={class:"modal-content"},St={class:"modal-body"},Bt={class:"row g-3"},Mt={class:"col-md-6"},Pt={key:0,class:"text-danger small mt-1"},Vt={class:"col-md-6"},At={class:"input-group"},Dt=["value"],Nt={key:0,class:"text-danger small mt-1"},Ut={class:"col-12"},It={class:"input-group"},Lt=["value"],zt={key:0,class:"text-danger small mt-1"},Xt={class:"col-12"},Gt={key:0,class:"text-danger small mt-1"},qt={class:"col-12"},Ot={key:0,class:"text-danger small mt-1"},U=10,Jt={__name:"CreateEmailTemplates",setup(Kt){const F=u("folders"),g=u(null),q=u(!1),$=u(!1),b=u([]),M=u([]),P=u(null),I=u(""),O=u([]),S=u(!1),B=u(!1),w=u({name:""}),d=u({title:"",folder_id:"",subject:"",content:"",attachment:null,signature_template_id:""}),J={height:300,menubar:!1,plugins:"link lists image code",toolbar:"undo redo | formatselect | bold italic underline | alignleft aligncenter alignright | bullist numlist outdent indent | image link code | mergefields signatures",branding:!1,resize:!0,automatic_uploads:!0,images_upload_handler:a=>new Promise((e,l)=>{const n=a.blob();if(n.size>51200){l("Image size must be less than 50KB");return}const k=new FormData;k.append("file",n,a.filename()),f.post("/api/upload-image",k).then(_=>{_.data&&_.data.url?e(_.data.url):l("Upload failed: Invalid response")}).catch(()=>{l("Image upload failed")})}),setup(a){a.ui.registry.addMenuButton("mergefields",{text:"Merge Fields",fetch(e){const l=X.map(n=>({type:"menuitem",text:n,onAction:()=>{a.insertContent(`{{${n}}}`)}}));e(l)}}),a.ui.registry.addMenuButton("signatures",{text:"Signatures",fetch(e){const l=O.value.map(n=>({type:"menuitem",text:n.title,onAction:()=>{const k=n.content||"",_=n.attachment?`<p><a href="${n.attachment}" target="_blank">ðŸ“Ž Attachment</a></p>`:"",N=`<div class="email-signature-block">${k}${_}</div>`,ge=a.getContent().replace(/<div class="email-signature-block">[\s\S]*?<\/div>/,"");a.setContent(ge+N),a.selection.select(a.getBody(),!0),a.selection.collapse(!1)}}));e(l)}})}},K=localStorage.getItem("auth_token");K&&(f.defaults.headers.common.Authorization=`Bearer ${K}`),f.defaults.headers.common.Accept="application/json";const ae=async()=>{try{const a=await f.get("/api/signature-templates-email/email");O.value=a.data}catch{}},L=G(()=>b.value.filter(a=>a.name.toLowerCase().includes(I.value.toLowerCase()))),H=async()=>{try{const a=await f.get("/api/folders?type=email");b.value=a.data}catch{r.fire("Error","Failed to load folders","error")}},V=async a=>{try{const e=await f.get(`/api/folders/${a}/templates`);M.value=e.data;const l=b.value.find(n=>n.id===a);g.value=l,P.value=a,F.value="folder-view"}catch{r.fire("Error","Could not load templates for this folder","error")}},se=async()=>{if(!w.value.name.trim()){r.fire("Error","Folder name is required","error");return}if(b.value.some(e=>e.name.trim().toLowerCase()===w.value.name.trim().toLowerCase())){r.fire("Warning","A folder with this name already exists.","warning");return}try{const e=await f.post("/api/folders",{name:w.value.name,type:"email"});b.value.push(e.data.folder),S.value=!1,w.value.name="",r.fire("Success","Folder created successfully.","success")}catch{r.fire("Error","Could not create folder","error")}},Y=a=>{const e=a.target.files[0];if(!e)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","text/plain","image/jpeg","image/png","image/jpg"].includes(e.type)){r.fire("Invalid File","Allowed file types: PDF, DOC, DOCX, TXT, JPG, PNG, XLS","warning"),a.target.value="";return}if(e.size>300*1024){r.fire("File Too Large","Max allowed size is 300KB.","warning"),a.target.value="";return}d.value.attachment=e},oe=async()=>{if(W(d.value))try{const a=new FormData;a.append("title",d.value.title),a.append("folder_id",d.value.folder_id),a.append("subject",d.value.subject),a.append("content",d.value.content),a.append("type","email"),a.append("signature_template_id",d.value.signature_template_id),d.value.attachment&&a.append("attachment",d.value.attachment),await f.post("/api/templates",a),d.value={title:"",folder_id:"",subject:"",content:"",attachment:null},$.value=!1,await(F.value==="folder-view"?V(P.value):H()),r.fire("Success","Email template saved.","success")}catch{r.fire("Error","Could not save template","error")}},h=u(1),z=G(()=>Math.ceil(L.value.length/U)),ne=G(()=>{const a=(h.value-1)*U,e=a+U;return L.value.slice(a,e)}),ie=()=>{h.value<z.value&&h.value++},de=()=>{h.value>1&&h.value--},A=u(!1),D=u(null),v=u({title:"",subject:"",content:"",type:"email",attachment:null}),re=a=>{A.value=!0,D.value=a.id,v.value={title:a.title,subject:a.subject,content:a.content,folder_id:a.folder_id,type:a.type,attachment:null}},p=u({}),ue=async()=>{if(p.value={},!!W(v.value,p))try{const a=new FormData;a.append("title",v.value.title),a.append("subject",v.value.subject),a.append("content",v.value.content),a.append("type","email"),a.append("folder_id",v.value.folder_id),v.value.attachment&&a.append("attachment",v.value.attachment),await f.post(`/api/email-templates/${D.value}?_method=PUT`,a,{headers:{"Content-Type":"multipart/form-data"}}),A.value=!1,D.value=null,await V(P.value),r.fire("Updated!","Template updated successfully.","success")}catch{r.fire("Error!","Could not update template.","error")}},ce=()=>{d.value={title:"",folder_id:"",subject:"",content:"",attachment:null};const a=document.getElementById("new-template-attachment");a&&(a.value="")},Q=()=>{A.value=!1,D.value=null,ce()},me=async a=>{if((await r.fire({title:"Are you sure?",text:"This will permanently delete the template.",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await f.delete(`/api/templates/${a}`),await V(P.value),r.fire("Deleted!","Template has been deleted.","success")}catch{r.fire("Error!","Failed to delete template.","error")}},X=["first_name","last_name","email","phone","city","zip_code","province","street","house_number","tag","stage","created_at"],m=u({}),W=(a,e=m)=>{e.value={};let l=null;if(a.folder_id||(e.value.folder_id="Please select a folder.",l=l||"folder_id"),a.title.trim()||(e.value.title="Title is required.",l=l||"title"),a.subject.trim()||(e.value.subject="Subject is required.",l=l||"subject"),a.content.trim()||(e.value.content="Content is required.",l=l||"content"),a.attachment){const n=a.attachment;["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","text/plain","image/jpeg","image/png","image/jpg"].includes(n.type)||(e.value.attachment="Invalid file type.",l=l||"attachment"),n.size>300*1024&&(e.value.attachment="File size must be less than 300KB.",l=l||"attachment")}return l?(setTimeout(()=>{const n=document.getElementById(l);n&&n.focus()},0),!1):!0},Z=(a,e)=>{if(!a||!e)return;const l=`{{${a}}}`,n=e.selectionStart,k=e.selectionEnd,_=d.value.subject;d.value.subject=_.slice(0,n)+l+_.slice(k),_e(()=>{e.focus();const N=n+l.length;e.setSelectionRange(N,N)})},ve=a=>{r.fire({title:"Are you sure?",text:"This folder and all its templates will be deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel"}).then(async e=>{if(e.isConfirmed)try{await f.delete(`/api/folders/${a}`),b.value=b.value.filter(l=>l.id!==a),r.fire("Deleted!","The folder and its templates have been deleted.","success")}catch{r.fire("Error","Could not delete the folder.","error")}else r.fire("Cancelled","The folder is safe :)","info")})},pe=async()=>{if(!g.value.name.trim()){r.fire("Error","Folder name is required","error");return}try{const a=await f.put(`/api/folders/${g.value.id}`,{name:g.value.name}),e=b.value.findIndex(l=>l.id===g.value.id);e!==-1&&(b.value[e]=a.data.folder),B.value=!1,g.value=null,r.fire("Success","Folder updated successfully.","success")}catch{r.fire("Error","Could not update folder","error")}},fe=()=>{w.value.name="",S.value=!0},be=a=>{g.value={...a},B.value=!0};return he(()=>{H(),ae()}),(a,e)=>(o(),s("div",Ce,[t("div",we,[e[25]||(e[25]=t("h2",null,"Email Templates",-1)),t("div",null,[t("button",{onClick:fe,class:"btn btn-success"},e[23]||(e[23]=[t("i",{class:"fas fa-plus me-1"},null,-1),T(" Create Folder")])),t("button",{onClick:e[0]||(e[0]=l=>$.value=!0),class:"btn btn-success"},e[24]||(e[24]=[t("i",{class:"fas fa-file-alt me-1"},null,-1),T(" Add Email Template ")]))])]),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>I.value=l),type:"text",class:"form-control mb-3",placeholder:"Search by folder name"},null,512),[[x,I.value]]),F.value==="folders"?(o(),s("div",ke,[t("table",xe,[e[28]||(e[28]=t("thead",{class:"table-light"},[t("tr",null,[t("th",null,"Name"),t("th",null,"Templates"),t("th",null,"Created By"),t("th",null,"Action")])],-1)),t("tbody",null,[(o(!0),s(j,null,E(ne.value,l=>(o(),s("tr",{key:l.id},[t("td",{onClick:n=>V(l.id),class:"cursor-pointer"},[e[26]||(e[26]=t("i",{class:"fas fa-folder text-warning me-2"},null,-1)),T(i(l.name),1)],8,Fe),t("td",null,i(l.template_count),1),t("td",null,i(l.created_by_name),1),t("td",null,[t("button",{onClick:n=>be(l),class:"btn btn-warning"},"Edit",8,Te),t("button",{onClick:n=>ve(l.id),class:"bg-red-600 text-white px-2 py-1 rounded"},e[27]||(e[27]=[t("i",{class:"fas fa-trash"},null,-1),T(" Delete ")]),8,je)])]))),128))])]),L.value.length>U?(o(),s("div",Ee,[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:de,disabled:h.value===1},"Previous",8,$e),t("span",null,"Page "+i(h.value)+" of "+i(z.value),1),t("button",{class:"btn btn-sm btn-outline-secondary",onClick:ie,disabled:h.value===z.value},"Next",8,Se)])):c("",!0)])):F.value==="folder-view"?(o(),s("div",Be,[F.value==="folder-view"?(o(),s("button",{key:0,onClick:e[2]||(e[2]=l=>F.value="folders"),class:"btn btn-secondary mb-3"},e[29]||(e[29]=[t("i",{class:"fas fa-arrow-left me-1"},null,-1),T(" Back to Folders ")]))):c("",!0),t("h3",Me,[e[30]||(e[30]=t("i",{class:"fas fa-folder text-warning me-2"},null,-1)),T(" "+i(g.value.name),1)]),t("ul",Pe,[M.value.length===0?(o(),s("li",Ve," No templates in this folder. ")):c("",!0),M.value.length>0?(o(),s("table",Ae,[e[34]||(e[34]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"p-2"},[t("input",{type:"checkbox"})]),t("th",{class:"p-2"},"Title"),t("th",{class:"p-2"},"Created By"),t("th",{class:"p-2"},"Subject"),t("th",{class:"p-2"},"Content"),t("th",{class:"p-2"},"Type"),t("th",{class:"p-2"},"Attachment"),t("th",{class:"p-2"},"Created At"),t("th",{class:"p-2"},"Action")])],-1)),t("tbody",null,[(o(!0),s(j,null,E(M.value,l=>(o(),s("tr",{key:l.id,class:"border-b hover:bg-gray-50"},[e[33]||(e[33]=t("td",{class:"p-2"},[t("input",{type:"checkbox"})],-1)),t("td",De,i(l.title),1),t("td",Ne,i(l.created_by),1),t("td",Ue,i(l.subject),1),t("td",{class:"p-2",innerHTML:l.content},null,8,Ie),t("td",Le,i(l.type),1),t("td",ze,[l.attachment_path?(o(),s("a",{key:0,href:`/storage/${l.attachment_path}`,target:"_blank",class:"text-blue-600 underline"}," View Attachment ",8,Xe)):(o(),s("span",Ge,"No Attachment"))]),t("td",qe,i(new Date(l.created_at).toLocaleString()),1),t("td",Oe,[e[32]||(e[32]=t("button",{class:"bg-red-600 text-white px-2 py-1 rounded"},[t("i",{class:"fas fa-eye"})],-1)),t("button",{class:"btn btn-sm btn-warning",onClick:n=>re(l)},"Edit",8,Je),t("button",{onClick:n=>me(l.id),class:"bg-red-600 text-white px-2 py-1 rounded"},e[31]||(e[31]=[t("i",{class:"fas fa-trash"},null,-1)]),8,Ke)])]))),128))])])):c("",!0)])])):c("",!0),S.value?(o(),s("div",He,[t("div",Ye,[t("div",Qe,[t("div",We,[e[35]||(e[35]=t("h5",{class:"modal-title"},"Create Folder",-1)),t("button",{type:"button",class:"btn-close",onClick:e[3]||(e[3]=l=>S.value=!1)})]),t("div",Ze,[e[36]||(e[36]=t("label",{class:"form-label"},"* Folder Name",-1)),y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>w.value.name=l),type:"text",class:"form-control",placeholder:"Enter folder name",required:""},null,512),[[x,w.value.name]])]),t("div",Re,[t("button",{class:"btn btn-secondary",onClick:e[5]||(e[5]=l=>S.value=!1)},"Cancel"),t("button",{class:"btn btn-primary",onClick:se}," Create Folder ")])])])])):c("",!0),B.value?(o(),s("div",et,[t("div",tt,[t("div",lt,[t("div",at,[e[37]||(e[37]=t("h5",{class:"modal-title"},"Edit Folder",-1)),t("button",{type:"button",class:"btn-close",onClick:e[6]||(e[6]=l=>B.value=!1)})]),t("div",st,[e[38]||(e[38]=t("label",{class:"form-label"},"* Folder Name",-1)),y(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>g.value.name=l),type:"text",class:"form-control",placeholder:"Enter new folder name",required:""},null,512),[[x,g.value.name]])]),t("div",ot,[t("button",{class:"btn btn-secondary",onClick:e[8]||(e[8]=l=>B.value=!1)},"Cancel"),t("button",{class:"btn btn-primary",onClick:pe}," Save Changes ")])])])])):c("",!0),$.value?(o(),s("div",nt,[t("div",it,[t("div",dt,[t("div",rt,[e[39]||(e[39]=t("h5",{class:"modal-title"},"Add Email Template",-1)),t("button",{type:"button",class:"btn-close",onClick:e[9]||(e[9]=l=>$.value=!1)})]),t("div",ut,[t("div",ct,[t("div",mt,[e[40]||(e[40]=t("label",{for:"title",class:"form-label"},"* Template Name",-1)),y(t("input",{id:"title","onUpdate:modelValue":e[10]||(e[10]=l=>d.value.title=l),type:"text",class:C(["form-control",{"is-invalid":m.value.title}]),placeholder:"Template Name"},null,2),[[x,d.value.title]]),m.value.title?(o(),s("div",vt,i(m.value.title),1)):c("",!0)]),t("div",pt,[e[42]||(e[42]=t("label",{for:"folder_id",class:"form-label"},"* Folder",-1)),t("div",ft,[y(t("select",{id:"folder_id","onUpdate:modelValue":e[11]||(e[11]=l=>d.value.folder_id=l),class:C(["form-select",{"is-invalid":m.value.folder_id}])},[e[41]||(e[41]=t("option",{value:""},"Choose Folder",-1)),(o(!0),s(j,null,E(b.value,l=>(o(),s("option",{key:l.id,value:l.id},i(l.name),9,bt))),128))],2),[[R,d.value.folder_id]]),t("button",{class:"btn btn-outline-success",type:"button",onClick:e[12]||(e[12]=l=>q.value=!0)},"+")]),m.value.folder_id?(o(),s("div",gt,i(m.value.folder_id),1)):c("",!0)]),t("div",yt,[e[44]||(e[44]=t("label",{for:"subject",class:"form-label"},"* Subject",-1)),t("div",ht,[y(t("input",{id:"subject",ref:"subjectInput","onUpdate:modelValue":e[13]||(e[13]=l=>d.value.subject=l),type:"text",class:C(["form-control",{"is-invalid":m.value.subject}]),placeholder:"Subject"},null,2),[[x,d.value.subject]]),t("select",{class:"form-select w-auto",onChange:e[14]||(e[14]=l=>Z(l.target.value,a.$refs.subjectInput))},[e[43]||(e[43]=t("option",{disabled:"",selected:""},"Merge Field",-1)),(o(),s(j,null,E(X,l=>t("option",{key:l,value:l},i(l),9,_t)),64))],32)]),m.value.subject?(o(),s("div",Ct,i(m.value.subject),1)):c("",!0)]),t("div",wt,[e[45]||(e[45]=t("label",{for:"content",class:"form-label"},"* Body",-1)),ee(te(le),{id:"content",init:J,modelValue:d.value.content,"onUpdate:modelValue":e[15]||(e[15]=l=>d.value.content=l)},null,8,["modelValue"]),m.value.content?(o(),s("div",kt,i(m.value.content),1)):c("",!0)]),t("div",xt,[e[46]||(e[46]=t("label",{for:"attachment",class:"form-label"},"Attachment",-1)),t("input",{id:"attachment",type:"file",class:C(["form-control",{"is-invalid":m.value.attachment}]),onChange:Y,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.xls"},null,34),e[47]||(e[47]=t("small",{class:"text-muted d-block"}," Allowed types: PDF, DOC, DOCX, TXT, JPG, JPEG, PNG, XLS (Max: 300KB) ",-1)),m.value.attachment?(o(),s("div",Ft,i(m.value.attachment),1)):c("",!0)])])]),t("div",Tt,[t("button",{class:"btn btn-secondary",onClick:e[16]||(e[16]=l=>$.value=!1)},"Cancel"),t("button",{class:"btn btn-danger",onClick:oe},"Save Email Template")])])])])):c("",!0),A.value?(o(),s("div",jt,[t("div",Et,[t("div",$t,[t("div",{class:"modal-header"},[e[48]||(e[48]=t("h5",{class:"modal-title"},"Edit Email Template",-1)),t("button",{type:"button",class:"btn-close",onClick:Q})]),t("div",St,[t("div",Bt,[t("div",Mt,[e[49]||(e[49]=t("label",{for:"edit_title",class:"form-label"},"* Template Name",-1)),y(t("input",{id:"edit_title","onUpdate:modelValue":e[17]||(e[17]=l=>v.value.title=l),type:"text",class:C(["form-control",{"is-invalid":p.value.title}]),placeholder:"Template Name"},null,2),[[x,v.value.title]]),p.value.title?(o(),s("div",Pt,i(p.value.title),1)):c("",!0)]),t("div",Vt,[e[51]||(e[51]=t("label",{for:"edit_folder_id",class:"form-label"},"* Folder",-1)),t("div",At,[y(t("select",{id:"edit_folder_id","onUpdate:modelValue":e[18]||(e[18]=l=>v.value.folder_id=l),class:C(["form-select",{"is-invalid":p.value.folder_id}])},[e[50]||(e[50]=t("option",{value:""},"Choose Folder",-1)),(o(!0),s(j,null,E(b.value,l=>(o(),s("option",{key:l.id,value:l.id},i(l.name),9,Dt))),128))],2),[[R,v.value.folder_id]]),t("button",{class:"btn btn-outline-success",type:"button",onClick:e[19]||(e[19]=l=>q.value=!0)},"+")]),p.value.folder_id?(o(),s("div",Nt,i(p.value.folder_id),1)):c("",!0)]),t("div",Ut,[e[53]||(e[53]=t("label",{for:"subject",class:"form-label"},"* Subject",-1)),t("div",It,[y(t("input",{id:"subject",ref:"subjectInput","onUpdate:modelValue":e[20]||(e[20]=l=>d.value.subject=l),type:"text",class:C(["form-control",{"is-invalid":m.value.subject}]),placeholder:"Subject"},null,2),[[x,d.value.subject]]),t("select",{class:"form-select w-auto",onChange:e[21]||(e[21]=l=>Z(l.target.value,a.$refs.subjectInput))},[e[52]||(e[52]=t("option",{disabled:"",selected:""},"Merge Field",-1)),(o(),s(j,null,E(X,l=>t("option",{key:l,value:l},i(l),9,Lt)),64))],32)]),m.value.subject?(o(),s("div",zt,i(m.value.subject),1)):c("",!0)]),t("div",Xt,[e[54]||(e[54]=t("label",{for:"edit_content",class:"form-label"},"* Body",-1)),ee(te(le),{id:"edit_content",init:J,modelValue:v.value.content,"onUpdate:modelValue":e[22]||(e[22]=l=>v.value.content=l)},null,8,["modelValue"]),p.value.content?(o(),s("div",Gt,i(p.value.content),1)):c("",!0)]),t("div",qt,[e[55]||(e[55]=t("label",{for:"edit_attachment",class:"form-label"},"Attachment",-1)),t("input",{id:"edit_attachment",type:"file",class:C(["form-control",{"is-invalid":p.value.attachment}]),onChange:Y,accept:".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.xls"},null,34),e[56]||(e[56]=t("small",{class:"text-muted"}," Allowed types: PDF, DOC, DOCX, TXT, JPG, JPEG, PNG, XLS (Max: 300KB) ",-1)),p.value.attachment?(o(),s("div",Ot,i(p.value.attachment),1)):c("",!0)])])]),t("div",{class:"modal-footer"},[t("button",{class:"btn btn-secondary",onClick:Q},"Cancel"),t("button",{class:"btn btn-danger",onClick:ue},"Update Template")])])])])):c("",!0)]))}},tl=ye(Jt,[["__scopeId","data-v-491b54d6"]]);export{tl as default};
