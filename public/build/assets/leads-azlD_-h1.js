/* empty css              */import{a as fr}from"./axios-CdtiCRuU.js";import{S as _n}from"./sweetalert2.all-B3MH3p00.js";import{t as au}from"./tinymce-Bml8Ic8q.js";import{_ as uj,r as ze,b as U2,w as Ih,R as dj,l as Ee,j as L,n as An,k as mt,L as Eo,bn as vr,F as Ss,Y as ws,Z as ec,X as Ot,f as mj,bh as hj,bo as gj,aG as pj,P as jr,au as h7,o as Ae,bp as fj,h as vj,g as bj,e as yj}from"./main-B1XrQ5dN.js";import"./_commonjsHelpers-Cpj98o6Y.js";tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M12 15v2a5 5 0 0 0 0-10v2a3 3 0 1 0 0 6zm0 0a3 3 0 1 0 0-6z"/><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm7-2h7V5h-7v2a5 5 0 0 0 0 10z"/></g></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z" clip-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path clip-rule="evenodd" d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var br=tinymce.util.Tools.resolve("tinymce.PluginManager");const w=(v,T,E)=>{var Z;return E(v,T.prototype)?!0:((Z=v.constructor)===null||Z===void 0?void 0:Z.name)===T.name},yr=v=>{const T=typeof v;return v===null?"null":T==="object"&&Array.isArray(v)?"array":T==="object"&&w(v,String,(E,Z)=>Z.isPrototypeOf(E))?"string":T},O=v=>T=>yr(T)===v,es=v=>T=>typeof T===v,xr=v=>T=>v===T,St=O("string"),_=O("object"),zt=O("array"),Cs=xr(null),It=es("boolean"),En=v=>v==null,qo=v=>!En(v),sn=es("function"),$s=(v,T)=>{if(zt(v)){for(let E=0,Z=v.length;E<Z;++E)if(!T(v[E]))return!1;return!0}return!1},_t=()=>{},Po=v=>()=>v,Ro=(v,T)=>v===T;class xe{constructor(T,E){this.tag=T,this.value=E}static some(T){return new xe(!0,T)}static none(){return xe.singletonNone}fold(T,E){return this.tag?E(this.value):T()}isSome(){return this.tag}isNone(){return!this.tag}map(T){return this.tag?xe.some(T(this.value)):xe.none()}bind(T){return this.tag?T(this.value):xe.none()}exists(T){return this.tag&&T(this.value)}forall(T){return!this.tag||T(this.value)}filter(T){return!this.tag||T(this.value)?this:xe.none()}getOr(T){return this.tag?this.value:T}or(T){return this.tag?this:T}getOrThunk(T){return this.tag?this.value:T()}orThunk(T){return this.tag?this:T()}getOrDie(T){if(this.tag)return this.value;throw new Error(T??"Called getOrDie on None")}static from(T){return qo(T)?xe.some(T):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(T){this.tag&&T(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const j=Array.prototype.indexOf,Pe=Array.prototype.push,Ts=(v,T)=>j.call(v,T),Yr=(v,T)=>Ts(v,T)>-1,H=(v,T)=>{const E=v.length,Z=new Array(E);for(let X=0;X<E;X++){const ae=v[X];Z[X]=T(ae,X)}return Z},Ze=(v,T)=>{for(let E=0,Z=v.length;E<Z;E++){const X=v[E];T(X,E)}},ts=(v,T,E)=>(Ze(v,(Z,X)=>{E=T(E,Z,X)}),E),Ut=v=>{const T=[];for(let E=0,Z=v.length;E<Z;++E){if(!zt(v[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+v);Pe.apply(T,v[E])}return T},Do=(v,T)=>Ut(H(v,T)),co=(v,T)=>{for(let E=0;E<v.length;E++){const Z=T(v[E],E);if(Z.isSome())return Z}return xe.none()},vn=(v,T,E=Ro)=>v.exists(Z=>E(Z,T)),rt=v=>{const T=[],E=Z=>{T.push(Z)};for(let Z=0;Z<v.length;Z++)v[Z].each(E);return T},ct=(v,T)=>v?xe.some(T):xe.none(),d=v=>T=>T.options.get(v),Ms=v=>{const T=v.options.register;T("link_assume_external_targets",{processor:E=>{const Z=St(E)||It(E);return Z?E===!0?{value:1,valid:Z}:E==="http"||E==="https"?{value:E,valid:Z}:{value:0,valid:Z}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),T("link_context_toolbar",{processor:"boolean",default:!1}),T("link_list",{processor:E=>St(E)||sn(E)||$s(E,_)}),T("link_default_target",{processor:"string"}),T("link_default_protocol",{processor:"string",default:"https"}),T("link_target_list",{processor:E=>It(E)||$s(E,_),default:!0}),T("link_rel_list",{processor:"object[]",default:[]}),T("link_class_list",{processor:"object[]",default:[]}),T("link_title",{processor:"boolean",default:!0}),T("allow_unsafe_link_target",{processor:"boolean",default:!1}),T("link_quicklink",{processor:"boolean",default:!1})},Xr=d("link_assume_external_targets"),Zt=d("link_context_toolbar"),Sr=d("link_list"),ks=d("link_default_target"),ot=d("link_default_protocol"),yo=d("link_target_list"),Ns=d("link_rel_list"),Sa=d("link_class_list"),J=d("link_title"),le=d("allow_unsafe_link_target"),Nc=d("link_quicklink"),wa=Object.keys,it=Object.hasOwnProperty,Wt=(v,T)=>{const E=wa(v);for(let Z=0,X=E.length;Z<X;Z++){const ae=E[Z],Q=v[ae];T(Q,ae)}},io=v=>(T,E)=>{v[E]=T},Uc=(v,T,E,Z)=>{Wt(v,(X,ae)=>{(T(X,ae)?E:Z)(X,ae)})},vt=(v,T)=>{const E={};return Uc(v,T,io(E),_t),E},rn=(v,T)=>it.call(v,T),Xt=(v,T)=>rn(v,T)&&v[T]!==void 0&&v[T]!==null;var Ie=tinymce.util.Tools.resolve("tinymce.util.URI"),bn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),yn=tinymce.util.Tools.resolve("tinymce.util.Tools");const os=v=>qo(v)&&v.nodeName.toLowerCase()==="a",Us=v=>os(v)&&!!Os(v),qr=(v,T)=>{if(v.collapsed)return[];{const E=v.cloneContents(),Z=E.firstChild,X=new bn(Z,E),ae=[];let Q=Z;do T(Q)&&ae.push(Q);while(Q=X.next());return ae}},Ca=v=>/^\w+:/i.test(v),Os=v=>{var T,E;return(E=(T=v.getAttribute("data-mce-href"))!==null&&T!==void 0?T:v.getAttribute("href"))!==null&&E!==void 0?E:""},an=(v,T)=>{const E=["noopener"],Z=v?v.split(/\s+/):[],X=De=>yn.trim(De.sort().join(" ")),ae=De=>(De=Q(De),De.length>0?De.concat(E):E),Q=De=>De.filter(qe=>yn.inArray(E,qe)===-1),Pt=T?ae(Z):Q(Z);return Pt.length>0?X(Pt):""},wr=v=>v.replace(/\uFEFF/g,""),Ws=(v,T)=>(T=T||$n(v.selection.getRng())[0]||v.selection.getNode(),Dn(T)?xe.from(v.dom.select("a[href]",T)[0]):xe.from(v.dom.getParent(T,"a[href]"))),Ho=(v,T)=>Ws(v,T).isSome(),Vt=(v,T)=>{const E=T.fold(()=>v.getContent({format:"text"}),Z=>Z.innerText||Z.textContent||"");return wr(E)},$n=v=>qr(v,Us),qt=v=>yn.grep(v,Us),Dt=v=>qt(v).length>0,tc=v=>$n(v).length>0,Kr=v=>{const T=v.schema.getTextInlineElements(),E=ae=>ae.nodeType===1&&!os(ae)&&!rn(T,ae.nodeName.toLowerCase());if(Ws(v).exists(ae=>ae.hasAttribute("data-mce-block")))return!1;const X=v.selection.getRng();return X.collapsed?!0:qr(X,E).length===0},Dn=v=>qo(v)&&v.nodeName==="FIGURE"&&/\bimage\b/i.test(v.className),Wc=v=>ts(["title","rel","class","target"],(E,Z)=>(v[Z].each(X=>{E[Z]=X.length>0?X:null}),E),{href:v.href}),oc=(v,T)=>(T==="http"||T==="https")&&!Ca(v)?T+"://"+v:v,Kt=(v,T)=>{const E={...T};if(Ns(v).length===0&&!le(v)){const Z=an(E.rel,E.target==="_blank");E.rel=Z||null}return xe.from(E.target).isNone()&&yo(v)===!1&&(E.target=ks(v)),E.href=oc(E.href,Xr(v)),E},lt=(v,T,E,Z)=>{E.each(X=>{rn(T,"innerText")?T.innerText=X:T.textContent=X}),v.dom.setAttribs(T,Z),v.selection.select(T)},Ta=(v,T,E,Z)=>{const X=v.dom;Dn(T)?nc(X,T,Z):E.fold(()=>{v.execCommand("mceInsertLink",!1,Z)},ae=>{v.insertContent(X.createHTML("a",Z,X.encode(ae)))})},pe=(v,T,E)=>{const Z=v.selection.getNode(),X=Ws(v,Z),ae=Kt(v,Wc(E));v.undoManager.transact(()=>{E.href===T.href&&T.attach(),X.fold(()=>{Ta(v,Z,E.text,ae)},Q=>{v.focus(),lt(v,Q,E.text,ae)})})},Xe=v=>{const T=v.dom,E=v.selection,Z=E.getBookmark(),X=E.getRng().cloneRange(),ae=T.getParent(X.startContainer,"a[href]",v.getBody()),Q=T.getParent(X.endContainer,"a[href]",v.getBody());ae&&X.setStartBefore(ae),Q&&X.setEndAfter(Q),E.setRng(X),v.execCommand("unlink"),E.moveToBookmark(Z)},Ko=v=>{v.undoManager.transact(()=>{const T=v.selection.getNode();Dn(T)?Gs(v,T):Xe(v),v.focus()})},Lo=v=>{const{class:T,href:E,rel:Z,target:X,text:ae,title:Q}=v;return vt({class:T.getOrNull(),href:E,rel:Z.getOrNull(),target:X.getOrNull(),text:ae.getOrNull(),title:Q.getOrNull()},(Pt,De)=>Cs(Pt)===!1)},Ma=(v,T)=>{const E=v.options.get,Z={allow_html_data_urls:E("allow_html_data_urls"),allow_script_urls:E("allow_script_urls"),allow_svg_data_urls:E("allow_svg_data_urls")},X=T.href;return{...T,href:Ie.isDomSafe(X,"a",Z)?X:""}},ns=(v,T,E)=>{const Z=Ma(v,E);v.hasPlugin("rtc",!0)?v.execCommand("createlink",!1,Lo(Z)):pe(v,T,Z)},Jr=v=>{v.hasPlugin("rtc",!0)?v.execCommand("unlink"):Ko(v)},Gs=(v,T)=>{var E;const Z=v.dom.select("img",T)[0];if(Z){const X=v.dom.getParents(Z,"a[href]",T)[0];X&&((E=X.parentNode)===null||E===void 0||E.insertBefore(Z,X),v.dom.remove(X))}},nc=(v,T,E)=>{var Z;const X=v.select("img",T)[0];if(X){const ae=v.create("a",E);(Z=X.parentNode)===null||Z===void 0||Z.insertBefore(ae,X),ae.appendChild(X)}},Cr=v=>St(v.value)?v.value:"",zo=v=>St(v.text)?v.text:St(v.title)?v.title:"",Qr=(v,T)=>{const E=[];return yn.each(v,Z=>{const X=zo(Z);if(Z.menu!==void 0){const ae=Qr(Z.menu,T);E.push({text:X,items:ae})}else{const ae=T(Z);E.push({text:X,value:ae})}}),E},ka=(v=Cr)=>T=>xe.from(T).map(E=>Qr(E,v)),xn={sanitize:v=>ka(Cr)(v),sanitizeWith:ka,createUi:(v,T)=>E=>({name:v,type:"listbox",label:T,items:E}),getValue:Cr},To=v=>Xt(v,"items"),rc=(v,T)=>co(T,E=>To(E)?rc(v,E.items):ct(E.value===v,E)),js=(v,T,E,Z)=>{const X=Z[T],ae=v.length>0;return X!==void 0?rc(X,E).map(Q=>({url:{value:Q.value,meta:{text:ae?v:Q.text,attach:_t}},text:ae?v:Q.text})):xe.none()},ac=(v,T)=>T==="link"?v.link:T==="anchor"?v.anchor:xe.none(),cn={init:(v,T)=>{const E={text:v.text,title:v.title},Z=De=>{var qe;return ct(E.title.length<=0,xe.from((qe=De.meta)===null||qe===void 0?void 0:qe.title).getOr(""))},X=De=>{var qe;return ct(E.text.length<=0,xe.from((qe=De.meta)===null||qe===void 0?void 0:qe.text).getOr(De.value))},ae=De=>{const qe=X(De.url),Gt=Z(De.url);return qe.isSome()||Gt.isSome()?xe.some({...qe.map(ht=>({text:ht})).getOr({}),...Gt.map(ht=>({title:ht})).getOr({})}):xe.none()},Q=(De,qe)=>{const Gt=ac(T,qe).getOr([]);return js(E.text,qe,Gt,De)};return{onChange:(De,qe)=>{const Gt=qe.name;return Gt==="url"?ae(De()):Yr(["anchor","link"],Gt)?Q(De(),Gt):((Gt==="text"||Gt==="title")&&(E[Gt]=De()[Gt]),xe.none())}}},getDelta:js};var Tr=tinymce.util.Tools.resolve("tinymce.util.Delay");const ea=(v,T,E)=>{const Z=v.selection.getRng();Tr.setEditorTimeout(v,()=>{v.windowManager.confirm(T,X=>{v.selection.setRng(Z),E(X)})})},Ys=v=>{const T=v.href;return T.indexOf("@")>0&&T.indexOf("/")===-1&&T.indexOf("mailto:")===-1?xe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:Z=>({...Z,href:"mailto:"+T})}):xe.none()},_a=(v,T)=>E=>{const Z=E.href;return v===1&&!Ca(Z)||v===0&&/^\s*www(\.|\d\.)/i.test(Z)?xe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${T}:// prefix?`,preprocess:ae=>({...ae,href:T+"://"+Z})}):xe.none()},cc={preprocess:(v,T)=>co([Ys,_a(Xr(v),ot(v))],E=>E(T)).fold(()=>Promise.resolve(T),E=>new Promise(Z=>{ea(v,E.message,X=>{Z(X?E.preprocess(T):T)})}))},Yc={getAnchors:v=>{const T=v.dom.select("a:not([href])"),E=Do(T,Z=>{const X=Z.name||Z.id;return X?[{text:X,value:"#"+X}]:[]});return E.length>0?xe.some([{text:"None",value:""}].concat(E)):xe.none()}},Aa={getClasses:v=>{const T=Sa(v);return T.length>0?xn.sanitize(T):xe.none()}},Xc=v=>{try{return xe.some(JSON.parse(v))}catch{return xe.none()}},Kc={getLinks:v=>{const T=Z=>v.convertURL(Z.value||Z.url||"","href"),E=Sr(v);return new Promise(Z=>{St(E)?fetch(E).then(X=>X.ok?X.text().then(Xc):Promise.reject()).then(Z,()=>Z(xe.none())):sn(E)?E(X=>Z(xe.some(X))):Z(xe.from(E))}).then(Z=>Z.bind(xn.sanitizeWith(T)).map(X=>X.length>0?[{text:"None",value:""}].concat(X):X))}},Mr={getRels:(v,T)=>{const E=Ns(v);if(E.length>0){const Z=vn(T,"_blank"),X=le(v)===!1,ae=Pt=>an(xn.getValue(Pt),Z);return(X?xn.sanitizeWith(ae):xn.sanitize)(E)}return xe.none()}},ta=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ic={getTargets:v=>{const T=yo(v);return zt(T)?xn.sanitize(T).orThunk(()=>xe.some(ta)):T===!1?xe.none():xe.some(ta)}},oa=(v,T,E)=>{const Z=v.getAttrib(T,E);return Z!==null&&Z.length>0?xe.some(Z):xe.none()},ss=(v,T)=>{const E=v.dom,X=Kr(v)?xe.some(Vt(v.selection,T)):xe.none(),ae=T.bind(Gt=>xe.from(E.getAttrib(Gt,"href"))),Q=T.bind(Gt=>xe.from(E.getAttrib(Gt,"target"))),Pt=T.bind(Gt=>oa(E,Gt,"rel")),De=T.bind(Gt=>oa(E,Gt,"class")),qe=T.bind(Gt=>oa(E,Gt,"title"));return{url:ae,text:X,title:qe,target:Q,rel:Pt,linkClass:De}},lo={collect:(v,T)=>Kc.getLinks(v).then(E=>{const Z=ss(v,T);return{anchor:Z,catalogs:{targets:ic.getTargets(v),rels:Mr.getRels(v,Z.target),classes:Aa.getClasses(v),anchor:Yc.getAnchors(v),link:E},optNode:T,flags:{titleEnabled:J(v)}}})},uc=(v,T)=>E=>{const Z=E.getData();if(!Z.url.value){Jr(v),E.close();return}const X=Pt=>xe.from(Z[Pt]).filter(De=>!vn(T.anchor[Pt],De)),ae={href:Z.url.value,text:X("text"),target:X("target"),rel:X("rel"),class:X("linkClass"),title:X("title")},Q={href:Z.url.value,attach:Z.url.meta!==void 0&&Z.url.meta.attach?Z.url.meta.attach:_t};cc.preprocess(v,ae).then(Pt=>{ns(v,Q,Pt)}),E.close()},rs=v=>{const T=Ws(v);return lo.collect(v,T)},oo=(v,T)=>{const E=v.anchor,Z=E.url.getOr("");return{url:{value:Z,meta:{original:{value:Z}}},text:E.text.getOr(""),title:E.title.getOr(""),anchor:Z,link:Z,rel:E.rel.getOr(""),target:E.target.or(T).getOr(""),linkClass:E.linkClass.getOr("")}},uo=(v,T,E)=>{const Z=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],X=v.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),ae=v.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Q=xe.from(ks(E)),Pt=oo(v,Q),De=v.catalogs,qe=cn.init(Pt,De);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ut([Z,X,ae,rt([De.anchor.map(xn.createUi("anchor","Anchors")),De.rels.map(xn.createUi("rel","Rel")),De.targets.map(xn.createUi("target","Open link in...")),De.link.map(xn.createUi("link","Link list")),De.classes.map(xn.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Pt,onChange:(ht,{name:iu})=>{qe.onChange(ht.getData,{name:iu}).each(ni=>{ht.setData(ni)})},onSubmit:T}},R=v=>{rs(v).then(E=>{const Z=uc(v,E);return uo(E,Z,v)}).then(E=>{v.windowManager.open(E)})},Ce=v=>{v.addCommand("mceLink",(T,E)=>{(E==null?void 0:E.dialog)===!0||!Nc(v)?R(v):v.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Bt=v=>{v.addShortcut("Meta+K","",()=>{v.execCommand("mceLink")})},Sn=v=>{let T=v;return{get:()=>T,set:X=>{T=X}}},Xs=v=>{const T=Sn(xe.none()),E=()=>T.get().each(v);return{clear:()=>{E(),T.set(xe.none())},isSet:()=>T.get().isSome(),get:()=>T.get(),set:Pt=>{E(),T.set(xe.some(Pt))}}},Qi=()=>{const v=Xs(_t);return{...v,on:E=>v.get().each(E)}},kr=(v,T)=>v.substring(T),el=(v,T,E)=>T===""||v.length>=T.length&&v.substr(E,E+T.length)===T,nt=(v,T)=>na(v,T)?kr(v,T.length):v,na=(v,T)=>el(v,T,0);var Nn=tinymce.util.Tools.resolve("tinymce.util.VK");const Jc=(v,T)=>{document.body.appendChild(v),v.dispatchEvent(T),document.body.removeChild(v)},As=v=>{const T=document.createElement("a");T.target="_blank",T.href=v,T.rel="noreferrer noopener";const E=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(E),Jc(T,E)},sa=v=>v.altKey===!0&&v.shiftKey===!1&&v.ctrlKey===!1&&v.metaKey===!1,Jo=(v,T)=>{if(T){const E=Os(T);if(/^#/.test(E)){const Z=v.dom.select(`${E},[name="${nt(E,"#")}"]`);Z.length&&v.selection.scrollIntoView(Z[0],!0)}else As(T.href)}},cu=v=>{const T=v.selection.getRng(),E=T.startContainer;return Us(E)&&T.startContainer===T.endContainer&&v.dom.select("img",E).length===1},Un=(v,T)=>{const E=qt(v.dom.getParents(T));return ct(E.length===1,E[0])},tl=v=>{const T=$n(v.selection.getRng());return ct(T.length>0,T[0]).or(Un(v,v.selection.getNode()))},Qc=v=>v.selection.isCollapsed()||cu(v)?Un(v,v.selection.getStart()):tl(v),ol=v=>{const T=Qi(),E=()=>T.get().or(Qc(v)),Z=()=>E().each(X=>Jo(v,X));return v.on("contextmenu",X=>{Un(v,X.target).each(T.set)}),v.on("SelectionChange",()=>{T.isSet()||Qc(v).each(T.set)}),v.on("click",X=>{T.clear();const ae=qt(v.dom.getParents(X.target));ae.length===1&&Nn.metaKeyPressed(X)&&(X.preventDefault(),Jo(v,ae[0]))}),v.on("keydown",X=>{T.clear(),!X.isDefaultPrevented()&&X.keyCode===13&&sa(X)&&E().each(ae=>{X.preventDefault(),Jo(v,ae)})}),{gotoSelectedLink:Z}},xo=v=>()=>{v.execCommand("mceLink",!1,{dialog:!0})},Es=(v,T)=>(v.on("NodeChange",T),()=>v.off("NodeChange",T)),Ea=v=>T=>{const E=()=>{T.setActive(!v.mode.isReadOnly()&&Ho(v,v.selection.getNode())),T.setEnabled(v.selection.isEditable())};return E(),Es(v,E)},ei=v=>T=>{const E=()=>{T.setEnabled(v.selection.isEditable())};return E(),Es(v,E)},Da=v=>T=>{const E=ae=>Dt(ae)||tc(v.selection.getRng()),Z=v.dom.getParents(v.selection.getStart()),X=ae=>{T.setEnabled(E(ae)&&v.selection.isEditable())};return X(Z),Es(v,ae=>X(ae.parents))},ti=(v,T)=>{v.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:xo(v),onSetup:Ea(v)}),v.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:T.gotoSelectedLink,onSetup:Da(v)}),v.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Jr(v),onSetup:Da(v)})},Zo=(v,T)=>{v.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:T.gotoSelectedLink,onSetup:Da(v)}),v.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:xo(v),onSetup:ei(v)}),v.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Jr(v),onSetup:Da(v)})},Or=v=>{const T="link unlink openlink",E="link";v.ui.registry.addContextMenu("link",{update:Z=>v.dom.isEditable(Z)?Dt(v.dom.getParents(Z,"a"))?T:E:""})},dc=(v,T)=>{const E=ae=>{ae.selection.collapse(!1)},Z=ae=>{const Q=v.selection.getNode();return ae.setEnabled(Ho(v,Q)&&v.selection.isEditable()),_t},X=ae=>{const Q=Ws(v),Pt=Kr(v);if(Q.isNone()&&Pt){const De=Vt(v.selection,Q);return ct(De.length===0,ae)}else return xe.none()};v.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ea(v)},label:"Link",predicate:ae=>Zt(v)&&Ho(v,ae),initValue:()=>Ws(v).fold(Po(""),Os),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:ae=>{const Q=v.selection.getNode();return ae.setActive(Ho(v,Q)),Ea(v)(ae)},onAction:ae=>{const Q=ae.getValue(),Pt=X(Q);ns(v,{href:Q,attach:_t},{href:Q,text:Pt,title:xe.none(),rel:xe.none(),target:xe.from(ks(v)),class:xe.none()}),E(v),ae.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Z,onAction:ae=>{Jr(v),ae.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Z,onAction:ae=>{T.gotoSelectedLink(),ae.hide()}}]})},mc=v=>{const T=ol(v);ti(v,T),Zo(v,T),Or(v),dc(v,T)};var oi=()=>{br.add("link",v=>{Ms(v),Ce(v),mc(v),Bt(v)})};oi()})();(function(){var br=tinymce.util.Tools.resolve("tinymce.PluginManager");const w=(l,h,f)=>{var C;return f(l,h.prototype)?!0:((C=l.constructor)===null||C===void 0?void 0:C.name)===h.name},yr=l=>{const h=typeof l;return l===null?"null":h==="object"&&Array.isArray(l)?"array":h==="object"&&w(l,String,(f,C)=>C.isPrototypeOf(f))?"string":h},O=l=>h=>yr(h)===l,es=l=>h=>typeof h===l,xr=O("string"),St=O("object"),_=O("array"),zt=es("boolean"),Cs=l=>l==null,It=l=>!Cs(l),En=es("function"),qo=es("number"),sn=()=>{},$s=(l,h)=>f=>l(h(f)),_t=l=>()=>l,Po=(l,h)=>l===h;function Ro(l,...h){return(...f)=>{const C=h.concat(f);return l.apply(null,C)}}const xe=l=>h=>!l(h),j=_t(!1);class Pe{constructor(h,f){this.tag=h,this.value=f}static some(h){return new Pe(!0,h)}static none(){return Pe.singletonNone}fold(h,f){return this.tag?f(this.value):h()}isSome(){return this.tag}isNone(){return!this.tag}map(h){return this.tag?Pe.some(h(this.value)):Pe.none()}bind(h){return this.tag?h(this.value):Pe.none()}exists(h){return this.tag&&h(this.value)}forall(h){return!this.tag||h(this.value)}filter(h){return!this.tag||h(this.value)?this:Pe.none()}getOr(h){return this.tag?this.value:h}or(h){return this.tag?this:h}getOrThunk(h){return this.tag?this.value:h()}orThunk(h){return this.tag?this:h()}getOrDie(h){if(this.tag)return this.value;throw new Error(h??"Called getOrDie on None")}static from(h){return It(h)?Pe.some(h):Pe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(h){this.tag&&h(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Pe.singletonNone=new Pe(!1);const Ts=Array.prototype.slice,Yr=Array.prototype.indexOf,H=Array.prototype.push,Ze=(l,h)=>Yr.call(l,h),ts=(l,h)=>Ze(l,h)>-1,Ut=(l,h)=>{for(let f=0,C=l.length;f<C;f++){const M=l[f];if(h(M,f))return!0}return!1},Do=(l,h)=>{const f=l.length,C=new Array(f);for(let M=0;M<f;M++){const U=l[M];C[M]=h(U,M)}return C},co=(l,h)=>{for(let f=0,C=l.length;f<C;f++){const M=l[f];h(M,f)}},vn=(l,h)=>{const f=[];for(let C=0,M=l.length;C<M;C++){const U=l[C];h(U,C)&&f.push(U)}return f},rt=(l,h)=>{if(l.length===0)return[];{let f=h(l[0]);const C=[];let M=[];for(let U=0,fe=l.length;U<fe;U++){const Oe=l[U],_e=h(Oe);_e!==f&&(C.push(M),M=[]),f=_e,M.push(Oe)}return M.length!==0&&C.push(M),C}},ct=(l,h,f)=>(co(l,(C,M)=>{f=h(f,C,M)}),f),d=(l,h,f)=>{for(let C=0,M=l.length;C<M;C++){const U=l[C];if(h(U,C))return Pe.some(U);if(f(U,C))break}return Pe.none()},Ms=(l,h)=>d(l,h,j),Xr=l=>{const h=[];for(let f=0,C=l.length;f<C;++f){if(!_(l[f]))throw new Error("Arr.flatten item "+f+" was not an array, input: "+l);H.apply(h,l[f])}return h},Zt=(l,h)=>Xr(Do(l,h)),Sr=l=>{const h=Ts.call(l,0);return h.reverse(),h},ks=(l,h)=>h>=0&&h<l.length?Pe.some(l[h]):Pe.none(),ot=l=>ks(l,0),yo=l=>ks(l,l.length-1),Ns=(l,h)=>{const f=[],C=En(h)?M=>Ut(f,U=>h(U,M)):M=>ts(f,M);for(let M=0,U=l.length;M<U;M++){const fe=l[M];C(fe)||f.push(fe)}return f},Sa=(l,h,f=Po)=>l.exists(C=>f(C,h)),J=(l,h,f=Po)=>le(l,h,f).getOr(l.isNone()&&h.isNone()),le=(l,h,f)=>l.isSome()&&h.isSome()?Pe.some(f(l.getOrDie(),h.getOrDie())):Pe.none(),Nc=8,wa=11,it=1,Wt=3,io=(l,h)=>{const C=(h||document).createElement("div");if(C.innerHTML=l,!C.hasChildNodes()||C.childNodes.length>1){const M="HTML does not have a single root node";throw console.error(M,l),new Error(M)}return rn(C.childNodes[0])},Uc=(l,h)=>{const C=(h||document).createElement(l);return rn(C)},vt=(l,h)=>{const C=(h||document).createTextNode(l);return rn(C)},rn=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},Ie={fromHtml:io,fromTag:Uc,fromText:vt,fromDom:rn,fromPoint:(l,h,f)=>Pe.from(l.dom.elementFromPoint(h,f)).map(rn)},bn=(l,h)=>{const f=l.dom;if(f.nodeType!==it)return!1;{const C=f;if(C.matches!==void 0)return C.matches(h);if(C.msMatchesSelector!==void 0)return C.msMatchesSelector(h);if(C.webkitMatchesSelector!==void 0)return C.webkitMatchesSelector(h);if(C.mozMatchesSelector!==void 0)return C.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")}},yn=(l,h)=>l.dom===h.dom,os=(l,h)=>{const f=l.dom,C=h.dom;return f===C?!1:f.contains(C)},Us=bn,qr=typeof window<"u"?window:Function("return this;")(),Ca=(l,h)=>{let f=h??qr;for(let C=0;C<l.length&&f!==void 0&&f!==null;++C)f=f[l[C]];return f},Os=(l,h)=>{const f=l.split(".");return Ca(f,h)},an=(l,h)=>Os(l,h),wr=(l,h)=>{const f=an(l,h);if(f==null)throw new Error(l+" not available on this browser");return f},Ws=Object.getPrototypeOf,Ho=l=>wr("HTMLElement",l),Vt=l=>{const h=Os("ownerDocument.defaultView",l);return St(l)&&(Ho(h).prototype.isPrototypeOf(l)||/^HTML\w*Element$/.test(Ws(l).constructor.name))},$n=l=>l.dom.nodeName.toLowerCase(),qt=l=>l.dom.nodeType,Dt=l=>h=>qt(h)===l,tc=l=>qt(l)===Nc||$n(l)==="#comment",Kr=l=>Dn(l)&&Vt(l.dom),Dn=Dt(it),Wc=Dt(Wt),oc=Dt(wa),Kt=l=>h=>Dn(h)&&$n(h)===l,lt=l=>Pe.from(l.dom.parentNode).map(Ie.fromDom),Ta=l=>Pe.from(l.dom.parentElement).map(Ie.fromDom),pe=l=>Pe.from(l.dom.nextSibling).map(Ie.fromDom),Xe=l=>Do(l.dom.childNodes,Ie.fromDom),Ko=(l,h)=>{const f=l.dom.childNodes;return Pe.from(f[h]).map(Ie.fromDom)},Lo=l=>Ko(l,0),Ma=l=>Ko(l,l.dom.childNodes.length-1),ns=l=>oc(l)&&It(l.dom.host),Jr=l=>Ie.fromDom(l.dom.getRootNode()),Gs=l=>{const h=Jr(l);return ns(h)?Pe.some(h):Pe.none()},nc=l=>Ie.fromDom(l.dom.host),Cr=l=>{const h=Wc(l)?l.dom.parentNode:l.dom;if(h==null||h.ownerDocument===null)return!1;const f=h.ownerDocument;return Gs(Ie.fromDom(h)).fold(()=>f.body.contains(h),$s(Cr,nc))};var zo=(l,h,f,C,M)=>l(f,C)?Pe.some(f):En(M)&&M(f)?Pe.none():h(f,C,M);const Qr=(l,h,f)=>{let C=l.dom;const M=En(f)?f:j;for(;C.parentNode;){C=C.parentNode;const U=Ie.fromDom(C);if(h(U))return Pe.some(U);if(M(U))break}return Pe.none()},ka=(l,h,f)=>zo((M,U)=>U(M),Qr,l,h,f),Gc=(l,h,f)=>Qr(l,C=>bn(C,h),f),sc=(l,h,f)=>zo((M,U)=>bn(M,U),Gc,l,h,f),xn=l=>sc(l,"[contenteditable]"),To=(l,h=!1)=>Cr(l)?l.dom.isContentEditable:xn(l).fold(_t(h),f=>rc(f)==="true"),rc=l=>l.dom.contentEditable,js=(l,h)=>{lt(l).each(C=>{C.dom.insertBefore(h.dom,l.dom)})},ac=(l,h)=>{pe(l).fold(()=>{lt(l).each(M=>{cn(M,h)})},C=>{js(C,h)})},Oa=(l,h)=>{Lo(l).fold(()=>{cn(l,h)},C=>{l.dom.insertBefore(h.dom,C.dom)})},cn=(l,h)=>{l.dom.appendChild(h.dom)},Tr=(l,h)=>{co(h,f=>{js(l,f)})},ea=(l,h)=>{co(h,f=>{cn(l,f)})},Ys=l=>{l.dom.textContent="",co(Xe(l),h=>{_a(h)})},_a=l=>{const h=l.dom;h.parentNode!==null&&h.parentNode.removeChild(h)};var jc=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),cc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),_s=tinymce.util.Tools.resolve("tinymce.util.VK");const Yc=l=>Do(l,Ie.fromDom),K=Object.keys,Aa=(l,h)=>{const f=K(l);for(let C=0,M=f.length;C<M;C++){const U=f[C],fe=l[U];h(fe,U)}},Xc=l=>(h,f)=>{l[f]=h},qc=(l,h,f,C)=>{Aa(l,(M,U)=>{(h(M,U)?f:C)(M,U)})},Kc=(l,h)=>{const f={};return qc(l,h,Xc(f),sn),f},Ki=(l,h,f)=>{if(xr(f)||zt(f)||qo(f))l.setAttribute(h,f+"");else throw console.error("Invalid call to Attribute.set. Key ",h,":: Value ",f,":: Element ",l),new Error("Attribute value was not simple")},Mr=(l,h)=>{const f=l.dom;Aa(h,(C,M)=>{Ki(f,M,C)})},ta=l=>ct(l.dom.attributes,(h,f)=>(h[f.name]=f.value,h),{}),Ji=(l,h)=>Ie.fromDom(l.dom.cloneNode(h)),ic=l=>Ji(l,!0),oa=(l,h)=>{const f=Ie.fromTag(h),C=ta(l);return Mr(f,C),f},ss=(l,h)=>{const f=oa(l,h);ac(l,f);const C=Xe(l);return ea(f,C),_a(l),f};var lc=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),lo=tinymce.util.Tools.resolve("tinymce.util.Tools");const uc=l=>h=>It(h)&&h.nodeName.toLowerCase()===l,rs=l=>h=>It(h)&&l.test(h.nodeName),oo=l=>It(l)&&l.nodeType===3,uo=l=>It(l)&&l.nodeType===1,R=rs(/^(OL|UL|DL)$/),Ce=rs(/^(OL|UL)$/),Bt=uc("ol"),Sn=rs(/^(LI|DT|DD)$/),Xs=rs(/^(DT|DD)$/),Qi=rs(/^(TH|TD)$/),kr=uc("br"),el=l=>{var h;return((h=l.parentNode)===null||h===void 0?void 0:h.firstChild)===l},nt=(l,h)=>It(h)&&h.nodeName in l.schema.getTextBlockElements(),na=(l,h)=>It(l)&&l.nodeName in h,Nn=(l,h)=>It(h)&&h.nodeName in l.schema.getVoidElements(),Jc=(l,h)=>kr(h)?l.isBlock(h.nextSibling)&&!kr(h.previousSibling):!1,As=(l,h,f)=>{const C=l.isEmpty(h);return f&&l.select("span[data-mce-type=bookmark]",h).length>0?!1:C},sa=(l,h)=>l.isChildOf(h,l.getRoot()),Jo=l=>h=>h.options.get(l),cu=l=>{const h=l.options.register;h("lists_indent_on_tab",{processor:"boolean",default:!0})},Un=Jo("lists_indent_on_tab"),tl=Jo("forced_root_block"),Qc=Jo("forced_root_block_attrs"),ol=(l,h,f={})=>{const C=l.dom,M=l.schema.getBlockElements(),U=C.createFragment(),fe=tl(l),Oe=Qc(l);let _e,he,Ht=!1;for(he=C.create(fe,{...Oe,...f.style?{style:f.style}:{}}),na(h.firstChild,M)||U.appendChild(he);_e=h.firstChild;){const Mo=_e.nodeName;!Ht&&(Mo!=="SPAN"||_e.getAttribute("data-mce-type")!=="bookmark")&&(Ht=!0),na(_e,M)?(U.appendChild(_e),he=null):(he||(he=C.create(fe,Oe),U.appendChild(he)),he.appendChild(_e))}return!Ht&&he&&he.appendChild(C.create("br",{"data-mce-bogus":"1"})),U},xo=lc.DOM,Es=(l,h,f)=>{const C=he=>{const Ht=he.parentNode;Ht&&lo.each(M,Mo=>{Ht.insertBefore(Mo,f.parentNode)}),xo.remove(he)},M=xo.select('span[data-mce-type="bookmark"]',h),U=ol(l,f),fe=xo.createRng();fe.setStartAfter(f),fe.setEndAfter(h);const Oe=fe.extractContents();for(let he=Oe.firstChild;he;he=he.firstChild)if(he.nodeName==="LI"&&l.dom.isEmpty(he)){xo.remove(he);break}l.dom.isEmpty(Oe)||xo.insertAfter(Oe,h),xo.insertAfter(U,h);const _e=f.parentElement;_e&&As(l.dom,_e)&&C(_e),xo.remove(f),As(l.dom,h)&&xo.remove(h)},Ea=Kt("dd"),ei=Kt("dt"),Da=(l,h)=>{Ea(h)?ss(h,"dt"):ei(h)&&Ta(h).each(f=>Es(l,f.dom,h.dom))},ti=l=>{ei(l)&&ss(l,"dd")},Zo=(l,h,f)=>{h==="Indent"?co(f,ti):co(f,C=>Da(l,C))},Or=(l,h)=>{if(oo(l))return{container:l,offset:h};const f=jc.getNode(l,h);return oo(f)?{container:f,offset:h>=l.childNodes.length?f.data.length:0}:f.previousSibling&&oo(f.previousSibling)?{container:f.previousSibling,offset:f.previousSibling.data.length}:f.nextSibling&&oo(f.nextSibling)?{container:f.nextSibling,offset:0}:{container:l,offset:h}},dc=l=>{const h=l.cloneRange(),f=Or(l.startContainer,l.startOffset);h.setStart(f.container,f.offset);const C=Or(l.endContainer,l.endOffset);return h.setEnd(C.container,C.offset),h},mc=["OL","UL","DL"],oi=mc.join(","),v=(l,h)=>{const f=h||l.selection.getStart(!0);return l.dom.getParent(f,oi,qe(l,f))},T=(l,h)=>It(l)&&h.length===1&&h[0]===l,E=l=>vn(l.querySelectorAll(oi),R),Z=l=>{const h=v(l),f=l.selection.getSelectedBlocks();return T(h,f)?E(h):vn(f,C=>R(C)&&h!==C)},X=(l,h)=>{const f=lo.map(h,C=>{const M=l.dom.getParent(C,"li,dd,dt",qe(l,C));return M||C});return Ns(f)},ae=l=>{const h=l.selection.getSelectedBlocks();return vn(X(l,h),Sn)},Q=l=>vn(ae(l),Xs),Pt=(l,h)=>{const f=l.dom.getParents(h,"TD,TH");return f.length>0?f[0]:l.getBody()},De=(l,h)=>!R(h)&&!Sn(h)&&Ut(mc,f=>l.isValidChild(h.nodeName,f)),qe=(l,h)=>{const f=l.dom.getParents(h,l.dom.isBlock),C=U=>U.nodeName.toLowerCase()!==tl(l);return Ms(f,U=>C(U)&&De(l.schema,U)).getOr(l.getBody())},Gt=l=>lt(l).exists(h=>Sn(h.dom)&&Lo(h).exists(f=>!R(f.dom))&&Ma(h).exists(f=>!R(f.dom))),ht=(l,h)=>{const f=l.dom.getParents(h,"ol,ul",qe(l,h));return yo(f)},iu=l=>{const h=ht(l,l.selection.getStart()),f=vn(l.selection.getSelectedBlocks(),Ce);return h.toArray().concat(f)},ni=l=>{const h=l.selection.getStart();return l.dom.getParents(h,"ol,ul",qe(l,h))},Bd=l=>{const h=iu(l),f=ni(l);return Ms(f,C=>Gt(Ie.fromDom(C))).fold(()=>Me(l,h),C=>[C])},Me=(l,h)=>{const f=Do(h,C=>ht(l,C).getOr(C));return Ns(f)},Ds=l=>/\btox\-/.test(l.className),si=(l,h)=>d(l,R,Qi).exists(f=>f.nodeName===h&&!Ds(f)),Fo=(l,h)=>h!==null&&!l.dom.isEditable(h),Pd=l=>{const h=v(l);return Fo(l,h)||!l.selection.isEditable()},Jt=(l,h)=>{const f=l.dom.getParent(h,"ol,ul,dl");return Fo(l,f)||!l.selection.isEditable()},lu=(l,h)=>{const f=l.selection.getNode();return h({parents:l.dom.getParents(f),element:f}),l.on("NodeChange",h),()=>l.off("NodeChange",h)},uu=(l,h)=>{const C=document.createDocumentFragment();return co(l,M=>{C.appendChild(M.dom)}),Ie.fromDom(C)},$e=(l,h,f)=>l.dispatch("ListMutation",{action:h,element:f}),Rd=(l=>h=>h.replace(l,""))(/^\s+|\s+$/g),du=l=>l.length>0,mo=l=>!du(l),ra=l=>l.style!==void 0&&En(l.style.getPropertyValue),Vh=(l,h,f)=>{if(!xr(f))throw console.error("Invalid call to CSS.set. Property ",h,":: Value ",f,":: Element ",l),new Error("CSS value must be a string: "+f);ra(l)&&l.style.setProperty(h,f)},zd=(l,h,f)=>{const C=l.dom;Vh(C,h,f)},bt=l=>Us(l,"OL,UL"),Bh=l=>Us(l,"LI"),ri=l=>Lo(l).exists(bt),as=l=>Ma(l).exists(bt),qs=l=>"listAttributes"in l,ai=l=>"isComment"in l,Ph=l=>"isFragment"in l,ln=l=>l.depth>0,hc=l=>l.isSelected,Rh=l=>{const h=Xe(l),f=as(l)?h.slice(0,-1):h;return Do(f,ic)},aa=(l,h,f)=>lt(l).filter(Dn).map(C=>({depth:h,dirty:!1,isSelected:f,content:Rh(l),itemAttributes:ta(l),listAttributes:ta(C),listType:$n(C),isInPreviousLi:!1})),Zd=(l,h)=>{cn(l.item,h.list)},zh=l=>{for(let h=1;h<l.length;h++)Zd(l[h-1],l[h])},Zh=(l,h)=>{le(yo(l),ot(h),Zd)},$h=(l,h)=>{const f={list:Ie.fromTag(h,l),item:Ie.fromTag("li",l)};return cn(f.list,f.item),f},$d=(l,h,f)=>{const C=[];for(let M=0;M<f;M++)C.push($h(l,qs(h)?h.listType:h.parentListType));return C},mu=(l,h)=>{for(let f=0;f<l.length-1;f++)zd(l[f].item,"list-style-type","none");yo(l).each(f=>{qs(h)&&(Mr(f.list,h.listAttributes),Mr(f.item,h.itemAttributes)),ea(f.item,h.content)})},ci=(l,h)=>{$n(l.list)!==h.listType&&(l.list=ss(l.list,h.listType)),Mr(l.list,h.listAttributes)},Nh=(l,h,f)=>{const C=Ie.fromTag("li",l);return Mr(C,h),ea(C,f),C},Nd=(l,h)=>{cn(l.list,h),l.item=h},Ud=(l,h,f)=>{const C=h.slice(0,f.depth);return yo(C).each(M=>{if(qs(f)){const U=Nh(l,f.itemAttributes,f.content);Nd(M,U),ci(M,f)}else if(Ph(f))ea(M.item,f.content);else{const U=Ie.fromHtml(`<!--${f.content}-->`);cn(M.list,U)}}),C},Uh=(l,h,f)=>{const C=$d(l,f,f.depth-h.length);return zh(C),mu(C,f),Zh(h,C),h.concat(C)},hu=(l,h)=>{let f=Pe.none();const C=ct(h,(M,U,fe)=>ai(U)?fe===0?(f=Pe.some(U),M):Ud(l,M,U):U.depth>M.length?Uh(l,M,U):Ud(l,M,U),[]);return f.each(M=>{const U=Ie.fromHtml(`<!--${M.content}-->`);ot(C).each(fe=>{Oa(fe.list,U)})}),ot(C).map(M=>M.list)},_r=(l,h)=>{switch(l){case"Indent":h.depth++;break;case"Outdent":h.depth--;break;case"Flatten":h.depth=0}h.dirty=!0},Wh=(l,h)=>{qs(l)&&qs(h)&&(l.listType=h.listType,l.listAttributes={...h.listAttributes})},Gh=l=>{l.listAttributes=Kc(l.listAttributes,(h,f)=>f!=="start")},Wd=(l,h)=>{const f=l[h].depth,C=U=>U.depth===f&&!U.dirty,M=U=>U.depth<f;return d(Sr(l.slice(0,h)),C,M).orThunk(()=>d(l.slice(h+1),C,M))},gu=l=>(co(l,(h,f)=>{Wd(l,f).fold(()=>{h.dirty&&qs(h)&&Gh(h)},C=>Wh(h,C))}),l),Gd=l=>{let h=l;return{get:()=>h,set:M=>{h=M}}},pu=(l,h,f,C)=>{var M;if(tc(C))return[{depth:l+1,content:(M=C.dom.nodeValue)!==null&&M!==void 0?M:"",dirty:!1,isSelected:!1,isComment:!0}];h.each(Oe=>{yn(Oe.start,C)&&f.set(!0)});const U=aa(C,l,f.get());h.each(Oe=>{yn(Oe.end,C)&&f.set(!1)});const fe=Ma(C).filter(bt).map(Oe=>ii(l,h,f,Oe)).getOr([]);return U.toArray().concat(fe)},jd=(l,h,f,C)=>Lo(C).filter(bt).fold(()=>pu(l,h,f,C),M=>{const U=ct(Xe(C),(fe,Oe,_e)=>{if(_e===0)return fe;if(Bh(Oe))return fe.concat(pu(l,h,f,Oe));{const he={isFragment:!0,depth:l,content:[Oe],isSelected:!1,dirty:!1,parentListType:$n(M)};return fe.concat(he)}},[]);return ii(l,h,f,M).concat(U)}),ii=(l,h,f,C)=>Zt(Xe(C),M=>{const U=bt(M)?ii:jd,fe=l+1;return U(fe,h,f,M)}),Yd=(l,h)=>{const f=Gd(!1),C=0;return Do(l,M=>({sourceList:M,entries:ii(C,h,f,M)}))},jh=(l,h)=>{const f=gu(h);return Do(f,C=>{const M=ai(C)?uu([Ie.fromHtml(`<!--${C.content}-->`)]):uu(C.content),U=qs(C)?C.itemAttributes:{};return Ie.fromDom(ol(l,M.dom,U))})},Xd=(l,h)=>{const f=gu(h);return hu(l.contentDocument,f).toArray()},qd=(l,h)=>Zt(rt(h,ln),f=>ot(f).exists(ln)?Xd(l,f):jh(l,f)),Kd=(l,h)=>{co(vn(l,hc),f=>_r(h,f))},Jd=l=>{const h=Do(ae(l),Ie.fromDom);return le(Ms(h,xe(ri)),Ms(Sr(h),xe(ri)),(f,C)=>({start:f,end:C}))},Qd=(l,h,f)=>{const C=Yd(h,Jd(l));co(C,M=>{Kd(M.entries,f);const U=qd(l,M.entries);co(U,fe=>{$e(l,f==="Indent"?"IndentList":"OutdentList",fe.dom)}),Tr(M.sourceList,U),_a(M.sourceList)})},e1=(l,h)=>{const f=Yc(Bd(l)),C=Yc(Q(l));let M=!1;if(f.length||C.length){const U=l.selection.getBookmark();Qd(l,f,h),Zo(l,h,C),l.selection.moveToBookmark(U),l.selection.setRng(dc(l.selection.getRng())),l.nodeChanged(),M=!0}return M},sl=(l,h)=>!Pd(l)&&e1(l,h),fu=l=>sl(l,"Indent"),rl=l=>sl(l,"Outdent"),li=l=>sl(l,"Flatten"),Yh="\uFEFF",al=l=>l===Yh,t1=(l,h,f)=>Qr(l,h,f).isSome(),W2=(l,h)=>t1(l,Ro(yn,h));var Xh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const gc=lc.DOM,pc=l=>{const h={},f=C=>{let M=l[C?"startContainer":"endContainer"],U=l[C?"startOffset":"endOffset"];if(uo(M)){const fe=gc.create("span",{"data-mce-type":"bookmark"});M.hasChildNodes()?(U=Math.min(U,M.childNodes.length-1),C?M.insertBefore(fe,M.childNodes[U]):gc.insertAfter(fe,M.childNodes[U])):M.appendChild(fe),M=fe,U=0}h[C?"startContainer":"endContainer"]=M,h[C?"startOffset":"endOffset"]=U};return f(!0),l.collapsed||f(),h},un=l=>{const h=C=>{const M=Oe=>{var _e;let he=(_e=Oe.parentNode)===null||_e===void 0?void 0:_e.firstChild,Ht=0;for(;he;){if(he===Oe)return Ht;(!uo(he)||he.getAttribute("data-mce-type")!=="bookmark")&&Ht++,he=he.nextSibling}return-1};let U=l[C?"startContainer":"endContainer"],fe=l[C?"startOffset":"endOffset"];if(U){if(uo(U)&&U.parentNode){const Oe=U;fe=M(U),U=U.parentNode,gc.remove(Oe),!U.hasChildNodes()&&gc.isBlock(U)&&U.appendChild(gc.create("br"))}l[C?"startContainer":"endContainer"]=U,l[C?"startOffset":"endOffset"]=fe}};h(!0),h();const f=gc.createRng();return f.setStart(l.startContainer,l.startOffset),l.endContainer&&f.setEnd(l.endContainer,l.endOffset),dc(f)},fc=l=>{switch(l){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},o1=(l,h,f)=>{const C=f["list-style-type"]?f["list-style-type"]:null;l.setStyle(h,"list-style-type",C)},n1=(l,h)=>{lo.each(h,(f,C)=>{l.setAttribute(C,f)})},s1=(l,h,f)=>{n1(h,f["list-attributes"]),lo.each(l.select("li",h),C=>{n1(C,f["list-item-attributes"])})},vc=(l,h,f)=>{o1(l,h,f),s1(l,h,f)},qh=(l,h,f)=>{lo.each(f,C=>l.setStyle(h,C,""))},cl=(l,h)=>It(h)&&!na(h,l.schema.getBlockElements()),Ha=(l,h,f,C)=>{let M=h[f?"startContainer":"endContainer"];const U=h[f?"startOffset":"endOffset"];uo(M)&&(M=M.childNodes[Math.min(U,M.childNodes.length-1)]||M),!f&&kr(M.nextSibling)&&(M=M.nextSibling);const fe=_e=>{for(;!l.dom.isBlock(_e)&&_e.parentNode&&C!==_e;)_e=_e.parentNode;return _e},Oe=(_e,he)=>{var Ht;const Mo=new cc(_e,fe(_e)),is=he?"next":"prev";let La;for(;La=Mo[is]();)if(!(Nn(l,La)||al(La.textContent)||((Ht=La.textContent)===null||Ht===void 0?void 0:Ht.length)===0))return Pe.some(La);return Pe.none()};if(f&&oo(M))if(al(M.textContent))M=Oe(M,!1).getOr(M);else for(M.parentNode!==null&&cl(l,M.parentNode)&&(M=M.parentNode);M.previousSibling!==null&&(cl(l,M.previousSibling)||oo(M.previousSibling));)M=M.previousSibling;if(!f&&oo(M))if(al(M.textContent))M=Oe(M,!0).getOr(M);else for(M.parentNode!==null&&cl(l,M.parentNode)&&(M=M.parentNode);M.nextSibling!==null&&(cl(l,M.nextSibling)||oo(M.nextSibling));)M=M.nextSibling;for(;M.parentNode!==C;){const _e=M.parentNode;if(nt(l,M)||/^(TD|TH)$/.test(_e.nodeName))return M;M=_e}return M},Kh=(l,h,f)=>{const C=[],M=l.dom,U=Ha(l,h,!0,f),fe=Ha(l,h,!1,f);let Oe;const _e=[];for(let he=U;he&&(_e.push(he),he!==fe);he=he.nextSibling);return lo.each(_e,he=>{var Ht;if(nt(l,he)){C.push(he),Oe=null;return}if(M.isBlock(he)||kr(he)){kr(he)&&M.remove(he),Oe=null;return}const Mo=he.nextSibling;if(Xh.isBookmarkNode(he)&&(R(Mo)||nt(l,Mo)||!Mo&&he.parentNode===f)){Oe=null;return}Oe||(Oe=M.create("p"),(Ht=he.parentNode)===null||Ht===void 0||Ht.insertBefore(Oe,he),C.push(Oe)),Oe.appendChild(he)}),C},Jh=(l,h,f)=>{const C=l.getStyle(h,"list-style-type");let M=f?f["list-style-type"]:"";return M=M===null?"":M,C===M},cs=(l,h)=>{const f=l.selection.getStart(!0),C=Ha(l,h,!0,l.getBody());return W2(Ie.fromDom(C),Ie.fromDom(h.commonAncestorContainer))?h.commonAncestorContainer:f},vu=(l,h,f)=>{const C=l.selection.getRng();let M="LI";const U=qe(l,cs(l,C)),fe=l.dom;if(fe.getContentEditable(l.selection.getNode())==="false")return;h=h.toUpperCase(),h==="DL"&&(M="DT");const Oe=pc(C),_e=vn(Kh(l,C,U),l.dom.isEditable);lo.each(_e,he=>{let Ht;const Mo=he.previousSibling,is=he.parentNode;Sn(is)||(Mo&&R(Mo)&&Mo.nodeName===h&&Jh(fe,Mo,f)?(Ht=Mo,he=fe.rename(he,M),Mo.appendChild(he)):(Ht=fe.create(h),is.insertBefore(Ht,he),Ht.appendChild(he),he=fe.rename(he,M)),qh(fe,he,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),vc(fe,Ht,f),ui(l.dom,Ht))}),l.selection.setRng(un(Oe))},r1=(l,h)=>R(l)&&l.nodeName===(h==null?void 0:h.nodeName),bu=(l,h,f)=>{const C=l.getStyle(h,"list-style-type",!0),M=l.getStyle(f,"list-style-type",!0);return C===M},Ar=(l,h)=>l.className===h.className,wn=(l,h,f)=>r1(h,f)&&bu(l,h,f)&&Ar(h,f),ui=(l,h)=>{let f,C=h.nextSibling;if(wn(l,h,C)){const M=C;for(;f=M.firstChild;)h.appendChild(f);l.remove(M)}if(C=h.previousSibling,wn(l,h,C)){const M=C;for(;f=M.lastChild;)h.insertBefore(f,h.firstChild);l.remove(M)}},Qh=(l,h,f,C)=>{if(h.nodeName!==f){const M=l.dom.rename(h,f);vc(l.dom,M,C),$e(l,fc(f),M)}else vc(l.dom,h,C),$e(l,fc(f),h)},a1=(l,h,f,C)=>{if(h.classList.forEach((M,U,fe)=>{M.startsWith("tox-")&&(fe.remove(M),fe.length===0&&h.removeAttribute("class"))}),h.nodeName!==f){const M=l.dom.rename(h,f);vc(l.dom,M,C),$e(l,fc(f),M)}else vc(l.dom,h,C),$e(l,fc(f),h)},yu=(l,h,f,C,M)=>{const U=R(h);if(U&&h.nodeName===C&&!il(M)&&!Ds(h))li(l);else{vu(l,C,M);const fe=pc(l.selection.getRng()),Oe=U?[h,...f]:f,_e=U&&Ds(h)?a1:Qh;lo.each(Oe,he=>{_e(l,he,C,M)}),l.selection.setRng(un(fe))}},il=l=>"list-style-type"in l,c1=(l,h,f,C)=>{if(h!==l.getBody())if(h)if(h.nodeName===f&&!il(C)&&!Ds(h))li(l);else{const M=pc(l.selection.getRng());Ds(h)&&h.classList.forEach((fe,Oe,_e)=>{fe.startsWith("tox-")&&(_e.remove(fe),_e.length===0&&h.removeAttribute("class"))}),vc(l.dom,h,C);const U=l.dom.rename(h,f);ui(l.dom,U),l.selection.setRng(un(M)),vu(l,f,C),$e(l,fc(f),U)}else vu(l,f,C),$e(l,fc(f),h)},xu=(l,h,f)=>{const C=v(l);if(Jt(l,C))return;const M=Z(l),U=St(f)?f:{};M.length>0?yu(l,C,M,h,U):c1(l,C,h,U)},eg=lc.DOM,G2=(l,h)=>{const f=h.parentElement;if(f&&f.nodeName==="LI"&&f.firstChild===h){const C=f.previousSibling;C&&C.nodeName==="LI"?(C.appendChild(h),As(l,f)&&eg.remove(f)):eg.setStyle(f,"listStyleType","none")}if(R(f)){const C=f.previousSibling;C&&C.nodeName==="LI"&&C.appendChild(h)}},i1=(l,h)=>{const f=lo.grep(l.select("ol,ul",h));lo.each(f,C=>{G2(l,C)})},ll=(l,h,f,C)=>{let M=h.startContainer;const U=h.startOffset;if(oo(M)&&(f?U<M.data.length:U>0))return M;const fe=l.schema.getNonEmptyElements();uo(M)&&(M=jc.getNode(M,U));const Oe=new cc(M,C);f&&Jc(l.dom,M)&&Oe.next();const _e=f?Oe.next.bind(Oe):Oe.prev2.bind(Oe);for(;M=_e();)if(M.nodeName==="LI"&&!M.hasChildNodes()||fe[M.nodeName]||oo(M)&&M.data.length>0)return M;return null},l1=(l,h)=>{const f=h.childNodes;return f.length===1&&!R(f[0])&&l.isBlock(f[0])},tg=l=>Pe.from(l).map(Ie.fromDom).filter(Kr).exists(h=>To(h)&&!ts(["details"],$n(h))),So=(l,h)=>{l1(l,h)&&tg(h.firstChild)&&l.remove(h.firstChild,!0)},ho=(l,h,f)=>{let C;const M=l1(l,f)?f.firstChild:f;if(So(l,h),!As(l,h,!0))for(;C=h.firstChild;)M.appendChild(C)},Er=(l,h,f)=>{let C;const M=h.parentNode;if(!sa(l,h)||!sa(l,f))return;R(f.lastChild)&&(C=f.lastChild),M===f.lastChild&&kr(M.previousSibling)&&l.remove(M.previousSibling);const U=f.lastChild;U&&kr(U)&&h.hasChildNodes()&&l.remove(U),As(l,f,!0)&&Ys(Ie.fromDom(f)),ho(l,h,f),C&&f.appendChild(C);const Oe=os(Ie.fromDom(f),Ie.fromDom(h))?l.getParents(h,R,f):[];l.remove(h),co(Oe,_e=>{As(l,_e)&&_e!==l.getRoot()&&l.remove(_e)})},Su=(l,h,f)=>{Ys(Ie.fromDom(f)),Er(l.dom,h,f),l.selection.setCursorLocation(f,0)},og=(l,h,f,C)=>{const M=l.dom;if(M.isEmpty(C))Su(l,f,C);else{const U=pc(h);Er(M,f,C),l.selection.setRng(un(U))}},$o=(l,h,f,C)=>{const M=pc(h);Er(l.dom,f,C);const U=un(M);l.selection.setRng(U)},ue=(l,h)=>{const f=l.dom,C=l.selection,M=C.getStart(),U=Pt(l,M),fe=f.getParent(C.getStart(),"LI",U);if(fe){const Oe=fe.parentElement;if(Oe===l.getBody()&&As(f,Oe))return!0;const _e=dc(C.getRng()),he=f.getParent(ll(l,_e,h,U),"LI",U),Ht=he&&(h?f.isChildOf(fe,he):f.isChildOf(he,fe));if(he&&he!==fe&&!Ht)return l.undoManager.transact(()=>{h?og(l,_e,he,fe):el(fe)?rl(l):$o(l,_e,fe,he)}),!0;if(Ht&&!h&&he!==fe)return l.undoManager.transact(()=>{if(_e.commonAncestorContainer.parentElement){const Mo=pc(_e),is=_e.commonAncestorContainer.parentElement;ho(f,_e.commonAncestorContainer.parentElement,he),is.remove();const La=un(Mo);l.selection.setRng(La)}}),!0;if(!he&&!h&&_e.startOffset===0&&_e.endOffset===0)return l.undoManager.transact(()=>{li(l)}),!0}return!1},wu=(l,h,f)=>{const C=l.getParent(h.parentNode,l.isBlock,f);l.remove(h),C&&l.isEmpty(C)&&l.remove(C)},ng=(l,h)=>{const f=l.dom,C=l.selection.getStart(),M=Pt(l,C),U=f.getParent(C,f.isBlock,M);if(U&&f.isEmpty(U,void 0,{checkRootAsContent:!0})){const fe=dc(l.selection.getRng()),Oe=f.getParent(ll(l,fe,h,M),"LI",M);if(Oe){const _e=is=>ts(["td","th","caption"],$n(is)),he=is=>is.dom===M,Ht=ka(Ie.fromDom(Oe),_e,he),Mo=ka(Ie.fromDom(fe.startContainer),_e,he);return J(Ht,Mo,yn)?(l.undoManager.transact(()=>{const is=Oe.parentNode;wu(f,U,M),ui(f,is),l.selection.select(Oe,!0),l.selection.collapse(h)}),!0):!1}}return!1},bc=(l,h)=>ue(l,h)||ng(l,h),ut=l=>{const h=l.selection.getStart(),f=Pt(l,h);return l.dom.getParent(h,"LI,DT,DD",f)||ae(l).length>0},sg=l=>ut(l)?(l.undoManager.transact(()=>{let h=!0;const f=()=>h=!1;l.on("input",f),l.execCommand("Delete"),l.off("input",f),h&&l.dispatch("input"),i1(l.dom,l.getBody())}),!0):!1,ul=(l,h)=>{const f=l.selection;return!Jt(l,f.getNode())&&(f.isCollapsed()?bc(l,h):sg(l))},u1=l=>{l.on("ExecCommand",h=>{const f=h.command.toLowerCase();(f==="delete"||f==="forwarddelete")&&ut(l)&&i1(l.dom,l.getBody())}),l.on("keydown",h=>{h.keyCode===_s.BACKSPACE?ul(l,!1)&&h.preventDefault():h.keyCode===_s.DELETE&&ul(l,!0)&&h.preventDefault()})},j2=l=>({backspaceDelete:h=>{ul(l,h)}}),Ve=(l,h)=>{const f=v(l);f===null||Jt(l,f)||l.undoManager.transact(()=>{St(h.styles)&&l.dom.setStyles(f,h.styles),St(h.attrs)&&Aa(h.attrs,(C,M)=>l.dom.setAttrib(f,M,C))})},Hn=l=>{const h=Sr(Rd(l).split("")),f=Do(h,(C,M)=>{const U=C.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,M)*U});return ct(f,(C,M)=>C+M,0)},di=l=>{if(l--,l<0)return"";{const h=l%26,f=Math.floor(l/26),C=di(f),M=String.fromCharCode(65+h);return C+M}},rg=l=>/^[A-Z]+$/.test(l),ag=l=>/^[a-z]+$/.test(l),cg=l=>/^[0-9]+$/.test(l),ig=l=>cg(l)?2:rg(l)?0:ag(l)?1:mo(l)?3:4,lg=l=>{switch(ig(l)){case 2:return Pe.some({listStyleType:Pe.none(),start:l});case 0:return Pe.some({listStyleType:Pe.some("upper-alpha"),start:Hn(l).toString()});case 1:return Pe.some({listStyleType:Pe.some("lower-alpha"),start:Hn(l).toString()});case 3:return Pe.some({listStyleType:Pe.none(),start:""});case 4:return Pe.none()}},d1=l=>{const h=parseInt(l.start,10);return Sa(l.listStyleType,"upper-alpha")?di(h):Sa(l.listStyleType,"lower-alpha")?di(h).toLowerCase():l.start},m1=l=>{const h=v(l);!Bt(h)||Jt(l,h)||l.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:d1({start:l.dom.getAttrib(h,"start","1"),listStyleType:Pe.from(l.dom.getStyle(h,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:f=>{const C=f.getData();lg(C.start).each(M=>{l.execCommand("mceListUpdate",!1,{attrs:{start:M.start==="1"?"":M.start},styles:{"list-style-type":M.listStyleType.getOr("")}})}),f.close()}})},h1=(l,h)=>()=>{const f=v(l);return It(f)&&f.nodeName===h},ug=l=>{l.addCommand("mceListProps",()=>{m1(l)})},Qt=l=>{l.on("BeforeExecCommand",h=>{const f=h.command.toLowerCase();f==="indent"?fu(l):f==="outdent"&&rl(l)}),l.addCommand("InsertUnorderedList",(h,f)=>{xu(l,"UL",f)}),l.addCommand("InsertOrderedList",(h,f)=>{xu(l,"OL",f)}),l.addCommand("InsertDefinitionList",(h,f)=>{xu(l,"DL",f)}),l.addCommand("RemoveList",()=>{li(l)}),ug(l),l.addCommand("mceListUpdate",(h,f)=>{St(f)&&Ve(l,f)}),l.addQueryStateHandler("InsertUnorderedList",h1(l,"UL")),l.addQueryStateHandler("InsertOrderedList",h1(l,"OL")),l.addQueryStateHandler("InsertDefinitionList",h1(l,"DL"))};var g1=tinymce.util.Tools.resolve("tinymce.html.Node");const p1=l=>l.type===3,dl=l=>l.length===0,dg=l=>{const h=(M,U)=>{const fe=g1.create("li");co(M,Oe=>fe.append(Oe)),U?l.insert(fe,U,!0):l.append(fe)},f=(M,U)=>p1(U)?[...M,U]:!dl(M)&&!p1(U)?(h(M,U),[]):M,C=ct(l.children(),f,[]);dl(C)||h(C)},mg=l=>{l.on("PreInit",()=>{const{parser:h}=l;h.addNodeFilter("ul,ol",f=>co(f,dg))})},f1=l=>{l.on("keydown",h=>{h.keyCode!==_s.TAB||_s.metaKeyPressed(h)||l.undoManager.transact(()=>{(h.shiftKey?rl(l):fu(l))&&h.preventDefault()})})},Rt=l=>{Un(l)&&f1(l),u1(l)},Cu=(l,h)=>f=>{const C=M=>{f.setActive(si(M.parents,h)),f.setEnabled(!Jt(l,M.element)&&l.selection.isEditable())};return f.setEnabled(l.selection.isEditable()),lu(l,C)},Hs=l=>{const h=f=>()=>l.execCommand(f);l.hasPlugin("advlist")||(l.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:h("InsertOrderedList"),onSetup:Cu(l,"OL")}),l.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:h("InsertUnorderedList"),onSetup:Cu(l,"UL")}))},ml=(l,h)=>f=>lu(l,M=>f.setEnabled(si(M.parents,h)&&!Jt(l,M.element))),hl=l=>{const h={text:"List properties...",icon:"ordered-list",onAction:()=>l.execCommand("mceListProps"),onSetup:ml(l,"OL")};l.ui.registry.addMenuItem("listprops",h),l.ui.registry.addContextMenu("lists",{update:f=>{const C=v(l,f);return Bt(C)?["listprops"]:[]}})};var Tu=()=>{br.add("lists",l=>(cu(l),mg(l),l.hasPlugin("rtc",!0)?ug(l):(Rt(l),Qt(l)),Hs(l),hl(l),j2(l)))};Tu()})();(function(){const br=Object.getPrototypeOf,w=(e,t,o)=>{var n;return o(e,t.prototype)?!0:((n=e.constructor)===null||n===void 0?void 0:n.name)===t.name},yr=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&w(e,String,(o,n)=>n.isPrototypeOf(o))?"string":t},O=e=>t=>yr(t)===e,es=e=>t=>typeof t===e,xr=e=>t=>e===t,St=(e,t)=>zt(e)&&w(e,t,(o,n)=>br(o)===n),_=O("string"),zt=O("object"),Cs=e=>St(e,Object),It=O("array"),En=xr(null),qo=es("boolean"),sn=xr(void 0),$s=e=>e==null,_t=e=>!$s(e),Po=es("function"),Ro=es("number"),xe=(e,t)=>{if(It(e)){for(let o=0,n=e.length;o<n;++o)if(!t(e[o]))return!1;return!0}return!1},j=()=>{},Pe=e=>()=>e(),Ts=(e,t)=>(...o)=>e(t.apply(null,o)),Yr=(e,t)=>o=>e(t(o)),H=e=>()=>e,Ze=e=>e,ts=(e,t)=>e===t;function Ut(e,...t){return(...o)=>{const n=t.concat(o);return e.apply(null,n)}}const Do=e=>t=>!e(t),co=e=>()=>{throw new Error(e)},vn=e=>e(),rt=H(!1),ct=H(!0);class d{constructor(t,o){this.tag=t,this.value=o}static some(t){return new d(!0,t)}static none(){return d.singletonNone}fold(t,o){return this.tag?o(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?d.some(t(this.value)):d.none()}bind(t){return this.tag?t(this.value):d.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:d.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return _t(t)?d.some(t):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);const Ms=Array.prototype.slice,Xr=Array.prototype.indexOf,Zt=Array.prototype.push,Sr=(e,t)=>Xr.call(e,t),ks=(e,t)=>{const o=Sr(e,t);return o===-1?d.none():d.some(o)},ot=(e,t)=>Sr(e,t)>-1,yo=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const s=e[o];if(t(s,o))return!0}return!1},Ns=(e,t)=>{const o=[];for(let n=0;n<e;n++)o.push(t(n));return o},Sa=(e,t)=>{const o=[];for(let n=0;n<e.length;n+=t){const s=Ms.call(e,n,n+t);o.push(s)}return o},J=(e,t)=>{const o=e.length,n=new Array(o);for(let s=0;s<o;s++){const r=e[s];n[s]=t(r,s)}return n},le=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const s=e[o];t(s,o)}},Nc=(e,t)=>{for(let o=e.length-1;o>=0;o--){const n=e[o];t(n,o)}},wa=(e,t)=>{const o=[],n=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];(t(a,s)?o:n).push(a)}return{pass:o,fail:n}},it=(e,t)=>{const o=[];for(let n=0,s=e.length;n<s;n++){const r=e[n];t(r,n)&&o.push(r)}return o},Wt=(e,t,o)=>(Nc(e,(n,s)=>{o=t(o,n,s)}),o),io=(e,t,o)=>(le(e,(n,s)=>{o=t(o,n,s)}),o),Uc=(e,t,o)=>{for(let n=0,s=e.length;n<s;n++){const r=e[n];if(t(r,n))return d.some(r);if(o(r,n))break}return d.none()},vt=(e,t)=>Uc(e,t,rt),rn=(e,t)=>{for(let o=0,n=e.length;o<n;o++){const s=e[o];if(t(s,o))return d.some(o)}return d.none()},Xt=e=>{const t=[];for(let o=0,n=e.length;o<n;++o){if(!It(e[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+e);Zt.apply(t,e[o])}return t},Ie=(e,t)=>Xt(J(e,t)),bn=(e,t)=>{for(let o=0,n=e.length;o<n;++o){const s=e[o];if(t(s,o)!==!0)return!1}return!0},yn=e=>{const t=Ms.call(e,0);return t.reverse(),t},os=(e,t)=>it(e,o=>!ot(t,o)),Us=(e,t)=>{const o={};for(let n=0,s=e.length;n<s;n++){const r=e[n];o[String(r)]=t(r,n)}return o},qr=e=>[e],Ca=(e,t)=>{const o=Ms.call(e,0);return o.sort(t),o},Os=(e,t)=>t>=0&&t<e.length?d.some(e[t]):d.none(),an=e=>Os(e,0),wr=e=>Os(e,e.length-1),Ws=Po(Array.from)?Array.from:e=>Ms.call(e),Ho=(e,t)=>{for(let o=0;o<e.length;o++){const n=t(e[o],o);if(n.isSome())return n}return d.none()},Vt=Object.keys,$n=Object.hasOwnProperty,qt=(e,t)=>{const o=Vt(e);for(let n=0,s=o.length;n<s;n++){const r=o[n],a=e[r];t(a,r)}},Dt=(e,t)=>tc(e,(o,n)=>({k:n,v:t(o,n)})),tc=(e,t)=>{const o={};return qt(e,(n,s)=>{const r=t(n,s);o[r.k]=r.v}),o},Kr=e=>(t,o)=>{e[o]=t},Dn=(e,t,o,n)=>{qt(e,(s,r)=>{(t(s,r)?o:n)(s,r)})},Wc=(e,t)=>{const o={},n={};return Dn(e,t,Kr(o),Kr(n)),{t:o,f:n}},oc=(e,t)=>{const o={};return Dn(e,t,Kr(o),j),o},Kt=(e,t)=>{const o=[];return qt(e,(n,s)=>{o.push(t(n,s))}),o},lt=(e,t)=>{const o=Vt(e);for(let n=0,s=o.length;n<s;n++){const r=o[n],a=e[r];if(t(a,r,e))return d.some(a)}return d.none()},Ta=e=>Kt(e,Ze),pe=(e,t)=>Xe(e,t)?d.from(e[t]):d.none(),Xe=(e,t)=>$n.call(e,t),Ko=(e,t)=>Xe(e,t)&&e[t]!==void 0&&e[t]!==null,Lo=(e,t,o=ts)=>e.exists(n=>o(n,t)),Ma=(e,t,o=ts)=>Gs(e,t,o).getOr(e.isNone()&&t.isNone()),ns=e=>{const t=[],o=n=>{t.push(n)};for(let n=0;n<e.length;n++)e[n].each(o);return t},Jr=e=>{const t=[];for(let o=0;o<e.length;o++){const n=e[o];if(n.isSome())t.push(n.getOrDie());else return d.none()}return d.some(t)},Gs=(e,t,o)=>e.isSome()&&t.isSome()?d.some(o(e.getOrDie(),t.getOrDie())):d.none(),nc=(e,t,o,n)=>e.isSome()&&t.isSome()&&o.isSome()?d.some(n(e.getOrDie(),t.getOrDie(),o.getOrDie())):d.none(),Cr=(e,t)=>e!=null?d.some(t(e)):d.none(),zo=(e,t)=>e?d.some(t):d.none(),Qr=(e,t)=>e+t,ka=(e,t)=>e.substring(t),Gc=(e,t,o)=>t===""||e.length>=t.length&&e.substr(o,o+t.length)===t,sc=(e,t)=>rc(e,t)?ka(e,t.length):e,xn=(e,t)=>js(e,t)?e:Qr(e,t),To=(e,t,o=0,n)=>{const s=e.indexOf(t,o);return s!==-1?sn(n)?!0:s+t.length<=n:!1},rc=(e,t)=>Gc(e,t,0),js=(e,t)=>Gc(e,t,e.length-t.length),Oa=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),cn=e=>e.length>0,Tr=e=>!cn(e),ea=e=>{const t=parseFloat(e);return isNaN(t)?d.none():d.some(t)},Ys=e=>e.style!==void 0&&Po(e.style.getPropertyValue),_a=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,e),new Error(s)}return _s(n.childNodes[0])},jc=(e,t)=>{const n=(t||document).createElement(e);return _s(n)},cc=(e,t)=>{const n=(t||document).createTextNode(e);return _s(n)},_s=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},K={fromHtml:_a,fromTag:jc,fromText:cc,fromDom:_s,fromPoint:(e,t,o)=>d.from(e.dom.elementFromPoint(t,o)).map(_s)},Aa=typeof window<"u"?window:Function("return this;")(),Xc=(e,t)=>{let o=t??Aa;for(let n=0;n<e.length&&o!==void 0&&o!==null;++n)o=o[e[n]];return o},qc=(e,t)=>{const o=e.split(".");return Xc(o,t)},Kc=(e,t)=>qc(e,t),Ki=(e,t)=>{const o=Kc(e,t);if(o==null)throw new Error(e+" not available on this browser");return o},Mr=Object.getPrototypeOf,ta=e=>Ki("HTMLElement",e),Ji=e=>{const t=qc("ownerDocument.defaultView",e);return zt(e)&&(ta(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Mr(e).constructor.name))},ic=9,oa=11,ss=1,lc=3,lo=e=>e.dom.nodeName.toLowerCase(),uc=e=>e.dom.nodeType,rs=e=>t=>uc(t)===e,oo=e=>uo(e)&&Ji(e.dom),uo=rs(ss),R=rs(lc),Ce=rs(ic),Bt=rs(oa),Sn=e=>t=>uo(t)&&lo(t)===e,Xs=(e,t)=>{const o=e.dom;if(o.nodeType!==ss)return!1;{const n=o;if(n.matches!==void 0)return n.matches(t);if(n.msMatchesSelector!==void 0)return n.msMatchesSelector(t);if(n.webkitMatchesSelector!==void 0)return n.webkitMatchesSelector(t);if(n.mozMatchesSelector!==void 0)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Qi=e=>e.nodeType!==ss&&e.nodeType!==ic&&e.nodeType!==oa||e.childElementCount===0,kr=(e,t)=>{const o=t===void 0?document:t.dom;return Qi(o)?[]:J(o.querySelectorAll(e),K.fromDom)},el=(e,t)=>{const o=t===void 0?document:t.dom;return Qi(o)?d.none():d.from(o.querySelector(e)).map(K.fromDom)},nt=(e,t)=>e.dom===t.dom,na=(e,t)=>{const o=e.dom,n=t.dom;return o===n?!1:o.contains(n)},Nn=e=>K.fromDom(e.dom.ownerDocument),Jc=e=>Ce(e)?e:Nn(e),As=e=>K.fromDom(Jc(e).dom.documentElement),sa=e=>K.fromDom(Jc(e).dom.defaultView),Jo=e=>d.from(e.dom.parentNode).map(K.fromDom),cu=e=>Jo(e),Un=e=>d.from(e.dom.parentElement).map(K.fromDom),tl=(e,t)=>{const o=Po(t)?t:rt;let n=e.dom;const s=[];for(;n.parentNode!==null&&n.parentNode!==void 0;){const r=n.parentNode,a=K.fromDom(r);if(s.push(a),o(a)===!0)break;n=r}return s},Qc=e=>d.from(e.dom.offsetParent).map(K.fromDom),ol=e=>d.from(e.dom.nextSibling).map(K.fromDom),xo=e=>J(e.dom.childNodes,K.fromDom),Es=(e,t)=>{const o=e.dom.childNodes;return d.from(o[t]).map(K.fromDom)},Ea=e=>Es(e,0),ei=(e,t)=>({element:e,offset:t}),Da=(e,t)=>{const o=xo(e);return o.length>0&&t<o.length?ei(o[t],0):ei(e,t)},ti=e=>Bt(e)&&_t(e.dom.host),Zo=e=>K.fromDom(e.dom.getRootNode()),Or=e=>ti(e)?e:K.fromDom(Jc(e).dom.body),dc=e=>mc(e).isSome(),mc=e=>{const t=Zo(e);return ti(t)?d.some(t):d.none()},oi=e=>K.fromDom(e.dom.host),v=e=>{if(_t(e.target)){const t=K.fromDom(e.target);if(uo(t)&&T(t)&&e.composed&&e.composedPath){const o=e.composedPath();if(o)return an(o)}}return d.from(e.target)},T=e=>_t(e.dom.shadowRoot),E=e=>{const t=R(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const o=t.ownerDocument;return mc(K.fromDom(t)).fold(()=>o.body.contains(t),Yr(E,oi))},Z=()=>X(K.fromDom(document)),X=e=>{const t=e.dom.body;if(t==null)throw new Error("Body is not available yet");return K.fromDom(t)},ae=(e,t,o)=>{if(_(o)||qo(o)||Ro(o))e.setAttribute(t,o+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple")},Q=(e,t,o)=>{ae(e.dom,t,o)},Pt=(e,t)=>{const o=e.dom;qt(t,(n,s)=>{ae(o,s,n)})},De=(e,t)=>{const o=e.dom.getAttribute(t);return o===null?void 0:o},qe=(e,t)=>d.from(De(e,t)),Gt=(e,t)=>{const o=e.dom;return o&&o.hasAttribute?o.hasAttribute(t):!1},ht=(e,t)=>{e.dom.removeAttribute(t)},iu=e=>io(e.dom.attributes,(t,o)=>(t[o.name]=o.value,t),{}),ni=(e,t,o)=>{if(!_(o))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",o,":: Element ",e),new Error("CSS value must be a string: "+o);Ys(e)&&e.style.setProperty(t,o)},Bd=(e,t)=>{Ys(e)&&e.style.removeProperty(t)},Me=(e,t,o)=>{const n=e.dom;ni(n,t,o)},Ds=(e,t)=>{const o=e.dom;qt(t,(n,s)=>{ni(o,s,n)})},si=(e,t)=>{const o=e.dom;qt(t,(n,s)=>{n.fold(()=>{Bd(o,s)},r=>{ni(o,s,r)})})},Fo=(e,t)=>{const o=e.dom,s=window.getComputedStyle(o).getPropertyValue(t);return s===""&&!E(e)?Pd(o,t):s},Pd=(e,t)=>Ys(e)?e.style.getPropertyValue(t):"",Jt=(e,t)=>{const o=e.dom,n=Pd(o,t);return d.from(n).filter(s=>s.length>0)},lu=e=>{const t={},o=e.dom;if(Ys(o))for(let n=0;n<o.style.length;n++){const s=o.style.item(n);t[s]=o.style[s]}return t},uu=(e,t,o)=>{const n=K.fromTag(e);return Me(n,t,o),Jt(n,t).isSome()},$e=(e,t)=>{const o=e.dom;Bd(o,t),Lo(qe(e,"style").map(Oa),"")&&ht(e,"style")},nl=e=>e.dom.offsetWidth,Rd=(e,t)=>{const o=(c,i)=>{if(!Ro(i)&&!i.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+i);const u=c.dom;Ys(u)&&(u.style[e]=i+"px")},n=c=>{const i=t(c);if(i<=0||i===null){const u=Fo(c,e);return parseFloat(u)||0}return i},s=n,r=(c,i)=>io(i,(u,m)=>{const g=Fo(c,m),p=g===void 0?0:parseInt(g,10);return isNaN(p)?u:u+p},0);return{set:o,get:n,getOuter:s,aggregate:r,max:(c,i,u)=>{const m=r(c,u);return i>m?i-m:0}}},du=Rd("height",e=>{const t=e.dom;return E(e)?t.getBoundingClientRect().height:t.offsetHeight}),mo=e=>du.get(e),ra=e=>du.getOuter(e),Vh=(e,t)=>{const o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],n=du.max(e,t,o);Me(e,"max-height",n+"px")},zd=(e,t)=>({left:e,top:t,translate:(n,s)=>zd(e+n,t+s)}),bt=zd,Bh=e=>{const t=e.getBoundingClientRect();return bt(t.left,t.top)},ri=(e,t)=>e!==void 0?e:t!==void 0?t:0,as=e=>{const t=e.dom.ownerDocument,o=t.body,n=t.defaultView,s=t.documentElement;if(o===e.dom)return bt(o.offsetLeft,o.offsetTop);const r=ri(n==null?void 0:n.pageYOffset,s.scrollTop),a=ri(n==null?void 0:n.pageXOffset,s.scrollLeft),c=ri(s.clientTop,o.clientTop),i=ri(s.clientLeft,o.clientLeft);return qs(e).translate(a-i,r-c)},qs=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?bt(n.offsetLeft,n.offsetTop):E(e)?Bh(t):bt(0,0)},ai=Rd("width",e=>e.dom.offsetWidth),Ph=(e,t)=>ai.set(e,t),ln=e=>ai.get(e),hc=e=>ai.getOuter(e),Rh=(e,t)=>{const o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],n=ai.max(e,t,o);Me(e,"max-width",n+"px")},aa=e=>{let t=!1,o;return(...n)=>(t||(t=!0,o=e.apply(null,n)),o)},Zd=(e,t,o,n)=>{const s=e.isiOS()&&/ipad/i.test(o)===!0,r=e.isiOS()&&!s,a=e.isiOS()||e.isAndroid(),c=a||n("(pointer:coarse)"),i=s||!r&&a&&n("(min-device-width:768px)"),u=r||a&&!i,m=t.isSafari()&&e.isiOS()&&/safari/i.test(o)===!1,g=!u&&!i&&!m;return{isiPad:H(s),isiPhone:H(r),isTablet:H(i),isPhone:H(u),isTouch:H(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:H(m),isDesktop:H(g)}},zh=(e,t)=>{for(let o=0;o<e.length;o++){const n=e[o];if(n.test(t))return n}},Zh=(e,t)=>{const o=zh(e,t);if(!o)return{major:0,minor:0};const n=s=>Number(t.replace(o,"$"+s));return mu(n(1),n(2))},$h=(e,t)=>{const o=String(t).toLowerCase();return e.length===0?$d():Zh(e,o)},$d=()=>mu(0,0),mu=(e,t)=>({major:e,minor:t}),ci={nu:mu,detect:$h,unknown:$d},Nh=(e,t)=>Ho(t.brands,o=>{const n=o.brand.toLowerCase();return vt(e,s=>{var r;return n===((r=s.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(s=>({current:s.name,version:ci.nu(parseInt(o.version,10),0)}))}),Nd=(e,t)=>{const o=String(t).toLowerCase();return vt(e,n=>n.search(o))},Ud=(e,t)=>Nd(e,t).map(o=>{const n=ci.detect(o.versionRegexes,t);return{current:o.name,version:n}}),Uh=(e,t)=>Nd(e,t).map(o=>{const n=ci.detect(o.versionRegexes,t);return{current:o.name,version:n}}),hu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_r=e=>t=>To(t,e),Wh=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>To(e,"edge/")&&To(e,"chrome")&&To(e,"safari")&&To(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,hu],search:e=>To(e,"chrome")&&!To(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>To(e,"msie")||To(e,"trident")},{name:"Opera",versionRegexes:[hu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_r("firefox")},{name:"Safari",versionRegexes:[hu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(To(e,"safari")||To(e,"mobile/"))&&To(e,"applewebkit")}],Gh=[{name:"Windows",search:_r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>To(e,"iphone")||To(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:_r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_r("linux"),versionRegexes:[]},{name:"Solaris",search:_r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Wd={browsers:H(Wh),oses:H(Gh)},gu="Edge",Gd="Chromium",pu="IE",jd="Opera",ii="Firefox",Yd="Safari",jh=()=>Xd({current:void 0,version:ci.unknown()}),Xd=e=>{const t=e.current,o=e.version,n=s=>()=>t===s;return{current:t,version:o,isEdge:n(gu),isChromium:n(Gd),isIE:n(pu),isOpera:n(jd),isFirefox:n(ii),isSafari:n(Yd)}},qd={unknown:jh,nu:Xd,edge:H(gu),chromium:H(Gd),ie:H(pu),opera:H(jd),firefox:H(ii),safari:H(Yd)},Kd="Windows",Jd="iOS",Qd="Android",e1="Linux",sl="macOS",fu="Solaris",rl="FreeBSD",li="ChromeOS",Yh=()=>al({current:void 0,version:ci.unknown()}),al=e=>{const t=e.current,o=e.version,n=s=>()=>t===s;return{current:t,version:o,isWindows:n(Kd),isiOS:n(Jd),isAndroid:n(Qd),isMacOS:n(sl),isLinux:n(e1),isSolaris:n(fu),isFreeBSD:n(rl),isChromeOS:n(li)}},t1={unknown:Yh,nu:al,windows:H(Kd),ios:H(Jd),android:H(Qd),linux:H(e1),macos:H(sl),solaris:H(fu),freebsd:H(rl),chromeos:H(li)},Xh={detect:(e,t,o)=>{const n=Wd.browsers(),s=Wd.oses(),r=t.bind(i=>Nh(n,i)).orThunk(()=>Ud(n,e)).fold(qd.unknown,qd.nu),a=Uh(s,e).fold(t1.unknown,t1.nu),c=Zd(a,r,e,o);return{browser:r,os:a,deviceType:c}}},gc=e=>window.matchMedia(e).matches;let pc=aa(()=>Xh.detect(window.navigator.userAgent,d.from(window.navigator.userAgentData),gc));const un=()=>pc(),fc=(e,t,o,n,s,r,a)=>({target:e,x:t,y:o,stop:n,prevent:s,kill:r,raw:a}),o1=e=>{const t=K.fromDom(v(e).getOr(e.target)),o=()=>e.stopPropagation(),n=()=>e.preventDefault(),s=Ts(n,o);return fc(t,e.clientX,e.clientY,o,n,s,e)},n1=(e,t)=>o=>{e(o)&&t(o1(o))},s1=(e,t,o,n,s)=>{const r=n1(o,n);return e.dom.addEventListener(t,r,s),{unbind:Ut(cl,e,t,r,s)}},vc=(e,t,o,n)=>s1(e,t,o,n,!1),qh=(e,t,o,n)=>s1(e,t,o,n,!0),cl=(e,t,o,n)=>{e.dom.removeEventListener(t,o,n)},Ha=(e,t)=>{Jo(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Kh=(e,t)=>{ol(e).fold(()=>{Jo(e).each(s=>{cs(s,t)})},n=>{Ha(n,t)})},Jh=(e,t)=>{Ea(e).fold(()=>{cs(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},cs=(e,t)=>{e.dom.appendChild(t.dom)},vu=(e,t,o)=>{Es(e,o).fold(()=>{cs(e,t)},n=>{Ha(n,t)})},r1=(e,t)=>{le(t,o=>{cs(e,o)})},bu=e=>{e.dom.textContent="",le(xo(e),t=>{Ar(t)})},Ar=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},wn=e=>{const t=e!==void 0?e.dom:document,o=t.body.scrollLeft||t.documentElement.scrollLeft,n=t.body.scrollTop||t.documentElement.scrollTop;return bt(o,n)},ui=(e,t,o)=>{const s=(o!==void 0?o.dom:document).defaultView;s&&s.scrollTo(e,t)},Qh=e=>{const t=e===void 0?window:e;return un().browser.isFirefox()?d.none():d.from(t.visualViewport)},a1=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),yu=e=>{const t=e===void 0?window:e,o=t.document,n=wn(K.fromDom(o));return Qh(t).fold(()=>{const s=t.document.documentElement,r=s.clientWidth,a=s.clientHeight;return a1(n.left,n.top,r,a)},s=>a1(Math.max(s.pageLeft,n.left),Math.max(s.pageTop,n.top),s.width,s.height))},il=()=>K.fromDom(document),c1=(e,t)=>e.view(t).fold(H([]),n=>{const s=e.owner(n),r=c1(e,s);return[n].concat(r)}),xu=(e,t)=>{const o=t.owner(e),n=c1(t,o);return d.some(n)};var i1=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?d.none():d.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(K.fromDom)},owner:e=>Nn(e)});const ll=e=>{const t=il(),o=wn(t);return xu(e,i1).fold(Ut(as,e),s=>{const r=qs(e),a=Wt(s,(c,i)=>{const u=qs(i);return{left:c.left+u.left,top:c.top+u.top}},{left:0,top:0});return bt(a.left+r.left+o.left,a.top+r.top+o.top)})},l1=(e,t,o)=>({point:e,width:t,height:o}),tg=(e,t,o,n)=>({x:e,y:t,width:o,height:n}),So=(e,t,o,n)=>({x:e,y:t,width:o,height:n,right:e+o,bottom:t+n}),ho=e=>{const t=as(e),o=hc(e),n=ra(e);return So(t.left,t.top,o,n)},Er=e=>{const t=ll(e),o=hc(e),n=ra(e);return So(t.left,t.top,o,n)},Su=(e,t)=>{const o=Math.max(e.x,t.x),n=Math.max(e.y,t.y),s=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom),a=s-o,c=r-n;return So(o,n,a,c)},og=(e,t)=>io(t,(o,n)=>Su(o,n),e),$o=()=>yu(window),ue=e=>{let t=e;return{get:()=>t,set:s=>{t=s}}},wu=e=>{const t=ue(d.none()),o=()=>t.get().each(e);return{clear:()=>{o(),t.set(d.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:c=>{o(),t.set(d.some(c))}}},ng=()=>wu(e=>e.destroy()),bc=()=>wu(e=>e.unbind()),ut=()=>{const e=wu(j);return{...e,on:o=>e.get().each(o)}};var sg=tinymce.util.Tools.resolve("tinymce.ThemeManager");const ul=e=>{const t=r=>r(e),o=H(e),n=()=>s,s={tag:!0,inner:e,fold:(r,a)=>a(e),isValue:ct,isError:rt,map:r=>Ve.value(r(e)),mapError:n,bind:t,exists:t,forall:t,getOr:o,or:n,getOrThunk:o,orThunk:n,getOrDie:o,each:r=>{r(e)},toOptional:()=>d.some(e)};return s},u1=e=>{const t=()=>o,o={tag:!1,inner:e,fold:(n,s)=>n(e),isValue:rt,isError:ct,map:t,mapError:n=>Ve.error(n(e)),bind:t,exists:rt,forall:ct,getOr:Ze,or:Ze,getOrThunk:vn,orThunk:vn,getOrDie:co(String(e)),each:j,toOptional:d.none};return o},Ve={value:ul,error:u1,fromOption:(e,t)=>e.fold(()=>u1(t),ul)};var Hn;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(Hn||(Hn={}));const di=(e,t,o)=>e.stype===Hn.Error?t(e.serror):o(e.svalue),rg=e=>{const t=[],o=[];return le(e,n=>{di(n,s=>o.push(s),s=>t.push(s))}),{values:t,errors:o}},ag=(e,t)=>e.stype===Hn.Error?{stype:Hn.Error,serror:t(e.serror)}:e,cg=(e,t)=>e.stype===Hn.Value?{stype:Hn.Value,svalue:t(e.svalue)}:e,ig=(e,t)=>e.stype===Hn.Value?t(e.svalue):e,lg=(e,t)=>e.stype===Hn.Error?t(e.serror):e,d1=e=>({stype:Hn.Value,svalue:e}),m1=e=>({stype:Hn.Error,serror:e}),Qt={fromResult:e=>e.fold(m1,d1),toResult:e=>di(e,Ve.error,Ve.value),svalue:d1,partition:rg,serror:m1,bind:ig,bindError:lg,map:cg,mapError:ag,fold:di},g1=(e,t,o,n)=>({tag:"field",key:e,newKey:t,presence:o,prop:n}),p1=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),dl=(e,t,o)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return o(e.newKey,e.instantiator)}},dg=(e,t)=>t,mg=(e,t)=>Cs(e)&&Cs(t)?Rt(e,t):t,f1=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const o={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)Xe(s,r)&&(o[r]=e(o[r],s[r]))}return o},Rt=f1(mg),Cu=f1(dg),Hs=()=>({tag:"required",process:{}}),ml=e=>({tag:"defaultedThunk",process:e}),hl=e=>ml(H(e)),Tu=()=>({tag:"option",process:{}}),l=e=>({tag:"mergeWithThunk",process:e}),h=e=>l(H(e)),f=(e,t)=>e.length>0?Qt.svalue(Rt(t,Cu.apply(void 0,e))):Qt.svalue(t),C=e=>Ts(Qt.serror,Xt)(e),fe={consolidateObj:(e,t)=>{const o=Qt.partition(e);return o.errors.length>0?C(o.errors):f(o.values,t)},consolidateArr:e=>{const t=Qt.partition(e);return t.errors.length>0?C(t.errors):Qt.svalue(t.values)}},Oe=e=>zt(e)&&Vt(e).length>100?" removed due to size":JSON.stringify(e,null,2),_e=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:H("... (only showing first ten failures)")}]):e;return J(t,o=>"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo())},he=(e,t)=>Qt.serror([{path:e,getErrorInfo:t}]),Ht=(e,t,o)=>he(e,()=>'Could not find valid *required* value for "'+t+'" in '+Oe(o)),Mo=(e,t)=>he(e,()=>'Choice schema did not contain choice key: "'+t+'"'),is=(e,t,o)=>he(e,()=>'The chosen schema: "'+o+'" did not exist in branches: '+Oe(t)),La=(e,t)=>he(e,()=>"There are unsupported fields: ["+t.join(", ")+"] specified"),g7=(e,t)=>he(e,H(t)),gl=e=>{const t=(n,s)=>Qt.bindError(e(s),r=>g7(n,r)),o=H("val");return{extract:t,toString:o}},Y2=gl(Qt.svalue),p7=(e,t,o,n)=>pe(t,o).fold(()=>Ht(e,o,t),n),X2=(e,t,o,n)=>{const s=pe(e,t).getOrThunk(()=>o(e));return n(s)},f7=(e,t,o)=>o(pe(e,t)),v7=(e,t,o,n)=>{const s=pe(e,t).map(r=>r===!0?o(e):r);return n(s)},b7=(e,t,o,n,s)=>{const r=c=>s.extract(t.concat([n]),c),a=c=>c.fold(()=>Qt.svalue(d.none()),i=>{const u=s.extract(t.concat([n]),i);return Qt.map(u,d.some)});switch(e.tag){case"required":return p7(t,o,n,r);case"defaultedThunk":return X2(o,n,e.process,r);case"option":return f7(o,n,a);case"defaultedOptionThunk":return v7(o,n,e.process,a);case"mergeWithThunk":return X2(o,n,H({}),c=>{const i=Rt(e.process(o),c);return r(i)})}},y7=(e,t,o)=>{const n={},s=[];for(const r of o)dl(r,(a,c,i,u)=>{const m=b7(i,e,t,a,u);Qt.fold(m,g=>{s.push(...g)},g=>{n[c]=g})},(a,c)=>{n[a]=c(t)});return s.length>0?Qt.serror(s):Qt.svalue(n)},q2=e=>({extract:(n,s)=>e().extract(n,s),toString:()=>e().toString()}),x7=e=>Vt(oc(e,_t)),ls=e=>{const t=ye(e),o=Wt(e,(s,r)=>dl(r,a=>Rt(s,{[a]:!0}),H(s)),{});return{extract:(s,r)=>{const a=qo(r)?[]:x7(r),c=it(a,i=>!Ko(o,i));return c.length===0?t.extract(s,r):La(s,c)},toString:t.toString}},ye=e=>({extract:(n,s)=>y7(n,s,e),toString:()=>`obj{
`+J(e,s=>dl(s,(r,a,c,i)=>r+" -> "+i.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),yc=e=>({extract:(n,s)=>{const r=J(s,(a,c)=>e.extract(n.concat(["["+c+"]"]),a));return fe.consolidateArr(r)},toString:()=>"array("+e.toString()+")"}),v1=(e,t)=>{const o=t!==void 0?t:Ze;return{extract:(r,a)=>{const c=[];for(const i of e){const u=i.extract(r,a);if(u.stype===Hn.Value)return{stype:Hn.Value,svalue:o(u.svalue)};c.push(u)}return fe.consolidateArr(c)},toString:()=>"oneOf("+J(e,r=>r.toString()).join(", ")+")"}},S7=(e,t)=>{const o=(r,a)=>yc(gl(e)).extract(r,a);return{extract:(r,a)=>{const c=Vt(a),i=o(r,c);return Qt.bind(i,u=>{const m=J(u,g=>g1(g,g,Hs(),t));return ye(m).extract(r,a)})},toString:()=>"setOf("+t.toString()+")"}},w7=(e,t)=>{const o=aa(t);return{extract:(r,a)=>o().extract(r,a),toString:()=>o().toString()}},b1=Ts(yc,ye),Dr=H(Y2),y1=(e,t)=>gl(o=>{const n=typeof o;return e(o)?Qt.svalue(o):Qt.serror(`Expected type: ${t} but got: ${n}`)}),x1=y1(Ro,"number"),wo=y1(_,"string"),S1=y1(qo,"boolean"),hg=y1(Po,"function"),K2=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(t=>K2(e[t]));default:return!1}},C7=gl(e=>K2(e)?Qt.svalue(e):Qt.serror("Expected value to be acceptable for sending via postMessage")),T7=(e,t,o,n)=>pe(o,n).fold(()=>is(e,o,n),r=>r.extract(e.concat(["branch: "+n]),t)),pl=(e,t)=>({extract:(s,r)=>pe(r,e).fold(()=>Mo(s,e),c=>T7(s,r,t,c)),toString:()=>"chooseOn("+e+"). Possible values: "+Vt(t)}),M7=()=>yc(Y2),Mu=e=>gl(t=>e(t).fold(Qt.serror,Qt.svalue)),J2=(e,t)=>S7(o=>Qt.fromResult(e(o)),t),k7=(e,t,o)=>{const n=t.extract([e],o);return Qt.mapError(n,s=>({input:o,errors:s}))},jt=(e,t,o)=>Qt.toResult(k7(e,t,o)),Hr=e=>e.fold(t=>{throw new Error(fl(t))},Ze),Ln=(e,t,o)=>Hr(jt(e,t,o)),fl=e=>`Errors: 
`+_e(e.errors).join(`
`)+`

Input object: `+Oe(e.input),Fn=(e,t)=>pl(e,Dt(t,ye)),Q2=(e,t)=>w7(e,t),No=g1,Cn=p1,gg=e=>Mu(t=>ot(e,t)?Ve.value(t):Ve.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),$=e=>No(e,e,Hs(),Dr()),us=(e,t)=>No(e,e,Hs(),t),O7=e=>us(e,x1),ko=e=>us(e,wo),Ks=(e,t)=>No(e,e,Hs(),gg(t)),Js=e=>us(e,hg),_7=(e,t)=>No(e,e,Tu(),gl(o=>Qt.serror("The field: "+e+" is forbidden. "+t))),xc=(e,t)=>No(e,e,Hs(),ye(t)),ev=(e,t)=>No(e,e,Hs(),b1(t)),Wn=(e,t)=>No(e,e,Hs(),yc(t)),Je=e=>No(e,e,Tu(),Dr()),ca=(e,t)=>No(e,e,Tu(),t),ku=e=>ca(e,x1),no=e=>ca(e,wo),tv=(e,t)=>ca(e,gg(t)),Sc=e=>ca(e,hg),ov=(e,t)=>ca(e,yc(t)),ds=(e,t)=>ca(e,ye(t)),A7=(e,t)=>ca(e,ls(t)),F=(e,t)=>No(e,e,hl(t),Dr()),Ls=(e,t,o)=>No(e,e,hl(t),o),pg=(e,t)=>Ls(e,t,x1),$t=(e,t)=>Ls(e,t,wo),ia=(e,t,o)=>Ls(e,t,gg(o)),Qo=(e,t)=>Ls(e,t,S1),yt=(e,t)=>Ls(e,t,hg),E7=(e,t)=>Ls(e,t,C7),mi=(e,t,o)=>Ls(e,t,yc(o)),fg=(e,t,o)=>Ls(e,t,ye(o)),Qs={generate:e=>{if(!It(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],o={};return le(e,(n,s)=>{const r=Vt(n);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],c=n[a];if(o[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!It(c))throw new Error("case arguments must be an array");t.push(a),o[a]=(...i)=>{const u=i.length;if(u!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+u);return{fold:(...g)=>{if(g.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+g.length);return g[s].apply(null,i)},match:g=>{const p=Vt(g);if(t.length!==p.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+p.join(","));if(!bn(t,y=>ot(p,y)))throw new Error("Not all branches were specified when using match. Specified: "+p.join(", ")+`
Required: `+t.join(", "));return g[a].apply(null,i)},log:g=>{console.log(g,{constructors:t,constructor:a,params:i})}}}}),o}};Qs.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const D7=e=>{const t=[],o=[];return le(e,n=>{n.fold(s=>{t.push(s)},s=>{o.push(s)})}),{errors:t,values:o}},H7=(e,t)=>{const o={};return qt(e,(n,s)=>{ot(t,s)||(o[s]=n)}),o},L7=(e,t)=>({[e]:t}),F7=e=>{const t={};return le(e,o=>{t[o.key]=o.value}),t},I7=(e,t)=>H7(e,t),hi=(e,t)=>L7(e,t),vl=e=>F7(e),V7=(e,t)=>e.length===0?Ve.value(t):Ve.value(Rt(t,Cu.apply(void 0,e))),B7=e=>Ve.error(Xt(e)),P7=(e,t)=>{const o=D7(e);return o.errors.length>0?B7(o.errors):V7(o.values,t)},nv=e=>Po(e)?e:rt,sv=(e,t,o)=>{let n=e.dom;const s=nv(o);for(;n.parentNode;){n=n.parentNode;const r=K.fromDom(n),a=t(r);if(a.isSome())return a;if(s(r))break}return d.none()},w1=(e,t,o)=>{const n=t(e),s=nv(o);return n.orThunk(()=>s(e)?d.none():sv(e,t,s))},rv=(e,t)=>nt(e.element,t.event.target),R7={can:ct,abort:rt,run:j},bl=e=>{if(!Ko(e,"can")&&!Ko(e,"abort")&&!Ko(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...R7,...e}},z7=(e,t)=>(...o)=>io(e,(n,s)=>n&&t(s).apply(void 0,o),!0),Z7=(e,t)=>(...o)=>io(e,(n,s)=>n||t(s).apply(void 0,o),!1),$7=e=>Po(e)?{can:ct,abort:rt,run:e}:e,N7=e=>{const t=z7(e,s=>s.can),o=Z7(e,s=>s.abort);return{can:t,abort:o,run:(...s)=>{le(e,r=>{r.run.apply(void 0,s)})}}},Uo=H,Fa=Uo("touchstart"),Ou=Uo("touchmove"),gi=Uo("touchend"),av=Uo("touchcancel"),ms=Uo("mousedown"),C1=Uo("mousemove"),T1=Uo("mouseout"),vg=Uo("mouseup"),la=Uo("mouseover"),Lr=Uo("focusin"),cv=Uo("focusout"),Fr=Uo("keydown"),U7=Uo("keyup"),Ia=Uo("input"),yl=Uo("change"),pi=Uo("click"),W7=Uo("transitioncancel"),_u=Uo("transitionend"),G7=Uo("transitionstart"),j7=Uo("selectstart"),so=e=>H("alloy."+e),Y7={tap:so("tap")},wc=so("focus"),Au=so("blur.post"),bg=so("paste.post"),fi=so("receive"),hs=so("execute"),Eu=so("focus.item"),Du=Y7.tap,X7=so("longpress"),M1=so("sandbox.close"),yg=so("typeahead.cancel"),k1=so("system.init"),q7=so("system.touchmove"),K7=so("system.touchend"),xg=so("system.scroll"),Hu=so("system.resize"),Ir=so("system.attached"),ua=so("system.detached"),vi=so("system.dismissRequested"),iv=so("system.repositionRequested"),O1=so("focusmanager.shifted"),Sg=so("slotcontainer.visibility"),lv=so("system.external.element.scroll"),uv=so("change.tab"),dv=so("dismiss.tab"),wg=so("highlight"),Cg=so("dehighlight"),Re=(e,t)=>{Mg(e,e.element,t,{})},me=(e,t,o)=>{Mg(e,e.element,t,o)},bi=e=>{Re(e,hs())},Tg=(e,t,o)=>{Mg(e,t,o,{})},Mg=(e,t,o,n)=>{const s={target:t,...n};e.getSystem().triggerEvent(o,t,s)},J7=(e,t,o,n)=>{const s={...n,target:t};e.getSystem().triggerEvent(o,t,s)},mv=(e,t,o,n)=>{e.getSystem().triggerEvent(o,t,n.event)},wt=e=>vl(e),hv=(e,t)=>({key:e,value:bl({abort:t})}),Q7=(e,t)=>({key:e,value:bl({can:t})}),eC=e=>({key:e,value:bl({run:(t,o)=>{o.event.prevent()}})}),z=(e,t)=>({key:e,value:bl({run:t})}),kg=(e,t,o)=>({key:e,value:bl({run:(n,s)=>{t.apply(void 0,[n,s].concat(o))}})}),tC=e=>t=>z(e,t),_1=e=>t=>({key:e,value:bl({run:(o,n)=>{rv(o,n)&&t(o,n)}})}),oC=(e,t)=>z(e,(o,n)=>{o.getSystem().getByUid(t).each(s=>{mv(s,s.element,e,n)})}),xl=(e,t,o)=>{const n=t.partUids[o];return oC(e,n)},Og=(e,t)=>z(e,(o,n)=>{const s=n.event,r=o.getSystem().getByDom(s.target).getOrThunk(()=>w1(s.target,c=>o.getSystem().getByDom(c).toOptional(),rt).getOr(o));t(o,r,n)}),yi=e=>z(e,(t,o)=>{o.cut()}),nC=e=>z(e,(t,o)=>{o.stop()}),Sl=(e,t)=>_1(e)(t),Ct=_1(Ir()),da=_1(ua()),gv=_1(k1()),Va=tC(hs()),sC=(e,t,o)=>{const n=o.toString(),s=n.indexOf(")")+1,r=n.indexOf("("),a=n.substring(r+1,s-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:_g(a.slice(0,1).concat(a.slice(3)))}),e},_g=e=>J(e,t=>js(t,"/*")?t.substring(0,t.length-2):t),Ag=(e,t)=>{const o=e.toString(),n=o.indexOf(")")+1,s=o.indexOf("("),r=o.substring(s+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:_g(r)}),e},rC=(e,t)=>{const o=t.toString(),n=o.indexOf(")")+1,s=o.indexOf("("),r=o.substring(s+1,n-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:_g(r.slice(1))}),e},er=e=>({classes:sn(e.classes)?[]:e.classes,attributes:sn(e.attributes)?{}:e.attributes,styles:sn(e.styles)?{}:e.styles}),aC=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),cC=(e,t,o)=>Va(n=>{o(n,e,t)}),Eg=(e,t,o)=>gv((n,s)=>{o(n,e,t)}),iC=(e,t,o,n,s,r)=>{const a=ls(e),c=ds(t,[A7("config",e)]);return pv(a,c,t,o,n,s,r)},lC=(e,t,o,n,s,r)=>{const a=e,c=ds(t,[ca("config",e)]);return pv(a,c,t,o,n,s,r)},uC=(e,t,o)=>sC((s,...r)=>{const a=[s].concat(r);return s.config({name:H(e)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+o)},c=>{const i=Array.prototype.slice.call(a,1);return t.apply(void 0,[s,c.config,c.state].concat(i))})},o,t),dC=e=>({key:e,value:void 0}),pv=(e,t,o,n,s,r,a)=>{const c=g=>Ko(g,o)?g[o]():d.none(),i=Dt(s,(g,p)=>uC(o,g,p)),m={...Dt(r,(g,p)=>Ag(g,p)),...i,revoke:Ut(dC,o),config:g=>{const p=Ln(o+"-config",e,g);return{key:o,value:{config:p,me:m,configAsRaw:aa(()=>Ln(o+"-config",e,g)),initialConfig:g,state:a}}},schema:H(t),exhibit:(g,p)=>Gs(c(g),pe(n,"exhibit"),(b,y)=>y(p,b.config,b.state)).getOrThunk(()=>er({})),name:H(o),handlers:g=>c(g).map(p=>pe(n,"events").getOr(()=>({}))(p.config,p.state)).getOr({})};return m},Vr={init:()=>gs({readState:H("No State required")})},gs=e=>e,W=e=>vl(e),mC=ls([$("fields"),$("name"),F("active",{}),F("apis",{}),F("state",Vr),F("extra",{})]),Io=e=>{const t=Ln("Creating behaviour: "+e.name,mC,e);return iC(t.fields,t.name,t.active,t.apis,t.extra,t.state)},hC=ls([$("branchKey"),$("branches"),$("name"),F("active",{}),F("apis",{}),F("state",Vr),F("extra",{})]),fv=e=>{const t=Ln("Creating behaviour: "+e.name,hC,e);return lC(Fn(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},gC=H(void 0),Dg=(e,t)=>{const o=De(e,t);return o===void 0||o===""?[]:o.split(" ")},pC=(e,t,o)=>{const s=Dg(e,t).concat([o]);return Q(e,t,s.join(" ")),!0},fC=(e,t,o)=>{const n=it(Dg(e,t),s=>s!==o);return n.length>0?Q(e,t,n.join(" ")):ht(e,t),!1},wl=e=>e.dom.classList!==void 0,Hg=e=>Dg(e,"class"),vv=(e,t)=>pC(e,"class",t),bv=(e,t)=>fC(e,"class",t),vC=(e,t)=>ot(Hg(e),t)?bv(e,t):vv(e,t),ro=(e,t)=>{wl(e)?e.dom.classList.add(t):vv(e,t)},yv=e=>{(wl(e)?e.dom.classList:Hg(e)).length===0&&ht(e,"class")},Yt=(e,t)=>{wl(e)?e.dom.classList.remove(t):bv(e,t),yv(e)},bC=(e,t)=>{const o=wl(e)?e.dom.classList.toggle(t):vC(e,t);return yv(e),o},In=(e,t)=>wl(e)&&e.dom.classList.contains(t),xi=(e,t)=>{le(t,o=>{ro(e,o)})},tr=(e,t)=>{le(t,o=>{Yt(e,o)})},yC=(e,t)=>{le(t,o=>{bC(e,o)})},xC=(e,t)=>bn(t,o=>In(e,o)),SC=e=>{const t=e.dom.classList,o=new Array(t.length);for(let n=0;n<t.length;n++){const s=t.item(n);s!==null&&(o[n]=s)}return o},xv=e=>wl(e)?SC(e):Hg(e),or=(e,t,o,n,s)=>{const r=a=>a+"px";return{position:e,left:t.map(r),top:o.map(r),right:n.map(r),bottom:s.map(r)}},wC=e=>({...e,position:d.some(e.position)}),Sv=(e,t)=>{si(e,wC(t))},Lg=e=>(Lo(Jt(e,"position"),"fixed")?d.none():Qc(e)).orThunk(()=>{const n=K.fromTag("span");return Jo(e).bind(s=>{cs(s,n);const r=Qc(n);return Ar(n),r})}),wv=e=>Lg(e).map(as).getOrThunk(()=>bt(0,0)),CC=(e,t)=>{const o=e.element;ro(o,t.transitionClass),Yt(o,t.fadeOutClass),ro(o,t.fadeInClass),t.onShow(e)},TC=(e,t)=>{const o=e.element;ro(o,t.transitionClass),Yt(o,t.fadeInClass),ro(o,t.fadeOutClass),t.onHide(e)},MC=(e,t)=>e.y<t.bottom&&e.bottom>t.y,Cv=(e,t)=>e.y>=t.y,Tv=(e,t)=>e.bottom<=t.bottom,Fg=(e,t,o)=>({location:"top",leftX:t,topY:o.bounds.y-e.y}),Ig=(e,t,o)=>({location:"bottom",leftX:t,bottomY:e.bottom-o.bounds.bottom}),Vg=e=>e.box.x-e.win.x,kC=(e,t,o)=>{const n=t.win,s=t.box,r=Vg(t);return Ho(e,a=>{switch(a){case"bottom":return Tv(s,o.bounds)?d.none():d.some(Ig(n,r,o));case"top":return Cv(s,o.bounds)?d.none():d.some(Fg(n,r,o));default:return d.none()}}).getOr({location:"no-dock"})},OC=(e,t,o)=>bn(e,n=>{switch(n){case"bottom":return Tv(t,o.bounds);case"top":return Cv(t,o.bounds)}}),_C=(e,t)=>{const o=t.optScrollEnv.fold(H(e.bounds.y),n=>n.scrollElmTop+(e.bounds.y-n.currentScrollTop));return bt(e.bounds.x,o)},AC=(e,t)=>{const o=t.optScrollEnv.fold(H(e.y),n=>e.y+n.currentScrollTop-n.scrollElmTop);return bt(e.x,o)},Bg=(e,t,o)=>o.getInitialPos().map(n=>{const s=_C(n,t);return{box:So(s.left,s.top,ln(e),mo(e)),location:n.location}}),Mv=(e,t,o,n,s)=>{const r=AC(t,o),a=So(r.left,r.top,t.width,t.height);n.setInitialPos({style:lu(e),position:Fo(e,"position")||"static",bounds:a,location:s.location})},EC=(e,t,o,n,s)=>{n.getInitialPos().fold(()=>Mv(e,t,o,n,s),()=>j)},kv=(e,t,o)=>o.getInitialPos().bind(n=>{var s;switch(o.clearInitialPos(),n.position){case"static":return d.some({morph:"static"});case"absolute":const r=Lg(e).getOr(Z()),a=ho(r),c=(s=r.dom.scrollTop)!==null&&s!==void 0?s:0;return d.some({morph:"absolute",positionCss:or("absolute",pe(n.style,"left").map(i=>t.x-a.x),pe(n.style,"top").map(i=>t.y-a.y+c),pe(n.style,"right").map(i=>a.right-t.right),pe(n.style,"bottom").map(i=>a.bottom-t.bottom))});default:return d.none()}}),DC=(e,t,o)=>Bg(e,t,o).filter(({box:n})=>OC(o.getModes(),n,t)).bind(({box:n})=>kv(e,n,o)),Pg=e=>{switch(e.location){case"top":return d.some({morph:"fixed",positionCss:or("fixed",d.some(e.leftX),d.some(e.topY),d.none(),d.none())});case"bottom":return d.some({morph:"fixed",positionCss:or("fixed",d.some(e.leftX),d.none(),d.none(),d.some(e.bottomY))});default:return d.none()}},HC=(e,t,o)=>{const n=ho(e),s=$o(),r=kC(o.getModes(),{win:s,box:n},t);return r.location==="top"||r.location==="bottom"?(Mv(e,n,t,o,r),Pg(r)):d.none()},LC=(e,t,o)=>DC(e,t,o).orThunk(()=>t.optScrollEnv.bind(n=>Bg(e,t,o)).bind(({box:n,location:s})=>{const r=$o(),a=Vg({win:r,box:n}),c=s==="top"?Fg(r,a,t):Ig(r,a,t);return Pg(c)})),FC=(e,t,o)=>{const n=e.element;return Lo(Jt(n,"position"),"fixed")?LC(n,t,o):HC(n,t,o)},IC=(e,t,o)=>{const n=e.element;return Bg(n,t,o).bind(({box:s})=>kv(n,s,o))},VC=(e,t,o,n)=>{const s=ho(e),r=$o(),a=Vg({win:r,box:s}),c=n(r,a,t);return c.location==="bottom"||c.location==="top"?(EC(e,s,t,o,c),Pg(c)):d.none()},Ov=(e,t,o)=>{o.setDocked(!1),le(["left","right","top","bottom","position"],n=>$e(e.element,n)),t.onUndocked(e)},Rg=(e,t,o,n)=>{const s=n.position==="fixed";o.setDocked(s),Sv(e.element,n),(s?t.onDocked:t.onUndocked)(e)},_v=(e,t,o,n,s=!1)=>{t.contextual.each(r=>{r.lazyContext(e).each(a=>{const c=MC(a,n.bounds);c!==o.isVisible()&&(o.setVisible(c),s&&!c?(xi(e.element,[r.fadeOutClass]),r.onHide(e)):(c?CC:TC)(e,r))})})},Av=(e,t,o,n,s)=>{_v(e,t,o,n,!0),Rg(e,t,o,s.positionCss)},BC=(e,t,o,n,s)=>{switch(s.morph){case"static":return Ov(e,t,o);case"absolute":return Rg(e,t,o,s.positionCss);case"fixed":return Av(e,t,o,n,s)}},PC=(e,t,o)=>{const n=t.lazyViewport(e);_v(e,t,o,n),FC(e,n,o).each(s=>{BC(e,t,o,n,s)})},RC=(e,t,o)=>{const n=e.element;o.setDocked(!1);const s=t.lazyViewport(e);IC(e,s,o).each(r=>{switch(r.morph){case"static":{Ov(e,t,o);break}case"absolute":{Rg(e,t,o,r.positionCss);break}}}),o.setVisible(!0),t.contextual.each(r=>{tr(n,[r.fadeInClass,r.fadeOutClass,r.transitionClass]),r.onShow(e)}),A1(e,t,o)},A1=(e,t,o)=>{e.getSystem().isConnected()&&PC(e,t,o)},Ev=(e,t,o)=>{o.isDocked()&&RC(e,t,o)},Dv=e=>(t,o,n)=>{const s=o.lazyViewport(t);VC(t.element,s,n,e).each(a=>{Av(t,o,n,s,a)})},zC=Dv(Fg),ZC=Dv(Ig);var $C=Object.freeze({__proto__:null,refresh:A1,reset:Ev,isDocked:(e,t,o)=>o.isDocked(),getModes:(e,t,o)=>o.getModes(),setModes:(e,t,o,n)=>o.setModes(n),forceDockToTop:zC,forceDockToBottom:ZC}),NC=Object.freeze({__proto__:null,events:(e,t)=>wt([Sl(_u(),(o,n)=>{e.contextual.each(s=>{In(o.element,s.transitionClass)&&(tr(o.element,[s.transitionClass,s.fadeInClass]),(t.isVisible()?s.onShown:s.onHidden)(o)),n.stop()})}),z(xg(),(o,n)=>{A1(o,e,t)}),z(lv(),(o,n)=>{A1(o,e,t)}),z(Hu(),(o,n)=>{Ev(o,e,t)})])});const UC=(e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,xo(K.fromDom(n))},zg=e=>e.dom.innerHTML,Cl=(e,t)=>{const n=Nn(e).dom,s=K.fromDom(n.createDocumentFragment()),r=UC(t,n);r1(s,r),bu(e),cs(e,s)},WC=e=>{const t=K.fromTag("div"),o=K.fromDom(e.dom.cloneNode(!0));return cs(t,o),zg(t)},Hv=(e,t)=>K.fromDom(e.dom.cloneNode(t)),GC=e=>Hv(e,!1),jC=e=>Hv(e,!0),YC=e=>{if(ti(e))return"#shadow-root";{const t=GC(e);return WC(t)}},Cc=e=>YC(e),Lv="unknown";var Tl;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(Tl||(Tl={}));const Zg=ue({}),XC=(e,t)=>{const o=[],n=new Date().getTime();return{logEventCut:(s,r,a)=>{o.push({outcome:"cut",target:r,purpose:a})},logEventStopped:(s,r,a)=>{o.push({outcome:"stopped",target:r,purpose:a})},logNoParent:(s,r,a)=>{o.push({outcome:"no-parent",target:r,purpose:a})},logEventNoHandlers:(s,r)=>{o.push({outcome:"no-handlers-left",target:r})},logEventResponse:(s,r,a)=>{o.push({outcome:"response",purpose:a,target:r})},write:()=>{const s=new Date().getTime();ot(["mousemove","mouseover","mouseout",k1()],e)||console.log(e,{event:e,time:s-n,target:t.dom,sequence:J(o,r=>ot(["cut","stopped","response"],r.outcome)?"{"+r.purpose+"} "+r.outcome+" at ("+Cc(r.target)+")":r.outcome)})}}},qC=(e,t,o)=>{switch(pe(Zg.get(),e).orThunk(()=>{const s=Vt(Zg.get());return Ho(s,r=>e.indexOf(r)>-1?d.some(Zg.get()[r]):d.none())}).getOr(Tl.NORMAL)){case Tl.NORMAL:return o(eT());case Tl.LOGGING:{const s=XC(e,t),r=o(s);return s.write(),r}case Tl.STOP:return!0}},KC=["alloy/data/Fields","alloy/debugging/Debugging"],JC=()=>{const e=new Error;if(e.stack!==void 0){const t=e.stack.split(`
`);return vt(t,o=>o.indexOf("alloy")>0&&!yo(KC,n=>o.indexOf(n)>-1)).getOr(Lv)}else return Lv},QC={logEventCut:j,logEventStopped:j,logNoParent:j,logEventNoHandlers:j,logEventResponse:j,write:j},$g=(e,t,o)=>qC(e,t,o),eT=H(QC),Fv=H([$("menu"),$("selectedMenu")]),Ng=H([$("item"),$("selectedItem")]);H(ye(Ng().concat(Fv())));const tT=H(ye(Ng())),oT=xc("initSize",[$("numColumns"),$("numRows")]),nT=()=>us("markers",tT()),E1=()=>xc("markers",[$("backgroundMenu")].concat(Fv()).concat(Ng())),Si=e=>xc("markers",J(e,$)),D1=(e,t,o)=>(JC(),No(t,t,o,Mu(n=>Ve.value((...s)=>n.apply(void 0,s))))),je=e=>D1("onHandler",e,hl(j)),Gn=e=>D1("onKeyboardHandler",e,hl(d.none)),wi=e=>D1("onHandler",e,Hs()),Ug=e=>D1("onKeyboardHandler",e,Hs()),Mt=(e,t)=>Cn(e,H(t)),Iv=e=>Cn(e,Ze),Vv=H(oT);var sT=[ds("contextual",[ko("fadeInClass"),ko("fadeOutClass"),ko("transitionClass"),Js("lazyContext"),je("onShow"),je("onShown"),je("onHide"),je("onHidden")]),yt("lazyViewport",()=>({bounds:$o(),optScrollEnv:d.none()})),mi("modes",["top","bottom"],wo),je("onDocked"),je("onUndocked")],rT=Object.freeze({__proto__:null,init:e=>{const t=ue(!1),o=ue(!0),n=ut(),s=ue(e.modes),r=()=>`docked:  ${t.get()}, visible: ${o.get()}, modes: ${s.get().join(",")}`;return gs({isDocked:t.get,setDocked:t.set,getInitialPos:n.get,setInitialPos:n.set,clearInitialPos:n.clear,isVisible:o.get,setVisible:o.set,getModes:s.get,setModes:s.set,readState:r})}});const Lt=Io({fields:sT,name:"docking",active:NC,apis:$C,state:rT}),aT=(e,t,o)=>nt(t,e.element)&&!nt(t,o),cT=wt([Q7(wc(),(e,t)=>{const o=t.event,n=o.originator,s=o.target;return aT(e,n,s)?(console.warn(wc()+` did not get interpreted by the desired target. 
Originator: `+Cc(n)+`
Target: `+Cc(s)+`
Check the `+wc()+" event handlers"),!1):!0})]);var iT=Object.freeze({__proto__:null,events:cT});const Ml=(e,t,o,n)=>{const s=e+t;return s>n?o:s<o?n:s},nr=(e,t,o)=>Math.min(Math.max(e,t),o),lT=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Bv=0;const se=e=>{const o=new Date().getTime(),n=Math.floor(lT()*1e9);return Bv++,e+"_"+n+Bv+String(o)},uT=H("alloy-id-"),dT=H("data-alloy-id"),mT=uT(),Pv=dT(),hT=(e,t)=>{const o=se(mT+e);return Wg(t,o),o},Wg=(e,t)=>{Object.defineProperty(e.dom,Pv,{value:t,writable:!0})},Lu=e=>{const t=uo(e)?e.dom[Pv]:null;return d.from(t)},kl=e=>se(e),gT=Ze,H1=e=>{const t=s=>`The component must be in a context to execute: ${s}`+(e?`
`+Cc(e().element)+" is not in context.":""),o=s=>()=>{throw new Error(t(s))},n=s=>()=>{console.warn(t(s))};return{debugInfo:H("fake"),triggerEvent:n("triggerEvent"),triggerFocus:n("triggerFocus"),triggerEscape:n("triggerEscape"),broadcast:n("broadcast"),broadcastOn:n("broadcastOn"),broadcastEvent:n("broadcastEvent"),build:o("build"),buildOrPatch:o("buildOrPatch"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:rt}},pT=H1(),L1=se("alloy-premade"),Rv=e=>(Object.defineProperty(e.element.dom,L1,{value:e.uid,writable:!0}),hi(L1,e)),fT=e=>Xe(e.dom,L1),zv=e=>pe(e,L1),F1=e=>rC((t,...o)=>e(t.getApis(),t,...o),e),vT=(e,t)=>{const o=J(t,s=>ds(s.name(),[$("config"),F("state",Vr)])),n=jt("component.behaviours",ye(o),e.behaviours).fold(s=>{throw new Error(fl(s)+`
Complete spec:
`+JSON.stringify(e,null,2))},Ze);return{list:t,data:Dt(n,s=>{const r=s.map(a=>({config:a.config,state:a.state.init(a.config)}));return H(r)})}},bT=e=>e.list,yT=e=>e.data,Zv=(e,t)=>{const o={};return qt(e,(n,s)=>{qt(n,(r,a)=>{const c=pe(o,a).getOr([]);o[a]=c.concat([t(s,r)])})}),o},xT=(e,t,o,n)=>{const s={...t};le(o,m=>{s[m.name()]=m.exhibit(e,n)});const r=Zv(s,(m,g)=>({name:m,modification:g})),a=m=>Wt(m,(g,p)=>({...p.modification,...g}),{}),c=Wt(r.classes,(m,g)=>g.modification.concat(m),[]),i=a(r.attributes),u=a(r.styles);return er({classes:c,attributes:i,styles:u})},ST=(e,t,o,n)=>{try{const s=Ca(o,(r,a)=>{const c=r[t],i=a[t],u=n.indexOf(c),m=n.indexOf(i);if(u===-1)throw new Error("The ordering for "+e+" does not have an entry for "+c+`.
Order specified: `+JSON.stringify(n,null,2));if(m===-1)throw new Error("The ordering for "+e+" does not have an entry for "+i+`.
Order specified: `+JSON.stringify(n,null,2));return u<m?-1:m<u?1:0});return Ve.value(s)}catch(s){return Ve.error([s])}},wT=(e,t)=>({handler:e,purpose:t}),CT=(e,t)=>({cHandler:e,purpose:t}),TT=(e,t)=>CT(Ut.apply(void 0,[e.handler].concat(t)),e.purpose),Gg=e=>e.cHandler,MT=(e,t)=>({name:e,handler:t}),kT=(e,t)=>{const o={};return le(e,n=>{o[n.name()]=n.handlers(t)}),o},OT=(e,t,o)=>{const n={...o,...kT(t,e)};return Zv(n,MT)},_T=(e,t,o,n)=>{const s=OT(e,o,n);return HT(s,t)},AT=e=>{const t=$7(e);return(o,n,...s)=>{const r=[o,n].concat(s);t.abort.apply(void 0,r)?n.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}},ET=(e,t)=>Ve.error(["The event ("+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(J(t,o=>o.name),null,2)]),DT=(e,t,o)=>{const n=t[o];return n?ST("Event: "+o,"name",e,n).map(s=>{const r=J(s,a=>a.handler);return N7(r)}):ET(o,e)},HT=(e,t)=>{const o=Kt(e,(n,s)=>(n.length===1?Ve.value(n[0].handler):DT(n,t,s)).map(a=>{const c=AT(a),i=n.length>1?it(t[s],u=>yo(n,m=>m.name===u)).join(" > "):n[0].name;return hi(s,wT(c,i))}));return P7(o,{})},Ci="alloy.base.behaviour",LT=ye([No("dom","dom",Hs(),ye([$("tag"),F("styles",{}),F("classes",[]),F("attributes",{}),Je("value"),Je("innerHtml")])),$("components"),$("uid"),F("events",{}),F("apis",{}),No("eventOrder","eventOrder",h({[hs()]:["disabling",Ci,"toggling","typeaheadevents"],[wc()]:[Ci,"focusing","keying"],[k1()]:[Ci,"disabling","toggling","representing","tooltipping"],[Ia()]:[Ci,"representing","streaming","invalidating"],[ua()]:[Ci,"representing","item-events","toolbar-button-events","tooltipping"],[ms()]:["focusing",Ci,"item-type-events"],[Fa()]:["focusing",Ci,"item-type-events"],[la()]:["item-type-events","tooltipping"],[fi()]:["receiving","reflecting","tooltipping"]}),Dr()),Je("domModification")]),FT=e=>jt("custom.definition",LT,e),IT=e=>({...e.dom,uid:e.uid,domChildren:J(e.components,t=>t.element)}),VT=e=>e.domModification.fold(()=>er({}),er),BT=e=>e.events,Ba=e=>e.dom.value,Ti=(e,t)=>{if(t===void 0)throw new Error("Value.set was undefined");e.dom.value=t},PT=(e,t,o)=>Es(e,t).map(s=>{if(o.exists(a=>!nt(a,s))){const a=o.map(lo).getOr("span"),c=K.fromTag(a);return Ha(s,c),c}else return s}),$v=(e,t,o)=>{o.fold(()=>cs(e,t),n=>{nt(n,t)||(Ha(n,t),Ar(n))})},Nv=(e,t,o)=>{const n=J(t,o),s=xo(e);return le(s.slice(n.length),Ar),n},Uv=(e,t,o,n)=>{const s=Es(e,t),r=n(o,s),a=PT(e,t,s);return $v(e,r.element,a),r},RT=(e,t,o)=>Nv(e,t,(n,s)=>Uv(e,s,n,o)),zT=(e,t)=>Nv(e,t,(o,n)=>{const s=Es(e,n);return $v(e,o,s),o}),Wv=(e,t)=>{const o=Vt(e),n=Vt(t),s=os(n,o),r=Wc(e,(a,c)=>!Xe(t,c)||a!==t[c]).t;return{toRemove:s,toSet:r}},ZT=(e,t)=>{const{class:o,style:n,...s}=iu(t),{toSet:r,toRemove:a}=Wv(e.attributes,s),c=()=>{le(a,A=>ht(t,A)),Pt(t,r)},i=lu(t),{toSet:u,toRemove:m}=Wv(e.styles,i),g=()=>{le(m,A=>$e(t,A)),Ds(t,u)},p=xv(t),b=os(p,e.classes),y=os(e.classes,p),x=()=>{xi(t,y),tr(t,b)},D=A=>{Cl(t,A)},S=()=>{const A=e.domChildren;zT(t,A)},k=()=>{const A=t,I=e.value.getOrUndefined();I!==Ba(A)&&Ti(A,I??"")};return c(),x(),g(),e.innerHtml.fold(S,D),k(),t},$T=e=>{const t=K.fromTag(e.tag);Pt(t,e.attributes),xi(t,e.classes),Ds(t,e.styles),e.innerHtml.each(n=>Cl(t,n));const o=e.domChildren;return r1(t,o),e.value.each(n=>{Ti(t,n)}),t},NT=(e,t)=>{try{const o=ZT(e,t);return d.some(o)}catch{return d.none()}},UT=e=>e.innerHtml.isSome()&&e.domChildren.length>0,WT=(e,t)=>{const o=s=>lo(s)===e.tag&&!UT(e)&&!fT(s),n=t.filter(o).bind(s=>NT(e,s)).getOrThunk(()=>$T(e));return Wg(n,e.uid),n},GT=e=>{const t=pe(e,"behaviours").getOr({});return Ie(Vt(t),o=>{const n=t[o];return _t(n)?[n.me]:[]})},jT=(e,t)=>vT(e,t),YT=e=>{const t=GT(e);return jT(e,t)},XT=(e,t,o)=>{const n=IT(e),s=VT(e),r={"alloy.base.modification":s},a=t.length>0?xT(o,r,t,n):s;return aC(n,a)},qT=(e,t,o)=>{const n={"alloy.base.behaviour":BT(e)};return _T(o,e.eventOrder,t,n).getOrDie()},KT=(e,t)=>{const o=()=>A,n=ue(pT),s=Hr(FT(e)),r=YT(e),a=bT(r),c=yT(r),i=XT(s,a,c),u=WT(i,t),m=qT(s,a,c),g=ue(s.components),p=I=>{n.set(I)},b=()=>{n.set(H1(o))},y=()=>{const I=xo(u),V=Ie(I,G=>n.get().getByDom(G).fold(()=>[],qr));g.set(V)},x=I=>{const V=c;return(Po(V[I.name()])?V[I.name()]:()=>{throw new Error("Could not find "+I.name()+" in "+JSON.stringify(e,null,2))})()},D=I=>Po(c[I.name()]),S=()=>s.apis,k=I=>c[I]().map(V=>V.state.readState()).getOr("not enabled"),A={uid:e.uid,getSystem:n.get,config:x,hasConfigured:D,spec:e,readState:k,getApis:S,connect:p,disconnect:b,element:u,syncComponents:y,components:g.get,events:m};return A},JT=(e,t)=>{const o=pe(e,"components").getOr([]);return t.fold(()=>J(o,en),n=>J(o,(s,r)=>jg(s,Es(n,r))))},QT=(e,t)=>{const{events:o,...n}=gT(e),s=JT(n,t),r={...n,events:{...iT,...o},components:s};return Ve.value(KT(r,t))},At=e=>{const t=K.fromText(e);return Gv({element:t})},Gv=e=>{const t=Ln("external.component",ls([$("element"),Je("uid")]),e),o=ue(H1()),n=c=>{o.set(c)},s=()=>{o.set(H1(()=>a))},r=t.uid.getOrThunk(()=>kl("external"));Wg(t.element,r);const a={uid:r,getSystem:o.get,config:d.none,hasConfigured:rt,connect:n,disconnect:s,getApis:()=>({}),element:t.element,spec:e,readState:H("No state"),syncComponents:j,components:H([]),events:{}};return Rv(a)},eM=kl,tM=e=>Xe(e,"uid"),jg=(e,t)=>zv(e).getOrThunk(()=>{const o=tM(e)?e:{uid:eM(""),...e};return QT(o,t).getOrDie()}),en=e=>jg(e,d.none()),ps=Rv;var jv=(e,t,o,n,s)=>e(o,n)?d.some(o):Po(s)&&s(o)?d.none():t(o,n,s);const Yv=(e,t,o)=>{let n=e.dom;const s=Po(o)?o:rt;for(;n.parentNode;){n=n.parentNode;const r=K.fromDom(n);if(t(r))return d.some(r);if(s(r))break}return d.none()},Xv=(e,t,o)=>jv((s,r)=>r(s),Yv,e,t,o),oM=(e,t)=>{const o=e.dom;return o.parentNode?qv(K.fromDom(o.parentNode),n=>!nt(e,n)&&t(n)):d.none()},qv=(e,t)=>{const o=s=>t(K.fromDom(s));return vt(e.dom.childNodes,o).map(K.fromDom)},nM=(e,t)=>{const o=n=>{for(let s=0;s<n.childNodes.length;s++){const r=K.fromDom(n.childNodes[s]);if(t(r))return d.some(r);const a=o(n.childNodes[s]);if(a.isSome())return a}return d.none()};return o(e.dom)},Kv=(e,t,o)=>Xv(e,t,o).isSome(),sM=e=>el(e),Pa=(e,t,o)=>Yv(e,n=>Xs(n,t),o),rM=(e,t)=>oM(e,o=>Xs(o,t)),Yg=(e,t)=>qv(e,o=>Xs(o,t)),kt=(e,t)=>el(t,e),ma=(e,t,o)=>jv((s,r)=>Xs(s,r),Pa,e,t,o),Fu="aria-controls",aM=e=>Xv(e,o=>{if(!uo(o))return!1;const n=De(o,"id");return n!==void 0&&n.indexOf(Fu)>-1}).bind(o=>{const n=De(o,"id"),s=Zo(o);return kt(s,`[${Fu}="${n}"]`)}),Jv=()=>{const e=se(Fu);return{id:e,link:n=>{Q(n,Fu,e)},unlink:n=>{ht(n,Fu)}}},cM=(e,t)=>aM(t).exists(o=>Mi(e,o)),Mi=(e,t)=>Kv(t,o=>nt(o,e.element),rt)||cM(e,t),Wo=(e,t,o,n,s,r,a,c=!1)=>({x:e,y:t,bubble:o,direction:n,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c}),Tc=Qs.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),iM=(e,t,o,n,s,r,a,c,i)=>e.fold(t,o,n,s,r,a,c,i),lM=(e,t,o,n)=>e.fold(t,t,n,n,t,n,o,o),uM=(e,t,o,n)=>e.fold(t,n,t,n,o,o,t,n),I1=Tc.southeast,Xg=Tc.southwest,qg=Tc.northeast,Kg=Tc.northwest,Qv=Tc.south,eb=Tc.north,tb=Tc.east,ob=Tc.west,dM=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Go=(e,t)=>Us(["left","right","top","bottom"],o=>pe(t,o).map(n=>dM(e,n))),mM=(e,t,o)=>{const n=(i,u)=>t[i].map(m=>{const g=i==="top"||i==="bottom",p=g?o.top:o.left,y=(i==="left"||i==="top"?Math.max:Math.min)(m,u)+p;return g?nr(y,e.y,e.bottom):nr(y,e.x,e.right)}).getOr(u),s=n("left",e.x),r=n("top",e.y),a=n("right",e.right),c=n("bottom",e.bottom);return So(s,r,a-s,c-r)},Mc="layout",nb=e=>e.x,sb=(e,t)=>e.x+e.width/2-t.width/2,rb=(e,t)=>e.x+e.width-t.width,Jg=(e,t)=>e.y-t.height,Qg=e=>e.y+e.height,ab=(e,t)=>e.y+e.height/2-t.height/2,hM=e=>e.x+e.width,gM=(e,t)=>e.x-t.width,go=(e,t,o)=>Wo(nb(e),Qg(e),o.southeast(),I1(),"southeast",Go(e,{left:1,top:3}),Mc),po=(e,t,o)=>Wo(rb(e,t),Qg(e),o.southwest(),Xg(),"southwest",Go(e,{right:0,top:3}),Mc),jo=(e,t,o)=>Wo(nb(e),Jg(e,t),o.northeast(),qg(),"northeast",Go(e,{left:1,bottom:2}),Mc),Yo=(e,t,o)=>Wo(rb(e,t),Jg(e,t),o.northwest(),Kg(),"northwest",Go(e,{right:0,bottom:2}),Mc),Oo=(e,t,o)=>Wo(sb(e,t),Jg(e,t),o.north(),eb(),"north",Go(e,{bottom:2}),Mc),fo=(e,t,o)=>Wo(sb(e,t),Qg(e),o.south(),Qv(),"south",Go(e,{top:3}),Mc),ep=(e,t,o)=>Wo(hM(e),ab(e,t),o.east(),tb(),"east",Go(e,{left:0}),Mc),tp=(e,t,o)=>Wo(gM(e,t),ab(e,t),o.west(),ob(),"west",Go(e,{right:1}),Mc),cb=()=>[go,po,jo,Yo,fo,Oo,ep,tp],ib=()=>[po,go,Yo,jo,fo,Oo,ep,tp],lb=()=>[jo,Yo,go,po,Oo,fo],ub=()=>[Yo,jo,po,go,Oo,fo],op=()=>[go,po,jo,Yo,fo,Oo],np=()=>[po,go,Yo,jo,fo,Oo],pM=(e,t)=>t.universal?e:it(e,o=>ot(t.channels,o));var fM=Object.freeze({__proto__:null,events:e=>wt([z(fi(),(t,o)=>{const n=e.channels,s=Vt(n),r=o,a=pM(s,r);le(a,c=>{const i=n[c],u=i.schema,m=Ln("channel["+c+`] data
Receiver: `+Cc(t.element),u,r.data);i.onReceive(t,m)})})])}),vM=[us("channels",J2(Ve.value,ls([wi("onReceive"),F("schema",Dr())])))];const jn=Io({fields:vM,name:"receiving",active:fM});var bM=Object.freeze({__proto__:null,exhibit:(e,t)=>er({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const Yn=(e,t=!1)=>e.dom.focus({preventScroll:t}),V1=e=>e.dom.blur(),Ol=e=>{const t=Zo(e).dom;return e.dom===t.activeElement},Ra=(e=il())=>d.from(e.dom.activeElement).map(K.fromDom),dn=e=>Ra(Zo(e)).filter(t=>e.dom.contains(t.dom)),sp=(e,t)=>{const o=Zo(t),n=Ra(o).bind(r=>{const a=c=>nt(r,c);return a(t)?d.some(t):nM(t,a)}),s=e(t);return n.each(r=>{Ra(o).filter(a=>nt(a,r)).fold(()=>{Yn(r)},j)}),s},rp=Qs.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),db=(e,t,o,n,s,r)=>{const a=t.rect,c=a.x-o,i=a.y-n,u=a.width,m=a.height,g=s-(c+u),p=r-(i+m),b=d.some(c),y=d.some(i),x=d.some(g),D=d.some(p),S=d.none();return iM(t.direction,()=>or(e,b,y,S,S),()=>or(e,S,y,x,S),()=>or(e,b,S,S,D),()=>or(e,S,S,x,D),()=>or(e,b,y,S,S),()=>or(e,b,S,S,D),()=>or(e,b,y,S,S),()=>or(e,S,y,x,S))},mb=(e,t)=>e.fold(()=>{const o=t.rect;return or("absolute",d.some(o.x),d.some(o.y),d.none(),d.none())},(o,n,s,r)=>db("absolute",t,o,n,s,r),(o,n,s,r)=>db("fixed",t,o,n,s,r)),ap=(e,t)=>{const o=Ut(ll,t),n=e.fold(o,o,()=>{const a=wn();return ll(t).translate(-a.left,-a.top)}),s=hc(t),r=ra(t);return So(n.left,n.top,s,r)},yM=(e,t)=>t.fold(()=>e.fold($o,$o,So),o=>e.fold(H(o),H(o),()=>{const n=hb(e,o.x,o.y);return So(n.left,n.top,o.width,o.height)})),hb=(e,t,o)=>{const n=bt(t,o),s=()=>{const r=wn();return n.translate(-r.left,-r.top)};return e.fold(H(n),H(n),s)},xM=(e,t,o,n)=>e.fold(t,o,n);rp.none;const SM=rp.relative,wM=rp.fixed,CM=(e,t)=>({anchorBox:e,origin:t}),TM=(e,t)=>CM(e,t),cp="data-alloy-placement",MM=(e,t)=>{Q(e,cp,t)},gb=e=>qe(e,cp),kM=e=>ht(e,cp),B1=Qs.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),OM=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t,{x:a,y:c,right:i,bottom:u,width:m,height:g}=e,p=a>=o&&a<=s,b=c>=n&&c<=r,y=p&&b,x=i<=s&&i>=o,D=u<=r&&u>=n,S=x&&D,k=Math.min(m,a>=o?s-a:i-o),A=Math.min(g,c>=n?r-c:u-n);return{originInBounds:y,sizeInBounds:S,visibleW:k,visibleH:A}},_M=(e,t)=>{const{x:o,y:n,right:s,bottom:r}=t,{x:a,y:c,width:i,height:u}=e,m=Math.max(o,s-i),g=Math.max(n,r-u),p=nr(a,o,m),b=nr(c,n,g),y=Math.min(p+i,s)-p,x=Math.min(b+u,r)-b;return So(p,b,y,x)},AM=(e,t,o)=>{const n=H(t.bottom-o.y),s=H(o.bottom-t.y),r=lM(e,s,s,n),a=H(t.right-o.x),c=H(o.right-t.x);return{maxWidth:uM(e,c,c,a),maxHeight:r}},EM=(e,t,o,n)=>{const s=e.bubble,r=s.offset,a=mM(n,e.restriction,r),c=e.x+r.left,i=e.y+r.top,u=So(c,i,t,o),{originInBounds:m,sizeInBounds:g,visibleW:p,visibleH:b}=OM(u,a),y=m&&g,x=y?u:_M(u,a),D=x.width>0&&x.height>0,{maxWidth:S,maxHeight:k}=AM(e.direction,x,n),A={rect:x,maxHeight:k,maxWidth:S,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:i};return y||e.alwaysFit?B1.fit(A):B1.nofit(A,p,b,D)},DM=(e,t,o,n,s,r)=>{const a=n.width,c=n.height,i=(m,g,p,b,y)=>{const x=m(o,n,s,e,r),D=EM(x,a,c,r);return D.fold(H(D),(S,k,A,I)=>(y===I?A>b||k>p:!y&&I)?D:B1.nofit(g,p,b,y))};return io(t,(m,g)=>{const p=Ut(i,g);return m.fold(H(m),p)},B1.nofit({rect:o,maxHeight:n.height,maxWidth:n.width,direction:I1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1)).fold(Ze,Ze)},pb=ct,Tn=(e,t,o)=>vc(e,t,pb,o),ip=(e,t,o)=>qh(e,t,pb,o),fb=o1,vb=["top","bottom","right","left"],P1="data-alloy-transition-timer",HM=(e,t)=>xC(e,t.classes),LM=(e,t,o)=>o.exists(n=>{const s=e.mode;return s==="all"?!0:n[s]!==t[s]}),FM=(e,t)=>{const o=n=>parseFloat(n).toFixed(3);return lt(t,(n,s)=>{const r=e[s].map(o),a=n.map(o);return!Ma(r,a)}).isSome()},IM=e=>{const t=r=>{const c=Fo(e,r).split(/\s*,\s*/);return it(c,cn)},o=r=>{if(_(r)&&/^[\d.]+/.test(r)){const a=parseFloat(r);return js(r,"ms")?a:a*1e3}else return 0},n=t("transition-delay"),s=t("transition-duration");return io(s,(r,a,c)=>{const i=o(n[c])+o(a);return Math.max(r,i)},0)},VM=(e,t)=>{const o=bc(),n=bc();let s;const r=u=>{var m;const g=(m=u.raw.pseudoElement)!==null&&m!==void 0?m:"";return nt(u.target,e)&&Tr(g)&&ot(vb,u.raw.propertyName)},a=u=>{if($s(u)||r(u)){o.clear(),n.clear();const m=u==null?void 0:u.raw.type;($s(m)||m===_u())&&(clearTimeout(s),ht(e,P1),tr(e,t.classes))}},c=Tn(e,G7(),u=>{r(u)&&(c.unbind(),o.set(Tn(e,_u(),a)),n.set(Tn(e,W7(),a)))}),i=IM(e);requestAnimationFrame(()=>{s=setTimeout(a,i+17),Q(e,P1,s)})},BM=(e,t)=>{xi(e,t.classes),qe(e,P1).each(o=>{clearTimeout(parseInt(o,10)),ht(e,P1)}),VM(e,t)},PM=(e,t,o,n,s,r)=>{const a=LM(n,s,r);if(a||HM(e,n)){Me(e,"position",o.position);const c=ap(t,e),i=mb(t,{...s,rect:c}),u=Us(vb,m=>i[m]);FM(o,u)&&(si(e,u),a&&BM(e,n),nl(e))}else tr(e,n.classes)},RM=e=>({width:hc(e),height:ra(e)}),zM=(e,t,o,n)=>{$e(t,"max-height"),$e(t,"max-width");const s=RM(t);return DM(t,n.preference,e,s,o,n.bounds)},ZM=(e,t)=>{const o=t.classes;tr(e,o.off),xi(e,o.on)},$M=(e,t,o)=>{const n=o.maxHeightFunction;n(e,t.maxHeight)},NM=(e,t,o)=>{const n=o.maxWidthFunction;n(e,t.maxWidth)},UM=(e,t,o)=>{const n=mb(o.origin,t);o.transition.each(s=>{PM(e,o.origin,n,s,t,o.lastPlacement)}),Sv(e,n)},WM=(e,t)=>{MM(e,t.placement)},bb=(e,t)=>{Vh(e,Math.floor(t))},yb=H((e,t)=>{bb(e,t),Ds(e,{"overflow-x":"hidden","overflow-y":"auto"})}),_l=H((e,t)=>{bb(e,t)}),xb=(e,t,o)=>e[t]===void 0?o:e[t],GM=(e,t,o,n,s,r,a,c)=>{const i=xb(a,"maxHeightFunction",yb()),u=xb(a,"maxWidthFunction",j),m=e.anchorBox,g=e.origin,p={bounds:yM(g,r),origin:g,preference:n,maxHeightFunction:i,maxWidthFunction:u,lastPlacement:s,transition:c};return jM(m,t,o,p)},jM=(e,t,o,n)=>{const s=zM(e,t,o,n);return UM(t,s,n),WM(t,s),ZM(t,s),$M(t,s,n),NM(t,s,n),{layout:s.layout,placement:s.placement}},YM=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],sr=(e,t,o,n=1)=>{const s=e*n,r=t*n,a=i=>pe(o,i).getOr([]),c=(i,u,m)=>{const g=os(YM,m);return{offset:bt(i,u),classesOn:Ie(m,a),classesOff:Ie(g,a)}};return{southeast:()=>c(-e,t,["top","alignLeft"]),southwest:()=>c(e,t,["top","alignRight"]),south:()=>c(-e/2,t,["top","alignCentre"]),northeast:()=>c(-e,-t,["bottom","alignLeft"]),northwest:()=>c(e,-t,["bottom","alignRight"]),north:()=>c(-e/2,-t,["bottom","alignCentre"]),east:()=>c(e,-t/2,["valignCentre","left"]),west:()=>c(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}},R1=()=>sr(0,0,{}),z1=Ze,lp=(e,t)=>o=>XM(o)==="rtl"?t:e,XM=e=>Fo(e,"direction")==="rtl"?"rtl":"ltr";var za;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(za||(za={}));const up="data-alloy-vertical-dir",qM=e=>Kv(e,t=>uo(t)&&De(t,"data-alloy-vertical-dir")===za.BottomToTop),kc=()=>ds("layouts",[$("onLtr"),$("onRtl"),Je("onBottomLtr"),Je("onBottomRtl")]),Z1=(e,t,o,n,s,r,a)=>{const c=a.map(qM).getOr(!1),i=t.layouts.map(b=>b.onLtr(e)),u=t.layouts.map(b=>b.onRtl(e)),m=c?t.layouts.bind(b=>b.onBottomLtr.map(y=>y(e))).or(i).getOr(s):i.getOr(o),g=c?t.layouts.bind(b=>b.onBottomRtl.map(y=>y(e))).or(u).getOr(r):u.getOr(n);return lp(m,g)(e)},KM=(e,t,o)=>{const n=t.hotspot,s=ap(o,n.element),r=Z1(e.element,t,op(),np(),lb(),ub(),d.some(t.hotspot.element));return d.some(z1({anchorBox:s,bubble:t.bubble.getOr(R1()),overrides:t.overrides,layouts:r}))};var JM=[$("hotspot"),Je("bubble"),F("overrides",{}),kc(),Mt("placement",KM)];const QM=(e,t,o)=>{const n=hb(o,t.x,t.y),s=So(n.left,n.top,t.width,t.height),r=Z1(e.element,t,cb(),ib(),cb(),ib(),d.none());return d.some(z1({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r}))};var ek=[$("x"),$("y"),F("height",0),F("width",0),F("bubble",R1()),F("overrides",{}),kc(),Mt("placement",QM)];const Sb=Qs.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),tk=e=>e.fold(Ze,(t,o,n)=>t.translate(-o,-n)),ok=e=>e.fold(Ze,Ze),wb=e=>io(e,(t,o)=>t.translate(o.left,o.top),bt(0,0)),nk=e=>{const t=J(e,tk);return wb(t)},Cb=e=>{const t=J(e,ok);return wb(t)},sk=Sb.screen,rk=Sb.absolute,ak=(e,t,o)=>{const n=sa(o.root).dom,s=r=>{const a=Nn(r),c=Nn(e.element);return nt(a,c)};return d.from(n.frameElement).map(K.fromDom).filter(s).map(as)},Tb=(e,t,o)=>{const n=Nn(e.element),s=wn(n),r=ak(e,t,o).getOr(s);return rk(r,s.left,s.top)},dp=(e,t,o,n)=>{const s=sk(bt(e,t));return d.some(l1(s,o,n))},Mb=(e,t,o,n,s)=>e.map(r=>{const a=[t,r.point],c=xM(n,()=>Cb(a),()=>Cb(a),()=>nk(a)),i=tg(c.left,c.top,r.width,r.height),u=o.showAbove?lb():op(),m=o.showAbove?ub():np(),g=Z1(s,o,u,m,u,m,d.none());return z1({anchorBox:i,bubble:o.bubble.getOr(R1()),overrides:o.overrides,layouts:g})}),ck=(e,t,o)=>{const n=Tb(e,o,t);return t.node.filter(E).bind(s=>{const r=s.dom.getBoundingClientRect(),a=dp(r.left,r.top,r.width,r.height),c=t.node.getOr(e.element);return Mb(a,n,t,o,c)})};var ik=[$("node"),$("root"),Je("bubble"),kc(),F("overrides",{}),F("showAbove",!1),Mt("placement",ck)];const lk="\uFEFF",uk="",$1={create:(e,t,o,n)=>({start:e,soffset:t,finish:o,foffset:n})},mp=Qs.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dk=(e,t,o,n)=>e.fold(t,o,n),mk=e=>e.fold(Ze,Ze,Ze),hk=mp.before,gk=mp.on,pk=mp.after,fk={before:hk,on:gk,after:pk,cata:dk,getStart:mk},N1=Qs.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vk=e=>N1.exact(e.start,e.soffset,e.finish,e.foffset),bk=e=>e.match({domRange:t=>K.fromDom(t.startContainer),relative:(t,o)=>fk.getStart(t),exact:(t,o,n,s)=>t}),yk=N1.domRange,xk=N1.relative,Sk=N1.exact,wk=e=>{const t=bk(e);return sa(t)},Ck=$1.create,Iu={domRange:yk,relative:xk,exact:Sk,exactFromRange:vk,getWin:wk,range:Ck},Tk=(e,t)=>{t.fold(o=>{e.setStartBefore(o.dom)},(o,n)=>{e.setStart(o.dom,n)},o=>{e.setStartAfter(o.dom)})},Mk=(e,t)=>{t.fold(o=>{e.setEndBefore(o.dom)},(o,n)=>{e.setEnd(o.dom,n)},o=>{e.setEndAfter(o.dom)})},kb=(e,t,o)=>{const n=e.document.createRange();return Tk(n,t),Mk(n,o),n},Ob=(e,t,o,n,s)=>{const r=e.document.createRange();return r.setStart(t.dom,o),r.setEnd(n.dom,s),r},_b=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),kk=e=>{const t=e.getClientRects(),o=t.length>0?t[0]:e.getBoundingClientRect();return o.width>0||o.height>0?d.some(o).map(_b):d.none()},Ok=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?d.some(t).map(_b):d.none()},Vu=Qs.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ab=(e,t,o)=>t(K.fromDom(o.startContainer),o.startOffset,K.fromDom(o.endContainer),o.endOffset),_k=(e,t)=>t.match({domRange:o=>({ltr:H(o),rtl:d.none}),relative:(o,n)=>({ltr:aa(()=>kb(e,o,n)),rtl:aa(()=>d.some(kb(e,n,o)))}),exact:(o,n,s,r)=>({ltr:aa(()=>Ob(e,o,n,s,r)),rtl:aa(()=>d.some(Ob(e,s,r,o,n)))})}),Ak=(e,t)=>{const o=t.ltr();return o.collapsed?t.rtl().filter(s=>s.collapsed===!1).map(s=>Vu.rtl(K.fromDom(s.endContainer),s.endOffset,K.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>Ab(e,Vu.ltr,o)):Ab(e,Vu.ltr,o)},Ek=(e,t)=>{const o=_k(e,t);return Ak(e,o)},Eb=(e,t)=>Ek(e,t).match({ltr:(n,s,r,a)=>{const c=e.document.createRange();return c.setStart(n.dom,s),c.setEnd(r.dom,a),c},rtl:(n,s,r,a)=>{const c=e.document.createRange();return c.setStart(r.dom,a),c.setEnd(n.dom,s),c}});Vu.ltr,Vu.rtl;const Db=(e,t,o)=>it(tl(e,o),t),Mn=(e,t)=>kr(t,e),Dk=(e,t,o,n)=>{const r=Nn(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(o.dom,n),r},Hk=(e,t,o,n)=>{const s=Dk(e,t,o,n),r=nt(e,o)&&t===n;return s.collapsed&&!r},Lk=e=>d.from(e.getSelection()),Hb=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),o=e.getRangeAt(e.rangeCount-1);return d.some($1.create(K.fromDom(t.startContainer),t.startOffset,K.fromDom(o.endContainer),o.endOffset))}else return d.none()},Fk=e=>{if(e.anchorNode===null||e.focusNode===null)return Hb(e);{const t=K.fromDom(e.anchorNode),o=K.fromDom(e.focusNode);return Hk(t,e.anchorOffset,o,e.focusOffset)?d.some($1.create(t,e.anchorOffset,o,e.focusOffset)):Hb(e)}},Ik=e=>Lk(e).filter(t=>t.rangeCount>0).bind(Fk),Lb=(e,t)=>{const o=Eb(e,t);return kk(o)},Vk=(e,t)=>{const o=Eb(e,t);return Ok(o)},Bk=((e,t)=>{const o=r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return n(r).getOr("")},n=r=>e(r)?d.from(r.dom.nodeValue):d.none();return{get:o,getOption:n,set:(r,a)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=a}}})(R,"text"),Pk=e=>Bk.get(e),U1=(e,t)=>({element:e,offset:t}),Rk=(e,t)=>{const o=xo(e);if(o.length===0)return U1(e,t);if(t<o.length)return U1(o[t],0);{const n=o[o.length-1],s=R(n)?Pk(n).length:xo(n).length;return U1(n,s)}},Fb=(e,t)=>R(e)?U1(e,t):Rk(e,t),hp=e=>e.foffset!==void 0,Ib=(e,t)=>t.getSelection.getOrThunk(()=>()=>Ik(e))().map(n=>{if(hp(n)){const s=Fb(n.start,n.soffset),r=Fb(n.finish,n.foffset);return Iu.range(s.element,s.offset,r.element,r.offset)}else return n}),zk=(e,t,o)=>{const n=sa(t.root).dom,s=Tb(e,o,t),r=Ib(n,t).bind(i=>{if(hp(i))return Vk(n,Iu.exactFromRange(i)).orThunk(()=>{const m=K.fromText(lk);Ha(i.start,m);const g=Lb(n,Iu.exact(m,0,m,1));return Ar(m),g}).bind(m=>dp(m.left,m.top,m.width,m.height));{const u=Dt(i,g=>g.dom.getBoundingClientRect()),m={left:Math.min(u.firstCell.left,u.lastCell.left),right:Math.max(u.firstCell.right,u.lastCell.right),top:Math.min(u.firstCell.top,u.lastCell.top),bottom:Math.max(u.firstCell.bottom,u.lastCell.bottom)};return dp(m.left,m.top,m.right-m.left,m.bottom-m.top)}}),c=Ib(n,t).bind(i=>hp(i)?uo(i.start)?d.some(i.start):Un(i.start):d.some(i.firstCell)).getOr(e.element);return Mb(r,s,t,o,c)};var Zk=[Je("getSelection"),$("root"),Je("bubble"),kc(),F("overrides",{}),F("showAbove",!1),Mt("placement",zk)];const W1="link-layout",Vb=e=>e.x+e.width,Bb=(e,t)=>e.x-t.width,Pb=(e,t)=>e.y-t.height+e.height,Rb=e=>e.y,zb=(e,t,o)=>Wo(Vb(e),Rb(e),o.southeast(),I1(),"southeast",Go(e,{left:0,top:2}),W1),Zb=(e,t,o)=>Wo(Bb(e,t),Rb(e),o.southwest(),Xg(),"southwest",Go(e,{right:1,top:2}),W1),$b=(e,t,o)=>Wo(Vb(e),Pb(e,t),o.northeast(),qg(),"northeast",Go(e,{left:0,bottom:3}),W1),Nb=(e,t,o)=>Wo(Bb(e,t),Pb(e,t),o.northwest(),Kg(),"northwest",Go(e,{right:1,bottom:3}),W1),Ub=()=>[zb,Zb,$b,Nb],Wb=()=>[Zb,zb,Nb,$b],$k=(e,t,o)=>{const n=ap(o,t.item.element),s=Z1(e.element,t,Ub(),Wb(),Ub(),Wb(),d.none());return d.some(z1({anchorBox:n,bubble:R1(),overrides:t.overrides,layouts:s}))};var Nk=[$("item"),kc(),F("overrides",{}),Mt("placement",$k)],Uk=Fn("type",{selection:Zk,node:ik,hotspot:JM,submenu:Nk,makeshift:ek});const Wk=[Wn("classes",wo),ia("mode","all",["all","layout","placement"])],Gk=[F("useFixed",rt),Je("getBounds")],jk=[us("anchor",Uk),ds("transition",Wk)],Yk=()=>{const e=document.documentElement;return wM(0,0,e.clientWidth,e.clientHeight)},Xk=e=>{const t=as(e.element),o=e.element.dom.getBoundingClientRect();return SM(t.left,t.top,o.width,o.height)},qk=(e,t,o,n,s,r)=>{const a=TM(t.anchorBox,e);return GM(a,n.element,t.bubble,t.layouts,s,o,t.overrides,r)},Kk=(e,t,o,n,s)=>{const r=d.none();Gb(e,t,o,n,s,r)},Gb=(e,t,o,n,s,r)=>{const a=Ln("placement.info",ye(jk),s),c=a.anchor,i=n.element,u=o.get(n.uid);sp(()=>{Me(i,"position","fixed");const m=Jt(i,"visibility");Me(i,"visibility","hidden");const g=t.useFixed()?Yk():Xk(e);c.placement(e,c,g).each(p=>{const b=r.orThunk(()=>t.getBounds.map(vn)),y=qk(g,p,b,n,u,a.transition);o.set(n.uid,y)}),m.fold(()=>{$e(i,"visibility")},p=>{Me(i,"visibility",p)}),Jt(i,"left").isNone()&&Jt(i,"top").isNone()&&Jt(i,"right").isNone()&&Jt(i,"bottom").isNone()&&Lo(Jt(i,"position"),"fixed")&&$e(i,"position")},i)};var Jk=Object.freeze({__proto__:null,position:Kk,positionWithinBounds:Gb,getMode:(e,t,o)=>t.useFixed()?"fixed":"absolute",reset:(e,t,o,n)=>{const s=n.element;le(["position","left","right","top","bottom"],r=>$e(s,r)),kM(s),o.clear(n.uid)}}),Qk=Object.freeze({__proto__:null,init:()=>{let e={};return gs({readState:()=>e,clear:s=>{_t(s)?delete e[s]:e={}},set:(s,r)=>{e[s]=r},get:s=>pe(e,s)})}});const tn=Io({fields:Gk,name:"positioning",active:bM,apis:Jk,state:Qk}),gp=e=>e.getSystem().isConnected(),Bu=e=>{Re(e,ua());const t=e.components();le(t,Bu)},Pu=e=>{const t=e.components();le(t,Pu),Re(e,Ir())},jb=(e,t)=>{e.getSystem().addToWorld(t),E(e.element)&&Pu(t)},pp=e=>{Bu(e),e.getSystem().removeFromWorld(e)},Yb=(e,t)=>{cs(e.element,t.element)},eO=e=>{le(e.components(),t=>Ar(t.element)),bu(e.element),e.syncComponents()},tO=(e,t,o)=>{const n=e.components();eO(e);const s=o(t),r=os(n,s);le(r,a=>{Bu(a),e.getSystem().removeFromWorld(a)}),le(s,a=>{gp(a)?Yb(e,a):(e.getSystem().addToWorld(a),Yb(e,a),E(e.element)&&Pu(a))}),e.syncComponents()},oO=(e,t,o)=>{const n=e.components(),s=Ie(t,c=>zv(c).toArray());le(n,c=>{ot(s,c)||pp(c)});const r=o(t),a=os(n,r);le(a,c=>{gp(c)&&pp(c)}),le(r,c=>{gp(c)||jb(e,c)}),e.syncComponents()},ki=(e,t)=>{Xb(e,t,cs)},Xb=(e,t,o)=>{e.getSystem().addToWorld(t),o(e.element,t.element),E(e.element)&&Pu(t),e.syncComponents()},qb=e=>{Bu(e),Ar(e.element),e.getSystem().removeFromWorld(e)},Za=e=>{const t=Jo(e.element).bind(o=>e.getSystem().getByDom(o).toOptional());qb(e),t.each(o=>{o.syncComponents()})},Kb=e=>{const t=e.components();le(t,qb),bu(e.element),e.syncComponents()},fp=(e,t)=>{Jb(e,t,cs)},G1=(e,t)=>{Jb(e,t,Kh)},Jb=(e,t,o)=>{o(e,t.element);const n=xo(t.element);le(n,s=>{t.getByDom(s).each(Pu)})},nO=e=>{const t=xo(e.element);le(t,o=>{e.getByDom(o).each(Bu)}),Ar(e.element)},Qb=(e,t,o,n)=>{o.get().each(a=>{Kb(e)});const s=t.getAttachPoint(e);ki(s,e);const r=e.getSystem().build(n);return ki(e,r),o.set(r),r},e4=(e,t,o,n)=>{const s=Qb(e,t,o,n);return t.onOpen(e,s),s},sO=(e,t,o,n)=>o.get().map(()=>Qb(e,t,o,n)),rO=(e,t,o,n,s)=>{n4(e,t),e4(e,t,o,n),s(),s4(e,t)},t4=(e,t,o)=>{o.get().each(n=>{Kb(e),Za(e),t.onClose(e,n),o.clear()})},o4=(e,t,o)=>o.isOpen(),aO=(e,t,o,n)=>o4(e,t,o)&&o.get().exists(s=>t.isPartOf(e,s,n)),cO=(e,t,o)=>o.get(),iO=(e,t,o,n)=>{Jt(e.element,t).fold(()=>{ht(e.element,o)},s=>{Q(e.element,o,s)}),Me(e.element,t,n)},lO=(e,t,o)=>{qe(e.element,o).fold(()=>$e(e.element,t),n=>Me(e.element,t,n))},n4=(e,t,o)=>{const n=t.getAttachPoint(e);Me(e.element,"position",tn.getMode(n)),iO(e,"visibility",t.cloakVisibilityAttr,"hidden")},uO=e=>yo(["top","left","right","bottom"],t=>Jt(e,t).isSome()),s4=(e,t,o)=>{uO(e.element)||$e(e.element,"position"),lO(e,"visibility",t.cloakVisibilityAttr)};var dO=Object.freeze({__proto__:null,cloak:n4,decloak:s4,open:e4,openWhileCloaked:rO,close:t4,isOpen:o4,isPartOf:aO,getState:cO,setContent:sO}),mO=Object.freeze({__proto__:null,events:(e,t)=>wt([z(M1(),(o,n)=>{t4(o,e,t)})])}),hO=[je("onOpen"),je("onClose"),$("isPartOf"),$("getAttachPoint"),F("cloakVisibilityAttr","data-precloak-visibility")],gO=Object.freeze({__proto__:null,init:()=>{const e=ut(),t=H("not-implemented");return gs({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Ye=Io({fields:hO,name:"sandboxing",active:mO,apis:dO,state:gO}),Oc=H("dismiss.popups"),Al=H("reposition.popups"),vp=H("mouse.released"),pO=ls([F("isExtraPart",rt),ds("fireEventInstead",[F("event",vi())])]),bp=e=>{const t=Ln("Dismissal",pO,e);return{[Oc()]:{schema:ls([$("target")]),onReceive:(o,n)=>{Ye.isOpen(o)&&(Ye.isPartOf(o,n.target)||t.isExtraPart(o,n.target)||t.fireEventInstead.fold(()=>Ye.close(o),r=>Re(o,r.event)))}}}},fO=ls([ds("fireEventInstead",[F("event",iv())]),Js("doReposition")]),yp=e=>{const t=Ln("Reposition",fO,e);return{[Al()]:{onReceive:o=>{Ye.isOpen(o)&&t.fireEventInstead.fold(()=>t.doReposition(o),n=>Re(o,n.event))}}}},xp=(e,t,o)=>{t.store.manager.onLoad(e,t,o)},r4=(e,t,o)=>{t.store.manager.onUnload(e,t,o)};var vO=Object.freeze({__proto__:null,onLoad:xp,onUnload:r4,setValue:(e,t,o,n)=>{t.store.manager.setValue(e,t,o,n)},getValue:(e,t,o)=>t.store.manager.getValue(e,t,o),getState:(e,t,o)=>o}),bO=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.resetOnDom?[Ct((n,s)=>{xp(n,e,t)}),da((n,s)=>{r4(n,e,t)})]:[Eg(e,t,xp)];return wt(o)}});const a4=()=>{const e=ue(null),t=()=>({mode:"memory",value:e.get()}),o=()=>e.get()===null,n=()=>{e.set(null)};return gs({set:e.set,get:e.get,isNotSet:o,clear:n,readState:t})},yO=()=>gs({readState:j}),c4=()=>{const e=ue({}),t=ue({});return gs({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:a=>pe(e.get(),a).orThunk(()=>pe(t.get(),a)),update:a=>{const c=e.get(),i=t.get(),u={},m={};le(a,g=>{u[g.value]=g,pe(g,"meta").each(p=>{pe(p,"text").each(b=>{m[b]=g})})}),e.set({...c,...u}),t.set({...i,...m})},clear:()=>{e.set({}),t.set({})}})};var xO=Object.freeze({__proto__:null,memory:a4,dataset:c4,manual:yO,init:e=>e.store.manager.state(e)});const i4=(e,t,o,n)=>{const s=t.store;o.update([n]),s.setValue(e,n),t.onSetValue(e,n)},SO=(e,t,o)=>{const n=t.store,s=n.getDataKey(e);return o.lookup(s).getOrThunk(()=>n.getFallbackEntry(s))},wO=(e,t,o)=>{t.store.initialValue.each(s=>{i4(e,t,o,s)})},CO=(e,t,o)=>{o.clear()};var TO=[Je("initialValue"),$("getFallbackEntry"),$("getDataKey"),$("setValue"),Mt("manager",{setValue:i4,getValue:SO,onLoad:wO,onUnload:CO,state:c4})];const MO=(e,t,o)=>t.store.getValue(e),kO=(e,t,o,n)=>{t.store.setValue(e,n),t.onSetValue(e,n)},OO=(e,t,o)=>{t.store.initialValue.each(n=>{t.store.setValue(e,n)})};var _O=[$("getValue"),F("setValue",j),Je("initialValue"),Mt("manager",{setValue:kO,getValue:MO,onLoad:OO,onUnload:j,state:Vr.init})];const AO=(e,t,o,n)=>{o.set(n),t.onSetValue(e,n)},EO=(e,t,o)=>o.get(),DO=(e,t,o)=>{t.store.initialValue.each(n=>{o.isNotSet()&&o.set(n)})},HO=(e,t,o)=>{o.clear()};var LO=[Je("initialValue"),Mt("manager",{setValue:AO,getValue:EO,onLoad:DO,onUnload:HO,state:a4})],FO=[Ls("store",{mode:"memory"},Fn("mode",{memory:LO,manual:_O,dataset:TO})),je("onSetValue"),F("resetOnDom",!1)];const ee=Io({fields:FO,name:"representing",active:bO,apis:vO,extra:{setValueFrom:(e,t)=>{const o=ee.getValue(t);ee.setValue(e,o)}},state:xO}),_o=(e,t)=>fg(e,{},J(t,o=>_7(o.name(),"Cannot configure "+o.name()+" for "+e)).concat([Cn("dump",Ze)])),j1=e=>e.dump,Vo=(e,t)=>({...W(t),...e.dump}),rr={field:_o,augment:Vo,get:j1},l4="placeholder",Y1=Qs.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Sp=e=>Xe(e,"uiType"),IO=(e,t,o,n)=>e.exists(s=>s!==o.owner)?Y1.single(!0,H(o)):pe(n,o.name).fold(()=>{throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+Vt(n)+`]
Namespace: `+e.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},s=>s.replace()),VO=(e,t,o,n)=>Sp(o)&&o.uiType===l4?IO(e,t,o,n):Y1.single(!1,H(o)),u4=(e,t,o,n)=>VO(e,t,o,n).fold((r,a)=>{const c=Sp(o)?a(t,o.config,o.validated):a(t),i=pe(c,"components").getOr([]),u=Ie(i,m=>u4(e,t,m,n));return[{...c,components:u}]},(r,a)=>{if(Sp(o)){const c=a(t,o.config,o.validated);return o.validated.preprocess.getOr(Ze)(c)}else return a(t)}),BO=(e,t,o,n)=>Ie(o,s=>u4(e,t,s,n)),PO=(e,t)=>{let o=!1;const n=()=>o,s=()=>{if(o)throw new Error("Trying to use the same placeholder more than once: "+e);return o=!0,t},r=()=>t.fold((a,c)=>a,(a,c)=>a);return{name:H(e),required:r,used:n,replace:s}},RO=(e,t,o,n)=>{const s=Dt(n,(a,c)=>PO(c,a)),r=BO(e,t,o,s);return qt(s,a=>{if(a.used()===!1&&a.required())throw new Error("Placeholder: "+a.name()+` was not found in components list
Namespace: `+e.getOr("none")+`
Components: `+JSON.stringify(t.components,null,2))}),r},d4=Y1.single,zO=Y1.multiple,m4=H(l4),X1=Qs.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),q1=F("factory",{sketch:Ze}),wp=F("schema",[]),K1=$("name"),Cp=No("pname","pname",ml(e=>"<alloy."+se(e.name)+">"),Dr()),ZO=Cn("schema",()=>[Je("preprocess")]),J1=F("defaults",H({})),Q1=F("overrides",H({})),$O=ye([q1,wp,K1,Cp,J1,Q1]),NO=ye([q1,wp,K1,J1,Q1]),UO=ye([q1,wp,K1,Cp,J1,Q1]),WO=ye([q1,ZO,K1,$("unit"),Cp,J1,Q1]),h4=e=>e.fold(d.some,d.none,d.some,d.some),g4=e=>{const t=o=>o.name;return e.fold(t,t,t,t)},GO=e=>e.fold(Ze,Ze,Ze,Ze),em=(e,t)=>o=>{const n=Ln("Converting part type",t,o);return e(n)},on=em(X1.required,$O),ar=em(X1.external,NO),Fs=em(X1.optional,UO),tm=em(X1.group,WO),Tp=H("entirety");var jO=Object.freeze({__proto__:null,required:on,external:ar,optional:Fs,group:tm,asNamedPart:h4,name:g4,asCommon:GO,original:Tp});const Mp=(e,t,o,n)=>Rt(t.defaults(e,o,n),o,{uid:e.partUids[t.name]},t.overrides(e,o,n)),YO=(e,t,o)=>{const n={},s={};return le(o,r=>{r.fold(a=>{n[a.pname]=d4(!0,(c,i,u)=>a.factory.sketch(Mp(c,a,i,u)))},a=>{const c=t.parts[a.name];s[a.name]=H(a.factory.sketch(Mp(t,a,c[Tp()]),c))},a=>{n[a.pname]=d4(!1,(c,i,u)=>a.factory.sketch(Mp(c,a,i,u)))},a=>{n[a.pname]=zO(!0,(c,i,u)=>{const m=c[a.name];return J(m,g=>a.factory.sketch(Rt(a.defaults(c,g,u),g,a.overrides(c,g))))})})}),{internals:H(n),externals:H(s)}},kp=(e,t)=>{const o={};return le(t,n=>{h4(n).each(s=>{const r=XO(e,s.pname);o[s.name]=a=>{const c=Ln("Part: "+s.name+" in "+e,ye(s.schema),a);return{...r,config:a,validated:c}}})}),o},XO=(e,t)=>({uiType:m4(),owner:e,name:t}),Op=(e,t,o)=>({uiType:m4(),owner:e,name:t,config:o,validated:{}}),p4=e=>Ie(e,t=>t.fold(d.none,d.some,d.none,d.none).map(o=>xc(o.name,o.schema.concat([Iv(Tp())]))).toArray()),f4=e=>J(e,g4),_p=(e,t,o)=>YO(e,t,o),Ap=(e,t,o)=>RO(d.some(e),t,t.components,o),gt=(e,t,o)=>{const n=t.partUids[o];return e.getSystem().getByUid(n).toOptional()},_c=(e,t,o)=>gt(e,t,o).getOrDie("Could not find part: "+o),v4=(e,t,o)=>{const n={},s=t.partUids,r=e.getSystem();return le(o,a=>{n[a]=H(r.getByUid(s[a]))}),n},b4=(e,t)=>{const o=e.getSystem();return Dt(t.partUids,(n,s)=>H(o.getByUid(n)))},y4=e=>Vt(e.partUids),Ep=(e,t,o)=>{const n={},s=t.partUids,r=e.getSystem();return le(o,a=>{n[a]=H(r.getByUid(s[a]).getOrDie())}),n},x4=(e,t)=>{const o=f4(t);return vl(J(o,n=>({key:n,value:e+"-"+n})))},Dp=e=>No("partUids","partUids",l(t=>x4(t.uid,e)),Dr());var qO=Object.freeze({__proto__:null,generate:kp,generateOne:Op,schemas:p4,names:f4,substitutes:_p,components:Ap,defaultUids:x4,defaultUidsSchema:Dp,getAllParts:b4,getAllPartNames:y4,getPart:gt,getPartOrDie:_c,getParts:v4,getPartsOrDie:Ep});const KO=(e,t)=>(e.length>0?[xc("parts",e)]:[]).concat([$("uid"),F("dom",{}),F("components",[]),Iv("originalSpec"),F("debug.sketcher",{})]).concat(t),S4=(e,t,o,n,s)=>{const r=KO(n,s);return Ln(e+" [SpecSchema]",ls(r.concat(t)),o)},JO=(e,t,o,n)=>{const s=w4(n),r=S4(e,t,s,[],[]);return o(r,s)},Hp=(e,t,o,n,s)=>{const r=w4(s),a=p4(o),c=Dp(o),i=S4(e,t,r,a,[c]),u=_p(e,i,o),m=Ap(e,i,u.internals());return n(i,m,r,u.externals())},QO=e=>Xe(e,"uid"),w4=e=>QO(e)?e:{...e,uid:kl("uid")},e_=e=>e.uid!==void 0,t_=ls([$("name"),$("factory"),$("configFields"),F("apis",{}),F("extraApis",{})]),o_=ls([$("name"),$("factory"),$("configFields"),$("partFields"),F("apis",{}),F("extraApis",{})]),fs=e=>{const t=Ln("Sketcher for "+e.name,t_,e),o=r=>JO(t.name,t.configFields,t.factory,r),n=Dt(t.apis,F1),s=Dt(t.extraApis,(r,a)=>Ag(r,a));return{name:t.name,configFields:t.configFields,sketch:o,...n,...s}},mn=e=>{const t=Ln("Sketcher for "+e.name,o_,e),o=a=>Hp(t.name,t.configFields,t.partFields,t.factory,a),n=kp(t.name,t.partFields),s=Dt(t.apis,F1),r=Dt(t.extraApis,(a,c)=>Ag(a,c));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:o,parts:n,...s,...r}},El=e=>Sn("input")(e)&&De(e,"type")!=="radio"||Sn("textarea")(e);var n_=Object.freeze({__proto__:null,getCurrent:(e,t,o)=>t.find(e)});const s_=[$("find")],Ne=Io({fields:s_,name:"composing",apis:n_}),r_=["input","button","textarea","select"],C4=(e,t,o)=>{(t.disabled()?Fp:Ip)(e,t)},Lp=(e,t)=>t.useNative===!0&&ot(r_,lo(e.element)),a_=e=>Gt(e.element,"disabled"),c_=e=>{Q(e.element,"disabled","disabled")},i_=e=>{ht(e.element,"disabled")},l_=e=>De(e.element,"aria-disabled")==="true",u_=e=>{Q(e.element,"aria-disabled","true")},d_=e=>{Q(e.element,"aria-disabled","false")},Fp=(e,t,o)=>{t.disableClass.each(s=>{ro(e.element,s)}),(Lp(e,t)?c_:u_)(e),t.onDisabled(e)},Ip=(e,t,o)=>{t.disableClass.each(s=>{Yt(e.element,s)}),(Lp(e,t)?i_:d_)(e),t.onEnabled(e)},T4=(e,t)=>Lp(e,t)?a_(e):l_(e);var m_=Object.freeze({__proto__:null,enable:Ip,disable:Fp,isDisabled:T4,onLoad:C4,set:(e,t,o,n)=>{(n?Fp:Ip)(e,t)}}),h_=Object.freeze({__proto__:null,exhibit:(e,t)=>er({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>wt([hv(hs(),(o,n)=>T4(o,e)),Eg(e,t,C4)])}),g_=[yt("disabled",rt),F("useNative",!0),Je("disableClass"),je("onDisabled"),je("onEnabled")];const ge=Io({fields:g_,name:"disabling",active:h_,apis:m_}),M4=(e,t,o,n)=>{const s=Mn(e.element,"."+t.highlightClass);le(s,r=>{yo(n,c=>nt(c.element,r))||(Yt(r,t.highlightClass),e.getSystem().getByDom(r).each(c=>{t.onDehighlight(e,c),Re(c,Cg())}))})},p_=(e,t,o)=>M4(e,t,o,[]),f_=(e,t,o,n)=>{Vp(e,t,o,n)&&(Yt(n.element,t.highlightClass),t.onDehighlight(e,n),Re(n,Cg()))},Ru=(e,t,o,n)=>{M4(e,t,o,[n]),Vp(e,t,o,n)||(ro(n.element,t.highlightClass),t.onHighlight(e,n),Re(n,wg()))},v_=(e,t,o)=>{k4(e,t).each(n=>{Ru(e,t,o,n)})},b_=(e,t,o)=>{O4(e,t).each(n=>{Ru(e,t,o,n)})},y_=(e,t,o,n)=>{w_(e,t,o,n).fold(s=>{throw s},s=>{Ru(e,t,o,s)})},x_=(e,t,o,n)=>{const s=A4(e,t);vt(s,n).each(a=>{Ru(e,t,o,a)})},Vp=(e,t,o,n)=>In(n.element,t.highlightClass),S_=(e,t,o)=>kt(e.element,"."+t.highlightClass).bind(n=>e.getSystem().getByDom(n).toOptional()),w_=(e,t,o,n)=>{const s=Mn(e.element,"."+t.itemClass);return d.from(s[n]).fold(()=>Ve.error(new Error("No element found with index "+n)),e.getSystem().getByDom)},k4=(e,t,o)=>kt(e.element,"."+t.itemClass).bind(n=>e.getSystem().getByDom(n).toOptional()),O4=(e,t,o)=>{const n=Mn(e.element,"."+t.itemClass);return(n.length>0?d.some(n[n.length-1]):d.none()).bind(r=>e.getSystem().getByDom(r).toOptional())},_4=(e,t,o,n)=>{const s=Mn(e.element,"."+t.itemClass);return rn(s,a=>In(a,t.highlightClass)).bind(a=>{const c=Ml(a,n,0,s.length-1);return e.getSystem().getByDom(s[c]).toOptional()})},C_=(e,t,o)=>_4(e,t,o,-1),T_=(e,t,o)=>_4(e,t,o,1),A4=(e,t,o)=>{const n=Mn(e.element,"."+t.itemClass);return ns(J(n,s=>e.getSystem().getByDom(s).toOptional()))};var M_=Object.freeze({__proto__:null,dehighlightAll:p_,dehighlight:f_,highlight:Ru,highlightFirst:v_,highlightLast:b_,highlightAt:y_,highlightBy:x_,isHighlighted:Vp,getHighlighted:S_,getFirst:k4,getLast:O4,getPrevious:C_,getNext:T_,getCandidates:A4}),k_=[$("highlightClass"),$("itemClass"),je("onHighlight"),je("onDehighlight")];const et=Io({fields:k_,name:"highlighting",apis:M_}),O_=[8],$a=[9],ha=[13],om=[27],Xn=[32],nm=[37],zu=[38],sm=[39],Dl=[40],__=(e,t,o)=>{const n=yn(e.slice(0,t)),s=yn(e.slice(t+1));return vt(n.concat(s),o)},A_=(e,t,o)=>{const n=yn(e.slice(0,t));return vt(n,o)},E_=(e,t,o)=>{const n=e.slice(0,t),s=e.slice(t+1);return vt(s.concat(n),o)},D_=(e,t,o)=>{const n=e.slice(t+1);return vt(n,o)},Ge=e=>t=>{const o=t.raw;return ot(e,o.which)},Br=e=>t=>bn(e,o=>o(t)),Oi=e=>e.raw.shiftKey===!0,H_=e=>e.raw.ctrlKey===!0,Zu=Do(Oi),Ke=(e,t)=>({matches:e,classification:t}),L_=(e,t)=>vt(e,n=>n.matches(t)).map(n=>n.classification),E4=(e,t,o)=>{t.exists(s=>o.exists(r=>nt(r,s)))||me(e,O1(),{prevFocus:t,newFocus:o})},Bp=()=>{const e=o=>dn(o.element);return{get:e,set:(o,n)=>{const s=e(o);o.getSystem().triggerFocus(n,o.element);const r=e(o);E4(o,s,r)}}},F_=()=>{const e=o=>et.getHighlighted(o).map(n=>n.element);return{get:e,set:(o,n)=>{const s=e(o);o.getSystem().getByDom(n).fold(j,a=>{et.highlight(o,a)});const r=e(o);E4(o,s,r)}}};var _i;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(_i||(_i={}));const Ai=(e,t,o,n,s)=>{const r=()=>e.concat([F("focusManager",Bp()),Ls("focusInside","onFocus",Mu(u=>ot(["onFocus","onEnterOrSpace","onApi"],u)?Ve.value(u):Ve.error("Invalid value for focusInside"))),Mt("handler",i),Mt("state",t),Mt("sendFocusIn",s)]),a=(u,m,g,p,b)=>{const y=g(u,m,p,b);return L_(y,m.event).bind(x=>x(u,m,p,b))},i={schema:r,processKey:a,toEvents:(u,m)=>{const g=u.focusInside!==_i.OnFocusMode?d.none():s(u).map(y=>z(wc(),(x,D)=>{y(x,u,m),D.stop()})),p=(y,x)=>{const D=Ge(Xn.concat(ha))(x.event);u.focusInside===_i.OnEnterOrSpaceMode&&D&&rv(y,x)&&s(u).each(S=>{S(y,u,m),x.stop()})},b=[z(Fr(),(y,x)=>{a(y,x,o,u,m).fold(()=>{p(y,x)},D=>{x.stop()})}),z(U7(),(y,x)=>{a(y,x,n,u,m).each(D=>{x.stop()})})];return wt(g.toArray().concat(b))}};return i},D4=e=>{const t=[Je("onEscape"),Je("onEnter"),F("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),F("firstTabstop",0),F("useTabstopAt",ct),Je("visibilitySelector")].concat([e]),o=(S,k)=>{const A=S.visibilitySelector.bind(I=>ma(k,I)).getOr(k);return mo(A)>0},n=(S,k)=>{const A=Mn(S.element,k.selector),I=it(A,V=>o(k,V));return d.from(I[k.firstTabstop])},s=(S,k)=>k.focusManager.get(S).bind(A=>ma(A,k.selector)),r=(S,k)=>o(S,k)&&S.useTabstopAt(k),a=(S,k,A)=>{n(S,k).each(I=>{k.focusManager.set(S,I)})},c=(S,k,A,I,V)=>V(k,A,G=>r(I,G)).fold(()=>I.cyclic?d.some(!0):d.none(),G=>(I.focusManager.set(S,G),d.some(!0))),i=(S,k,A,I)=>{const V=Mn(S.element,A.selector);return s(S,A).bind(G=>rn(V,Ut(nt,G)).bind(P=>c(S,V,P,A,I)))},u=(S,k,A)=>{const I=A.cyclic?__:A_;return i(S,k,A,I)},m=(S,k,A)=>{const I=A.cyclic?E_:D_;return i(S,k,A,I)},g=S=>cu(S).bind(Ea).exists(k=>nt(k,S)),p=(S,k,A)=>s(S,A).filter(I=>!A.useTabstopAt(I)).bind(I=>(g(I)?u:m)(S,k,A)),b=(S,k,A)=>A.onEnter.bind(I=>I(S,k)),y=(S,k,A)=>A.onEscape.bind(I=>I(S,k)),x=H([Ke(Br([Oi,Ge($a)]),u),Ke(Ge($a),m),Ke(Br([Zu,Ge(ha)]),b)]),D=H([Ke(Ge(om),y),Ke(Ge($a),p)]);return Ai(t,Vr.init,x,D,()=>d.some(a))};var I_=D4(Cn("cyclic",rt)),V_=D4(Cn("cyclic",ct));const B_=(e,t,o)=>(Tg(e,o,hs()),d.some(!0)),$u=(e,t,o)=>El(o)&&Ge(Xn)(t.event)?d.none():B_(e,t,o),Hl=(e,t)=>d.some(!0),P_=[F("execute",$u),F("useSpace",!1),F("useEnter",!0),F("useControlEnter",!1),F("useDown",!1)],H4=(e,t,o)=>o.execute(e,t,e.element),R_=(e,t,o,n)=>{const s=o.useSpace&&!El(e.element)?Xn:[],r=o.useEnter?ha:[],a=o.useDown?Dl:[],c=s.concat(r).concat(a);return[Ke(Ge(c),H4)].concat(o.useControlEnter?[Ke(Br([H_,Ge(ha)]),H4)]:[])},z_=(e,t,o,n)=>o.useSpace&&!El(e.element)?[Ke(Ge(Xn),Hl)]:[];var Z_=Ai(P_,Vr.init,R_,z_,()=>d.none());const L4=()=>{const e=ut();return gs({readState:()=>e.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,r)=>{e.set({numRows:s,numColumns:r})},getNumRows:()=>e.get().map(s=>s.numRows),getNumColumns:()=>e.get().map(s=>s.numColumns)})};var $_=Object.freeze({__proto__:null,flatgrid:L4,init:e=>e.state(e)});const F4=e=>(t,o,n,s)=>{const r=e(t.element);return I4(r,t,o,n,s)},Pp=(e,t)=>{const o=lp(e,t);return F4(o)},Rp=(e,t)=>{const o=lp(t,e);return F4(o)},zp=e=>(t,o,n,s)=>I4(e,t,o,n,s),I4=(e,t,o,n,s)=>n.focusManager.get(t).bind(a=>e(t.element,a,n,s)).map(a=>(n.focusManager.set(t,a),!0)),V4=zp,B4=zp,rm=zp,N_=e=>e.offsetWidth<=0&&e.offsetHeight<=0,P4=e=>!N_(e.dom),U_=(e,t)=>rn(e,t).map(o=>({index:o,candidates:e})),R4=(e,t,o)=>{const n=a=>nt(a,t),s=Mn(e,o),r=it(s,P4);return U_(r,n)},z4=(e,t)=>rn(e,o=>nt(t,o)),Z4=(e,t,o,n)=>{const s=Math.floor(t/o),r=t%o;return n(s,r).bind(a=>{const c=a.row*o+a.column;return c>=0&&c<e.length?d.some(e[c]):d.none()})},$4=(e,t,o,n,s)=>Z4(e,t,n,(r,a)=>{const i=r===o-1?e.length-r*n:n,u=Ml(a,s,0,i-1);return d.some({row:r,column:u})}),N4=(e,t,o,n,s)=>Z4(e,t,n,(r,a)=>{const c=Ml(r,s,0,o-1),u=c===o-1?e.length-c*n:n,m=nr(a,0,u-1);return d.some({row:c,column:m})}),W_=(e,t,o,n)=>$4(e,t,o,n,1),G_=(e,t,o,n)=>$4(e,t,o,n,-1),j_=(e,t,o,n)=>N4(e,t,o,n,-1),Y_=(e,t,o,n)=>N4(e,t,o,n,1),X_=[$("selector"),F("execute",$u),Gn("onEscape"),F("captureTab",!1),Vv()],q_=(e,t,o)=>{kt(e.element,t.selector).each(n=>{t.focusManager.set(e,n)})},K_=(e,t)=>t.focusManager.get(e).bind(o=>ma(o,t.selector)),J_=(e,t,o,n)=>K_(e,o).bind(s=>o.execute(e,t,s)),am=e=>(t,o,n,s)=>R4(t,o,n.selector).bind(r=>e(r.candidates,r.index,s.getNumRows().getOr(n.initSize.numRows),s.getNumColumns().getOr(n.initSize.numColumns))),U4=(e,t,o)=>o.captureTab?d.some(!0):d.none(),Q_=(e,t,o)=>o.onEscape(e,t),W4=am(G_),G4=am(W_),eA=am(j_),tA=am(Y_),oA=H([Ke(Ge(nm),Pp(W4,G4)),Ke(Ge(sm),Rp(W4,G4)),Ke(Ge(zu),V4(eA)),Ke(Ge(Dl),B4(tA)),Ke(Br([Oi,Ge($a)]),U4),Ke(Br([Zu,Ge($a)]),U4),Ke(Ge(Xn.concat(ha)),J_)]),nA=H([Ke(Ge(om),Q_),Ke(Ge(Xn),Hl)]);var sA=Ai(X_,L4,oA,nA,()=>d.some(q_));const j4=(e,t,o,n,s)=>{const r=c=>lo(c)==="button"&&De(c,"disabled")==="disabled",a=(c,i,u)=>s(c,i,n,0,u.length-1,u[i],m=>r(u[m])?a(c,m,u):d.from(u[m]));return R4(e,o,t).bind(c=>{const i=c.index,u=c.candidates;return a(i,i,u)})},Y4=(e,t,o,n)=>j4(e,t,o,n,(s,r,a,c,i,u,m)=>{const g=nr(r+a,c,i);return g===s?d.from(u):m(g)}),cm=(e,t,o,n)=>j4(e,t,o,n,(s,r,a,c,i,u,m)=>{const g=Ml(r,a,c,i);return g===s?d.none():m(g)}),rA=[$("selector"),F("getInitial",d.none),F("execute",$u),Gn("onEscape"),F("executeOnMove",!1),F("allowVertical",!0),F("allowHorizontal",!0),F("cycles",!0)],aA=(e,t)=>t.focusManager.get(e).bind(o=>ma(o,t.selector)),Zp=(e,t,o)=>aA(e,o).bind(n=>o.execute(e,t,n)),cA=(e,t,o)=>{t.getInitial(e).orThunk(()=>kt(e.element,t.selector)).each(n=>{t.focusManager.set(e,n)})},X4=(e,t,o)=>(o.cycles?cm:Y4)(e,o.selector,t,-1),q4=(e,t,o)=>(o.cycles?cm:Y4)(e,o.selector,t,1),K4=e=>(t,o,n,s)=>e(t,o,n,s).bind(()=>n.executeOnMove?Zp(t,o,n):d.some(!0)),iA=(e,t,o)=>o.onEscape(e,t),lA=(e,t,o,n)=>{const s=[...o.allowHorizontal?nm:[]].concat(o.allowVertical?zu:[]),r=[...o.allowHorizontal?sm:[]].concat(o.allowVertical?Dl:[]);return[Ke(Ge(s),K4(Pp(X4,q4))),Ke(Ge(r),K4(Rp(X4,q4))),Ke(Ge(ha),Zp),Ke(Ge(Xn),Zp)]},uA=H([Ke(Ge(Xn),Hl),Ke(Ge(om),iA)]);var dA=Ai(rA,Vr.init,lA,uA,()=>d.some(cA));const im=(e,t,o)=>d.from(e[t]).bind(n=>d.from(n[o]).map(s=>({rowIndex:t,columnIndex:o,cell:s}))),J4=(e,t,o,n)=>{const r=e[t].length,a=Ml(o,n,0,r-1);return im(e,t,a)},Q4=(e,t,o,n)=>{const s=Ml(o,n,0,e.length-1),r=e[s].length,a=nr(t,0,r-1);return im(e,s,a)},e3=(e,t,o,n)=>{const r=e[t].length,a=nr(o+n,0,r-1);return im(e,t,a)},t3=(e,t,o,n)=>{const s=nr(o+n,0,e.length-1),r=e[s].length,a=nr(t,0,r-1);return im(e,s,a)},mA=(e,t,o)=>J4(e,t,o,1),hA=(e,t,o)=>J4(e,t,o,-1),gA=(e,t,o)=>Q4(e,o,t,-1),pA=(e,t,o)=>Q4(e,o,t,1),fA=(e,t,o)=>e3(e,t,o,-1),vA=(e,t,o)=>e3(e,t,o,1),bA=(e,t,o)=>t3(e,o,t,-1),yA=(e,t,o)=>t3(e,o,t,1),xA=[xc("selectors",[$("row"),$("cell")]),F("cycles",!0),F("previousSelector",d.none),F("execute",$u)],SA=(e,t,o)=>{t.previousSelector(e).orThunk(()=>{const s=t.selectors;return kt(e.element,s.cell)}).each(s=>{t.focusManager.set(e,s)})},wA=(e,t,o)=>dn(e.element).bind(n=>o.execute(e,t,n)),CA=(e,t)=>J(e,o=>Mn(o,t.selectors.cell)),lm=(e,t)=>(o,n,s)=>{const r=s.cycles?e:t;return ma(n,s.selectors.row).bind(a=>{const c=Mn(a,s.selectors.cell);return z4(c,n).bind(i=>{const u=Mn(o,s.selectors.row);return z4(u,a).bind(m=>{const g=CA(u,s);return r(g,m,i).map(p=>p.cell)})})})},o3=lm(hA,fA),n3=lm(mA,vA),TA=lm(gA,bA),MA=lm(pA,yA),kA=H([Ke(Ge(nm),Pp(o3,n3)),Ke(Ge(sm),Rp(o3,n3)),Ke(Ge(zu),V4(TA)),Ke(Ge(Dl),B4(MA)),Ke(Ge(Xn.concat(ha)),wA)]),OA=H([Ke(Ge(Xn),Hl)]);var _A=Ai(xA,Vr.init,kA,OA,()=>d.some(SA));const AA=[$("selector"),F("execute",$u),F("moveOnTab",!1)],s3=(e,t,o)=>o.focusManager.get(e).bind(n=>o.execute(e,t,n)),EA=(e,t,o)=>{kt(e.element,t.selector).each(n=>{t.focusManager.set(e,n)})},r3=(e,t,o)=>cm(e,o.selector,t,-1),a3=(e,t,o)=>cm(e,o.selector,t,1),DA=(e,t,o,n)=>o.moveOnTab?rm(r3)(e,t,o,n):d.none(),HA=(e,t,o,n)=>o.moveOnTab?rm(a3)(e,t,o,n):d.none(),LA=H([Ke(Ge(zu),rm(r3)),Ke(Ge(Dl),rm(a3)),Ke(Br([Oi,Ge($a)]),DA),Ke(Br([Zu,Ge($a)]),HA),Ke(Ge(ha),s3),Ke(Ge(Xn),s3)]),FA=H([Ke(Ge(Xn),Hl)]);var IA=Ai(AA,Vr.init,LA,FA,()=>d.some(EA));const VA=[Gn("onSpace"),Gn("onEnter"),Gn("onShiftEnter"),Gn("onLeft"),Gn("onRight"),Gn("onTab"),Gn("onShiftTab"),Gn("onUp"),Gn("onDown"),Gn("onEscape"),F("stopSpaceKeyup",!1),Je("focusIn")],BA=(e,t,o)=>[Ke(Ge(Xn),o.onSpace),Ke(Br([Zu,Ge(ha)]),o.onEnter),Ke(Br([Oi,Ge(ha)]),o.onShiftEnter),Ke(Br([Oi,Ge($a)]),o.onShiftTab),Ke(Br([Zu,Ge($a)]),o.onTab),Ke(Ge(zu),o.onUp),Ke(Ge(Dl),o.onDown),Ke(Ge(nm),o.onLeft),Ke(Ge(sm),o.onRight),Ke(Ge(Xn),o.onSpace)],PA=(e,t,o)=>[...o.stopSpaceKeyup?[Ke(Ge(Xn),Hl)]:[],Ke(Ge(om),o.onEscape)];var RA=Ai(VA,Vr.init,BA,PA,e=>e.focusIn);const zA=I_.schema(),ZA=V_.schema(),$A=dA.schema(),NA=sA.schema(),UA=_A.schema(),WA=Z_.schema(),GA=IA.schema(),jA=RA.schema();var YA=Object.freeze({__proto__:null,acyclic:zA,cyclic:ZA,flow:$A,flatgrid:NA,matrix:UA,execution:WA,menu:GA,special:jA});const XA=e=>Ko(e,"setGridSize"),ce=fv({branchKey:"mode",branches:YA,name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,o)=>{t.sendFocusIn(t).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},n=>{n(e,t,o)})},setGridSize:(e,t,o,n,s)=>{XA(o)?o.setGridSize(n,s):console.error("Layout does not support setGridSize")}},state:$_}),c3=(e,t)=>{sp(()=>{tO(e,t,()=>J(t,e.getSystem().build))},e.element)},i3=(e,t)=>{sp(()=>{oO(e,t,()=>RT(e.element,t,e.getSystem().buildOrPatch))},e.element)},qA=(e,t,o,n)=>{pp(t);const s=Uv(e.element,o,n,e.getSystem().buildOrPatch);jb(e,s),e.syncComponents()},$p=(e,t,o)=>{const n=e.getSystem().build(o);Xb(e,n,t)},KA=(e,t,o,n)=>{Za(t),$p(e,(s,r)=>vu(s,r,o),n)},JA=(e,t,o,n)=>(t.reuseDom?i3:c3)(e,n),QA=(e,t,o,n)=>{$p(e,cs,n)},eE=(e,t,o,n)=>{$p(e,Jh,n)},tE=(e,t,o,n)=>{const s=um(e);vt(s,a=>nt(n.element,a.element)).each(Za)},um=(e,t)=>e.components(),l3=(e,t,o,n,s)=>{const r=um(e);return d.from(r[n]).map(a=>(s.fold(()=>Za(a),c=>{(t.reuseDom?qA:KA)(e,a,n,c)}),a))};var oE=Object.freeze({__proto__:null,append:QA,prepend:eE,remove:tE,replaceAt:l3,replaceBy:(e,t,o,n,s)=>{const r=um(e);return rn(r,n).bind(a=>l3(e,t,o,a,s))},set:JA,contents:um});const we=Io({fields:[Qo("reuseDom",!0)],name:"replacing",apis:oE}),nE=(e,t)=>{const o=wt(t);return Io({fields:[$("enabled")],name:e,active:{events:H(o)}})},Te=(e,t)=>{const o=nE(e,t);return{key:e,value:{config:{},me:o,configAsRaw:H({}),initialConfig:{},state:Vr}}},u3=(e,t)=>{t.ignore||(Yn(e.element),t.onFocus(e))};var sE=Object.freeze({__proto__:null,focus:u3,blur:(e,t)=>{t.ignore||V1(e.element)},isFocused:e=>Ol(e.element)}),rE=Object.freeze({__proto__:null,exhibit:(e,t)=>{const o=t.ignore?{}:{attributes:{tabindex:"-1"}};return er(o)},events:e=>wt([z(wc(),(t,o)=>{u3(t,e),o.stop()})].concat(e.stopMousedown?[z(ms(),(t,o)=>{o.event.prevent()})]:[]))}),aE=[je("onFocus"),F("stopMousedown",!1),F("ignore",!1)];const be=Io({fields:aE,name:"focusing",active:rE,apis:sE}),cE=e=>({init:()=>{const o=ue(e);return{get:()=>o.get(),set:c=>o.set(c),clear:()=>o.set(e),readState:()=>o.get()}}}),iE=(e,t,o)=>{const n=t.aria;n.update(e,n,o.get())},lE=(e,t,o)=>{t.toggleClass.each(n=>{o.get()?ro(e.element,n):Yt(e.element,n)})},Nu=(e,t,o,n)=>{const s=o.get();o.set(n),lE(e,t,o),iE(e,t,o),s!==n&&t.onToggled(e,n)},d3=(e,t,o)=>{Nu(e,t,o,!o.get())},uE=(e,t,o)=>{Nu(e,t,o,!0)},dE=(e,t,o)=>{Nu(e,t,o,!1)},mE=(e,t,o)=>o.get(),m3=(e,t,o)=>{Nu(e,t,o,t.selected)};var hE=Object.freeze({__proto__:null,onLoad:m3,toggle:d3,isOn:mE,on:uE,off:dE,set:Nu}),gE=Object.freeze({__proto__:null,exhibit:()=>er({}),events:(e,t)=>{const o=cC(e,t,d3),n=Eg(e,t,m3);return wt(Xt([e.toggleOnExecute?[o]:[],[n]]))}});const pE=(e,t,o)=>{Q(e.element,"aria-pressed",o),t.syncWithExpanded&&h3(e,t,o)},fE=(e,t,o)=>{Q(e.element,"aria-selected",o)},vE=(e,t,o)=>{Q(e.element,"aria-checked",o)},h3=(e,t,o)=>{Q(e.element,"aria-expanded",o)};var bE=[F("selected",!1),Je("toggleClass"),F("toggleOnExecute",!0),je("onToggled"),Ls("aria",{mode:"none"},Fn("mode",{pressed:[F("syncWithExpanded",!1),Mt("update",pE)],checked:[Mt("update",vE)],expanded:[Mt("update",h3)],selected:[Mt("update",fE)],none:[Mt("update",j)]}))];const He=Io({fields:bE,name:"toggling",active:gE,apis:hE,state:cE(!1)}),g3=()=>{const e=(t,o)=>{o.stop(),bi(t)};return[z(pi(),e),z(Du(),e),yi(Fa()),yi(ms())]},dm=e=>{const t=o=>Va((n,s)=>{o(n),s.stop()});return wt(Xt([e.map(t).toArray(),g3()]))},p3="alloy.item-hover",f3="alloy.item-focus",v3="alloy.item-toggled",b3=e=>{(dn(e.element).isNone()||be.isFocused(e))&&(be.isFocused(e)||be.focus(e),me(e,p3,{item:e}))},y3=e=>{me(e,f3,{item:e})},yE=(e,t)=>{me(e,v3,{item:e,state:t})},x3=H(p3),xE=H(f3),SE=H(v3),wE=e=>e.role.fold(()=>e.toggling.map(t=>t.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ze),CE=(e,t)=>({aria:{mode:t?"selected":"checked"},...oc(e,(o,n)=>n!=="exclusive"),onToggled:(o,n)=>{Po(e.onToggled)&&e.onToggled(o,n),yE(o,n)}}),TE=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:wE(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:rr.augment(e.itemBehaviours,[e.toggling.fold(He.revoke,t=>He.config(CE(t,e.role.exists(o=>o==="option")))),be.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:t=>{y3(t)}}),ce.config({mode:"execution"}),ee.config({store:{mode:"memory",initialValue:e.data}}),Te("item-type-events",[...g3(),z(la(),b3),z(Eu(),be.focus)])]),components:e.components,eventOrder:e.eventOrder}),ME=[$("data"),$("components"),$("dom"),F("hasSubmenu",!1),Je("toggling"),Je("role"),rr.field("itemBehaviours",[He,be,ce,ee]),F("ignoreFocus",!1),F("domModification",{}),Mt("builder",TE),F("eventOrder",{})],kE=e=>({dom:e.dom,components:e.components,events:wt([nC(Eu())])}),OE=[$("dom"),$("components"),Mt("builder",kE)],Np=H("item-widget"),Up=H([on({name:"widget",overrides:e=>({behaviours:W([ee.config({store:{mode:"manual",getValue:t=>e.data,setValue:j}})])})})]),_E=e=>{const t=_p(Np(),e,Up()),o=Ap(Np(),e,t.internals()),n=r=>gt(r,e,"widget").map(a=>(ce.focusIn(a),a)),s=(r,a)=>El(a.event.target)?d.none():(e.autofocus&&a.setSource(r.element),d.none());return{dom:e.dom,components:o,domModification:e.domModification,events:wt([Va((r,a)=>{n(r).each(c=>{a.stop()})}),z(la(),b3),z(Eu(),(r,a)=>{e.autofocus?n(r):be.focus(r)})]),behaviours:rr.augment(e.widgetBehaviours,[ee.config({store:{mode:"memory",initialValue:e.data}}),be.config({ignore:e.ignoreFocus,onFocus:r=>{y3(r)}}),ce.config({mode:"special",focusIn:e.autofocus?r=>{n(r)}:gC(),onLeft:s,onRight:s,onEscape:(r,a)=>!be.isFocused(r)&&!e.autofocus?(be.focus(r),d.some(!0)):(e.autofocus&&a.setSource(r.element),d.none())})])}},AE=[$("uid"),$("data"),$("components"),$("dom"),F("autofocus",!1),F("ignoreFocus",!1),rr.field("widgetBehaviours",[ee,be,ce]),F("domModification",{}),Dp(Up()),Mt("builder",_E)],EE=Fn("type",{widget:AE,item:ME,separator:OE}),DE=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}),HE=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}),LE=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}),FE=H([tm({factory:{sketch:e=>{const t=Ln("menu.spec item",EE,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Xe(t,"uid")?t:{...t,uid:kl("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),IE=H([no("role"),$("value"),$("items"),$("dom"),$("components"),F("eventOrder",{}),_o("menuBehaviours",[et,ee,Ne,ce]),Ls("movement",{mode:"menu",moveOnTab:!0},Fn("mode",{grid:[Vv(),Mt("config",DE)],matrix:[Mt("config",HE),$("rowSelector"),F("previousSelector",d.none)],menu:[F("moveOnTab",!0),Mt("config",LE)]})),nT(),F("fakeFocus",!1),F("focusManager",Bp()),je("onHighlight"),je("onDehighlight"),F("showMenuRole",!0)]),S3=H("alloy.menu-focus"),VE=(e,t)=>{const o=Mn(e.element,'[role="menuitemradio"][aria-checked="true"]');le(o,n=>{nt(n,t.element)||e.getSystem().getByDom(n).each(s=>{He.off(s)})})},BE=(e,t,o,n)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Vo(e.menuBehaviours,[et.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),ee.config({store:{mode:"memory",initialValue:e.value}}),Ne.config({find:d.some}),ce.config(e.movement.config(e,e.movement))]),events:wt([z(xE(),(s,r)=>{const a=r.event;s.getSystem().getByDom(a.target).each(c=>{et.highlight(s,c),r.stop(),me(s,S3(),{menu:s,item:c})})}),z(x3(),(s,r)=>{const a=r.event.item;et.highlight(s,a)}),z(SE(),(s,r)=>{const{item:a,state:c}=r.event;c&&De(a.element,"role")==="menuitemradio"&&VE(s,a)})]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}}),Ei=mn({name:"Menu",configFields:IE(),partFields:FE(),factory:BE}),PE=e=>tc(e,(t,o)=>({k:t,v:o})),w3=(e,t,o,n)=>pe(o,n).bind(s=>pe(e,s).bind(r=>{const a=w3(e,t,o,r);return d.some([r].concat(a))})).getOr([]),RE=(e,t)=>{const o={};qt(e,(a,c)=>{le(a,i=>{o[i]=c})});const n=t,s=PE(t),r=Dt(s,(a,c)=>[c].concat(w3(o,n,s,c)));return Dt(o,a=>pe(r,a).getOr([a]))},zE=()=>{const e=ue({}),t=ue({}),o=ue({}),n=ut(),s=ue({}),r=()=>{e.set({}),t.set({}),o.set({}),n.clear()},a=()=>n.get().isNone(),c=(V,G)=>{t.set({...t.get(),[V]:{type:"prepared",menu:G}})},i=(V,G,te,P)=>{n.set(V),e.set(te),t.set(G),s.set(P);const oe=RE(P,te);o.set(oe)},u=V=>lt(e.get(),(G,te)=>G===V),m=(V,G,te)=>x(V).bind(P=>u(V).bind(oe=>G(oe).map(Y=>({triggeredMenu:P,triggeringItem:Y,triggeringPath:te})))),g=(V,G)=>{const te=it(S(V).toArray(),P=>x(P).isSome());return pe(o.get(),V).bind(P=>{const oe=yn(te.concat(P)),Y=Ie(oe,(ne,Le)=>m(ne,G,oe.slice(0,Le+1)).fold(()=>Lo(n.get(),ne)?[]:[d.none()],dt=>[d.some(dt)]));return Jr(Y)})},p=V=>pe(e.get(),V).map(G=>{const te=pe(o.get(),V).getOr([]);return[G].concat(te)}),b=V=>pe(o.get(),V).bind(G=>G.length>1?d.some(G.slice(1)):d.none()),y=V=>pe(o.get(),V),x=V=>D(V).bind(C3),D=V=>pe(t.get(),V),S=V=>pe(e.get(),V);return{setMenuBuilt:c,setContents:i,expand:p,refresh:y,collapse:b,lookupMenu:D,lookupItem:S,otherMenus:V=>{const G=s.get();return os(Vt(G),V)},getPrimary:()=>n.get().bind(x),getMenus:()=>t.get(),clear:r,isClear:a,getTriggeringPath:g}},C3=e=>e.type==="prepared"?d.some(e.menu):d.none(),T3={init:zE,extractPreparedMenu:C3},M3=se("tiered-menu-item-highlight"),k3=se("tiered-menu-item-dehighlight");var kn;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(kn||(kn={}));const ZE=(e,t)=>{const o=ut(),n=(N,q,ve)=>Dt(ve,(ke,ie)=>{const Se=()=>Ei.sketch({...ke,value:ie,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(st,tt)=>{me(st,M3,{menuComp:st,itemComp:tt})},onDehighlight:(st,tt)=>{me(st,k3,{menuComp:st,itemComp:tt})},focusManager:e.fakeFocus?F_():Bp()});return ie===q?{type:"prepared",menu:N.getSystem().build(Se())}:{type:"notbuilt",nbMenu:Se}}),s=T3.init(),r=N=>{const q=n(N,e.data.primary,e.data.menus),ve=i();return s.setContents(e.data.primary,q,e.data.expansions,ve),s.getPrimary()},a=N=>ee.getValue(N).value,c=(N,q,ve)=>Ho(q,ke=>{if(!ke.getSystem().isConnected())return d.none();const ie=et.getCandidates(ke);return vt(ie,Se=>a(Se)===ve)}),i=N=>Dt(e.data.menus,(q,ve)=>Ie(q.items,ke=>ke.type==="separator"?[]:[ke.data.value])),u=et.highlight,m=(N,q)=>{u(N,q),et.getHighlighted(q).orThunk(()=>et.getFirst(q)).each(ve=>{e.fakeFocus?et.highlight(q,ve):Tg(N,ve.element,Eu())})},g=(N,q)=>ns(J(q,ve=>N.lookupMenu(ve).bind(ke=>ke.type==="prepared"?d.some(ke.menu):d.none()))),p=(N,q,ve)=>{const ke=g(q,q.otherMenus(ve));le(ke,ie=>{tr(ie.element,[e.markers.backgroundMenu]),e.stayInDom||we.remove(N,ie)})},b=N=>o.get().getOrThunk(()=>{const q={},ve=Mn(N.element,`.${e.markers.item}`),ke=it(ve,ie=>De(ie,"aria-haspopup")==="true");return le(ke,ie=>{N.getSystem().getByDom(ie).each(Se=>{const st=a(Se);q[st]=Se})}),o.set(q),q}),y=(N,q)=>{const ve=b(N);qt(ve,(ke,ie)=>{const Se=ot(q,ie);Q(ke.element,"aria-expanded",Se)})},x=(N,q,ve)=>d.from(ve[0]).bind(ke=>q.lookupMenu(ke).bind(ie=>{if(ie.type==="notbuilt")return d.none();{const Se=ie.menu,st=g(q,ve.slice(1));return le(st,tt=>{ro(tt.element,e.markers.backgroundMenu)}),E(Se.element)||we.append(N,ps(Se)),tr(Se.element,[e.markers.backgroundMenu]),m(N,Se),p(N,q,ve),d.some(Se)}}));let D;(function(N){N[N.HighlightSubmenu=0]="HighlightSubmenu",N[N.HighlightParent=1]="HighlightParent"})(D||(D={}));const S=(N,q,ve)=>{if(ve.type==="notbuilt"){const ke=N.getSystem().build(ve.nbMenu());return s.setMenuBuilt(q,ke),ke}else return ve.menu},k=(N,q,ve=D.HighlightSubmenu)=>{if(q.hasConfigured(ge)&&ge.isDisabled(q))return d.some(q);{const ke=a(q);return s.expand(ke).bind(ie=>(y(N,ie),d.from(ie[0]).bind(Se=>s.lookupMenu(Se).bind(st=>{const tt=S(N,Se,st);return E(tt.element)||we.append(N,ps(tt)),e.onOpenSubmenu(N,q,tt,yn(ie)),ve===D.HighlightSubmenu?(et.highlightFirst(tt),x(N,s,ie)):(et.dehighlightAll(tt),d.some(q))}))))}},A=(N,q)=>{const ve=a(q);return s.collapse(ve).bind(ke=>(y(N,ke),x(N,s,ke).map(ie=>(e.onCollapseMenu(N,q,ie),ie))))},I=(N,q)=>{const ve=a(q);return s.refresh(ve).bind(ke=>(y(N,ke),x(N,s,ke)))},V=(N,q)=>El(q.element)?d.none():k(N,q,D.HighlightSubmenu),G=(N,q)=>El(q.element)?d.none():A(N,q),te=(N,q)=>A(N,q).orThunk(()=>e.onEscape(N,q).map(()=>N)),P=N=>(q,ve)=>ma(ve.getSource(),`.${e.markers.item}`).bind(ke=>q.getSystem().getByDom(ke).toOptional().bind(ie=>N(q,ie).map(ct))),oe=wt([z(S3(),(N,q)=>{const ve=q.event.item;s.lookupItem(a(ve)).each(()=>{const ke=q.event.menu;et.highlight(N,ke);const ie=a(q.event.item);s.refresh(ie).each(Se=>p(N,s,Se))})}),Va((N,q)=>{const ve=q.event.target;N.getSystem().getByDom(ve).each(ke=>{a(ke).indexOf("collapse-item")===0&&A(N,ke),k(N,ke,D.HighlightSubmenu).fold(()=>{e.onExecute(N,ke)},j)})}),Ct((N,q)=>{r(N).each(ve=>{we.append(N,ps(ve)),e.onOpenMenu(N,ve),e.highlightOnOpen===kn.HighlightMenuAndItem?m(N,ve):e.highlightOnOpen===kn.HighlightJustMenu&&u(N,ve)})}),z(M3,(N,q)=>{e.onHighlightItem(N,q.event.menuComp,q.event.itemComp)}),z(k3,(N,q)=>{e.onDehighlightItem(N,q.event.menuComp,q.event.itemComp)}),...e.navigateOnHover?[z(x3(),(N,q)=>{const ve=q.event.item;I(N,ve),k(N,ve,D.HighlightParent),e.onHover(N,ve)})]:[]]),Y=N=>et.getHighlighted(N).bind(et.getHighlighted),ne=N=>{Y(N).each(q=>{A(N,q)})},Le=N=>{s.getPrimary().each(q=>{m(N,q)})},dt=N=>d.from(N.components()[0]).filter(q=>De(q.element,"role")==="menu"),re={collapseMenu:ne,highlightPrimary:Le,repositionMenus:N=>{s.getPrimary().bind(ve=>Y(N).bind(ke=>{const ie=a(ke),Se=Ta(s.getMenus()),st=ns(J(Se,T3.extractPreparedMenu));return s.getTriggeringPath(ie,tt=>c(N,st,tt))}).map(ke=>({primary:ve,triggeringPath:ke}))).fold(()=>{dt(N).each(ve=>{e.onRepositionMenu(N,ve,[])})},({primary:ve,triggeringPath:ke})=>{e.onRepositionMenu(N,ve,ke)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Vo(e.tmenuBehaviours,[ce.config({mode:"special",onRight:P(V),onLeft:P(G),onEscape:P(te),focusIn:(N,q)=>{s.getPrimary().each(ve=>{Tg(N,ve.element,Eu())})}}),et.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),Ne.config({find:N=>et.getHighlighted(N)}),we.config({})]),eventOrder:e.eventOrder,apis:re,events:oe}},$E=H("collapse-item"),NE=(e,t,o)=>({primary:e,menus:t,expansions:o}),UE=(e,t)=>({primary:e,menus:hi(e,t),expansions:{}}),WE=e=>({value:se($E()),meta:{text:e}}),Di=fs({name:"TieredMenu",configFields:[Ug("onExecute"),Ug("onEscape"),wi("onOpenMenu"),wi("onOpenSubmenu"),je("onRepositionMenu"),je("onCollapseMenu"),F("highlightOnOpen",kn.HighlightMenuAndItem),xc("data",[$("primary"),$("menus"),$("expansions")]),F("fakeFocus",!1),je("onHighlightItem"),je("onDehighlightItem"),je("onHover"),E1(),$("dom"),F("navigateOnHover",!0),F("stayInDom",!1),_o("tmenuBehaviours",[ce,et,Ne,we]),F("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:ZE,extraApis:{tieredData:NE,singleData:UE,collapseItem:WE}}),GE=(e,t,o,n,s)=>{const r=()=>e.lazySink(t),a=n.type==="horizontal"?{layouts:{onLtr:()=>op(),onRtl:()=>np()}}:{},c=u=>u.length===2,i=u=>c(u)?a:{};return Di.sketch({dom:{tag:"div"},data:n.data,markers:n.menu.markers,highlightOnOpen:n.menu.highlightOnOpen,fakeFocus:n.menu.fakeFocus,onEscape:()=>(Ye.close(t),e.onEscape.map(u=>u(t)),d.some(!0)),onExecute:()=>d.some(!0),onOpenMenu:(u,m)=>{tn.positionWithinBounds(r().getOrDie(),m,o,s())},onOpenSubmenu:(u,m,g,p)=>{const b=r().getOrDie();tn.position(b,g,{anchor:{type:"submenu",item:m,...i(p)}})},onRepositionMenu:(u,m,g)=>{const p=r().getOrDie();tn.positionWithinBounds(p,m,o,s()),le(g,b=>{const y=i(b.triggeringPath);tn.position(p,b.triggeredMenu,{anchor:{type:"submenu",item:b.triggeringItem,...y}})})}})},jE=(e,t)=>{const o=(p,b)=>e.getRelated(p).exists(x=>Mi(x,b)),n=(p,b)=>{Ye.setContent(p,b)},s=(p,b,y)=>{const x=d.none;r(p,b,y,x)},r=(p,b,y,x)=>{const D=e.lazySink(p).getOrDie();Ye.openWhileCloaked(p,b,()=>tn.positionWithinBounds(D,p,y,x())),ee.setValue(p,d.some({mode:"position",config:y,getBounds:x}))},a=(p,b,y)=>{c(p,b,y,d.none)},c=(p,b,y,x)=>{const D=GE(e,p,b,y,x);Ye.open(p,D),ee.setValue(p,d.some({mode:"menu",menu:D}))},i=p=>{Ye.isOpen(p)&&(ee.setValue(p,d.none()),Ye.close(p))},u=p=>Ye.getState(p),m=p=>{Ye.isOpen(p)&&ee.getValue(p).each(b=>{switch(b.mode){case"menu":Ye.getState(p).each(Di.repositionMenus);break;case"position":const y=e.lazySink(p).getOrDie();tn.positionWithinBounds(y,p,b.config,b.getBounds());break}})},g={setContent:n,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:c,hide:i,getContent:u,reposition:m,isOpen:Ye.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Vo(e.inlineBehaviours,[Ye.config({isPartOf:(p,b,y)=>Mi(b,y)||o(p,y),getAttachPoint:p=>e.lazySink(p).getOrDie(),onOpen:p=>{e.onShow(p)},onClose:p=>{e.onHide(p)}}),ee.config({store:{mode:"memory",initialValue:d.none()}}),jn.config({channels:{...bp({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({})}),...yp({...e.fireRepositionEventInstead.map(p=>({fireEventInstead:{event:p.event}})).getOr({}),doReposition:m})}})]),eventOrder:e.eventOrder,apis:g}},Et=fs({name:"InlineView",configFields:[$("lazySink"),je("onShow"),je("onHide"),Sc("onEscape"),_o("inlineBehaviours",[Ye,ee,jn]),ds("fireDismissalEventInstead",[F("event",vi())]),ds("fireRepositionEventInstead",[F("event",iv())]),F("getRelated",d.none),F("isExtraPart",rt),F("eventOrder",d.none)],factory:jE,apis:{showAt:(e,t,o,n)=>{e.showAt(t,o,n)},showWithinBounds:(e,t,o,n,s)=>{e.showWithinBounds(t,o,n,s)},showMenuAt:(e,t,o,n)=>{e.showMenuAt(t,o,n)},showMenuWithinBounds:(e,t,o,n,s)=>{e.showMenuWithinBounds(t,o,n,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,o)=>{e.setContent(t,o)},reposition:(e,t)=>{e.reposition(t)}}});var mm=tinymce.util.Tools.resolve("tinymce.util.Delay"),Uu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),YE=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ll=tinymce.util.Tools.resolve("tinymce.Env"),Is;(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Is||(Is={}));var Wu;(function(e){e.auto="auto",e.top="top",e.bottom="bottom"})(Wu||(Wu={}));const at=e=>t=>t.options.get(e),Gu=e=>t=>d.from(e(t)),O3=e=>{const t=Ll.deviceType.isPhone(),o=Ll.deviceType.isTablet()||t,n=e.options.register,s=a=>_(a)||a===!1,r=a=>_(a)||Ro(a);n("skin",{processor:a=>_(a)||a===!1,default:"oxide"}),n("skin_url",{processor:"string"}),n("height",{processor:r,default:Math.max(e.getElement().offsetHeight,400)}),n("width",{processor:r,default:Uu.DOM.getStyle(e.getElement(),"width")}),n("min_height",{processor:"number",default:100}),n("min_width",{processor:"number"}),n("max_height",{processor:"number"}),n("max_width",{processor:"number"}),n("style_formats",{processor:"object[]"}),n("style_formats_merge",{processor:"boolean",default:!1}),n("style_formats_autohide",{processor:"boolean",default:!1}),n("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),n("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),n("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),n("font_size_input_default_unit",{processor:"string",default:"pt"}),n("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),n("content_langs",{processor:"object[]"}),n("removed_menuitems",{processor:"string",default:""}),n("menubar",{processor:a=>_(a)||qo(a),default:!t}),n("menu",{processor:"object",default:{}}),n("toolbar",{processor:a=>qo(a)||_(a)||It(a)?{value:a,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Ns(9,a=>{n("toolbar"+(a+1),{processor:"string"})}),n("toolbar_mode",{processor:"string",default:o?"scrolling":"floating"}),n("toolbar_groups",{processor:"object",default:{}}),n("toolbar_location",{processor:"string",default:Wu.auto}),n("toolbar_persist",{processor:"boolean",default:!1}),n("toolbar_sticky",{processor:"boolean",default:e.inline}),n("toolbar_sticky_offset",{processor:"number",default:0}),n("fixed_toolbar_container",{processor:"string",default:""}),n("fixed_toolbar_container_target",{processor:"object"}),n("ui_mode",{processor:"string",default:"combined"}),n("file_picker_callback",{processor:"function"}),n("file_picker_validator_handler",{processor:"function"}),n("file_picker_types",{processor:"string"}),n("typeahead_urls",{processor:"boolean",default:!0}),n("anchor_top",{processor:s,default:"#top"}),n("anchor_bottom",{processor:s,default:"#bottom"}),n("draggable_modal",{processor:"boolean",default:!1}),n("statusbar",{processor:"boolean",default:!0}),n("elementpath",{processor:"boolean",default:!0}),n("branding",{processor:"boolean",default:!0}),n("promotion",{processor:"boolean",default:!0}),n("resize",{processor:a=>a==="both"||qo(a),default:!Ll.deviceType.isTouch()}),n("sidebar_show",{processor:"string"}),n("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),n("default_font_stack",{processor:"string[]",default:[]})},_3=at("readonly"),hm=at("disabled"),Wp=at("height"),Gp=at("width"),jp=Gu(at("min_width")),Yp=Gu(at("min_height")),gm=Gu(at("max_width")),Xp=Gu(at("max_height")),A3=Gu(at("style_formats")),E3=at("style_formats_merge"),D3=at("style_formats_autohide"),H3=at("content_langs"),L3=at("removed_menuitems"),Fl=at("toolbar_mode"),F3=at("toolbar_groups"),qp=at("toolbar_location"),XE=at("fixed_toolbar_container"),qE=at("fixed_toolbar_container_target"),I3=at("toolbar_persist"),V3=at("toolbar_sticky_offset"),B3=at("menubar"),pm=at("toolbar"),P3=at("file_picker_callback"),R3=at("file_picker_validator_handler"),z3=at("font_size_input_default_unit"),Z3=at("file_picker_types"),$3=at("typeahead_urls"),N3=at("anchor_top"),U3=at("anchor_bottom"),W3=at("draggable_modal"),G3=at("statusbar"),j3=at("elementpath"),Kp=at("branding"),Y3=at("resize"),X3=at("paste_as_text"),q3=at("sidebar_show"),K3=at("promotion"),J3=at("help_accessibility"),Q3=at("default_font_stack"),ey=at("skin"),Jp=e=>e.options.get("skin")===!1,fm=e=>e.options.get("menubar")!==!1,ty=e=>{const t=e.options.get("skin_url");if(Jp(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const o=e.options.get("skin");return YE.baseURL+"/skins/ui/"+o}},KE=e=>d.from(e.options.get("skin_url")),oy=e=>e.options.get("line_height_formats").split(" "),vm=e=>{const t=pm(e),o=_(t),n=It(t)&&t.length>0;return!ju(e)&&(n||o||t===!0)},Qp=e=>{const t=Ns(9,n=>e.options.get("toolbar"+(n+1))),o=it(t,_);return zo(o.length>0,o)},ju=e=>Qp(e).fold(()=>{const t=pm(e);return xe(t,_)&&t.length>0},ct),ef=e=>qp(e)===Wu.bottom,ny=e=>{var t;if(!e.inline)return d.none();const o=(t=XE(e))!==null&&t!==void 0?t:"";if(o.length>0)return kt(Z(),o);const n=qE(e);return _t(n)?d.some(K.fromDom(n)):d.none()},Il=e=>e.inline&&ny(e).isSome(),tf=e=>ny(e).getOrThunk(()=>Or(Zo(K.fromDom(e.getElement())))),of=e=>e.inline&&!fm(e)&&!vm(e)&&!ju(e),Vl=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Il(e)&&!of(e),Ac=e=>!Il(e)&&e.options.get("ui_mode")==="split",sy=e=>{const t=e.options.get("menu");return Dt(t,o=>({...o,items:o.items}))};var JE=Object.freeze({__proto__:null,get ToolbarMode(){return Is},get ToolbarLocation(){return Wu},register:O3,getSkinUrl:ty,getSkinUrlOption:KE,isReadOnly:_3,isDisabled:hm,getSkin:ey,isSkinDisabled:Jp,getHeightOption:Wp,getWidthOption:Gp,getMinWidthOption:jp,getMinHeightOption:Yp,getMaxWidthOption:gm,getMaxHeightOption:Xp,getUserStyleFormats:A3,shouldMergeStyleFormats:E3,shouldAutoHideStyleFormats:D3,getLineHeightFormats:oy,getContentLanguages:H3,getRemovedMenuItems:L3,isMenubarEnabled:fm,isMultipleToolbars:ju,isToolbarEnabled:vm,isToolbarPersist:I3,getMultipleToolbarsOption:Qp,getUiContainer:tf,useFixedContainer:Il,isSplitUiMode:Ac,getToolbarMode:Fl,isDraggableModal:W3,isDistractionFree:of,isStickyToolbar:Vl,getStickyToolbarOffset:V3,getToolbarLocation:qp,isToolbarLocationBottom:ef,getToolbarGroups:F3,getMenus:sy,getMenubar:B3,getToolbar:pm,getFilePickerCallback:P3,getFilePickerTypes:Z3,useTypeaheadUrls:$3,getAnchorTop:N3,getAnchorBottom:U3,getFilePickerValidatorHandler:R3,getFontSizeInputDefaultUnit:z3,useStatusBar:G3,useElementPath:j3,promotionEnabled:K3,useBranding:Kp,getResize:Y3,getPasteAsText:X3,getSidebarShow:q3,useHelpAccessibility:J3,getDefaultFontStack:Q3});const QE=["visible","hidden","clip"],ry=e=>Oa(e).length>0&&!ot(QE,e),ay=e=>{if(oo(e)){const t=Fo(e,"overflow-x"),o=Fo(e,"overflow-y");return ry(t)||ry(o)}else return!1},cy=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),eD=(e,t)=>{const o=Db(t,ay),n=o.length===0?mc(t).map(oi).map(s=>Db(s,ay)).getOr([]):o;return an(n).map(s=>({element:s,others:n.slice(1),isFullscreen:()=>cy(e)}))},Ec=(e,t)=>Ac(e)?eD(e,t):d.none(),Hi=e=>{const t=[...J(e.others,ho),$o()];return e.isFullscreen()?$o():og(ho(e.element),t)},Bo=fs({name:"Button",factory:e=>{const t=dm(e.action),o=e.dom.tag,n=r=>pe(e.dom,"attributes").bind(a=>pe(a,r)),s=()=>{if(o==="button"){const r=n("type").getOr("button"),a=n("role").map(c=>({role:c})).getOr({});return{type:r,...a}}else return{role:e.role.getOr(n("role").getOr("button"))}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:rr.augment(e.buttonBehaviours,[be.config({}),ce.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s()},eventOrder:e.eventOrder}},configFields:[F("uid",void 0),$("dom"),F("components",[]),rr.field("buttonBehaviours",[be,ce]),Je("action"),Je("role"),F("eventOrder",{})]}),tD=e=>{const t=e.dom.attributes!==void 0?e.dom.attributes:[];return io(t,(o,n)=>n.name==="class"?o:{...o,[n.name]:n.value},{})},oD=e=>Array.prototype.slice.call(e.dom.classList,0),Na=e=>{const t=K.fromHtml(e),o=xo(t),n=tD(t),s=oD(t),r=o.length===0?{}:{innerHtml:zg(t)};return{tag:lo(t),classes:s,attributes:n,...r}},Qe=e=>{const t=e_(e)&&Ko(e,"uid")?e.uid:kl("memento");return{get:r=>r.getSystem().getByUid(t).getOrDie(),getOpt:r=>r.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}};var nD=Object.freeze({__proto__:null,exhibit:(e,t)=>er({attributes:vl([{key:t.tabAttr,value:"true"}])})}),sD=[F("tabAttr","data-alloy-tabstop")];const xt=Io({fields:sD,name:"tabstopping",active:nD}),iy=se("tooltip.exclusive"),Yu=se("tooltip.show"),Xu=se("tooltip.hide"),qu=se("tooltip.immediateHide"),Ku=se("tooltip.immediateShow"),ly=(e,t,o)=>{e.getSystem().broadcastOn([iy],{})};var rD=Object.freeze({__proto__:null,hideAllExclusive:ly,immediateOpenClose:(e,t,o,n)=>Re(e,n?Ku:qu),isEnabled:(e,t,o)=>o.isEnabled(),setComponents:(e,t,o,n)=>{o.getTooltip().each(s=>{s.getSystem().isConnected()&&we.set(s,n)})},setEnabled:(e,t,o,n)=>o.setEnabled(n)}),aD=Object.freeze({__proto__:null,events:(e,t)=>{const o=a=>{t.getTooltip().each(c=>{c.getSystem().isConnected()&&(Za(c),e.onHide(a,c),t.clearTooltip())}),t.clearTimer()},n=a=>{if(!t.isShowing()&&t.isEnabled()){ly(a);const c=e.lazySink(a).getOrDie(),i=a.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:wt(e.mode==="normal"?[z(la(),u=>{Re(a,Yu)}),z(T1(),u=>{Re(a,Xu)})]:[]),behaviours:W([we.config({})])});t.setTooltip(i),ki(c,i),e.onShow(a,i),tn.position(c,i,{anchor:e.anchor(a)})}},s=a=>{t.getTooltip().each(c=>{const i=e.lazySink(a).getOrDie();tn.position(i,c,{anchor:e.anchor(a)})})},r=()=>{switch(e.mode){case"normal":return[z(Lr(),a=>{Re(a,Ku)}),z(Au(),a=>{Re(a,qu)}),z(la(),a=>{Re(a,Yu)}),z(T1(),a=>{Re(a,Xu)})];case"follow-highlight":return[z(wg(),(a,c)=>{Re(a,Yu)}),z(Cg(),a=>{Re(a,Xu)})];case"children-normal":return[z(Lr(),(a,c)=>{dn(a.element).each(i=>{Xs(c.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold(()=>{Re(a,Ku)},u=>{t.isShowing()&&(e.onShow(a,u),s(a))})})}),z(Au(),a=>{dn(a.element).fold(()=>{Re(a,qu)},j)}),z(la(),a=>{kt(a.element,"[data-mce-tooltip]:hover").each(c=>{t.getTooltip().fold(()=>{Re(a,Yu)},i=>{t.isShowing()&&(e.onShow(a,i),s(a))})})}),z(T1(),a=>{kt(a.element,"[data-mce-tooltip]:hover").fold(()=>{Re(a,Xu)},j)})];default:return[z(Lr(),(a,c)=>{dn(a.element).each(i=>{Xs(c.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold(()=>{Re(a,Ku)},u=>{t.isShowing()&&(e.onShow(a,u),s(a))})})}),z(Au(),a=>{dn(a.element).fold(()=>{Re(a,qu)},j)})]}};return wt(Xt([[gv(a=>{e.onSetup(a)}),z(Yu,a=>{t.resetTimer(()=>{n(a)},e.delayForShow())}),z(Xu,a=>{t.resetTimer(()=>{o(a)},e.delayForHide())}),z(Ku,a=>{t.resetTimer(()=>{n(a)},0)}),z(qu,a=>{t.resetTimer(()=>{o(a)},0)}),z(fi(),(a,c)=>{const i=c;i.universal||ot(i.channels,iy)&&o(a)}),da(a=>{o(a)})],r()]))}}),cD=[$("lazySink"),$("tooltipDom"),F("exclusive",!0),F("tooltipComponents",[]),yt("delayForShow",H(300)),yt("delayForHide",H(300)),yt("onSetup",j),ia("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),F("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:H([fo,Oo,go,jo,po,Yo]),onRtl:H([fo,Oo,go,jo,po,Yo])},bubble:sr(0,-2,{})})),je("onHide"),je("onShow")],iD=Object.freeze({__proto__:null,init:()=>{const e=ue(!0),t=ut(),o=ut(),n=()=>{t.on(clearTimeout)},s=(a,c)=>{n(),t.set(setTimeout(a,c))},r=H("not-implemented");return gs({getTooltip:o.get,isShowing:o.isSet,setTooltip:o.set,clearTooltip:o.clear,clearTimer:n,resetTimer:s,readState:r,isEnabled:()=>e.get(),setEnabled:a=>e.set(a)})}});const Ft=Io({fields:cD,name:"tooltipping",active:aD,state:iD,apis:rD});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:uy,setPrototypeOf:dy,isFrozen:lD,getPrototypeOf:uD,getOwnPropertyDescriptor:dD}=Object;let{freeze:qn,seal:cr,create:my}=Object,{apply:nf,construct:sf}=typeof Reflect<"u"&&Reflect;qn||(qn=function(t){return t}),cr||(cr=function(t){return t}),nf||(nf=function(t,o,n){return t.apply(o,n)}),sf||(sf=function(t,o){return new t(...o)});const bm=Vs(Array.prototype.forEach),hy=Vs(Array.prototype.pop),Ju=Vs(Array.prototype.push),ym=Vs(String.prototype.toLowerCase),rf=Vs(String.prototype.toString),gy=Vs(String.prototype.match),Qu=Vs(String.prototype.replace),mD=Vs(String.prototype.indexOf),hD=Vs(String.prototype.trim),Pr=Vs(Object.prototype.hasOwnProperty),Kn=Vs(RegExp.prototype.test),ed=gD(TypeError);function Vs(e){return function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),s=1;s<o;s++)n[s-1]=arguments[s];return nf(e,t,n)}}function gD(e){return function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return sf(e,o)}}function pt(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ym;dy&&dy(e,null);let n=t.length;for(;n--;){let s=t[n];if(typeof s=="string"){const r=o(s);r!==s&&(lD(t)||(t[n]=r),s=r)}e[s]=!0}return e}function pD(e){for(let t=0;t<e.length;t++)Pr(e,t)||(e[t]=null);return e}function Li(e){const t=my(null);for(const[o,n]of uy(e))Pr(e,o)&&(Array.isArray(n)?t[o]=pD(n):n&&typeof n=="object"&&n.constructor===Object?t[o]=Li(n):t[o]=n);return t}function td(e,t){for(;e!==null;){const n=dD(e,t);if(n){if(n.get)return Vs(n.get);if(typeof n.value=="function")return Vs(n.value)}e=uD(e)}function o(){return null}return o}const py=qn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),af=qn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cf=qn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fD=qn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),lf=qn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vD=qn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fy=qn(["#text"]),vy=qn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),uf=qn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),by=qn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xm=qn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bD=cr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),yD=cr(/<%[\w\W]*|[\w\W]*%>/gm),xD=cr(/\${[\w\W]*}/gm),SD=cr(/^data-[\-\w.\u00B7-\uFFFF]/),wD=cr(/^aria-[\-\w]+$/),yy=cr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),CD=cr(/^(?:\w+script|data):/i),TD=cr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xy=cr(/^html$/i),MD=cr(/^[a-z][.\w]*(-[.\w]+)+$/i);var Sy=Object.freeze({__proto__:null,MUSTACHE_EXPR:bD,ERB_EXPR:yD,TMPLIT_EXPR:xD,DATA_ATTR:SD,ARIA_ATTR:wD,IS_ALLOWED_URI:yy,IS_SCRIPT_OR_DATA:CD,ATTR_WHITESPACE:TD,DOCTYPE_NAME:xy,CUSTOM_ELEMENT:MD});const od={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},kD=function(){return typeof window>"u"?null:window},OD=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";o&&o.hasAttribute(s)&&(n=o.getAttribute(s));const r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function wy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kD();const t=Be=>wy(Be);if(t.version="3.1.7",t.removed=[],!e||!e.document||e.document.nodeType!==od.document)return t.isSupported=!1,t;let{document:o}=e;const n=o,s=n.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:c,Element:i,NodeFilter:u,NamedNodeMap:m=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:g,DOMParser:p,trustedTypes:b}=e,y=i.prototype,x=td(y,"cloneNode"),D=td(y,"remove"),S=td(y,"nextSibling"),k=td(y,"childNodes"),A=td(y,"parentNode");if(typeof a=="function"){const Be=o.createElement("template");Be.content&&Be.content.ownerDocument&&(o=Be.content.ownerDocument)}let I,V="";const{implementation:G,createNodeIterator:te,createDocumentFragment:P,getElementsByTagName:oe}=o,{importNode:Y}=n;let ne={};t.isSupported=typeof uy=="function"&&typeof A=="function"&&G&&G.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Le,ERB_EXPR:dt,TMPLIT_EXPR:We,DATA_ATTR:re,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:ve,CUSTOM_ELEMENT:ke}=Sy;let{IS_ALLOWED_URI:ie}=Sy,Se=null;const st=pt({},[...py,...af,...cf,...lf,...fy]);let tt=null;const gn=pt({},[...vy,...uf,...by,...xm]);let Tt=Object.seal(my(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Pn=null,Ao=null,Rn=!0,zn=!0,ys=!1,qi=!0,pr=!1,Dd=!0,Ka=!1,Hd=!1,P2=!1,tu=!1,Dh=!1,Hh=!1,G8=!0,j8=!1;const tj="user-content-";let R2=!0,Ld=!1,ou={},nu=null;const Y8=pt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let X8=null;const q8=pt({},["audio","video","img","source","image","track"]);let z2=null;const K8=pt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lh="http://www.w3.org/1998/Math/MathML",Fh="http://www.w3.org/2000/svg",Ja="http://www.w3.org/1999/xhtml";let su=Ja,Z2=!1,$2=null;const oj=pt({},[Lh,Fh,Ja],rf);let Fd=null;const nj=["application/xhtml+xml","text/html"],sj="text/html";let pn=null,ru=null;const rj=o.createElement("form"),J8=function(B){return B instanceof RegExp||B instanceof Function},N2=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ru&&ru===B)){if((!B||typeof B!="object")&&(B={}),B=Li(B),Fd=nj.indexOf(B.PARSER_MEDIA_TYPE)===-1?sj:B.PARSER_MEDIA_TYPE,pn=Fd==="application/xhtml+xml"?rf:ym,Se=Pr(B,"ALLOWED_TAGS")?pt({},B.ALLOWED_TAGS,pn):st,tt=Pr(B,"ALLOWED_ATTR")?pt({},B.ALLOWED_ATTR,pn):gn,$2=Pr(B,"ALLOWED_NAMESPACES")?pt({},B.ALLOWED_NAMESPACES,rf):oj,z2=Pr(B,"ADD_URI_SAFE_ATTR")?pt(Li(K8),B.ADD_URI_SAFE_ATTR,pn):K8,X8=Pr(B,"ADD_DATA_URI_TAGS")?pt(Li(q8),B.ADD_DATA_URI_TAGS,pn):q8,nu=Pr(B,"FORBID_CONTENTS")?pt({},B.FORBID_CONTENTS,pn):Y8,Pn=Pr(B,"FORBID_TAGS")?pt({},B.FORBID_TAGS,pn):{},Ao=Pr(B,"FORBID_ATTR")?pt({},B.FORBID_ATTR,pn):{},ou=Pr(B,"USE_PROFILES")?B.USE_PROFILES:!1,Rn=B.ALLOW_ARIA_ATTR!==!1,zn=B.ALLOW_DATA_ATTR!==!1,ys=B.ALLOW_UNKNOWN_PROTOCOLS||!1,qi=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,pr=B.SAFE_FOR_TEMPLATES||!1,Dd=B.SAFE_FOR_XML!==!1,Ka=B.WHOLE_DOCUMENT||!1,tu=B.RETURN_DOM||!1,Dh=B.RETURN_DOM_FRAGMENT||!1,Hh=B.RETURN_TRUSTED_TYPE||!1,P2=B.FORCE_BODY||!1,G8=B.SANITIZE_DOM!==!1,j8=B.SANITIZE_NAMED_PROPS||!1,R2=B.KEEP_CONTENT!==!1,Ld=B.IN_PLACE||!1,ie=B.ALLOWED_URI_REGEXP||yy,su=B.NAMESPACE||Ja,Tt=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&J8(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Tt.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&J8(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Tt.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Tt.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pr&&(zn=!1),Dh&&(tu=!0),ou&&(Se=pt({},fy),tt=[],ou.html===!0&&(pt(Se,py),pt(tt,vy)),ou.svg===!0&&(pt(Se,af),pt(tt,uf),pt(tt,xm)),ou.svgFilters===!0&&(pt(Se,cf),pt(tt,uf),pt(tt,xm)),ou.mathMl===!0&&(pt(Se,lf),pt(tt,by),pt(tt,xm))),B.ADD_TAGS&&(Se===st&&(Se=Li(Se)),pt(Se,B.ADD_TAGS,pn)),B.ADD_ATTR&&(tt===gn&&(tt=Li(tt)),pt(tt,B.ADD_ATTR,pn)),B.ADD_URI_SAFE_ATTR&&pt(z2,B.ADD_URI_SAFE_ATTR,pn),B.FORBID_CONTENTS&&(nu===Y8&&(nu=Li(nu)),pt(nu,B.FORBID_CONTENTS,pn)),R2&&(Se["#text"]=!0),Ka&&pt(Se,["html","head","body"]),Se.table&&(pt(Se,["tbody"]),delete Pn.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw ed('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ed('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=B.TRUSTED_TYPES_POLICY,V=I.createHTML("")}else I===void 0&&(I=OD(b,s)),I!==null&&typeof V=="string"&&(V=I.createHTML(""));qn&&qn(B),ru=B}},Q8=pt({},["mi","mo","mn","ms","mtext"]),e7=pt({},["annotation-xml"]),aj=pt({},["title","style","font","a","script"]),t7=pt({},[...af,...cf,...fD]),o7=pt({},[...lf,...vD]),cj=function(B){let de=A(B);(!de||!de.tagName)&&(de={namespaceURI:su,tagName:"template"});const Fe=ym(B.tagName),ao=ym(de.tagName);return $2[B.namespaceURI]?B.namespaceURI===Fh?de.namespaceURI===Ja?Fe==="svg":de.namespaceURI===Lh?Fe==="svg"&&(ao==="annotation-xml"||Q8[ao]):!!t7[Fe]:B.namespaceURI===Lh?de.namespaceURI===Ja?Fe==="math":de.namespaceURI===Fh?Fe==="math"&&e7[ao]:!!o7[Fe]:B.namespaceURI===Ja?de.namespaceURI===Fh&&!e7[ao]||de.namespaceURI===Lh&&!Q8[ao]?!1:!o7[Fe]&&(aj[Fe]||!t7[Fe]):!!(Fd==="application/xhtml+xml"&&$2[B.namespaceURI]):!1},ya=function(B){Ju(t.removed,{element:B});try{A(B).removeChild(B)}catch{D(B)}},Id=function(B,de){try{Ju(t.removed,{attribute:de.getAttributeNode(B),from:de})}catch{Ju(t.removed,{attribute:null,from:de})}if(de.removeAttribute(B),B==="is"&&!tt[B])if(tu||Dh)try{ya(de)}catch{}else try{de.setAttribute(B,"")}catch{}},n7=function(B){let de=null,Fe=null;if(P2)B="<remove></remove>"+B;else{const fn=gy(B,/^[\r\n\t ]+/);Fe=fn&&fn[0]}Fd==="application/xhtml+xml"&&su===Ja&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");const ao=I?I.createHTML(B):B;if(su===Ja)try{de=new p().parseFromString(ao,Fd)}catch{}if(!de||!de.documentElement){de=G.createDocument(su,"template",null);try{de.documentElement.innerHTML=Z2?V:ao}catch{}}const Zn=de.body||de.documentElement;return B&&Fe&&Zn.insertBefore(o.createTextNode(Fe),Zn.childNodes[0]||null),su===Ja?oe.call(de,Ka?"html":"body")[0]:Ka?de.documentElement:Zn},s7=function(B){return te.call(B.ownerDocument||B,B,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},r7=function(B){return B instanceof g&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof m)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},a7=function(B){return typeof c=="function"&&B instanceof c},Qa=function(B,de,Fe){ne[B]&&bm(ne[B],ao=>{ao.call(t,de,Fe,ru)})},c7=function(B){let de=null;if(Qa("beforeSanitizeElements",B,null),r7(B))return ya(B),!0;const Fe=pn(B.nodeName);if(Qa("uponSanitizeElement",B,{tagName:Fe,allowedTags:Se}),B.hasChildNodes()&&!a7(B.firstElementChild)&&Kn(/<[/\w]/g,B.innerHTML)&&Kn(/<[/\w]/g,B.textContent)||B.nodeType===od.progressingInstruction||Dd&&B.nodeType===od.comment&&Kn(/<[/\w]/g,B.data))return ya(B),!0;if(!Se[Fe]||Pn[Fe]){if(!Pn[Fe]&&l7(Fe)&&(Tt.tagNameCheck instanceof RegExp&&Kn(Tt.tagNameCheck,Fe)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(Fe)))return!1;if(R2&&!nu[Fe]){const ao=A(B)||B.parentNode,Zn=k(B)||B.childNodes;if(Zn&&ao){const fn=Zn.length;for(let xs=fn-1;xs>=0;--xs){const xa=x(Zn[xs],!0);xa.__removalCount=(B.__removalCount||0)+1,ao.insertBefore(xa,S(B))}}}return ya(B),!0}return B instanceof i&&!cj(B)||(Fe==="noscript"||Fe==="noembed"||Fe==="noframes")&&Kn(/<\/no(script|embed|frames)/i,B.innerHTML)?(ya(B),!0):(pr&&B.nodeType===od.text&&(de=B.textContent,bm([Le,dt,We],ao=>{de=Qu(de,ao," ")}),B.textContent!==de&&(Ju(t.removed,{element:B.cloneNode()}),B.textContent=de)),Qa("afterSanitizeElements",B,null),!1)},i7=function(B,de,Fe){if(G8&&(de==="id"||de==="name")&&(Fe in o||Fe in rj))return!1;if(!(zn&&!Ao[de]&&Kn(re,de))){if(!(Rn&&Kn(N,de))){if(!tt[de]||Ao[de]){if(!(l7(B)&&(Tt.tagNameCheck instanceof RegExp&&Kn(Tt.tagNameCheck,B)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(B))&&(Tt.attributeNameCheck instanceof RegExp&&Kn(Tt.attributeNameCheck,de)||Tt.attributeNameCheck instanceof Function&&Tt.attributeNameCheck(de))||de==="is"&&Tt.allowCustomizedBuiltInElements&&(Tt.tagNameCheck instanceof RegExp&&Kn(Tt.tagNameCheck,Fe)||Tt.tagNameCheck instanceof Function&&Tt.tagNameCheck(Fe))))return!1}else if(!z2[de]){if(!Kn(ie,Qu(Fe,ve,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&B!=="script"&&mD(Fe,"data:")===0&&X8[B])){if(!(ys&&!Kn(q,Qu(Fe,ve,"")))){if(Fe)return!1}}}}}}return!0},l7=function(B){return B!=="annotation-xml"&&gy(B,ke)},u7=function(B){Qa("beforeSanitizeAttributes",B,null);const{attributes:de}=B;if(!de)return;const Fe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:tt};let ao=de.length;for(;ao--;){const Zn=de[ao],{name:fn,namespaceURI:xs,value:xa}=Zn,Vd=pn(fn);let On=fn==="value"?xa:hD(xa);const lj=On;if(Fe.attrName=Vd,Fe.attrValue=On,Fe.keepAttr=!0,Fe.forceKeepAttr=void 0,Qa("uponSanitizeAttribute",B,Fe),On=Fe.attrValue,Fe.forceKeepAttr)continue;if(!Fe.keepAttr){Id(fn,B);continue}if(!qi&&Kn(/\/>/i,On)){Id(fn,B);continue}pr&&bm([Le,dt,We],m7=>{On=Qu(On,m7," ")});const d7=pn(B.nodeName);if(!i7(d7,Vd,On)){Id(fn,B);continue}if(j8&&(Vd==="id"||Vd==="name")&&(Id(fn,B),On=tj+On),Dd&&Kn(/((--!?|])>)|<\/(style|title)/i,On)){Id(fn,B);continue}if(I&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!xs)switch(b.getAttributeType(d7,Vd)){case"TrustedHTML":{On=I.createHTML(On);break}case"TrustedScriptURL":{On=I.createScriptURL(On);break}}if(On!==lj)try{xs?B.setAttributeNS(xs,fn,On):B.setAttribute(fn,On),r7(B)?ya(B):hy(t.removed)}catch{}}Qa("afterSanitizeAttributes",B,null)},ij=function Be(B){let de=null;const Fe=s7(B);for(Qa("beforeSanitizeShadowDOM",B,null);de=Fe.nextNode();)Qa("uponSanitizeShadowNode",de,null),!c7(de)&&(de.content instanceof r&&Be(de.content),u7(de));Qa("afterSanitizeShadowDOM",B,null)};return t.sanitize=function(Be){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,Fe=null,ao=null,Zn=null;if(Z2=!Be,Z2&&(Be="<!-->"),typeof Be!="string"&&!a7(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw ed("dirty is not a string, aborting")}else throw ed("toString is not a function");if(!t.isSupported)return Be;if(Hd||N2(B),t.removed=[],typeof Be=="string"&&(Ld=!1),Ld){if(Be.nodeName){const xa=pn(Be.nodeName);if(!Se[xa]||Pn[xa])throw ed("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof c)de=n7("<!---->"),Fe=de.ownerDocument.importNode(Be,!0),Fe.nodeType===od.element&&Fe.nodeName==="BODY"||Fe.nodeName==="HTML"?de=Fe:de.appendChild(Fe);else{if(!tu&&!pr&&!Ka&&Be.indexOf("<")===-1)return I&&Hh?I.createHTML(Be):Be;if(de=n7(Be),!de)return tu?null:Hh?V:""}de&&P2&&ya(de.firstChild);const fn=s7(Ld?Be:de);for(;ao=fn.nextNode();)c7(ao)||(ao.content instanceof r&&ij(ao.content),u7(ao));if(Ld)return Be;if(tu){if(Dh)for(Zn=P.call(de.ownerDocument);de.firstChild;)Zn.appendChild(de.firstChild);else Zn=de;return(tt.shadowroot||tt.shadowrootmode)&&(Zn=Y.call(n,Zn,!0)),Zn}let xs=Ka?de.outerHTML:de.innerHTML;return Ka&&Se["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&Kn(xy,de.ownerDocument.doctype.name)&&(xs="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+xs),pr&&bm([Le,dt,We],xa=>{xs=Qu(xs,xa," ")}),I&&Hh?I.createHTML(xs):xs},t.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};N2(Be),Hd=!0},t.clearConfig=function(){ru=null,Hd=!1},t.isValidAttribute=function(Be,B,de){ru||N2({});const Fe=pn(Be),ao=pn(B);return i7(Fe,ao,de)},t.addHook=function(Be,B){typeof B=="function"&&(ne[Be]=ne[Be]||[],Ju(ne[Be],B))},t.removeHook=function(Be){if(ne[Be])return hy(ne[Be])},t.removeHooks=function(Be){ne[Be]&&(ne[Be]=[])},t.removeAllHooks=function(){ne={}},t}var _D=wy();const Cy=e=>_D().sanitize(e);var Bs=tinymce.util.Tools.resolve("tinymce.util.I18n");const AD={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Ty="temporary-placeholder",df=e=>()=>pe(e,Ty).getOr("!not found!"),mf=(e,t)=>{const o=e.toLowerCase();if(Bs.isRtl()){const n=xn(o,"-rtl");return Xe(t,n)?n:o}else return o},My=(e,t)=>pe(t,mf(e,t)),ky=(e,t)=>{const o=t();return My(e,o).getOrThunk(df(o))},ED=(e,t,o)=>{const n=t();return My(e,n).or(o).getOrThunk(df(n))},DD=e=>Bs.isRtl()?Xe(AD,e):!1,Oy=()=>Te("add-focusable",[Ct(e=>{Yg(e.element,"svg").each(t=>Q(t,"focusable","false"))})]),_y=(e,t,o,n)=>{var s,r;const a=DD(t)?["tox-icon--flip"]:[],c=pe(o,mf(t,o)).or(n).getOrThunk(df(o));return{dom:{tag:e.tag,attributes:(s=e.attributes)!==null&&s!==void 0?s:{},classes:e.classes.concat(a),innerHtml:c},behaviours:W([...(r=e.behaviours)!==null&&r!==void 0?r:[],Oy()])}},Ps=(e,t,o,n=d.none())=>_y(t,e,o(),n),HD=(e,t,o)=>{const n=o(),s=vt(e,r=>Xe(n,mf(r,n)));return _y(t,s.getOr(Ty),n,d.none())},LD={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},hf=fs({name:"Notification",factory:e=>{const t=se("notification-text"),o=Qe({dom:Na(`<p id=${t}>${Cy(e.backstageProvider.translate(e.text))}</p>`),behaviours:W([we.config({})])}),n=y=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${y}%`}}}),s=y=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${y}%`}}),r=Qe({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},s(0)],behaviours:W([we.config({})])}),i={updateProgress:(y,x)=>{y.getSystem().isConnected()&&r.getOpt(y).each(D=>{we.set(D,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(x)]},s(x)])})},updateText:(y,x)=>{if(y.getSystem().isConnected()){const D=o.get(y);we.set(D,[At(x)])}}},u=Xt([e.icon.toArray(),e.level.toArray(),e.level.bind(y=>d.from(LD[y])).toArray()]),m=Qe(Bo.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[Ps("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:W([xt.config({}),Ft.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:y=>{e.onAction(y)}})),g=HD(u,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),p={dom:{tag:"div",classes:["tox-notification__body"]},components:[o.asSpec()],behaviours:W([we.config({})])},b=[g,p];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":t},classes:e.level.map(y=>["tox-notification","tox-notification--in",`tox-notification--${y}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:W([xt.config({}),be.config({}),ce.config({mode:"special",onEscape:y=>(e.onAction(y),d.some(!0))})]),components:b.concat(e.progress?[r.asSpec()]:[]).concat([m.asSpec()]),apis:i}},configFields:[Je("level"),$("progress"),Je("icon"),$("onAction"),$("text"),$("iconProvider"),$("backstageProvider")],apis:{updateProgress:(e,t,o)=>{e.updateProgress(t,o)},updateText:(e,t,o)=>{e.updateText(t,o)}}});var FD=(e,t,o,n)=>{const s=t.backstage.shared,r=()=>K.fromDom(e.queryCommandValue("ToggleView")===""?e.getContentAreaContainer():e.getContainer()),a=()=>{const g=ho(r());return d.some(g)},c=g=>{a().each(p=>{le(g,b=>{$e(b.element,"width"),ln(b.element)>p.width&&Me(b.element,"width",p.width+"px")})})};return{open:(g,p,b)=>{const y=()=>{const k=G=>{we.remove(G,x),D()},A=(G,te)=>{xo(G.element).length===0?I(G,te):V(G,te)},I=(G,te)=>{Et.hide(G),n.clear(),te&&e.focus()},V=(G,te)=>{te&&ce.focusIn(G)};n.on(G=>{p();const te=b();k(G),A(G,te)})},x=en(hf.sketch({text:g.text,level:ot(["success","error","warning","warn","info"],g.type)?g.type:void 0,progress:g.progressBar===!0,icon:g.icon,onAction:y,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(n.isSet()){const k=ps(x);n.on(A=>{we.append(A,k),Et.reposition(A),Lt.refresh(A),c(A.components())})}else{const k=en(Et.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:W([ce.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),we.config({}),...Vl(e)&&!s.header.isPositionedAtTop()?[]:[Lt.config({contextual:{lazyContext:()=>d.some(ho(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:G=>Ec(e,G.element).map(P=>({bounds:Hi(P),optScrollEnv:d.some({currentScrollTop:P.element.dom.scrollTop,scrollElmTop:as(P.element).top})})).getOrThunk(()=>({bounds:$o(),optScrollEnv:d.none()}))})]])})),A=ps(x),I={maxHeightFunction:_l()},V={...s.anchors.banner(),overrides:I};n.set(k),o.add(k),Et.showWithinBounds(k,A,{anchor:V},a)}Ro(g.timeout)&&g.timeout>0&&mm.setEditorTimeout(e,()=>{y()},g.timeout);const D=()=>{n.on(k=>{Et.reposition(k),Lt.refresh(k),c(k.components())})};return{close:y,reposition:D,text:k=>{hf.updateText(x,k)},settings:g,getEl:()=>x.element.dom,progressBar:{value:k=>{hf.updateProgress(x,k)}}}},close:g=>{g.close()},getArgs:g=>g.settings}};const ID={setup:(e,t)=>{const o=(s,r)=>{me(s,Fr(),{raw:r})},n=()=>e.getMenu().bind(et.getHighlighted);t.on("keydown",s=>{const r=s.which;e.isActive()&&(e.isMenuOpen()?r===13?(n().each(bi),s.preventDefault()):r===40?(n().fold(()=>{e.getMenu().each(et.highlightFirst)},a=>{o(a,s)}),s.preventDefault(),s.stopImmediatePropagation()):(r===37||r===38||r===39)&&n().each(a=>{o(a,s),s.preventDefault(),s.stopImmediatePropagation()}):(r===13||r===38||r===40)&&e.cancelIfNecessary())}),t.on("NodeChange",()=>{e.isActive()&&!e.isProcessingAction()&&!t.queryCommandState("mceAutoCompleterInRange")&&e.cancelIfNecessary()})}};var gf;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(gf||(gf={}));var Rr=gf;const pf="tox-menu-nav__js",Sm="tox-collection__item",ff="tox-swatch",VD={normal:pf,color:ff},Ay="tox-collection__item--enabled",BD="tox-collection__group-heading",Ey="tox-collection__item-icon",vf="tox-collection__item-label",PD="tox-collection__item-accessory",Dy="tox-collection__item-caret",RD="tox-collection__item-checkmark",Fi="tox-collection__item--active",Hy="tox-collection__item-container",zD="tox-collection__item-container--column",Ly="tox-collection__item-container--row",ZD="tox-collection__item-container--align-right",$D="tox-collection__item-container--align-left",ND="tox-collection__item-container--valign-top",UD="tox-collection__item-container--valign-middle",WD="tox-collection__item-container--valign-bottom",Fy=e=>pe(VD,e).getOr(pf),GD=e=>e==="color"?"tox-swatches":"tox-menu",bf=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:GD(e),tieredMenu:"tox-tiered-menu"}),Ii=e=>{const t=bf(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Fy(e)}},jD=(e,t,o)=>{const n=bf(o);return{tag:"div",classes:Xt([[n.menu,`tox-menu-${t}-column`],e?[n.hasIcons]:[]])}},YD=[Ei.parts.items({})],wm=(e,t,o)=>{const n=bf(o);return{dom:{tag:"div",classes:Xt([[n.tieredMenu]])},markers:Ii(o)}},Iy=H([$t("type","text"),Je("data"),F("inputAttributes",{}),F("inputStyles",{}),F("tag","input"),F("inputClasses",[]),je("onSetValue"),yt("fromInputValue",Ze),yt("toInputValue",Ze),F("styles",{}),F("eventOrder",{}),_o("inputBehaviours",[ee,be]),F("selectOnFocus",!0)]),Vy=e=>W([be.config({onFocus:e.selectOnFocus?t=>{const o=t.element,n=Ba(o);e.type!=="range"&&o.dom.setSelectionRange(0,n.length)}:j})]),XD=e=>({...Vy(e),...Vo(e.inputBehaviours,[ee.config({store:{mode:"manual",...e.data.map(t=>({initialValue:t})).getOr({}),getValue:t=>e.fromInputValue(Ba(t.element)),setValue:(t,o)=>{Ba(t.element)!==o&&Ti(t.element,e.toInputValue(o))}},onSetValue:e.onSetValue})])}),By=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),qD=(e,t)=>({uid:e.uid,dom:By(e),components:[],behaviours:XD(e),eventOrder:e.eventOrder}),Dc=fs({name:"Input",configFields:Iy(),factory:qD}),Py=se("refetch-trigger-event"),Ry=se("redirect-menu-item-interaction"),zy="tox-menu__searcher",Cm=e=>kt(e.element,`.${zy}`).bind(t=>e.getSystem().getByDom(t).toOptional()),Zy=Cm,KD=(e,t)=>{ee.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd},$y=e=>{const t=ee.getValue(e),o=e.element.dom.selectionStart,n=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:o,selectionEnd:n}},JD=(e,t)=>{qe(t.element,"id").each(o=>Q(e.element,"aria-activedescendant",o))},QD=e=>{const t=(s,r)=>(r.cut(),d.none()),o=(s,r)=>{const a={interactionEvent:r.event,eventType:r.event.raw.type};return me(s,Ry,a),d.some(!0)},n="searcher-events";return{dom:{tag:"div",classes:[Sm]},components:[Dc.sketch({inputClasses:[zy,"tox-textfield"],inputAttributes:{...e.placeholder.map(s=>({placeholder:e.i18n(s)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:W([Te(n,[z(Ia(),s=>{Re(s,Py)}),z(Fr(),(s,r)=>{r.event.raw.key==="Escape"&&r.stop()})]),ce.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:o,onEscape:o,onUp:o,onDown:o})]),eventOrder:{keydown:[n,ce.name()]}})]}},Tm="tox-collection--results__js",Ny=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...(t=e.dom.attributes)!==null&&t!==void 0?t:{},id:se("aria-item-search-result-id"),"aria-selected":"false"}}}:e},yf=(e,t)=>o=>{const n=Sa(o,t);return J(n,s=>({dom:e,components:s}))},e9=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ei.parts.items({preprocess:e!=="auto"?yf({tag:"div",classes:["tox-swatches__row"]},e):Ze})]}]}),t9=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ei.parts.items({preprocess:yf({tag:"div",classes:["tox-collection__group"]},e)})]}),Uy=(e,t)=>{const o=[];let n=[];return le(e,(s,r)=>{t(s,r)?(n.length>0&&o.push(n),n=[],(Xe(s.dom,"innerHtml")||s.components&&s.components.length>0)&&n.push(s)):n.push(s)}),n.length>0&&o.push(n),J(o,s=>({dom:{tag:"div",classes:["tox-collection__group"]},components:s}))},xf=(e,t,o)=>Ei.parts.items({preprocess:n=>{const s=J(n,o);return e!=="auto"&&e>1?yf({tag:"div",classes:["tox-collection__group"]},e)(s):Uy(s,(r,a)=>t[a].type==="separator")}}),Wy=(e,t,o=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[xf(e,t,Ze)]}),o9=(e,t,o=!0)=>{const n=se("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Tm].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:n}},components:[xf(e,t,Ny)]}},n9=(e,t,o)=>{const n=se("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[QD({i18n:Bs.translate,placeholder:o.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],Tm],attributes:{id:n}},components:[xf(e,t,Ny)]}]}},s9=(e,t=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ei.parts.items({preprocess:o=>Uy(o,(n,s)=>e[s].type==="separator")})]}),Mm=e=>yo(e,t=>"icon"in t&&t.icon!==void 0),Ua=e=>(console.error(fl(e)),console.log(e),d.none()),r9=(e,t,o,n,s)=>{const r=s9(o);return{value:e,dom:r.dom,components:r.components,items:o}},Sf=(e,t,o,n,s)=>{const r=()=>s.menuType!=="searchable"?Wy(n,o):s.searchMode.searchMode==="search-with-field"?n9(n,o,s.searchMode):o9(n,o);if(s.menuType==="color"){const a=e9(n);return{value:e,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="normal"&&n==="auto"){const a=Wy(n,o);return{value:e,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="normal"||s.menuType==="searchable"){const a=r();return{value:e,dom:a.dom,components:a.components,items:o}}else if(s.menuType==="listpreview"&&n!=="auto"){const a=t9(n);return{value:e,dom:a.dom,components:a.components,items:o}}else return{value:e,dom:jD(t,n,s.menuType),components:YD,items:o}},eo=ko("type"),wf=ko("name"),Cf=ko("label"),Wa=ko("text"),Gy=ko("title"),jy=ko("icon"),nd=ko("value"),a9=Js("fetch"),c9=Js("getSubmenuItems"),Bl=Js("onAction"),i9=Js("onItemAction"),Vi=yt("onSetup",()=>j),l9=no("name"),Hc=no("text"),u9=no("role"),Rs=no("icon"),sd=no("tooltip"),Tf=no("label"),Mf=no("shortcut"),d9=Sc("select"),km=Qo("active",!1),m9=Qo("borderless",!1),ir=Qo("enabled",!0),Om=Qo("primary",!1),Yy=e=>F("columns",e),kf=F("meta",{}),Of=yt("onAction",j),Pl=e=>$t("type",e),_f=e=>No("name","name",ml(()=>se(`${e}-name`)),wo),h9=e=>No("value","value",ml(()=>se(`${e}-value`)),Dr()),Xy=ye([eo,Hc]),g9=e=>jt("separatormenuitem",Xy,e),p9=ye([Pl("autocompleteitem"),km,ir,kf,nd,Hc,Rs]),f9=e=>jt("Autocompleter.Separator",Xy,e),v9=e=>jt("Autocompleter.Item",p9,e),rd=[ir,sd,Rs,Hc,Vi,$t("context","mode:design")],b9=ye([eo,Bl,Mf].concat(rd)),qy=e=>jt("toolbarbutton",b9,e),Af=[km].concat(rd),y9=ye(Af.concat([eo,Bl,Mf])),Ky=e=>jt("ToggleButton",y9,e),_m=[yt("predicate",rt),ia("scope","node",["node","editor"]),ia("position","selection",["node","selection","line"])],x9=rd.concat([Pl("contextformbutton"),$t("align","end"),Om,Bl,Cn("original",Ze)]),S9=Af.concat([Pl("contextformbutton"),$t("align","end"),Om,Bl,Cn("original",Ze)]),w9=rd.concat([Pl("contextformbutton")]),C9=Af.concat([Pl("contextformtogglebutton")]),T9=Fn("type",{contextformbutton:x9,contextformtogglebutton:S9}),Ef=[Tf,Wn("commands",T9),ca("launch",Fn("type",{contextformbutton:w9,contextformtogglebutton:C9})),yt("onInput",j),yt("onSetup",j)],M9=[..._m,...Ef,Ks("type",["contextform"]),yt("initValue",H("")),no("placeholder")],k9=[..._m,...Ef,Ks("type",["contextsliderform"]),yt("initValue",H(0)),yt("min",H(0)),yt("max",H(100))],O9=[..._m,...Ef,Ks("type",["contextsizeinputform"]),yt("initValue",H({width:"",height:""}))],_9=Fn("type",{contextform:M9,contextsliderform:k9,contextsizeinputform:O9}),A9=e=>jt("ContextForm",_9,e),E9=ye([Pl("contexttoolbar"),us("items",v1([wo,b1([no("name"),no("label"),Wn("items",wo)])]))].concat(_m)),D9=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),H9=e=>({...e,items:_(e.items)?e.items:J(e.items,D9)}),L9=e=>jt("ContextToolbar",E9,e),F9=[eo,ko("src"),no("alt"),mi("classes",[],wo)],I9=ye(F9),V9=[eo,Wa,l9,mi("classes",["tox-collection__item-label"],wo)],B9=ye(V9),Jy=q2(()=>pl("type",{cardimage:I9,cardtext:B9,cardcontainer:P9})),P9=ye([eo,$t("direction","horizontal"),$t("align","left"),$t("valign","middle"),Wn("items",Jy)]),Rl=[ir,Hc,u9,Mf,h9("menuitem"),kf,$t("context","mode:design")],R9=ye([eo,Tf,Wn("items",Jy),Vi,Of].concat(Rl)),z9=e=>jt("cardmenuitem",R9,e),Z9=ye([eo,km,Rs].concat(Rl)),$9=e=>jt("choicemenuitem",Z9,e),Qy=[eo,ko("fancytype"),Of],N9=[F("initData",{})].concat(Qy),U9=[Sc("select"),fg("initData",{},[Qo("allowCustomColors",!0),$t("storageKey","default"),ov("colors",Dr())])].concat(Qy),W9=Fn("fancytype",{inserttable:N9,colorswatch:U9}),G9=e=>jt("fancymenuitem",W9,e),j9=ye([eo,Vi,Of,Rs].concat(Rl)),Y9=e=>jt("menuitem",j9,e),X9=ye([eo,c9,Vi,Rs].concat(Rl)),q9=e=>jt("nestedmenuitem",X9,e),K9=ye([eo,Rs,km,Vi,Bl].concat(Rl)),J9=e=>jt("togglemenuitem",K9,e),Df=(e,t,o)=>{const n=Mn(e.element,"."+o);if(n.length>0){const s=rn(n,r=>{const a=r.dom.getBoundingClientRect().top,c=n[0].dom.getBoundingClientRect().top;return Math.abs(a-c)>t}).getOr(n.length);return d.some({numColumns:s,numRows:Math.ceil(n.length/s)})}else return d.none()},ex=(e,t)=>W([Te(e,t)]),ad={namedEvents:ex,unnamedEvents:e=>ex(se("unnamed-events"),e)},Q9=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),zs={item:e=>ge.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),button:e=>ge.config({disabled:e}),splitButton:e=>ge.config({disabled:e,disableClass:"tox-tbtn--disabled"}),toolbarButton:e=>ge.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},Am=(e,t)=>{const o=e.getApi(t);return n=>{n(o)}},zr=(e,t)=>Ct(o=>{Po(e.onBeforeSetup)&&e.onBeforeSetup(o),Am(e,o)(s=>{const r=e.onSetup(s);Po(r)&&t.set(r)})}),Zr=(e,t)=>da(o=>Am(e,o)(t.get())),tx="silver.uistate",cd="setDisabled",eH="setEnabled",ox="init",tH=["switchmode",ox],id=(e,t)=>{const o=e.mainUi.outerContainer,n=[e.mainUi.mothership,...e.uiMotherships];t===cd&&le(n,s=>{s.broadcastOn([Oc()],{target:o.element})}),le(n,s=>{s.broadcastOn([tx],t)})},nx=(e,t)=>{e.on("init SwitchMode",o=>{id(t,o.type)}),e.on("DisabledStateChange",o=>{if(!o.isDefaultPrevented()){const n=o.state?cd:ox;id(t,n),o.state||e.nodeChanged()}}),e.on("NodeChange",o=>{const n=e.ui.isEnabled()?o.type:cd;id(t,n)}),_3(e)&&e.mode.set("readonly")},to=e=>jn.config({channels:{[tx]:{onReceive:(t,o)=>{if(o===cd||o===eH){ge.set(t,o===cd);return}const{contextType:n,shouldDisable:s}=e();n==="mode"&&!ot(tH,o)||ge.set(t,s)}}}}),oH=(e,t)=>Va((o,n)=>{Am(e,o)(e.onAction),!e.triggersSubmenu&&t===Rr.CLOSE_ON_EXECUTE&&(o.getSystem().isConnected()&&Re(o,M1()),n.stop())}),nH={[hs()]:["disabling","alloy.base.behaviour","toggling","item-events"]},zl=ns,Zl=(e,t,o,n)=>{const s=ue(j);return{type:"item",dom:t.dom,components:zl(t.optComponents),data:e.data,eventOrder:nH,hasSubmenu:e.triggersSubmenu,itemBehaviours:W([Te("item-events",[oH(e,o),zr(e,s),Zr(e,s)]),zs.item(()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable),to(()=>n.checkUiComponentContext(e.context)),we.config({})].concat(e.itemBehaviours))}},$l=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),Hf=e=>{const t=Ll.os.isMacOS()||Ll.os.isiOS(),s=t?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},r=e.split("+"),a=J(r,c=>{const i=c.toLowerCase().trim();return Xe(s,i)?s[i]:c});return t?a.join(""):a.join("+")},Lf=(e,t,o=[Ey])=>Ps(e,{tag:"div",classes:o},t),sx=e=>({dom:{tag:"div",classes:[vf]},components:[At(Bs.translate(e))]}),rx=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),sH=(e,t)=>({dom:{tag:"div",classes:[vf]},components:[{dom:{tag:e.tag,styles:e.styles},components:[At(Bs.translate(t))]}]}),rH=e=>({dom:{tag:"div",classes:[PD]},components:[At(Hf(e))]}),ax=e=>Lf("checkmark",e,[RD]),aH=e=>Lf("chevron-right",e,[Dy]),cH=e=>Lf("chevron-down",e,[Dy]),iH=(e,t)=>{const o=e.direction==="vertical"?zD:Ly,n=e.align==="left"?$D:ZD;return{dom:{tag:"div",classes:[Hy,o,n,(()=>{switch(e.valign){case"top":return ND;case"middle":return UD;case"bottom":return WD}})()]},components:t}},lH=(e,t,o)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:o.getOr("")}}}),uH=(e,t,o)=>{const n="custom",s="remove",r=e.value,a=e.iconContent.map(u=>ED(u,t.icons,o)),c=e.ariaLabel.map(u=>({"aria-label":t.translate(u),"data-mce-name":u})).getOr({});return{dom:(()=>{const u=ff,m=a.getOr(""),g={tag:"div",attributes:c,classes:[u]};return r===n?{...g,tag:"button",classes:[...g.classes,"tox-swatches__picker-btn"],innerHtml:m}:r===s?{...g,classes:[...g.classes,"tox-swatch--remove"],innerHtml:m}:_t(r)?{...g,attributes:{...g.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:m}:g})(),optComponents:[]}},cx=e=>{const t=e.map(o=>({attributes:{id:se("menu-item"),"aria-label":Bs.translate(o)}})).getOr({});return{tag:"div",classes:[pf,Sm],...t}},dH=(e,t,o,n)=>{const s={tag:"div",classes:[Ey]},r=p=>Ps(p,s,t.icons,n),a=()=>d.some({dom:s}),c=o?e.iconContent.map(r).orThunk(a):d.none(),i=e.checkMark,u=d.from(e.meta).fold(()=>sx,p=>Xe(p,"style")?Ut(sH,p.style):sx),m=e.htmlContent.fold(()=>e.textContent.map(u),p=>d.some(rx(p,[vf])));return{dom:cx(e.ariaLabel),optComponents:[c,m,e.shortcutContent.map(rH),i,e.caret]}},ld=(e,t,o,n=d.none())=>e.presets==="color"?uH(e,t,n):dH(e,t,o,n),ix=(e,t,o)=>pe(e,"tooltipWorker").map(n=>[Ft.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:s=>({type:"submenu",item:s,overrides:{maxHeightFunction:_l}}),mode:"follow-highlight",onShow:(s,r)=>{n(a=>{Ft.setComponents(s,[Gv({element:K.fromDom(a)})])})}})]).getOrThunk(()=>o.map(n=>[Ft.config({...t.providers.tooltips.getConfig({tooltipText:n}),mode:"follow-highlight"})]).getOr([])),mH=e=>Uu.DOM.encode(e),lx=(e,t)=>{const o=Bs.translate(e),n=mH(o);if(t.length>0){const s=new RegExp(Q9(t),"gi");return n.replace(s,r=>`<span class="tox-autocompleter-highlight">${r}</span>`)}else return n},hH=(e,t,o,n,s,r,a,c=!0)=>{const i=ld({presets:n,textContent:d.none(),htmlContent:o?e.text.map(m=>lx(m,t)):d.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:d.none(),checkMark:d.none(),caret:d.none(),value:e.value},a.providers,c,e.icon),u=e.text.filter(m=>!o&&m!=="");return Zl({context:"mode:design",data:$l(e),enabled:e.enabled,getApi:H({}),onAction:m=>s(e.value,e.meta),onSetup:H(j),triggersSubmenu:!1,itemBehaviours:ix(e,a,u)},i,r,a.providers)},ux=(e,t)=>J(e,o=>{switch(o.type){case"cardcontainer":return iH(o,ux(o.items,t));case"cardimage":return lH(o.src,o.classes,o.alt);case"cardtext":const s=o.name.exists(r=>ot(t.cardText.highlightOn,r))?d.from(t.cardText.matchText).getOr(""):"";return rx(lx(o.text,s),o.classes)}}),gH=(e,t,o,n)=>{const s=a=>({isEnabled:()=>!ge.isDisabled(a),setEnabled:c=>{ge.set(a,!c),le(Mn(a.element,"*"),i=>{a.getSystem().getByDom(i).each(u=>{u.hasConfigured(ge)&&ge.set(u,!c)})})}}),r={dom:cx(e.label),optComponents:[d.some({dom:{tag:"div",classes:[Hy,Ly]},components:ux(e.items,n)})]};return Zl({context:"mode:design",data:$l({text:d.none(),...e}),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:d.from(n.itemBehaviours).getOr([])},r,t,o.providers)},pH=(e,t,o,n,s,r,a,c=!0)=>{const i=g=>({setActive:p=>{He.set(g,p)},isActive:()=>He.isOn(g),isEnabled:()=>!ge.isDisabled(g),setEnabled:p=>ge.set(g,!p)}),u=ld({presets:o,textContent:t?e.text:d.none(),htmlContent:d.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:d.none(),checkMark:t?d.some(ax(a.icons)):d.none(),caret:d.none(),value:e.value},a,c),m=e.text.filter(H(!t)).map(g=>Ft.config(a.tooltips.getConfig({tooltipText:a.translate(g)})));return Rt(Zl({context:e.context,data:$l(e),enabled:e.enabled,getApi:i,onAction:g=>n(e.value),onSetup:g=>(g.setActive(s),j),triggersSubmenu:!1,itemBehaviours:[...m.toArray()]},u,r,a),{toggling:{toggleClass:Ay,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},dx=kp(Np(),Up()),mx=e=>({value:fx(e)}),hx=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gx=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,px=e=>hx.test(e)||gx.test(e),fx=e=>sc(e,"#").toUpperCase(),fH=e=>px(e)?d.some({value:fx(e)}):d.none(),vH=e=>({value:e.value.replace(hx,(o,n,s,r)=>n+n+s+s+r+r)}),bH=e=>{const t=vH(e),o=gx.exec(t.value);return o===null?["FFFFFF","FF","FF","FF"]:o},Ff=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},ud=e=>{const t=Ff(e.red)+Ff(e.green)+Ff(e.blue);return mx(t)},vx=Math.min,bx=Math.max,Em=Math.round,yH=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,xH=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Bi=(e,t,o,n)=>({red:e,green:t,blue:o,alpha:n}),If=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},yx=e=>{let t,o,n;const s=(e.hue||0)%360;let r=e.saturation/100,a=e.value/100;if(r=bx(0,vx(r,1)),a=bx(0,vx(a,1)),r===0)return t=o=n=Em(255*a),Bi(t,o,n,1);const c=s/60,i=a*r,u=i*(1-Math.abs(c%2-1)),m=a-i;switch(Math.floor(c)){case 0:t=i,o=u,n=0;break;case 1:t=u,o=i,n=0;break;case 2:t=0,o=i,n=u;break;case 3:t=0,o=u,n=i;break;case 4:t=u,o=0,n=i;break;case 5:t=i,o=0,n=u;break;default:t=o=n=0}return t=Em(255*(t+m)),o=Em(255*(o+m)),n=Em(255*(n+m)),Bi(t,o,n,1)},dd=e=>{const t=bH(e),o=parseInt(t[1],16),n=parseInt(t[2],16),s=parseInt(t[3],16);return Bi(o,n,s,1)},xx=(e,t,o,n)=>{const s=parseInt(e,10),r=parseInt(t,10),a=parseInt(o,10),c=parseFloat(n);return Bi(s,r,a,c)},Vf=e=>{const t=yH.exec(e);if(t!==null)return d.some(xx(t[1],t[2],t[3],"1"));const o=xH.exec(e);return o!==null?d.some(xx(o[1],o[2],o[3],o[4])):d.none()},Sx=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,wx=Bi(255,0,0,1),SH=e=>{e.dispatch("SkinLoaded")},wH=(e,t)=>{e.dispatch("SkinLoadError",t)},CH=e=>{e.dispatch("ResizeEditor")},Bf=(e,t)=>{e.dispatch("ResizeContent",t)},TH=(e,t)=>{e.dispatch("ScrollContent",t)},Cx=(e,t)=>{e.dispatch("TextColorChange",t)},MH=(e,t)=>{e.dispatch("AfterProgressState",{state:t})},kH=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),OH=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})},_H=(e,t)=>{e.dispatch("StylesTextUpdate",t)},AH=(e,t)=>{e.dispatch("AlignTextUpdate",t)},EH=(e,t)=>{e.dispatch("FontSizeTextUpdate",t)},DH=(e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)},HH=(e,t)=>{e.dispatch("BlocksTextUpdate",t)},LH=(e,t)=>{e.dispatch("FontFamilyTextUpdate",t)},FH=e=>{e.dispatch("ToggleSidebar")},IH=e=>{e.dispatch("ToggleView")},Tx=e=>{e.dispatch("ContextToolbarClose")},VH=e=>{e.dispatch("ContextFormSlideBack")},Dm=(e,t)=>()=>{e(),t()},hn=e=>Pi(e,"NodeChange",t=>{t.setEnabled(e.selection.isEditable())}),BH=(e,t)=>o=>{const n=bc(),s=()=>{o.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,o.setActive);n.set(r)};return e.initialized?s():e.once("init",s),()=>{e.off("init",s),n.clear()}},Hm=(e,t)=>o=>{const n=hn(e)(o),s=BH(e,t)(o);return()=>{n(),s()}},Pi=(e,t,o)=>n=>{const s=()=>o(n),r=()=>{o(n),e.on(t,s)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),e.off(t,s)}},Mx=e=>t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})},Jn=(e,t)=>()=>e.execCommand(t);var Ri=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const kx={},PH=(e,t=10)=>{const o=Ri.getItem(e),n=_(o)?JSON.parse(o):[],r=(u=>t-u.length<0?u.slice(0,t):u)(n),a=u=>{ks(r,u).each(c),r.unshift(u),r.length>t&&r.pop(),Ri.setItem(e,JSON.stringify(r))},c=u=>{r.splice(u,1)};return{add:a,state:()=>r.slice(0)}},Ox=e=>pe(kx,e).getOrThunk(()=>{const t=`tinymce-custom-colors-${e}`,o=Ri.getItem(t);if($s(o)){const s=Ri.getItem("tinymce-custom-colors");Ri.setItem(t,_t(s)?s:"[]")}const n=PH(t,10);return kx[e]=n,n}),RH=e=>J(Ox(e).state(),t=>({type:"choiceitem",text:t,icon:"checkmark",value:t})),_x=(e,t)=>{Ox(e).add(t)},md=(e,t,o)=>({hue:e,saturation:t,value:o}),Pf=e=>{let t=0,o=0,n=0;const s=e.red/255,r=e.green/255,a=e.blue/255,c=Math.min(s,Math.min(r,a)),i=Math.max(s,Math.max(r,a));if(c===i)return n=c,md(0,0,n*100);const u=s===c?r-a:a===c?s-r:a-s;return t=s===c?3:a===c?1:5,t=60*(t-u/(i-c)),o=(i-c)/i,n=i,md(Math.round(t),Math.round(o*100),Math.round(n*100))},zH=e=>Pf(dd(e)),Ax=e=>ud(yx(e)),ZH=e=>fH(e).orThunk(()=>Vf(e).map(ud)).getOrThunk(()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const o=t.getContext("2d");o.clearRect(0,0,t.width,t.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);const n=o.getImageData(0,0,1,1).data,s=n[0],r=n[1],a=n[2],c=n[3];return ud(Bi(s,r,a,c))}),Rf="forecolor",zf="hilitecolor",$H=5,NH=e=>Ex(e.map((t,o)=>o%2===0?"#"+ZH(t).value:t)),Ex=e=>{const t=[];for(let o=0;o<e.length;o+=2)t.push({text:e[o+1],value:e[o],icon:"checkmark",type:"choiceitem"});return t},$r=e=>t=>t.options.get(e),Zf="#000000",UH=e=>{const t=e.options.register,o=r=>xe(r,_)?{value:NH(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},n=r=>xe(r,_)?{value:Ex(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},s=r=>Ro(r)&&r>0?{value:r,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:o,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_raw",{processor:n}),t("color_map_background",{processor:o}),t("color_map_foreground",{processor:o}),t("color_cols",{processor:s,default:$f(e)}),t("color_cols_foreground",{processor:s,default:Dx(e,Rf)}),t("color_cols_background",{processor:s,default:Dx(e,zf)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:Zf}),t("color_default_background",{processor:"string",default:Zf})},Lm=(e,t)=>t===Rf&&e.options.isSet("color_map_foreground")?$r("color_map_foreground")(e):t===zf&&e.options.isSet("color_map_background")?$r("color_map_background")(e):e.options.isSet("color_map_raw")?$r("color_map_raw")(e):$r("color_map")(e),$f=(e,t="default")=>Math.max($H,Math.ceil(Math.sqrt(Lm(e,t).length))),Dx=(e,t)=>{const o=$r("color_cols")(e),n=$f(e,t);return o===$f(e)?n:o},Hx=(e,t="default")=>Math.round(t===Rf?$r("color_cols_foreground")(e):t===zf?$r("color_cols_background")(e):$r("color_cols")(e)),Lx=$r("custom_colors"),WH=$r("color_default_foreground"),GH=$r("color_default_background"),jH="rgba(0, 0, 0, 0)",YH=e=>Vf(e).exists(t=>t.alpha!==0),XH=e=>w1(e,t=>{if(uo(t)){const o=Fo(t,"background-color");return zo(YH(o),o)}else return d.none()}).getOr(jH),Fx=(e,t)=>{const o=K.fromDom(e.selection.getStart()),n=t==="hilitecolor"?XH(o):Fo(o,"color");return Vf(n).map(s=>"#"+ud(s).value)},qH=(e,t,o)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.apply(t,{value:o}),e.nodeChanged()})},KH=(e,t)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()})},JH=e=>{e.addCommand("mceApplyTextcolor",(t,o)=>{qH(e,t,o)}),e.addCommand("mceRemoveTextcolor",t=>{KH(e,t)})},Ix=e=>{const t="choiceitem",o={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[o,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[o]},Nf=(e,t,o,n)=>{o==="custom"?Zx(e)(r=>{r.each(a=>{_x(t,a),e.execCommand("mceApplyTextcolor",t,a),n(a)})},Fx(e,t).getOr(Zf)):o==="remove"?(n(""),e.execCommand("mceRemoveTextcolor",t)):(n(o),e.execCommand("mceApplyTextcolor",t,o))},Uf=(e,t,o)=>e.concat(RH(t).concat(Ix(o))),Vx=(e,t,o)=>n=>{n(Uf(e,t,o))},Wf=(e,t,o)=>{const n=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(n,o)},Bx=(e,t)=>{e.setTooltip(t)},Px=(e,t)=>o=>{const n=Fx(e,t);return Lo(n,o.toUpperCase())},Gf=(e,t,o)=>{if(Tr(o))return t==="forecolor"?"Text color":"Background color";const n=t==="forecolor"?"Text color {0}":"Background color {0}",s=Uf(Lm(e,t),t,!1),r=vt(s,a=>a.value===o).getOr({text:""}).text;return e.translate([n,e.translate(r)])},Rx=(e,t,o,n)=>{e.ui.registry.addSplitButton(t,{tooltip:Gf(e,o,n.get()),presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:Px(e,o),columns:Hx(e,o),fetch:Vx(Lm(e,o),o,Lx(e)),onAction:s=>{Nf(e,o,n.get(),j)},onItemAction:(s,r)=>{Nf(e,o,r,a=>{n.set(a),Cx(e,{name:t,color:a})})},onSetup:s=>{Wf(s,t,n.get());const r=a=>{a.name===t&&(Wf(s,a.name,a.color),Bx(s,Gf(e,o,a.color)))};return e.on("TextColorChange",r),Dm(hn(e)(s),()=>{e.off("TextColorChange",r)})}})},zx=(e,t,o,n,s)=>{e.ui.registry.addNestedMenuItem(t,{text:n,icon:t==="forecolor"?"text-color":"highlight-bg-color",onSetup:r=>(Bx(r,Gf(e,o,s.get())),Wf(r,t,s.get()),hn(e)(r)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:Px(e,o),initData:{storageKey:o},onAction:r=>{Nf(e,o,r.value,a=>{s.set(a),Cx(e,{name:t,color:a})})}}]})},Zx=e=>(t,o)=>{let n=!1;const s=c=>{const u=c.getData().colorpicker;n?(t(d.from(u)),c.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",u]))},r=(c,i)=>{i.name==="hex-valid"&&(n=i.value)},a={colorpicker:o};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:r,onSubmit:s,onClose:j,onCancel:()=>{t(d.none())}})},QH=e=>{JH(e);const t=WH(e),o=GH(e),n=ue(t),s=ue(o);Rx(e,"forecolor","forecolor",n),Rx(e,"backcolor","hilitecolor",s),zx(e,"forecolor","forecolor","Text color",n),zx(e,"backcolor","hilitecolor","Background color",s)},jf=(e,t,o,n,s,r,a,c)=>{const i=Mm(t),m=eL(t,o,n,s!=="color"?"normal":"color",r,a,c);return Sf(e,i,m,n,{menuType:s})},eL=(e,t,o,n,s,r,a)=>ns(J(e,c=>c.type==="choiceitem"?$9(c).fold(Ua,i=>d.some(pH(i,o===1,n,t,r(i.value),s,a,Mm(e)))):d.none())),Fm=(e,t)=>{const o=Ii(t);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(t==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:s=>t==="color"?kt(s.element,"[aria-checked=true]"):d.none()}},tL=(e,t)=>e===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:e==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?`.${ff}`:`.${Sm}`}},oL=(e,t)=>{const o=nL(e,t),n=t.colorinput.getColorCols(e.initData.storageKey),s="color",a={...jf(se("menu-value"),o,c=>{e.onAction({value:c})},n,s,Rr.CLOSE_ON_EXECUTE,e.select.getOr(rt),t.shared.providers),markers:Ii(s),movement:Fm(n,s),showMenuRole:!1};return{type:"widget",data:{value:se("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[dx.widget(Ei.sketch(a))]}},nL=(e,t)=>{const o=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>Uf(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,o),n=>n.concat(Ix(o)))},$x=se("cell-over"),Nx=se("cell-execute"),sL=e=>(t,o)=>e.shared.providers.translate(["{0} columns, {1} rows",o,t]),rL=(e,t,o)=>{const n=a=>me(a,$x,{row:e,col:t}),s=a=>me(a,Nx,{row:e,col:t}),r=(a,c)=>{c.stop(),s(a)};return en({dom:{tag:"div",attributes:{role:"button","aria-label":o}},behaviours:W([Te("insert-table-picker-cell",[z(la(),be.focus),z(hs(),s),z(pi(),r),z(Du(),r)]),He.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),be.config({onFocus:n})])})},aL=(e,t,o)=>{const n=[];for(let s=0;s<t;s++){const r=[];for(let a=0;a<o;a++){const c=e(s+1,a+1);r.push(rL(s,a,c))}n.push(r)}return n},cL=(e,t,o,n,s)=>{for(let r=0;r<n;r++)for(let a=0;a<s;a++)He.set(e[r][a],r<=t&&a<=o)},iL=e=>Ie(e,t=>J(t,ps)),Ux=(e,t)=>At(`${t}x${e}`),lL={inserttable:(e,t)=>{const s=sL(t),r=aL(s,10,10),a=Ux(0,0),c=Qe({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:W([we.config({})])});return{type:"widget",data:{value:se("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[dx.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:iL(r).concat(c.asSpec()),behaviours:W([Te("insert-table-picker",[Ct(i=>{we.set(c.get(i),[a])}),Og($x,(i,u,m)=>{const{row:g,col:p}=m.event;cL(r,g,p,10,10),we.set(c.get(i),[Ux(g+1,p+1)])}),Og(Nx,(i,u,m)=>{const{row:g,col:p}=m.event;Re(i,M1()),e.onAction({numRows:g+1,numColumns:p+1})})]),ce.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:oL},uL=(e,t)=>pe(lL,e.fancytype).map(o=>o(e,t)),dL=(e,t,o,n=!0,s=!1)=>{const r=s?cH(o.icons):aH(o.icons),a=i=>({isEnabled:()=>!ge.isDisabled(i),setEnabled:u=>ge.set(i,!u),setIconFill:(u,m)=>{kt(i.element,`svg path[class="${u}"], rect[class="${u}"]`).each(g=>{Q(g,"fill",m)})},setTooltip:u=>{const m=o.translate(u);Q(i.element,"aria-label",m)}}),c=ld({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:d.none(),ariaLabel:e.text,caret:d.some(r),checkMark:d.none(),shortcutContent:e.shortcut},o,n);return Zl({context:e.context,data:$l(e),getApi:a,enabled:e.enabled,onAction:j,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},c,t,o)},mL=(e,t,o,n=!0)=>{const s=a=>({isEnabled:()=>!ge.isDisabled(a),setEnabled:c=>ge.set(a,!c)}),r=ld({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:d.none(),ariaLabel:e.text,caret:d.none(),checkMark:d.none(),shortcutContent:e.shortcut},o,n);return Zl({context:e.context,data:$l(e),getApi:s,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o)},hL=e=>({type:"separator",dom:{tag:"div",classes:[Sm,BD]},components:e.text.map(At).toArray()}),gL=(e,t,o,n=!0)=>{const s=a=>({setActive:c=>{He.set(a,c)},isActive:()=>He.isOn(a),isEnabled:()=>!ge.isDisabled(a),setEnabled:c=>ge.set(a,!c)}),r=ld({iconContent:e.icon,textContent:e.text,htmlContent:d.none(),ariaLabel:e.text,checkMark:d.some(ax(o.icons)),caret:d.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},o,n);return Rt(Zl({context:e.context,data:$l(e),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,o),{toggling:{toggleClass:Ay,toggleOnExecute:!1,selected:e.active},role:e.role.getOrUndefined()})},pL=hH,Wx=hL,fL=mL,vL=dL,bL=gL,yL=uL,xL=gH;var SL=Object.freeze({__proto__:null,getCoupled:(e,t,o,n)=>o.getOrCreate(e,t,n),getExistingCoupled:(e,t,o,n)=>o.getExisting(e,t,n)}),wL=[us("others",J2(Ve.value,Dr()))],CL=Object.freeze({__proto__:null,init:()=>{const e={},t=(r,a)=>{if(Vt(r.others).length===0)throw new Error("Cannot find any known coupled components");return pe(e,a)},o=(r,a,c)=>t(a,c).getOrThunk(()=>{const u=pe(a.others,c).getOrDie("No information found for coupled component: "+c)(r),m=r.getSystem().build(u);return e[c]=m,m}),n=(r,a,c)=>t(a,c).orThunk(()=>(pe(a.others,c).getOrDie("No information found for coupled component: "+c),d.none())),s=H({});return gs({readState:s,getExisting:n,getOrCreate:o})}});const Nt=Io({fields:wL,name:"coupling",apis:SL,state:CL}),Yf=e=>{let t=d.none(),o=[];const n=u=>Yf(m=>{s(g=>{m(u(g))})}),s=u=>{a()?i(u):o.push(u)},r=u=>{a()||(t=d.some(u),c(o),o=[])},a=()=>t.isSome(),c=u=>{le(u,i)},i=u=>{t.each(m=>{setTimeout(()=>{u(m)},0)})};return e(r),{get:s,map:n,isReady:a}},TL={nu:Yf,pure:e=>Yf(t=>{t(e)})},ML=e=>{setTimeout(()=>{throw e},0)},Nl=e=>{const t=i=>{e().then(i,ML)};return{map:i=>Nl(()=>e().then(i)),bind:i=>Nl(()=>e().then(u=>i(u).toPromise())),anonBind:i=>Nl(()=>e().then(()=>i.toPromise())),toLazy:()=>TL.nu(t),toCached:()=>{let i=null;return Nl(()=>(i===null&&(i=e()),i))},toPromise:e,get:t}},Xo={nu:e=>Nl(()=>new Promise(e)),pure:e=>Nl(()=>Promise.resolve(e))},Gx=H("sink"),jx=H(Fs({name:Gx(),overrides:H({dom:{tag:"div"},behaviours:W([tn.config({useFixed:ct})]),events:wt([yi(Fr()),yi(ms()),yi(pi())])})})),Yx=(e,t)=>{const o=e.getHotspot(t).getOr(t),n="hotspot",s=e.getAnchorOverrides();return e.layouts.fold(()=>({type:n,hotspot:o,overrides:s}),r=>({type:n,hotspot:o,overrides:s,layouts:r}))},kL=(e,t,o)=>{const n=e.fetch;return n(o).map(t)},OL=(e,t,o,n,s,r,a)=>{const c=kL(e,t,n),i=Xx(n,e);return c.map(u=>u.bind(m=>{const g=m.menus[m.primary];return d.from(g).each(p=>{e.listRole.each(b=>{p.role=b})}),d.from(Di.sketch({...r.menu(),uid:kl(""),data:m,highlightOnOpen:a,onOpenMenu:(p,b)=>{const y=i().getOrDie();tn.position(y,b,{anchor:o}),Ye.decloak(s)},onOpenSubmenu:(p,b,y)=>{const x=i().getOrDie();tn.position(x,y,{anchor:{type:"submenu",item:b}}),Ye.decloak(s)},onRepositionMenu:(p,b,y)=>{const x=i().getOrDie();tn.position(x,b,{anchor:o}),le(y,D=>{tn.position(x,D.triggeredMenu,{anchor:{type:"submenu",item:D.triggeringItem}})})},onEscape:()=>(be.focus(n),Ye.close(s),d.some(!0))}))}))},Im=(e,t,o,n,s,r,a)=>{const c=Yx(e,o);return OL(e,t,c,o,n,s,a).map(u=>(u.fold(()=>{Ye.isOpen(n)&&Ye.close(n)},m=>{Ye.cloak(n),Ye.open(n,m),r(n)}),n))},_L=(e,t,o,n,s,r,a)=>(Ye.close(n),Xo.pure(n)),Xf=(e,t,o,n,s,r)=>{const a=Nt.getCoupled(o,"sandbox");return(Ye.isOpen(a)?_L:Im)(e,t,o,a,n,s,r)},AL=(e,t,o)=>{const n=Ne.getCurrent(t).getOr(t),s=ln(e.element);o?Me(n.element,"min-width",s+"px"):Ph(n.element,s)},Xx=(e,t)=>e.getSystem().getByUid(t.uid+"-"+Gx()).map(o=>()=>Ve.value(o)).getOrThunk(()=>t.lazySink.fold(()=>()=>Ve.error(new Error("No internal sink is specified, nor could an external sink be found")),o=>()=>o(e))),qx=e=>{Ye.getState(e).each(t=>{Di.repositionMenus(t)})},qf=(e,t,o)=>{const n=Jv(),s=(c,i)=>{const u=Yx(e,t);n.link(t.element),e.matchWidth&&AL(u.hotspot,i,e.useMinWidth),e.onOpen(u,c,i),o!==void 0&&o.onOpen!==void 0&&o.onOpen(c,i)},r=(c,i)=>{n.unlink(t.element),a().getOr(i).element.dom.dispatchEvent(new window.FocusEvent("focusout")),o!==void 0&&o.onClose!==void 0&&o.onClose(c,i)},a=Xx(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:n.id}},behaviours:rr.augment(e.sandboxBehaviours,[ee.config({store:{mode:"memory",initialValue:t}}),Ye.config({onOpen:s,onClose:r,isPartOf:(c,i,u)=>Mi(i,u)||Mi(t,u),getAttachPoint:()=>a().getOrDie()}),Ne.config({find:c=>Ye.getState(c).bind(i=>Ne.getCurrent(i))}),jn.config({channels:{...bp({isExtraPart:rt}),...yp({doReposition:qx})}})])}},Kx=e=>{const t=Nt.getCoupled(e,"sandbox");qx(t)},Kf=()=>[F("sandboxClasses",[]),rr.field("sandboxBehaviours",[Ne,jn,Ye,ee])],EL=H([$("dom"),$("fetch"),je("onOpen"),Gn("onExecute"),F("getHotspot",d.some),F("getAnchorOverrides",H({})),kc(),_o("dropdownBehaviours",[He,Nt,ce,be]),$("toggleClass"),F("eventOrder",{}),Je("lazySink"),F("matchWidth",!1),F("useMinWidth",!1),Je("role"),Je("listRole")].concat(Kf())),DL=H([ar({schema:[E1(),F("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),jx()]),HL=(e,t,o,n)=>{const s=m=>pe(e.dom,"attributes").bind(g=>pe(g,m)),r=m=>{Ye.getState(m).each(g=>{Di.highlightPrimary(g)})},a=(m,g,p)=>Xf(e,Ze,m,n,g,p),c=m=>{a(m,r,kn.HighlightMenuAndItem).get(j)},i={expand:m=>{He.isOn(m)||a(m,j,kn.HighlightNone).get(j)},open:m=>{He.isOn(m)||a(m,j,kn.HighlightMenuAndItem).get(j)},refetch:m=>Nt.getExistingCoupled(m,"sandbox").fold(()=>a(m,j,kn.HighlightMenuAndItem).map(j),p=>Im(e,Ze,m,p,n,j,kn.HighlightMenuAndItem).map(j)),isOpen:He.isOn,close:m=>{He.isOn(m)&&a(m,j,kn.HighlightMenuAndItem).get(j)},repositionMenus:m=>{He.isOn(m)&&Kx(m)}},u=(m,g)=>(bi(m),d.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.dropdownBehaviours,[He.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Nt.config({others:{sandbox:m=>qf(e,m,{onOpen:()=>He.on(m),onClose:()=>He.off(m)})}}),ce.config({mode:"special",onSpace:u,onEnter:u,onDown:(m,g)=>{if(vs.isOpen(m)){const p=Nt.getCoupled(m,"sandbox");r(p)}else vs.open(m);return d.some(!0)},onEscape:(m,g)=>vs.isOpen(m)?(vs.close(m),d.some(!0)):d.none()}),be.config({})]),events:dm(d.some(c)),eventOrder:{...e.eventOrder,[hs()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),m=>({role:m})),...e.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}},vs=mn({name:"Dropdown",configFields:EL(),partFields:DL(),factory:HL,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),LL=e=>{switch(e.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:e}}},FL=e=>{const t=ee.getValue(e),o=Cm(e).map($y);vs.refetch(t).get(()=>{const n=Nt.getCoupled(t,"sandbox");o.each(s=>Cm(n).each(r=>KD(r,s)))})},IL=(e,t)=>{VL(e).each(o=>{J7(e,o.element,t.event.eventType,t.event.interactionEvent)})},VL=e=>Ye.getState(e).bind(et.getHighlighted).bind(et.getHighlighted),BL=e=>In(e.element,Tm)?d.some(e.element):kt(e.element,"."+Tm),Jx=(e,t,o)=>{Zy(e).each(n=>{JD(n,o),BL(t).each(r=>{qe(r,"id").each(a=>Q(n.element,"aria-controls",a))})}),Q(o.element,"aria-selected","true")},PL=(e,t,o)=>{Q(o.element,"aria-selected","false")},RL=e=>{Zy(e).each(t=>be.focus(t))},zL=e=>Nt.getExistingCoupled(e,"sandbox").bind(Cm).map($y).map(o=>o.fetchPattern).getOr("");var Vm;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(Vm||(Vm={}));const ZL=(e,t,o,n,s)=>{const r=o.shared.providers,a=c=>s?{...c,shortcut:d.none(),icon:c.text.isSome()?d.none():c.icon}:c;switch(e.type){case"menuitem":return Y9(e).fold(Ua,c=>d.some(fL(a(c),t,r,n)));case"nestedmenuitem":return q9(e).fold(Ua,c=>d.some(vL(a(c),t,r,n,s)));case"togglemenuitem":return J9(e).fold(Ua,c=>d.some(bL(a(c),t,r,n)));case"separator":return g9(e).fold(Ua,c=>d.some(Wx(c)));case"fancymenuitem":return G9(e).fold(Ua,c=>yL(c,o));default:return console.error("Unknown item in general menu",e),d.none()}},$L=(e,t,o,n,s,r,a)=>{const c=n===1,i=!c||Mm(e);return ns(J(e,u=>{switch(u.type){case"separator":return f9(u).fold(Ua,m=>d.some(Wx(m)));case"cardmenuitem":return z9(u).fold(Ua,m=>d.some(xL({...m,onAction:g=>{m.onAction(g),o(m.value,m.meta)}},s,r,{itemBehaviours:ix(m.meta,r,d.none()),cardText:{matchText:t,highlightOn:a}})));case"autocompleteitem":default:return v9(u).fold(Ua,m=>d.some(pL(m,t,c,"normal",o,s,r,i)))}}))},Qx=(e,t,o,n,s,r)=>{const a=Mm(t),c=ns(J(t,m=>{const g=b=>s?!Xe(b,"text"):a,p=b=>ZL(b,o,n,g(b),s);return m.type==="nestedmenuitem"&&m.getSubmenuItems().length<=0?p({...m,enabled:!1}):p(m)})),i=LL(r);return(s?r9:Sf)(e,a,c,1,i)},Jf=e=>Di.singleData(e.value,e),NL=(e,t,o,n)=>{const s=Fm(t,n),r=Ii(n);return{data:Jf({...e,movement:s,menuBehaviours:ad.unnamedEvents(t!=="auto"?[]:[Ct((a,c)=>{Df(a,4,r.item).each(({numColumns:i,numRows:u})=>{ce.setGridSize(a,u,i)})})])}),menu:{markers:Ii(n),fakeFocus:o===Vm.ContentFocus}}},UL=e=>$1.create(K.fromDom(e.startContainer),e.startOffset,K.fromDom(e.endContainer),e.endOffset),WL={register:(e,t)=>{const o=se("autocompleter"),n=ue(!1),s=ue(!1),r=ut(),a=en(Et.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:o}},components:[],fireDismissalEventInstead:{},inlineBehaviours:W([Te("dismissAutocompleter",[z(vi(),()=>g()),z(wg(),(S,k)=>{qe(k.event.target,"id").each(A=>Q(K.fromDom(e.getBody()),"aria-activedescendant",A))})])]),lazySink:t.getSink})),c=()=>Et.isOpen(a),i=s.get,u=()=>{if(c()){Et.hide(a),e.dom.remove(o,!1);const S=K.fromDom(e.getBody());qe(S,"aria-owns").filter(k=>k===o).each(()=>{ht(S,"aria-owns"),ht(S,"aria-activedescendant")})}},m=()=>Et.getContent(a).bind(S=>Os(S.components(),0)),g=()=>e.execCommand("mceAutocompleterClose"),p=S=>{const k=Ho(S,A=>d.from(A.columns)).getOr(1);return Ie(S,A=>{const I=A.items;return $L(I,A.matchText,(V,G)=>{const te={hide:()=>g(),reload:P=>{u(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:P})}};e.execCommand("mceAutocompleterRefreshActiveRange"),r.get().each(P=>{n.set(!0),A.onAction(te,P,V,G),n.set(!1)})},k,Rr.BUBBLE_TO_SANDBOX,t,A.highlightOn)})},b=(S,k)=>{const A=Ho(S,I=>d.from(I.columns)).getOr(1);Et.showMenuAt(a,{anchor:{type:"selection",getSelection:()=>r.get().map(UL),root:K.fromDom(e.getBody())}},NL(Sf("autocompleter-value",!0,k,A,{menuType:"normal"}),A,Vm.ContentFocus,"normal")),m().each(et.highlightFirst)},y=S=>{const k=p(S);k.length>0?(b(S,k),Q(K.fromDom(e.getBody()),"aria-owns",o),e.inline||x()):u()},x=()=>{e.dom.get(o)&&e.dom.remove(o,!1);const S=e.getDoc().documentElement,k=e.selection.getNode(),A=jC(a.element);Ds(A,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${k.offsetTop}px`,left:`${k.offsetLeft}px`}),e.dom.add(S,A.dom),kt(A,'[role="menu"]').each(I=>{$e(I,"position"),$e(I,"max-height")})};e.on("AutocompleterStart",({lookupData:S})=>{s.set(!0),n.set(!1),y(S)}),e.on("AutocompleterUpdate",({lookupData:S})=>y(S)),e.on("AutocompleterUpdateActiveRange",({range:S})=>r.set(S)),e.on("AutocompleterEnd",()=>{u(),s.set(!1),n.set(!1),r.clear()});const D={cancelIfNecessary:g,isMenuOpen:c,isActive:i,isProcessingAction:n.get,getMenu:m};ID.setup(D,e)}},hd=(e,t,o)=>ma(e,t,o).isSome(),eS=(e,t)=>{let o=null;return{cancel:()=>{o!==null&&(clearTimeout(o),o=null)},schedule:(...r)=>{o=setTimeout(()=>{e.apply(null,r),o=null},t)}}},tS=5,GL=400,oS=e=>{const t=e.raw;return t.touches===void 0||t.touches.length!==1?d.none():d.some(t.touches[0])},jL=(e,t)=>{const o=Math.abs(e.clientX-t.x),n=Math.abs(e.clientY-t.y);return o>tS||n>tS},YL=e=>{const t=ut(),o=ue(!1),n=eS(u=>{e.triggerEvent(X7(),u),o.set(!0)},GL),s=u=>(oS(u).each(m=>{n.cancel();const g={x:m.clientX,y:m.clientY,target:u.target};n.schedule(u),o.set(!1),t.set(g)}),d.none()),r=u=>(n.cancel(),oS(u).each(m=>{t.on(g=>{jL(m,g)&&t.clear()})}),d.none()),a=u=>{n.cancel();const m=g=>nt(g.target,u.target);return t.get().filter(m).map(g=>o.get()?(u.prevent(),!1):e.triggerEvent(Du(),u))},c=vl([{key:Fa(),value:s},{key:Ou(),value:r},{key:gi(),value:a}]);return{fireIfReady:(u,m)=>pe(c,m).bind(g=>g(u))}},XL=e=>e.raw.which===O_[0]&&!ot(["input","textarea"],lo(e.target))&&!hd(e.target,'[contenteditable="true"]'),qL=(e,t)=>{const o={stopBackspace:!0,...t},n=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],s=YL(o),r=J(n.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),b=>Tn(e,b,y=>{s.fireIfReady(y,b).each(D=>{D&&y.kill()}),o.triggerEvent(b,y)&&y.kill()})),a=ut(),c=Tn(e,"paste",b=>{s.fireIfReady(b,"paste").each(x=>{x&&b.kill()}),o.triggerEvent("paste",b)&&b.kill(),a.set(setTimeout(()=>{o.triggerEvent(bg(),b)},0))}),i=Tn(e,"keydown",b=>{o.triggerEvent("keydown",b)?b.kill():o.stopBackspace&&XL(b)&&b.prevent()}),u=Tn(e,"focusin",b=>{o.triggerEvent("focusin",b)&&b.kill()}),m=ut(),g=Tn(e,"focusout",b=>{o.triggerEvent("focusout",b)&&b.kill(),m.set(setTimeout(()=>{o.triggerEvent(Au(),b)},0))});return{unbind:()=>{le(r,b=>{b.unbind()}),i.unbind(),u.unbind(),g.unbind(),c.unbind(),a.on(clearTimeout),m.on(clearTimeout)}}},nS=(e,t)=>{const o=pe(e,"target").getOr(t);return ue(o)},KL=(e,t)=>{const o=ue(!1),n=ue(!1);return{stop:()=>{o.set(!0)},cut:()=>{n.set(!0)},isStopped:o.get,isCut:n.get,event:e,setSource:t.set,getSource:t.get}},JL=e=>{const t=ue(!1);return{stop:()=>{t.set(!0)},cut:j,isStopped:t.get,isCut:rt,event:e,setSource:co("Cannot set source of a broadcasted event"),getSource:co("Cannot get source of a broadcasted event")}},gd=Qs.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),sS=(e,t,o,n,s,r)=>{const a=e(t,n),c=KL(o,s);return a.fold(()=>(r.logEventNoHandlers(t,n),gd.complete()),i=>{const u=i.descHandler;return Gg(u)(c),c.isStopped()?(r.logEventStopped(t,i.element,u.purpose),gd.stopped()):c.isCut()?(r.logEventCut(t,i.element,u.purpose),gd.complete()):Jo(i.element).fold(()=>(r.logNoParent(t,i.element,u.purpose),gd.complete()),g=>(r.logEventResponse(t,i.element,u.purpose),gd.resume(g)))})},rS=(e,t,o,n,s,r)=>sS(e,t,o,n,s,r).fold(ct,a=>rS(e,t,o,a,s,r),rt),QL=(e,t,o,n,s)=>{const r=nS(o,n);return sS(e,t,o,n,r,s)},eF=(e,t,o)=>{const n=JL(t);return le(e,s=>{const r=s.descHandler;Gg(r)(n)}),n.isStopped()},tF=(e,t,o,n)=>aS(e,t,o,o.target,n),aS=(e,t,o,n,s)=>{const r=nS(o,n);return rS(e,t,o,n,r,s)},oF=(e,t)=>({element:e,descHandler:t}),nF=(e,t)=>({id:e,descHandler:t}),sF=()=>{const e={},t=(a,c,i)=>{qt(i,(u,m)=>{const g=e[m]!==void 0?e[m]:{};g[c]=TT(u,a),e[m]=g})},o=(a,c)=>Lu(c).bind(i=>pe(a,i)).map(i=>oF(c,i));return{registerId:t,unregisterId:a=>{qt(e,(c,i)=>{Xe(c,a)&&delete c[a]})},filterByType:a=>pe(e,a).map(c=>Kt(c,(i,u)=>nF(u,i))).getOr([]),find:(a,c,i)=>pe(e,c).bind(u=>w1(i,m=>o(u,m),a))}},rF=()=>{const e=sF(),t={},o=u=>{const m=u.element;return Lu(m).getOrThunk(()=>hT("uid-",u.element))},n=(u,m)=>{const g=t[m];if(g===u)r(u);else throw new Error('The tagId "'+m+'" is already used by: '+Cc(g.element)+`
Cannot use it for: `+Cc(u.element)+`
The conflicting element is`+(E(g.element)?" ":" not ")+"already in the DOM")},s=u=>{const m=o(u);Ko(t,m)&&n(u,m);const g=[u];e.registerId(g,m,u.events),t[m]=u},r=u=>{Lu(u.element).each(m=>{delete t[m],e.unregisterId(m)})};return{find:(u,m,g)=>e.find(u,m,g),filter:u=>e.filterByType(u),register:s,unregister:r,getById:u=>pe(t,u)}},Nr=fs({name:"Container",factory:e=>{const{attributes:t,...o}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...o},components:e.components,behaviours:j1(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[F("components",[]),_o("containerBehaviours",[]),F("events",{}),F("domModification",{}),F("eventOrder",{})]}),Qf=e=>{const t=S=>Jo(e.element).fold(ct,k=>nt(S,k)),o=rF(),n=(S,k)=>o.find(t,S,k),s=qL(e.element,{triggerEvent:(S,k)=>$g(S,k.target,A=>tF(n,S,k,A))}),r={debugInfo:H("real"),triggerEvent:(S,k,A)=>{$g(S,k,I=>aS(n,S,A,k,I))},triggerFocus:(S,k)=>{Lu(S).fold(()=>{Yn(S)},A=>{$g(wc(),S,I=>(QL(n,wc(),{originator:k,kill:j,prevent:j,target:S},S,I),!1))})},triggerEscape:(S,k)=>{r.triggerEvent("keydown",S.element,k.event)},getByUid:S=>x(S),getByDom:S=>D(S),build:en,buildOrPatch:jg,addToGui:S=>{i(S)},removeFromGui:S=>{u(S)},addToWorld:S=>{a(S)},removeFromWorld:S=>{c(S)},broadcast:S=>{p(S)},broadcastOn:(S,k)=>{b(S,k)},broadcastEvent:(S,k)=>{y(S,k)},isConnected:ct},a=S=>{S.connect(r),R(S.element)||(o.register(S),le(S.components(),a),r.triggerEvent(k1(),S.element,{target:S.element}))},c=S=>{R(S.element)||(le(S.components(),c),o.unregister(S)),S.disconnect()},i=S=>{ki(e,S)},u=S=>{Za(S)},m=()=>{s.unbind(),Ar(e.element)},g=S=>{const k=o.filter(fi());le(k,A=>{const I=A.descHandler;Gg(I)(S)})},p=S=>{g({universal:!0,data:S})},b=(S,k)=>{g({universal:!1,channels:S,data:k})},y=(S,k)=>{const A=o.filter(S);return eF(A,k)},x=S=>o.getById(S).fold(()=>Ve.error(new Error('Could not find component with uid: "'+S+'" in system.')),Ve.value),D=S=>{const k=Lu(S).getOr("not found");return x(k)};return a(e),{root:e,element:e.element,destroy:m,add:i,remove:u,getByUid:x,getByDom:D,addToWorld:a,removeFromWorld:c,broadcast:p,broadcastOn:b,broadcastEvent:y}},aF=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:J(e.items,t.interpreter)}),cF=H([F("prefix","form-field"),_o("fieldBehaviours",[Ne,ee])]),iF=H([Fs({schema:[$("dom")],name:"label"}),Fs({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[$("text")],name:"aria-descriptor"}),on({factory:{sketch:e=>{const t=I7(e,["factory"]);return e.factory.sketch(t)}},schema:[$("factory")],name:"field"})]),lF=(e,t,o,n)=>{const s=Vo(e.fieldBehaviours,[Ne.config({find:c=>gt(c,e,"field")}),ee.config({store:{mode:"manual",getValue:c=>Ne.getCurrent(c).bind(ee.getValue),setValue:(c,i)=>{Ne.getCurrent(c).each(u=>{ee.setValue(u,i)})}}})]),r=wt([Ct((c,i)=>{const u=v4(c,e,["label","field","aria-descriptor"]);u.field().each(m=>{const g=se(e.prefix);u.label().each(p=>{Q(p.element,"for",g),Q(m.element,"id",g)}),u["aria-descriptor"]().each(p=>{const b=se(e.prefix);Q(p.element,"id",b),Q(m.element,"aria-describedby",b)})})})]),a={getField:c=>gt(c,e,"field"),getLabel:c=>gt(c,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}},Ue=mn({name:"FormField",configFields:cF(),partFields:iF(),factory:lF,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}});var uF=tinymce.util.Tools.resolve("tinymce.html.Entities");const pd=(e,t,o,n)=>{const s=mF(e,t,o,n);return Ue.sketch(s)},dF=(e,t)=>pd(e,t,[],[]),mF=(e,t,o,n)=>({dom:cS(o),components:e.toArray().concat([t]),fieldBehaviours:W(n)}),hF=()=>cS([]),cS=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Lc=(e,t)=>Ue.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[At(t.translate(e))]}),Vn=se("form-component-change"),iS=se("form-component-input"),fd=se("form-close"),Fc=se("form-cancel"),ga=se("form-action"),vd=se("form-submit"),e0=se("form-block"),t0=se("form-unblock"),lS=se("form-tabchange"),uS=se("form-resize"),gF=(e,t,o)=>{const n=e.label.map(b=>Lc(b,t)),s=t.icons(),r=b=>{var y;return(y=s[b])!==null&&y!==void 0?y:b},a=b=>(y,x)=>{ma(x.event.target,"[data-collection-item-value]").each(D=>{b(y,x,D,De(D,"data-collection-item-value"))})},c=(b,y)=>{const D=t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()?" tox-collection__item--state-disabled":"",S=J(y,I=>{const V=Bs.translate(I.text),G=e.columns===1?`<div class="tox-collection__item-label">${V}</div>`:"",te=`<div class="tox-collection__item-icon">${r(I.icon)}</div>`,P={_:" "," - ":" ","-":" "},oe=V.replace(/\_| \- |\-/g,Y=>P[Y]);return`<div data-mce-tooltip="${oe}" class="tox-collection__item${D}" tabindex="-1" data-collection-item-value="${uF.encodeAllRaw(I.value)}" aria-label="${oe}">${te}${G}</div>`}),k=e.columns!=="auto"&&e.columns>1?Sa(S,e.columns):[S],A=J(k,I=>`<div class="tox-collection__group">${I.join("")}</div>`);Cl(b.element,A.join(""))},i=a((b,y,x,D)=>{y.stop(),t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()||me(b,ga,{name:e.name,value:D})}),u=[z(la(),a((b,y,x)=>{Yn(x,!0)})),z(pi(),i),z(Du(),i),z(Lr(),a((b,y,x)=>{kt(b.element,"."+Fi).each(D=>{Yt(D,Fi)}),ro(x,Fi)})),z(cv(),a(b=>{kt(b.element,"."+Fi).each(y=>{Yt(y,Fi),V1(y)})})),Va(a((b,y,x,D)=>{me(b,ga,{name:e.name,value:D})}))],m=(b,y)=>J(Mn(b.element,".tox-collection__item"),y),g=Ue.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ze},behaviours:W([ge.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:b=>{m(b,y=>{ro(y,"tox-collection__item--state-disabled"),Q(y,"aria-disabled",!0)})},onEnabled:b=>{m(b,y=>{Yt(y,"tox-collection__item--state-disabled"),ht(y,"aria-disabled")})}}),to(()=>t.checkUiComponentContext(e.context)),we.config({}),Ft.config({...t.tooltips.getConfig({tooltipText:"",onShow:b=>{kt(b.element,"."+Fi+"[data-mce-tooltip]").each(y=>{qe(y,"data-mce-tooltip").each(x=>{Ft.setComponents(b,t.tooltips.getComponents({tooltipText:x}))})})}}),mode:"children-keyboard-focus",anchor:b=>({type:"node",node:kt(b.element,"."+Fi).orThunk(()=>sM(".tox-collection__item")),root:b.element,layouts:{onLtr:H([fo,Oo,go,jo,po,Yo]),onRtl:H([fo,Oo,go,jo,po,Yo])},bubble:sr(0,-2,{})})}),ee.config({store:{mode:"memory",initialValue:o.getOr([])},onSetValue:(b,y)=>{c(b,y),e.columns==="auto"&&Df(b,5,"tox-collection__item").each(({numRows:x,numColumns:D})=>{ce.setGridSize(b,x,D)}),Re(b,uS)}}),xt.config({}),ce.config(tL(e.columns,"normal")),Te("collection-events",u)]),eventOrder:{[hs()]:["disabling","alloy.base.behaviour","collection-events"],[Lr()]:["collection-events","tooltipping"]}});return pd(n,g,["tox-form__group--collection"],[])},pF=["input","textarea"],dS=e=>{const t=lo(e);return ot(pF,t)},mS=(e,t)=>{const o=t.getRoot(e).getOr(e.element);Yt(o,t.invalidClass),t.notify.each(n=>{dS(e.element)&&Q(e.element,"aria-invalid",!1),n.getContainer(e).each(s=>{Cl(s,n.validHtml)}),n.onValid(e)})},hS=(e,t,o,n)=>{const s=t.getRoot(e).getOr(e.element);ro(s,t.invalidClass),t.notify.each(r=>{dS(e.element)&&Q(e.element,"aria-invalid",!0),r.getContainer(e).each(a=>{Cl(a,n)}),r.onInvalid(e,n)})},gS=(e,t,o)=>t.validator.fold(()=>Xo.pure(Ve.value(!0)),n=>n.validate(e)),o0=(e,t,o)=>(t.notify.each(n=>{n.onValidate(e)}),gS(e,t).map(n=>e.getSystem().isConnected()?n.fold(s=>(hS(e,t,o,s),Ve.error(s)),s=>(mS(e,t),Ve.value(s))):Ve.error("No longer in system")));var fF=Object.freeze({__proto__:null,markValid:mS,markInvalid:hS,query:gS,run:o0,isInvalid:(e,t)=>{const o=t.getRoot(e).getOr(e.element);return In(o,t.invalidClass)}}),vF=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map(o=>wt([z(o.onEvent,n=>{o0(n,e,t).get(Ze)})].concat(o.validateOnLoad?[Ct(n=>{o0(n,e,t).get(j)})]:[]))).getOr({})}),bF=[$("invalidClass"),F("getRoot",d.none),ds("notify",[F("aria","alert"),F("getContainer",d.none),F("validHtml",""),je("onValid"),je("onInvalid"),je("onValidate")]),ds("validator",[$("validate"),F("onEvent","input"),F("validateOnLoad",!0)])];const pa=Io({fields:bF,name:"invalidating",active:vF,apis:fF,extra:{validation:e=>t=>{const o=ee.getValue(t);return Xo.pure(e(o))}}});var yF=Object.freeze({__proto__:null,events:()=>wt([hv(j7(),ct)]),exhibit:()=>er({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const bd=Io({fields:[],name:"unselecting",active:yF}),xF=(e,t)=>vs.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:W([zs.button(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),to(()=>t.providers.checkUiComponentContext(e.context)),bd.config({}),xt.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:o=>Xo.nu(n=>e.fetch(n)).map(n=>d.from(Jf(Rt(jf(se("menu-value"),n,s=>{e.onItemAction(o,s)},e.columns,e.presets,Rr.CLOSE_ON_EXECUTE,rt,t.providers),{movement:Fm(e.columns,e.presets)})))),parts:{menu:wm(!1,1,e.presets)}}),pS=se("color-input-change"),fS=se("color-swatch-change"),vS=se("color-picker-cancel"),SF=(e,t,o,n)=>{const s=Ue.parts.field({factory:Dc,inputClasses:["tox-textfield"],data:n,onSetValue:u=>pa.run(u).get(j),inputBehaviours:W([ge.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),to(()=>t.providers.checkUiComponentContext(e.context)),xt.config({}),pa.config({invalidClass:"tox-textbox-field-invalid",getRoot:u=>Un(u.element),notify:{onValid:u=>{const m=ee.getValue(u);me(u,pS,{color:m})}},validator:{validateOnLoad:!1,validate:u=>{const m=ee.getValue(u);if(m.length===0)return Xo.pure(Ve.value(!0));{const g=K.fromTag("span");Me(g,"background-color",m);const p=Jt(g,"background-color").fold(()=>Ve.error("blah"),b=>Ve.value(m));return Xo.pure(p)}}}})]),selectOnFocus:!1}),r=e.label.map(u=>Lc(u,t.providers)),a=(u,m)=>{me(u,fS,{value:m})},c=(u,m)=>{i.getOpt(u).each(g=>{m==="custom"?o.colorPicker(p=>{p.fold(()=>Re(g,vS),b=>{a(g,b),_x(e.storageKey,b)})},"#ffffff"):m==="remove"?a(g,""):a(g,m)})},i=Qe(xF({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[po,go,fo],onLtr:()=>[go,po,fo]},components:[],fetch:Vx(o.getColors(e.storageKey),e.storageKey,o.hasCustomColors()),columns:o.getColorCols(e.storageKey),presets:"color",onItemAction:c,context:e.context},t));return Ue.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:W([Te("form-field-events",[z(pS,(u,m)=>{i.getOpt(u).each(g=>{Me(g.element,"background-color",m.event.color)}),me(u,Vn,{name:e.name})}),z(fS,(u,m)=>{Ue.getField(u).each(g=>{ee.setValue(g,m.event.value),Ne.getCurrent(u).each(be.focus)})}),z(vS,(u,m)=>{Ue.getField(u).each(g=>{Ne.getCurrent(u).each(be.focus)})})])])})},wF=Fs({schema:[$("dom")],name:"label"}),Ic=e=>Fs({name:""+e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold(()=>({}),n=>({events:wt([kg(Fa(),(s,r,a)=>n(s,a),[t]),kg(ms(),(s,r,a)=>n(s,a),[t]),kg(C1(),(s,r,a)=>{a.mouseIsDown.get()&&n(s,a)},[t])])}))}),CF=Ic("top-left"),TF=Ic("top"),MF=Ic("top-right"),kF=Ic("right"),OF=Ic("bottom-right"),_F=Ic("bottom"),AF=Ic("bottom-left"),EF=Ic("left"),DF=on({name:"thumb",defaults:H({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:wt([xl(Fa(),e,"spectrum"),xl(Ou(),e,"spectrum"),xl(gi(),e,"spectrum"),xl(ms(),e,"spectrum"),xl(C1(),e,"spectrum"),xl(vg(),e,"spectrum")])})}),Bm=e=>Oi(e.event),HF=on({schema:[Cn("mouseIsDown",()=>ue(!1))],name:"spectrum",overrides:e=>{const o=e.model.manager,n=(s,r)=>o.getValueFromEvent(r).map(a=>o.setValueFrom(s,e,a));return{behaviours:W([ce.config({mode:"special",onLeft:(s,r)=>o.onLeft(s,e,Bm(r)),onRight:(s,r)=>o.onRight(s,e,Bm(r)),onUp:(s,r)=>o.onUp(s,e,Bm(r)),onDown:(s,r)=>o.onDown(s,e,Bm(r))}),xt.config({}),be.config({})]),events:wt([z(Fa(),n),z(Ou(),n),z(ms(),n),z(C1(),(s,r)=>{e.mouseIsDown.get()&&n(s,r)})])}}});var LF=[wF,EF,kF,TF,_F,CF,MF,AF,OF,DF,HF];const yd=H("slider.change.value"),FF=e=>e.type.indexOf("touch")!==-1,n0=e=>{const t=e.event.raw;if(FF(t)){const o=t;return o.touches!==void 0&&o.touches.length===1?d.some(o.touches[0]).map(n=>bt(n.clientX,n.clientY)):d.none()}else{const o=t;return o.clientX!==void 0?d.some(o).map(n=>bt(n.clientX,n.clientY)):d.none()}},IF="top",VF="right",BF="bottom",PF="left",zi=e=>e.model.minX,Zi=e=>e.model.minY,Pm=e=>e.model.minX-1,Rm=e=>e.model.minY-1,$i=e=>e.model.maxX,Ni=e=>e.model.maxY,zm=e=>e.model.maxX+1,Zm=e=>e.model.maxY+1,bS=(e,t,o)=>t(e)-o(e),s0=e=>bS(e,$i,zi),r0=e=>bS(e,Ni,Zi),yS=e=>s0(e)/2,xS=e=>r0(e)/2,Ul=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,SS=e=>e.snapToGrid,wS=e=>e.snapStart,CS=e=>e.rounded,$m=(e,t)=>e[t+"-edge"]!==void 0,TS=e=>$m(e,PF),MS=e=>$m(e,VF),kS=e=>$m(e,IF),OS=e=>$m(e,BF),Ga=e=>e.model.value.get(),Vc=(e,t)=>({x:e,y:t}),lr=(e,t)=>{me(e,yd(),{value:t})},RF=(e,t)=>{lr(e,Vc(Pm(t),Rm(t)))},zF=(e,t)=>{lr(e,Rm(t))},ZF=(e,t)=>{lr(e,Vc(yS(t),Rm(t)))},$F=(e,t)=>{lr(e,Vc(zm(t),Rm(t)))},NF=(e,t)=>{lr(e,zm(t))},UF=(e,t)=>{lr(e,Vc(zm(t),xS(t)))},WF=(e,t)=>{lr(e,Vc(zm(t),Zm(t)))},GF=(e,t)=>{lr(e,Zm(t))},jF=(e,t)=>{lr(e,Vc(yS(t),Zm(t)))},YF=(e,t)=>{lr(e,Vc(Pm(t),Zm(t)))},XF=(e,t)=>{lr(e,Pm(t))},qF=(e,t)=>{lr(e,Vc(Pm(t),xS(t)))},a0=(e,t,o,n)=>e<t?e:e>o?o:e===t?t-1:Math.max(t,e-n),c0=(e,t,o,n)=>e>o?e:e<t?t:e===o?o+1:Math.min(o,e+n),_S=(e,t,o)=>Math.max(t,Math.min(o,e)),KF=(e,t,o,n,s)=>s.fold(()=>{const r=e-t,a=Math.round(r/n)*n;return _S(t+a,t-1,o+1)},r=>{const a=(e-r)%n,c=Math.round(a/n),i=Math.floor((e-r)/n),u=Math.floor((o-r)/n),m=Math.min(u,i+c),g=r+m*n;return Math.max(r,g)}),JF=(e,t,o)=>Math.min(o,Math.max(e,t))-t,AS=e=>{const{min:t,max:o,range:n,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:u,hasMaxEdge:m,minBound:g,maxBound:p,screenRange:b}=e,y=u?t-1:t,x=m?o+1:o;if(s<g)return y;if(s>p)return x;{const D=JF(s,g,p),S=_S(D/b*n+t,y,x);return a&&S>=t&&S<=o?KF(S,t,o,r,c):i?Math.round(S):S}},ES=e=>{const{min:t,max:o,range:n,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:u,centerMaxEdge:m}=e;return s<t?r?0:u:s>o?a?c:m:(s-t)/n*i},i0="top",DS="right",HS="bottom",l0="left",QF="width",eI="height",fa=e=>e.element.dom.getBoundingClientRect(),ur=(e,t)=>e[t],Nm=e=>{const t=fa(e);return ur(t,l0)},LS=e=>{const t=fa(e);return ur(t,DS)},Um=e=>{const t=fa(e);return ur(t,i0)},FS=e=>{const t=fa(e);return ur(t,HS)},IS=e=>{const t=fa(e);return ur(t,QF)},VS=e=>{const t=fa(e);return ur(t,eI)},BS=(e,t,o)=>(e+t)/2-o,PS=(e,t)=>{const o=fa(e),n=fa(t),s=ur(o,l0),r=ur(o,DS),a=ur(n,l0);return BS(s,r,a)},RS=(e,t)=>{const o=fa(e),n=fa(t),s=ur(o,i0),r=ur(o,HS),a=ur(n,i0);return BS(s,r,a)},Wm=(e,t)=>{me(e,yd(),{value:t})},u0=(e,t,o)=>{const n={min:zi(t),max:$i(t),range:s0(t),value:o,step:Ul(t),snap:SS(t),snapStart:wS(t),rounded:CS(t),hasMinEdge:TS(t),hasMaxEdge:MS(t),minBound:Nm(e),maxBound:LS(e),screenRange:IS(e)};return AS(n)},tI=(e,t,o)=>{const n=u0(e,t,o);return Wm(e,n),n},oI=(e,t)=>{const o=zi(t);Wm(e,o)},nI=(e,t)=>{const o=$i(t);Wm(e,o)},sI=(e,t,o,n)=>{const r=(e>0?c0:a0)(Ga(o),zi(o),$i(o),Ul(o,n));return Wm(t,r),d.some(r)},zS=e=>(t,o,n)=>sI(e,t,o,n).map(ct),rI=e=>n0(e).map(o=>o.left),aI=(e,t,o,n,s)=>{const a=IS(e),c=n.bind(m=>d.some(PS(m,e))).getOr(0),i=s.bind(m=>d.some(PS(m,e))).getOr(a),u={min:zi(t),max:$i(t),range:s0(t),value:o,hasMinEdge:TS(t),hasMaxEdge:MS(t),minBound:Nm(e),minOffset:0,maxBound:LS(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return ES(u)},d0=(e,t,o,n,s,r)=>{const a=aI(t,r,o,n,s);return Nm(t)-Nm(e)+a},cI=(e,t,o,n)=>{const s=Ga(o),r=d0(e,n.getSpectrum(e),s,n.getLeftEdge(e),n.getRightEdge(e),o),a=ln(t.element)/2;Me(t.element,"left",r-a+"px")},iI=zS(-1),lI=zS(1),uI=d.none,dI=d.none,mI={"top-left":d.none(),top:d.none(),"top-right":d.none(),right:d.some(NF),"bottom-right":d.none(),bottom:d.none(),"bottom-left":d.none(),left:d.some(XF)};var hI=Object.freeze({__proto__:null,setValueFrom:tI,setToMin:oI,setToMax:nI,findValueOfOffset:u0,getValueFromEvent:rI,findPositionOfValue:d0,setPositionFromValue:cI,onLeft:iI,onRight:lI,onUp:uI,onDown:dI,edgeActions:mI});const Gm=(e,t)=>{me(e,yd(),{value:t})},m0=(e,t,o)=>{const n={min:Zi(t),max:Ni(t),range:r0(t),value:o,step:Ul(t),snap:SS(t),snapStart:wS(t),rounded:CS(t),hasMinEdge:kS(t),hasMaxEdge:OS(t),minBound:Um(e),maxBound:FS(e),screenRange:VS(e)};return AS(n)},gI=(e,t,o)=>{const n=m0(e,t,o);return Gm(e,n),n},pI=(e,t)=>{const o=Zi(t);Gm(e,o)},fI=(e,t)=>{const o=Ni(t);Gm(e,o)},vI=(e,t,o,n)=>{const r=(e>0?c0:a0)(Ga(o),Zi(o),Ni(o),Ul(o,n));return Gm(t,r),d.some(r)},ZS=e=>(t,o,n)=>vI(e,t,o,n).map(ct),bI=e=>n0(e).map(o=>o.top),yI=(e,t,o,n,s)=>{const a=VS(e),c=n.bind(m=>d.some(RS(m,e))).getOr(0),i=s.bind(m=>d.some(RS(m,e))).getOr(a),u={min:Zi(t),max:Ni(t),range:r0(t),value:o,hasMinEdge:kS(t),hasMaxEdge:OS(t),minBound:Um(e),minOffset:0,maxBound:FS(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return ES(u)},h0=(e,t,o,n,s,r)=>{const a=yI(t,r,o,n,s);return Um(t)-Um(e)+a},xI=(e,t,o,n)=>{const s=Ga(o),r=h0(e,n.getSpectrum(e),s,n.getTopEdge(e),n.getBottomEdge(e),o),a=mo(t.element)/2;Me(t.element,"top",r-a+"px")},SI=d.none,wI=d.none,CI=ZS(-1),TI=ZS(1),MI={"top-left":d.none(),top:d.some(zF),"top-right":d.none(),right:d.none(),"bottom-right":d.none(),bottom:d.some(GF),"bottom-left":d.none(),left:d.none()};var kI=Object.freeze({__proto__:null,setValueFrom:gI,setToMin:pI,setToMax:fI,findValueOfOffset:m0,getValueFromEvent:bI,findPositionOfValue:h0,setPositionFromValue:xI,onLeft:SI,onRight:wI,onUp:CI,onDown:TI,edgeActions:MI});const jm=(e,t)=>{me(e,yd(),{value:t})},Ym=(e,t)=>({x:e,y:t}),OI=(e,t,o)=>{const n=u0(e,t,o.left),s=m0(e,t,o.top),r=Ym(n,s);return jm(e,r),r},_I=(e,t,o,n,s)=>{const r=e>0?c0:a0,a=t?Ga(n).x:r(Ga(n).x,zi(n),$i(n),Ul(n,s)),c=t?r(Ga(n).y,Zi(n),Ni(n),Ul(n,s)):Ga(n).y;return jm(o,Ym(a,c)),d.some(a)},Xm=(e,t)=>(o,n,s)=>_I(e,t,o,n,s).map(ct),AI=(e,t)=>{const o=zi(t),n=Zi(t);jm(e,Ym(o,n))},EI=(e,t)=>{const o=$i(t),n=Ni(t);jm(e,Ym(o,n))},DI=e=>n0(e),HI=(e,t,o,n)=>{const s=Ga(o),r=d0(e,n.getSpectrum(e),s.x,n.getLeftEdge(e),n.getRightEdge(e),o),a=h0(e,n.getSpectrum(e),s.y,n.getTopEdge(e),n.getBottomEdge(e),o),c=ln(t.element)/2,i=mo(t.element)/2;Me(t.element,"left",r-c+"px"),Me(t.element,"top",a-i+"px")},LI=Xm(-1,!1),FI=Xm(1,!1),II=Xm(-1,!0),VI=Xm(1,!0),BI={"top-left":d.some(RF),top:d.some(ZF),"top-right":d.some($F),right:d.some(UF),"bottom-right":d.some(WF),bottom:d.some(jF),"bottom-left":d.some(YF),left:d.some(qF)};var PI=Object.freeze({__proto__:null,setValueFrom:OI,setToMin:AI,setToMax:EI,getValueFromEvent:DI,setPositionFromValue:HI,onLeft:LI,onRight:FI,onUp:II,onDown:VI,edgeActions:BI});const RI=[F("stepSize",1),F("speedMultiplier",10),F("onChange",j),F("onChoose",j),F("onInit",j),F("onDragStart",j),F("onDragEnd",j),F("snapToGrid",!1),F("rounded",!0),Je("snapStart"),us("model",Fn("mode",{x:[F("minX",0),F("maxX",100),Cn("value",e=>ue(e.mode.minX)),$("getInitialValue"),Mt("manager",hI)],y:[F("minY",0),F("maxY",100),Cn("value",e=>ue(e.mode.minY)),$("getInitialValue"),Mt("manager",kI)],xy:[F("minX",0),F("maxX",100),F("minY",0),F("maxY",100),Cn("value",e=>ue({x:e.mode.minX,y:e.mode.minY})),$("getInitialValue"),Mt("manager",PI)]})),_o("sliderBehaviours",[ce,ee]),Cn("mouseIsDown",()=>ue(!1))],dr=mn({name:"Slider",configFields:RI,partFields:LF,factory:(e,t,o,n)=>{const s=V=>_c(V,e,"thumb"),r=V=>_c(V,e,"spectrum"),a=V=>gt(V,e,"left-edge"),c=V=>gt(V,e,"right-edge"),i=V=>gt(V,e,"top-edge"),u=V=>gt(V,e,"bottom-edge"),m=e.model,g=m.manager,p=(V,G)=>{g.setPositionFromValue(V,G,e,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:u,getSpectrum:r})},b=(V,G)=>{m.value.set(G);const te=s(V);p(V,te)},y=(V,G)=>{b(V,G);const te=s(V);return e.onChange(V,te,G),d.some(!0)},x=V=>{g.setToMin(V,e)},D=V=>{g.setToMax(V,e)},S=V=>{const G=()=>{gt(V,e,"thumb").each(P=>{const oe=m.value.get();e.onChoose(V,P,oe)})},te=e.mouseIsDown.get();e.mouseIsDown.set(!1),te&&G()},k=(V,G)=>{G.stop(),e.mouseIsDown.set(!0),e.onDragStart(V,s(V))},A=(V,G)=>{G.stop(),e.onDragEnd(V,s(V)),S(V)},I=V=>{gt(V,e,"spectrum").map(ce.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.sliderBehaviours,[ce.config({mode:"special",focusIn:I}),ee.config({store:{mode:"manual",getValue:V=>m.value.get(),setValue:b}}),jn.config({channels:{[vp()]:{onReceive:S}}})]),events:wt([z(yd(),(V,G)=>{y(V,G.event.value)}),Ct((V,G)=>{const te=m.getInitialValue();m.value.set(te);const P=s(V);p(V,P);const oe=r(V);e.onInit(V,P,oe,m.value.get())}),z(Fa(),k),z(gi(),A),z(ms(),(V,G)=>{I(V),k(V,G)}),z(vg(),A)]),apis:{resetToMin:x,resetToMax:D,setValue:b,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,o)=>{e.setValue(t,o)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),g0=se("rgb-hex-update"),$S=se("slider-update"),NS=se("palette-update"),zI=(e,t)=>{const o=dr.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),n=dr.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return dr.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:H(0)},components:[o,n],sliderBehaviours:W([be.config({})]),onChange:(s,r,a)=>{Q(s.element,"aria-valuenow",Math.floor(360-a*3.6)),me(s,$S,{value:a})}})},US="form",ZI=[_o("formBehaviours",[ee])],WS=e=>"<alloy.field."+e+">",$I=e=>{const t=(()=>{const r=[];return{field:(c,i)=>(r.push(c),Op(US,WS(c),i)),record:H(r)}})(),o=e(t),n=t.record(),s=J(n,r=>on({name:r,pname:WS(r)}));return Hp(US,ZI,s,UI,o)},NI=(e,t)=>e.fold(()=>Ve.error(t),Ve.value),UI=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.formBehaviours,[ee.config({store:{mode:"manual",getValue:o=>{const n=b4(o,e);return Dt(n,(s,r)=>s().bind(a=>{const c=Ne.getCurrent(a);return NI(c,new Error(`Cannot find a current component to extract the value from for form part '${r}': `+Cc(a.element)))}).map(ee.getValue))},setValue:(o,n)=>{qt(n,(s,r)=>{gt(o,e,r).each(a=>{Ne.getCurrent(a).each(c=>{ee.setValue(c,s)})})})}}})]),apis:{getField:(o,n)=>gt(o,e,n).bind(Ne.getCurrent)}}),Wl={getField:F1((e,t,o)=>e.getField(t,o)),sketch:$I},GS=se("valid-input"),jS=se("invalid-input"),YS=se("validating-input"),p0="colorcustom.rgb.",WI={isEnabled:ct,setEnabled:j,immediatelyShow:j,immediatelyHide:j},GI=(e,t,o,n,s,r)=>{const a=(x,D)=>{const S=D.get();x!==S.isEnabled()&&(S.setEnabled(x),x?S.immediatelyShow():S.immediatelyHide())},c=(x,D,S)=>pa.config({invalidClass:t("invalid"),notify:{onValidate:k=>{me(k,YS,{type:x})},onValid:k=>{a(!1,S),me(k,GS,{type:x,value:ee.getValue(k)})},onInvalid:k=>{a(!0,S),me(k,jS,{type:x,value:ee.getValue(k)})}},validator:{validate:k=>{const A=ee.getValue(k),I=D(A)?Ve.value(!0):Ve.error(e("aria.input.invalid"));return Xo.pure(I)},validateOnLoad:!1}}),i=(x,D,S,k,A)=>{const I=ue(WI),V=e(p0+"range"),G=Ue.parts.label({dom:{tag:"label"},components:[At(S)]}),te=Ue.parts.field({data:A,factory:Dc,inputAttributes:{type:"text","aria-label":k,...D==="hex"?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:W([c(D,x,I),xt.config({}),Ft.config({...s({tooltipText:"",onSetup:We=>{I.set({isEnabled:()=>Ft.isEnabled(We),setEnabled:re=>Ft.setEnabled(We,re),immediatelyShow:()=>Ft.immediateOpenClose(We,!0),immediatelyHide:()=>Ft.immediateOpenClose(We,!1)}),Ft.setEnabled(We,!1)},onShow:(We,re)=>{Ft.setComponents(We,[{dom:{tag:"p",classes:[t("rgb-warning-note")]},components:[At(e(D==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:We=>{pa.isInvalid(We)&&pa.run(We).get(j)}}),P=se("aria-invalid"),oe=Qe(r("invalid",d.some(P),"warning")),Y=Qe({dom:{tag:"div",classes:[t("invalid-icon")]},components:[oe.asSpec()]}),ne=[G,te,Y.asSpec()],Le=D!=="hex"?[Ue.parts["aria-descriptor"]({text:V})]:[],dt=ne.concat(Le);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[t("rgb-container")]},components:dt}},u=(x,D)=>{const S=ud(D);return Wl.getField(x,"hex").each(k=>{be.isFocused(k)||ee.setValue(x,{hex:S.value})}),S},m=(x,D)=>{const S=D.red,k=D.green,A=D.blue;ee.setValue(x,{red:S,green:k,blue:A})},g=Qe({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),p=(x,D)=>{g.getOpt(x).each(S=>{Me(S.element,"background-color","#"+D.value)})};return fs({factory:()=>{const x={red:ue(d.some(255)),green:ue(d.some(255)),blue:ue(d.some(255)),hex:ue(d.some("ffffff"))},D=(re,N)=>{const q=dd(N);m(re,q),I(q)},S=re=>x[re].get(),k=(re,N)=>{x[re].set(N)},A=()=>S("red").bind(re=>S("green").bind(N=>S("blue").map(q=>Bi(re,N,q,1)))),I=re=>{const N=re.red,q=re.green,ve=re.blue;k("red",d.some(N)),k("green",d.some(q)),k("blue",d.some(ve))},V=(re,N)=>{const q=N.event;q.type!=="hex"?k(q.type,d.none()):n(re)},G=(re,N)=>{o(re);const q=mx(N);k("hex",d.some(q.value));const ve=dd(q);m(re,ve),I(ve),me(re,g0,{hex:q}),p(re,q)},te=(re,N,q)=>{const ve=parseInt(q,10);k(N,d.some(ve)),A().each(ke=>{const ie=u(re,ke);me(re,g0,{hex:ie}),p(re,ie)})},P=re=>re.type==="hex",oe=(re,N)=>{const q=N.event;P(q)?G(re,q.value):te(re,q.type,q.value)},Y=re=>({label:e(p0+re+".label"),description:e(p0+re+".description")}),ne=Y("red"),Le=Y("green"),dt=Y("blue"),We=Y("hex");return Rt(Wl.sketch(re=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[re.field("red",Ue.sketch(i(If,"red",ne.label,ne.description,255))),re.field("green",Ue.sketch(i(If,"green",Le.label,Le.description,255))),re.field("blue",Ue.sketch(i(If,"blue",dt.label,dt.description,255))),re.field("hex",Ue.sketch(i(px,"hex",We.label,We.description,"ffffff"))),g.asSpec()],formBehaviours:W([pa.config({invalidClass:t("form-invalid")}),Te("rgb-form-events",[z(GS,oe),z(jS,V),z(YS,V)])])})),{apis:{updateHex:(re,N)=>{ee.setValue(re,{hex:N.value}),D(re,N),p(re,N)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(x,D,S)=>{x.updateHex(D,S)}},extraApis:{}})},jI=(e,t)=>{const o=dr.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),n=dr.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),s=(u,m)=>{const{width:g,height:p}=u,b=u.getContext("2d");if(b===null)return;b.fillStyle=m,b.fillRect(0,0,g,p);const y=b.createLinearGradient(0,0,g,0);y.addColorStop(0,"rgba(255,255,255,1)"),y.addColorStop(1,"rgba(255,255,255,0)"),b.fillStyle=y,b.fillRect(0,0,g,p);const x=b.createLinearGradient(0,0,0,p);x.addColorStop(0,"rgba(0,0,0,0)"),x.addColorStop(1,"rgba(0,0,0,1)"),b.fillStyle=x,b.fillRect(0,0,g,p)},r=(u,m)=>{const g=u.components()[0].element.dom,p=md(m,100,100),b=yx(p);s(g,Sx(b))},a=(u,m)=>{const g=Pf(dd(m));dr.setValue(u,{x:g.saturation,y:100-g.value}),Q(u.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",g.saturation,g.value]))};return fs({factory:u=>{const m=H({x:0,y:0}),g=(y,x,D)=>{Ro(D)||Q(y.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(D.x),Math.floor(100-D.y)])),me(y,NS,{value:D})},p=(y,x,D,S)=>{s(D.element.dom,Sx(wx))},b=W([Ne.config({find:d.some}),be.config({})]);return dr.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:m},rounded:!1,components:[o,n],onChange:g,onInit:p,sliderBehaviours:b})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(u,m,g)=>{r(m,g)},setThumb:(u,m,g)=>{a(m,g)}},extraApis:{}})},YI=(e,t,o,n)=>{const s=a=>{const c=GI(e,t,a.onValidHex,a.onInvalidHex,o,n),i=jI(e,t),u=P=>(100-P)/100*360,m=P=>100-P/360*100,g={paletteRgba:ue(wx),paletteHue:ue(0)},p=Qe(zI(e,t)),b=Qe(i.sketch({})),y=Qe(c.sketch({})),x=(P,oe,Y)=>{b.getOpt(P).each(ne=>{i.setHue(ne,Y)})},D=(P,oe)=>{y.getOpt(P).each(Y=>{c.updateHex(Y,oe)})},S=(P,oe,Y)=>{p.getOpt(P).each(ne=>{dr.setValue(ne,m(Y))})},k=(P,oe)=>{b.getOpt(P).each(Y=>{i.setThumb(Y,oe)})},A=(P,oe)=>{const Y=dd(P);g.paletteRgba.set(Y),g.paletteHue.set(oe)},I=(P,oe,Y,ne)=>{A(oe,Y),le(ne,Le=>{Le(P,oe,Y)})},V=()=>{const P=[D];return(oe,Y)=>{const ne=Y.event.value,Le=g.paletteHue.get(),dt=md(Le,ne.x,100-ne.y),We=Ax(dt);I(oe,We,Le,P)}},G=()=>{const P=[x,D];return(oe,Y)=>{const ne=u(Y.event.value),Le=g.paletteRgba.get(),dt=Pf(Le),We=md(ne,dt.saturation,dt.value),re=Ax(We);I(oe,re,ne,P)}},te=()=>{const P=[x,S,k];return(oe,Y)=>{const ne=Y.event.hex,Le=zH(ne);I(oe,ne,Le.hue,P)}};return{uid:a.uid,dom:a.dom,components:[b.asSpec(),p.asSpec(),y.asSpec()],behaviours:W([Te("colour-picker-events",[z(g0,te()),z(NS,V()),z($S,G())]),Ne.config({find:P=>y.getOpt(P)}),ce.config({mode:"acyclic"})])}};return fs({name:"ColourPicker",configFields:[$("dom"),F("onValidHex",j),F("onInvalidHex",j)],factory:s})},mr={self:()=>Ne.config({find:d.some}),memento:e=>Ne.config({find:e.getOpt}),childAt:e=>Ne.config({find:t=>Es(t.element,e).bind(o=>t.getSystem().getByDom(o).toOptional())})},XI=ye([F("preprocess",Ze),F("postprocess",Ze)]),qI=(e,t)=>{const o=Ln("RepresentingConfigs.memento processors",XI,t);return ee.config({store:{mode:"manual",getValue:n=>{const s=e.get(n),r=ee.getValue(s);return o.postprocess(r)},setValue:(n,s)=>{const r=o.preprocess(s),a=e.get(n);ee.setValue(a,r)}}})},Ui=(e,t,o)=>ee.config({store:{mode:"manual",...e.map(n=>({initialValue:n})).getOr({}),getValue:t,setValue:o}}),XS=(e,t,o)=>Ui(e,n=>t(n.element),(n,s)=>o(n.element,s)),KI=e=>XS(e,zg,Cl),qm=e=>ee.config({store:{mode:"memory",initialValue:e}}),JI={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},QI=e=>t=>_(t)?e.translate(JI[t]):e.translate(t),eV=(e,t,o)=>{const n=u=>"tox-"+u,s=(u,m,g=u,p=u)=>Ps(g,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+u],attributes:{title:t.translate(p),"aria-live":"polite",...m.fold(()=>({}),b=>({id:b}))}},t.icons),r=YI(QI(t),n,t.tooltips.getConfig,s),a=u=>{me(u,ga,{name:"hex-valid",value:!0})},c=u=>{me(u,ga,{name:"hex-valid",value:!1})},i=Qe(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:c}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:W([Ui(o,u=>{const m=i.get(u);return Ne.getCurrent(m).bind(b=>ee.getValue(b).hex).map(b=>"#"+sc(b,"#")).getOr("")},(u,m)=>{const g=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,p=d.from(g.exec(m)).bind(x=>Os(x,1)),b=i.get(u);Ne.getCurrent(b).fold(()=>{console.log("Can not find form")},x=>{ee.setValue(x,{hex:p.getOr("")}),Wl.getField(x,"hex").each(D=>{Re(D,Ia())})})}),mr.self()])}};var tV=tinymce.util.Tools.resolve("tinymce.Resource");const qS=e=>Xe(e,"init"),oV=e=>{const t=ut(),o=Qe({dom:{tag:e.tag}}),n=ut(),s=!qS(e)&&e.onFocus.isSome()?[be.config({onFocus:r=>{e.onFocus.each(a=>{a(r.element.dom)})}}),xt.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:W([Te("custom-editor-events",[Ct(r=>{o.getOpt(r).each(a=>{(qS(e)?e.init(a.element.dom):tV.load(e.scriptId,e.scriptUrl).then(c=>c(a.element.dom,e.settings))).then(c=>{n.on(i=>{c.setValue(i)}),n.clear(),t.set(c)})})})]),Ui(d.none(),()=>t.get().fold(()=>n.get().getOr(""),r=>r.getValue()),(r,a)=>{t.get().fold(()=>n.set(a),c=>c.setValue(a))}),mr.self()].concat(s)),components:[o.asSpec()]}};var ja=tinymce.util.Tools.resolve("tinymce.util.Tools");const f0=se("browse.files.event"),nV=(e,t)=>{const o=ja.explode(t.getOption("images_file_types")),n=s=>yo(o,r=>js(s.name.toLowerCase(),`.${r.toLowerCase()}`));return it(Ws(e),n)},sV=(e,t,o)=>{const n=(p,b)=>{b.stop()},s=p=>(b,y)=>{le(p,x=>{x(b,y)})},r=(p,b)=>{var y;if(!ge.isDisabled(p)){const x=b.event.raw;me(p,f0,{files:(y=x.dataTransfer)===null||y===void 0?void 0:y.files})}},a=(p,b)=>{const y=b.event.raw.target;me(p,f0,{files:y.files})},c=(p,b)=>{b&&(ee.setValue(p,nV(b,t)),me(p,Vn,{name:e.name}))},i=Qe({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:W([Te("input-file-events",[yi(pi()),yi(Du())])])}),u=e.label.map(p=>Lc(p,t)),m=Ue.parts.field({factory:Bo,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[At(t.translate("Browse for an image")),i.asSpec()],action:p=>{i.get(p).element.dom.click()},buttonBehaviours:W([mr.self(),qm(o.getOr([])),xt.config({}),zs.button(()=>t.checkUiComponentContext(e.context).shouldDisable),to(()=>t.checkUiComponentContext(e.context))])}),g={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:W([ge.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),to(()=>t.checkUiComponentContext(e.context)),He.config({toggleClass:"dragenter",toggleOnExecute:!1}),Te("dropzone-events",[z("dragenter",s([n,He.toggle])),z("dragleave",s([n,He.toggle])),z("dragover",n),z("drop",s([n,r])),z(yl(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[At(t.translate("Drop an image here"))]},m]}]};return pd(u,g,["tox-form__group--stretched"],[Te("handle-files",[z(f0,(p,b)=>{Ue.getField(p).each(y=>{c(y,b.event.files)})})])])},rV=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:J(e.items,t.interpreter)}),aV=(e,t)=>{let o=null,n=null;return{cancel:()=>{En(o)||(clearTimeout(o),o=null,n=null)},throttle:(...a)=>{n=a,En(o)&&(o=setTimeout(()=>{const c=n;o=null,n=null,e.apply(null,c)},t))}}},cV=(e,t)=>{let o=null;return{cancel:()=>{En(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{En(o)&&(o=setTimeout(()=>{o=null,e.apply(null,r)},t))}}},v0=(e,t)=>{let o=null;const n=()=>{En(o)||(clearTimeout(o),o=null)};return{cancel:n,throttle:(...r)=>{n(),o=setTimeout(()=>{o=null,e.apply(null,r)},t)}}},b0=se("alloy-fake-before-tabstop"),y0=se("alloy-fake-after-tabstop"),KS=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:W([be.config({ignore:!0}),xt.config({})])}),JS=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[KS([b0]),t,KS([y0])],behaviours:W([mr.childAt(1)])}),QS=(e,t)=>{me(e,Fr(),{raw:{which:9,shiftKey:t}})},iV=(e,t)=>{const o=t.element;In(o,b0)?QS(e,!0):In(o,y0)&&QS(e,!1)},xd=e=>hd(e,["."+b0,"."+y0].join(","),rt),Km=se("update-dialog"),e5=se("update-title"),t5=se("update-body"),o5=se("update-footer"),n5=se("body-send-message"),Jm=se("dialog-focus-shifted"),x0=un().browser,Sd=x0.isSafari(),lV=x0.isFirefox(),s5=Sd||lV,uV=x0.isChromium(),dV=({scrollTop:e,scrollHeight:t,clientHeight:o})=>Math.ceil(e)+o>=t,r5=(e,t)=>e.scrollTo(0,t==="bottom"?99999999:t),mV=(e,t)=>{const o=e.body;return d.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!uV&&!Sd||_t(o)&&(o.scrollTop!==0||Math.abs(o.scrollHeight-o.clientHeight)>1))?o:e.documentElement)},a5=(e,t,o)=>{const n=e.dom;d.from(n.contentDocument).fold(o,s=>{let r=0;const a=mV(s,t).map(i=>(r=i.scrollTop,i)).forall(dV),c=()=>{const i=n.contentWindow;_t(i)&&(a?r5(i,"bottom"):!a&&s5&&r!==0&&r5(i,r))};Sd&&n.addEventListener("load",c,{once:!0}),s.open(),s.write(t),s.close(),Sd||c()})},hV=zo(s5,Sd?500:200).map(e=>aV(a5,e)),gV=(e,t)=>{const o=ue(e.getOr(""));return{getValue:n=>o.get(),setValue:(n,s)=>{if(o.get()!==s){const r=n.element,a=()=>Q(r,"srcdoc",s);t?hV.fold(H(a5),c=>c.throttle)(r,s,a):a()}o.set(s)}}},pV=(e,t,o)=>{const n="tox-dialog__iframe",s=e.transparent?[]:[`${n}--opaque`],r=e.border?["tox-navobj-bordered"]:[],a={...e.label.map(g=>({title:g})).getOr({}),...o.map(g=>({srcdoc:g})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},c=gV(o,e.streamContent),i=e.label.map(g=>Lc(g,t)),u=g=>JS(d.from(r),{uid:g.uid,dom:{tag:"iframe",attributes:a,classes:[n,...s]},behaviours:W([xt.config({}),be.config({}),Ui(o,c.getValue,c.setValue),jn.config({channels:{[Jm]:{onReceive:(p,b)=>{b.newFocus.each(y=>{Un(p.element).each(x=>{(nt(p.element,y)?ro:Yt)(x,"tox-navobj-bordered-focus")})})}}}})])}),m=Ue.parts.field({factory:{sketch:u}});return pd(i,m,["tox-form__group--stretched"],[])},fV=e=>new Promise((t,o)=>{const n=()=>{r(),t(e)},s=[Tn(e,"load",n),Tn(e,"error",()=>{r(),o("Unable to load data from image: "+e.dom.src)})],r=()=>le(s,a=>a.unbind());e.dom.complete&&n()}),vV=(e,t,o,n,s)=>{const r=o*s,a=n*s,c=Math.max(0,e/2-r/2),i=Math.max(0,t/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}},bV=(e,t,o)=>{const n=ln(e),s=mo(e);return Math.min(n/t,s/o,1)},yV=(e,t)=>{const o=ue(t.getOr({url:""})),n=Qe({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map(i=>({src:i.url})).getOr({})}}),s=Qe({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[n.asSpec()]}),r=(i,u)=>{const m={url:u.url};u.zoom.each(p=>m.zoom=p),u.cachedWidth.each(p=>m.cachedWidth=p),u.cachedHeight.each(p=>m.cachedHeight=p),o.set(m);const g=()=>{const{cachedWidth:p,cachedHeight:b,zoom:y}=m;if(!sn(p)&&!sn(b)){if(sn(y)){const D=bV(i.element,p,b);m.zoom=D}const x=vV(ln(i.element),mo(i.element),p,b,m.zoom);s.getOpt(i).each(D=>{Ds(D.element,x)})}};n.getOpt(i).each(p=>{const b=p.element;u.url!==De(b,"src")&&(Q(b,"src",u.url),Yt(i.element,"tox-imagepreview__loaded")),g(),fV(b).then(y=>{i.getSystem().isConnected()&&(ro(i.element,"tox-imagepreview__loaded"),m.cachedWidth=y.dom.naturalWidth,m.cachedHeight=y.dom.naturalHeight,g())})})},a={};e.height.each(i=>a.height=i);const c=t.map(i=>({url:i.url,zoom:d.from(i.zoom),cachedWidth:d.from(i.cachedWidth),cachedHeight:d.from(i.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:W([mr.self(),Ui(c,()=>o.get(),r)])}},xV=(e,t,o)=>{const n="tox-label",s=e.align==="center"?[`${n}--center`]:[],r=e.align==="end"?[`${n}--end`]:[],a=Qe({dom:{tag:"label",classes:[n,...s,...r]},components:[At(t.providers.translate(e.label))]}),c=J(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a.asSpec(),...c],behaviours:W([mr.self(),we.config({}),KI(d.none()),ce.config({mode:"acyclic"}),Te("label",[Ct(i=>{e.for.each(u=>{o(u).each(m=>{a.getOpt(i).each(g=>{var p;const b=(p=De(m.element,"id"))!==null&&p!==void 0?p:se("form-field");Q(m.element,"id",b),Q(g.element,"for",b)})})})})])])}},c5=se("toolbar.button.execute"),SV=e=>Va((t,o)=>{Am(e,t)(n=>{me(t,c5,{buttonApi:n}),e.onAction(n)})}),Bc=se("common-button-display-events"),i5={[hs()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ir()]:["toolbar-button-events",Bc],[ua()]:["toolbar-button-events","dropdown-events","tooltipping"],[ms()]:["focusing","alloy.base.behaviour",Bc]},S0=e=>Me(e.element,"width",Fo(e.element,"width")),l5=(e,t,o)=>Ps(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},t),w0=(e,t)=>l5(e,t,[]),Pc=(e,t)=>l5(e,t,[we.config({})]),u5=(e,t,o)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[At(o.translate(e))],behaviours:W([we.config({})])}),Zs=se("update-menu-text"),Wi=se("update-menu-icon"),C0=(e,t,o,n)=>{const s=ue(j),r=e.text.map(x=>Qe(u5(x,t,o.providers))),a=e.icon.map(x=>Qe(Pc(x,o.providers.icons))),c=(x,D)=>{const S=ee.getValue(x);return be.focus(S),me(S,"keydown",{raw:D.event.raw}),vs.close(S),d.some(!0)},i=e.role.fold(()=>({}),x=>({role:x})),u=d.from(e.listRole).map(x=>({listRole:x})).getOr({}),m=e.ariaLabel.fold(()=>({}),x=>({"aria-label":o.providers.translate(x)})),g=Ps("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},o.providers.icons),p=se("common-button-display-events"),b="dropdown-events";return Qe(vs.sketch({...e.uid?{uid:e.uid}:{},...i,...u,dom:{tag:"button",classes:[t,`${t}--select`].concat(J(e.classes,x=>`${t}--${x}`)),attributes:{...m,..._t(n)?{"data-mce-name":n}:{}}},components:zl([a.map(x=>x.asSpec()),r.map(x=>x.asSpec()),d.some(g)]),matchWidth:!0,useMinWidth:!0,onOpen:(x,D,S)=>{e.searchable&&RL(S)},dropdownBehaviours:W([...e.dropdownBehaviours,zs.button(()=>e.disabled||o.providers.checkUiComponentContext(e.context).shouldDisable),to(()=>o.providers.checkUiComponentContext(e.context)),bd.config({}),we.config({}),...e.tooltip.map(x=>Ft.config(o.providers.tooltips.getConfig({tooltipText:o.providers.translate(x)}))).toArray(),Te(b,[zr(e,s),Zr(e,s)]),Te(p,[Ct((x,D)=>{e.listRole!=="listbox"&&S0(x)})]),Te("update-dropdown-width-variable",[z(Hu(),(x,D)=>vs.close(x))]),Te("menubutton-update-display-text",[z(Zs,(x,D)=>{r.bind(S=>S.getOpt(x)).each(S=>{we.set(S,[At(o.providers.translate(D.event.text))])})}),z(Wi,(x,D)=>{a.bind(S=>S.getOpt(x)).each(S=>{we.set(S,[Pc(D.event.icon,o.providers.icons)])})})])]),eventOrder:Rt(i5,{[ms()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ir()]:["toolbar-button-events",Ft.name(),b,p]}),sandboxBehaviours:W([ce.config({mode:"special",onLeft:c,onRight:c}),Te("dropdown-sandbox-events",[z(Py,(x,D)=>{FL(x),D.stop()}),z(Ry,(x,D)=>{IL(x,D),D.stop()})])]),lazySink:o.getSink,toggleClass:`${t}--active`,parts:{menu:{...wm(!1,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:Jx,onCollapseMenu:(x,D,S)=>{et.getHighlighted(S).each(k=>{Jx(x,S,k)})},onDehighlightItem:PL}}},getAnchorOverrides:()=>({maxHeightFunction:(x,D)=>{yb()(x,D-10)}}),fetch:x=>Xo.nu(Ut(e.fetch,x))})).asSpec()},wV=e=>_(e),d5=e=>e.type==="separator",CV=e=>Xe(e,"getSubmenuItems"),TV={type:"separator"},MV=(e,t)=>{const o=io(e,(n,s)=>wV(s)?s===""?n:s==="|"?n.length>0&&!d5(n[n.length-1])?n.concat([TV]):n:Xe(t,s.toLowerCase())?n.concat([t[s.toLowerCase()]]):n:n.concat([s]),[]);return o.length>0&&d5(o[o.length-1])&&o.pop(),o},kV=(e,t)=>{const o=e.getSubmenuItems(),n=m5(o,t),s=Rt(n.menus,{[e.value]:n.items}),r=Rt(n.expansions,{[e.value]:e.value});return{item:e,menus:s,expansions:r}},OV=e=>{const t=pe(e,"value").getOrThunk(()=>se("generated-menu-item"));return Rt({value:t},e)},m5=(e,t)=>{const o=MV(_(e)?e.split(" "):e,t);return Wt(o,(n,s)=>{if(CV(s)){const r=OV(s),a=kV(r,t);return{menus:Rt(n.menus,a.menus),items:[a.item,...n.items],expansions:Rt(n.expansions,a.expansions)}}else return{...n,items:[s,...n.items]}},{menus:{},expansions:{},items:[]})},_V=e=>e.search.fold(()=>({searchMode:"no-search"}),t=>({searchMode:"search-with-field",placeholder:t.placeholder})),AV=e=>e.search.fold(()=>({searchMode:"no-search"}),t=>({searchMode:"search-with-results"})),Gl=(e,t,o,n)=>{const s=se("primary-menu"),r=m5(e,o.shared.providers.menuItems());if(r.items.length===0)return d.none();const a=_V(n),c=Qx(s,r.items,t,o,n.isHorizontalMenu,a),i=AV(n),u=Dt(r.menus,(g,p)=>Qx(p,g,t,o,!1,i)),m=Rt(u,hi(s,c));return d.from(Di.tieredData(s,m,r.expansions))},Qm=e=>!Xe(e,"items"),h5="data-value",g5=(e,t,o,n,s)=>J(o,r=>Qm(r)?{type:"togglemenuitem",...s?{}:{role:"option"},text:r.text,value:r.value,active:r.value===n,onAction:()=>{ee.setValue(e,r.value),me(e,Vn,{name:t}),be.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>g5(e,t,r.items,n,s)}),T0=(e,t)=>Ho(e,o=>Qm(o)?zo(o.value===t,o):T0(o.items,t)),EV=(e,t,o)=>{const n=yo(e.items,u=>!Qm(u)),s=t.shared.providers,r=o.bind(u=>T0(e.items,u)).orThunk(()=>an(e.items).filter(Qm)),a=e.label.map(u=>Lc(u,s)),c=Ue.parts.field({dom:{},factory:{sketch:u=>C0({context:e.context,uid:u.uid,text:r.map(m=>m.text),icon:d.none(),tooltip:d.none(),role:zo(!n,"combobox"),...n?{}:{listRole:"listbox"},ariaLabel:e.label,fetch:(m,g)=>{const p=g5(m,e.name,e.items,ee.getValue(m),n);g(Gl(p,Rr.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:d.none()}))},onSetup:H(j),getApi:H({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[xt.config({}),Ui(r.map(m=>m.value),m=>De(m.element,h5),(m,g)=>{T0(e.items,g).each(p=>{Q(m.element,h5,p.value),me(m,Zs,{text:p.text})})})]},"tox-listbox",t.shared)}}),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[c]};return Ue.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([a.toArray(),[i]]),fieldBehaviours:W([ge.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:u=>{Ue.getField(u).each(ge.disable)},onEnabled:u=>{Ue.getField(u).each(ge.enable)}})])})},DV=(e,t)=>({dom:{tag:"div",classes:e.classes},components:J(e.items,t.shared.interpreter)}),HV=(e,t)=>{const o=J(e.options,s=>({dom:{tag:"option",value:s.value,innerHtml:s.text}})),n=e.data.map(s=>hi("initialValue",s)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:o,behaviours:Vo(e.selectBehaviours,[be.config({}),ee.config({store:{mode:"manual",getValue:s=>Ba(s.element),setValue:(s,r)=>{const a=an(e.options);vt(e.options,i=>i.value===r).isSome()?Ti(s.element,r):s.element.dom.selectedIndex===-1&&r===""&&a.each(i=>Ti(s.element,i.value))},...n}})])}},LV=fs({name:"HtmlSelect",configFields:[$("options"),_o("selectBehaviours",[be,ee]),F("selectClasses",[]),F("selectAttributes",{}),Je("data")],factory:HV}),FV=(e,t,o)=>{const n=J(e.items,i=>({text:t.translate(i.text),value:i.value})),s=e.label.map(i=>Lc(i,t)),r=Ue.parts.field({dom:{},...o.map(i=>({data:i})).getOr({}),selectAttributes:{size:e.size},options:n,factory:LV,selectBehaviours:W([ge.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),xt.config({}),Te("selectbox-change",[z(yl(),(i,u)=>{me(i,Vn,{name:e.name})})])])}),a=e.size>1?d.none():d.some(Ps("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),c={dom:{tag:"div",classes:["tox-selectfield"]},components:Xt([[r],a.toArray()])};return Ue.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([s.toArray(),[c]]),fieldBehaviours:W([ge.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:i=>{Ue.getField(i).each(ge.disable)},onEnabled:i=>{Ue.getField(i).each(ge.enable)}}),to(()=>t.checkUiComponentContext(e.context))])})},IV=H([F("field1Name","field1"),F("field2Name","field2"),wi("onLockedChange"),Si(["lockClass"]),F("locked",!1),rr.field("coupledFieldBehaviours",[Ne,ee]),yt("onInput",j)]),VV=(e,t,o)=>gt(e,t,o).bind(Ne.getCurrent),p5=(e,t)=>on({factory:Ue,name:e,overrides:o=>({fieldBehaviours:W([Te("coupled-input-behaviour",[z(Ia(),n=>{VV(n,o,t).each(s=>{gt(n,o,"lock").each(r=>{He.isOn(r)&&o.onLockedChange(n,s,r),o.onInput(n)})})})])])})}),BV=H([p5("field1","field2"),p5("field2","field1"),on({factory:Bo,schema:[$("dom")],name:"lock",overrides:e=>({buttonBehaviours:W([He.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),PV=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:rr.augment(e.coupledFieldBehaviours,[Ne.config({find:d.some}),ee.config({store:{mode:"manual",getValue:s=>{const r=Ep(s,e,["field1","field2"]);return{[e.field1Name]:ee.getValue(r.field1()),[e.field2Name]:ee.getValue(r.field2())}},setValue:(s,r)=>{const a=Ep(s,e,["field1","field2"]);Ko(r,e.field1Name)&&ee.setValue(a.field1(),r[e.field1Name]),Ko(r,e.field2Name)&&ee.setValue(a.field2(),r[e.field2Name])}}})]),apis:{getField1:s=>gt(s,e,"field1"),getField2:s=>gt(s,e,"field2"),getLock:s=>gt(s,e,"lock")}}),bs=mn({name:"FormCoupledInputs",configFields:IV(),partFields:BV(),factory:PV,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),RV=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=s=>s in t?t[s]:1;let n=e.value.toFixed(o(e.unit));return n.indexOf(".")!==-1&&(n=n.replace(/\.?0*$/,"")),n+e.unit},M0=e=>{const o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(o!==null){const n=parseFloat(o[1]),s=o[2];return Ve.value({value:n,unit:s})}else return Ve.error(e)},f5=(e,t)=>{const o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},n=s=>Xe(o,s);return e.unit===t?d.some(e.value):n(e.unit)&&n(t)?o[e.unit]===o[t]?d.some(e.value):d.some(e.value/o[e.unit]*o[t]):d.none()},k0=e=>d.none(),zV=(e,t)=>o=>f5(o,t).map(n=>({value:n*e,unit:t})),ZV=(e,t)=>{const o=M0(e).toOptional(),n=M0(t).toOptional();return Gs(o,n,(s,r)=>f5(s,r.unit).map(a=>r.value/a).map(a=>zV(a,r.unit)).getOr(k0)).getOr(k0)},v5=(e,t)=>{let o=k0;const n=se("ratio-event"),s=S=>Ps(S,{tag:"span",classes:["tox-icon","tox-lock-icon__"+S]},t.icons),r=()=>!e.enabled||e.context.exists(S=>t.checkUiComponentContext(S).shouldDisable),a=e.context.map(S=>to(()=>t.checkUiComponentContext(S))),c=e.label.getOr("Constrain proportions"),i=t.translate(c),u=bs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":i,"data-mce-name":c}},components:[s("lock"),s("unlock")],buttonBehaviours:W([ge.config({disabled:r}),...a.toArray(),xt.config({}),Ft.config(t.tooltips.getConfig({tooltipText:i}))])}),m=S=>({dom:{tag:"div",classes:[e.inDialog?"tox-form__group":"tox-context-form__group"]},components:S}),g=S=>Ue.parts.field({factory:Dc,inputClasses:e.inDialog?["tox-textfield"]:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:S?e.width:e.height,inputBehaviours:W([ge.config({disabled:r}),...a.toArray(),xt.config({}),Te("size-input-events",[z(Lr(),(k,A)=>{me(k,n,{isField1:S})}),z(yl(),(k,A)=>{e.name.each(I=>me(k,Vn,{name:I}))})]),...e.onEnter.map(k=>ce.config({mode:"special",onEnter:k})).toArray()]),selectOnFocus:!1}),p=S=>({dom:{tag:"label",classes:["tox-label"]},components:[At(t.translate(S))]}),b=bs.parts.field1(m([Ue.parts.label(p("Width")),g(!0)])),y=bs.parts.field2(m([Ue.parts.label(p("Height")),g(!1)])),x=ue(j),D=Gs(e.onSetup,e.getApi,(S,k)=>[zr({onSetup:S,getApi:k},x),Zr({getApi:k},x)]).getOr([]);return bs.sketch({dom:{tag:"div",classes:[e.inDialog?"tox-form__group":"tox-context-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[b,y,m([p(uk),u])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(S,k,A)=>{M0(ee.getValue(S)).each(I=>{o(I).each(V=>{ee.setValue(k,RV(V))})})},onInput:S=>Re(S,iS),coupledFieldBehaviours:W([ge.config({disabled:r,onDisabled:S=>{bs.getField1(S).bind(Ue.getField).each(ge.disable),bs.getField2(S).bind(Ue.getField).each(ge.disable),bs.getLock(S).each(ge.disable)},onEnabled:S=>{bs.getField1(S).bind(Ue.getField).each(ge.enable),bs.getField2(S).bind(Ue.getField).each(ge.enable),bs.getLock(S).each(ge.enable)}}),to(()=>t.checkUiComponentContext("mode:design")),Te("size-input-events",[z(n,(S,k)=>{const A=k.event.isField1,I=A?bs.getField1(S):bs.getField2(S),V=A?bs.getField2(S):bs.getField1(S),G=I.map(ee.getValue).getOr(""),te=V.map(ee.getValue).getOr("");o=ZV(G,te)}),z(iS,S=>{e.onInput.each(k=>k(S))}),...D])])})},$V=(e,t)=>v5({inDialog:!0,label:e.label,enabled:e.enabled,context:d.some(e.context),name:d.some(e.name),width:"",height:"",onEnter:d.none(),onInput:d.none(),onSetup:d.none(),getApi:d.none()},t),NV=(e,t,o)=>{const n=dr.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[At(t.translate(e.label))]}),s=dr.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=dr.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return dr.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:H(o.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[n,s,r],sliderBehaviours:W([mr.self(),be.config({})]),onChoose:(a,c,i)=>{me(a,Vn,{name:e.name,value:i})},onChange:(a,c,i)=>{me(a,Vn,{name:e.name,value:i})}})},UV=(e,t)=>{const o=c=>({dom:{tag:"th",innerHtml:t.translate(c)}}),n=c=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:J(c,o)}]}),s=c=>({dom:{tag:"td",innerHtml:t.translate(c)}}),r=c=>({dom:{tag:"tr"},components:J(c,s)}),a=c=>({dom:{tag:"tbody"},components:J(c,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[n(e.header),a(e.cells)],behaviours:W([xt.config({}),be.config({})])}},b5=(e,t)=>{const o=e.label.map(b=>Lc(b,t)),n=[ge.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),to(()=>t.checkUiComponentContext(e.context)),ce.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:b=>(Re(b,vd),d.some(!0))}),Te("textfield-change",[z(Ia(),(b,y)=>{me(b,Vn,{name:e.name})}),z(bg(),(b,y)=>{me(b,Vn,{name:e.name})})]),xt.config({})],s=e.validation.map(b=>pa.config({getRoot:y=>Un(y.element),invalidClass:"tox-invalid",validator:{validate:y=>{const x=ee.getValue(y),D=b.validator(x);return Xo.pure(D===!0?Ve.value(x):Ve.error(D))},validateOnLoad:b.validateOnLoad}})).toArray(),r=e.placeholder.fold(H({}),b=>({placeholder:t.translate(b)})),a=e.inputMode.fold(H({}),b=>({inputmode:b})),c={...r,...a,"data-mce-name":e.name},i=Ue.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(b=>({data:b})).getOr({}),inputAttributes:c,inputClasses:[e.classname],inputBehaviours:W(Xt([n,s])),selectOnFocus:!1,factory:Dc}),u=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i,g=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),p=[ge.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:b=>{Ue.getField(b).each(ge.disable)},onEnabled:b=>{Ue.getField(b).each(ge.enable)}}),to(()=>t.checkUiComponentContext(e.context))];return pd(o,u,g,p)},WV=(e,t,o)=>b5({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:d.none(),maximized:e.maximized,data:o,context:e.context},t),GV=(e,t,o)=>b5({name:e.name,multiline:!0,label:e.label,inputMode:d.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:d.none(),maximized:e.maximized,data:o,context:e.context},t),wd=(e,t)=>t.getAnimationRoot.fold(()=>e.element,o=>o(e)),Ya=e=>e.dimension.property,Gi=(e,t)=>e.dimension.getDimension(t),eh=(e,t)=>{const o=wd(e,t);tr(o,[t.shrinkingClass,t.growingClass])},O0=(e,t)=>{Yt(e.element,t.openClass),ro(e.element,t.closedClass),Me(e.element,Ya(t),"0px"),nl(e.element)},_0=(e,t)=>{Yt(e.element,t.closedClass),ro(e.element,t.openClass),$e(e.element,Ya(t))},y5=(e,t,o,n)=>{o.setCollapsed(),Me(e.element,Ya(t),Gi(t,e.element)),eh(e,t),O0(e,t),t.onStartShrink(e),t.onShrunk(e)},jV=(e,t,o,n)=>{const s=n.getOrThunk(()=>Gi(t,e.element));o.setCollapsed(),Me(e.element,Ya(t),s),nl(e.element);const r=wd(e,t);Yt(r,t.growingClass),ro(r,t.shrinkingClass),O0(e,t),t.onStartShrink(e)},x5=(e,t,o)=>{const n=Gi(t,e.element);(n==="0px"?y5:jV)(e,t,o,d.some(n))},S5=(e,t,o)=>{const n=wd(e,t),s=In(n,t.shrinkingClass),r=Gi(t,e.element);_0(e,t);const a=Gi(t,e.element);(s?()=>{Me(e.element,Ya(t),r),nl(e.element)}:()=>{O0(e,t)})(),Yt(n,t.shrinkingClass),ro(n,t.growingClass),_0(e,t),Me(e.element,Ya(t),a),o.setExpanded(),t.onStartGrow(e)},YV=(e,t,o)=>{if(o.isExpanded()){$e(e.element,Ya(t));const n=Gi(t,e.element);Me(e.element,Ya(t),n)}},XV=(e,t,o)=>{o.isExpanded()||S5(e,t,o)},qV=(e,t,o)=>{o.isExpanded()&&x5(e,t,o)},KV=(e,t,o)=>{o.isExpanded()&&y5(e,t,o)},JV=(e,t,o)=>o.isExpanded(),QV=(e,t,o)=>o.isCollapsed(),w5=(e,t,o)=>{const n=wd(e,t);return In(n,t.growingClass)===!0},C5=(e,t,o)=>{const n=wd(e,t);return In(n,t.shrinkingClass)===!0};var eB=Object.freeze({__proto__:null,refresh:YV,grow:XV,shrink:qV,immediateShrink:KV,hasGrown:JV,hasShrunk:QV,isGrowing:w5,isShrinking:C5,isTransitioning:(e,t,o)=>w5(e,t)||C5(e,t),toggleGrow:(e,t,o)=>{(o.isExpanded()?x5:S5)(e,t,o)},disableTransitions:eh,immediateGrow:(e,t,o)=>{o.isExpanded()||(_0(e,t),Me(e.element,Ya(t),Gi(t,e.element)),eh(e,t),o.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),tB=Object.freeze({__proto__:null,exhibit:(e,t,o)=>{const n=t.expanded;return er(n?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:hi(t.dimension.property,"0px")})},events:(e,t)=>wt([Sl(_u(),(o,n)=>{n.event.raw.propertyName===e.dimension.property&&(eh(o,e),t.isExpanded()&&$e(o.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(o))})])}),oB=[$("closedClass"),$("openClass"),$("shrinkingClass"),$("growingClass"),Je("getAnimationRoot"),je("onShrunk"),je("onStartShrink"),je("onGrown"),je("onStartGrow"),F("expanded",!1),us("dimension",Fn("property",{width:[Mt("property","width"),Mt("getDimension",e=>ln(e)+"px")],height:[Mt("property","height"),Mt("getDimension",e=>mo(e)+"px")]}))],nB=Object.freeze({__proto__:null,init:e=>{const t=ue(e.expanded),o=()=>"expanded: "+t.get();return gs({isExpanded:()=>t.get()===!0,isCollapsed:()=>t.get()===!1,setCollapsed:Ut(t.set,!1),setExpanded:Ut(t.set,!0),readState:o})}});const Bn=Io({fields:oB,name:"sliding",active:tB,apis:eB,state:nB}),T5=e=>({isEnabled:()=>!ge.isDisabled(e),setEnabled:t=>ge.set(e,!t),setActive:t=>{const o=e.element;t?(ro(o,"tox-tbtn--enabled"),Q(o,"aria-pressed",!0)):(Yt(o,"tox-tbtn--enabled"),ht(o,"aria-pressed"))},isActive:()=>In(e.element,"tox-tbtn--enabled"),setText:t=>{me(e,Zs,{text:t})},setIcon:t=>me(e,Wi,{icon:t})}),Cd=(e,t,o,n,s=!0,r)=>C0({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:n,fetch:(a,c)=>{const i={pattern:e.search.isSome()?zL(a):""};e.fetch(u=>{c(Gl(u,Rr.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:e.search}))},i,T5(a))},onSetup:e.onSetup,getApi:T5,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...s?[xt.config({})]:[]],context:e.context},t,o.shared,r),sB=(e,t,o)=>{const n=r=>a=>{const c=!a.isActive();a.setActive(c),r.storage.set(c),o.shared.getSink().each(i=>{t().getOpt(i).each(u=>{Yn(u.element),me(u,ga,{name:r.name,value:r.storage.get()})})})},s=r=>a=>{a.setActive(r.storage.get())};return r=>{r(J(e,a=>{const c=a.text.fold(()=>({}),i=>({text:i}));return{type:a.type,active:!1,...c,context:a.context,onAction:n(a),onSetup:s(a)}}))}},M5=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[At(e)]}),k5=(e,t,o)=>{e.customStateIcon.each(n=>t.push(_5(n,o.shared.providers.icons,e.customStateIconTooltip.fold(()=>[],s=>[Ft.config(o.shared.providers.tooltips.getConfig({tooltipText:s}))]),["tox-icon-custom-state"])))},O5=se("leaf-label-event-id"),A0=({leaf:e,onLeafAction:t,visible:o,treeId:n,selectedId:s,backstage:r})=>{const a=e.menu.map(i=>Cd(i,"tox-mbtn",r,d.none(),o)),c=[M5(e.title)];return k5(e,c,r),a.each(i=>c.push(i)),Bo.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(o?["tox-tree--leaf__label--visible"]:[])},components:c,role:"treeitem",action:i=>{t(e.id),i.getSystem().broadcastOn([`update-active-item-${n}`],{value:e.id})},eventOrder:{[Fr()]:[O5,"keying"]},buttonBehaviours:W([...o?[xt.config({})]:[],He.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),jn.config({channels:{[`update-active-item-${n}`]:{onReceive:(i,u)=>{(u.value===e.id?He.on:He.off)(i)}}}}),Te(O5,[Ct((i,u)=>{s.each(m=>{(m===e.id?He.on:He.off)(i)})}),z(Fr(),(i,u)=>{const m=u.event.raw.code==="ArrowLeft",g=u.event.raw.code==="ArrowRight";m?(Pa(i.element,".tox-tree--directory").each(p=>{i.getSystem().getByDom(p).each(b=>{Yg(p,".tox-tree--directory__label").each(y=>{b.getSystem().getByDom(y).each(be.focus)})})}),u.stop()):g&&u.stop()})])])})},_5=(e,t,o,n,s)=>Ps(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(n||[]),behaviours:o,attributes:s},t),rB=(e,t)=>_5(e,t,[]),A5=se("directory-label-event-id"),aB=({directory:e,visible:t,noChildren:o,backstage:n})=>{const s=e.menu.map(c=>Cd(c,"tox-mbtn",n,d.none())),r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[rB("chevron-right",n.shared.providers.icons)]},M5(e.title)];k5(e,r,n),s.each(c=>{r.push(c)});const a=c=>{Pa(c.element,".tox-tree--directory").each(i=>{c.getSystem().getByDom(i).each(u=>{const m=!He.isOn(u);He.toggle(u),me(c,"expand-tree-node",{expanded:m,node:e.id})})})};return Bo.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[Fr()]:[A5,"keying"]},buttonBehaviours:W([...t?[xt.config({})]:[],Te(A5,[z(Fr(),(c,i)=>{const u=i.event.raw.code==="ArrowRight",m=i.event.raw.code==="ArrowLeft";u&&o&&i.stop(),(u||m)&&Pa(c.element,".tox-tree--directory").each(g=>{c.getSystem().getByDom(g).each(p=>{!He.isOn(p)&&u||He.isOn(p)&&m?(a(c),i.stop()):m&&!He.isOn(p)&&(Pa(p.element,".tox-tree--directory").each(b=>{Yg(b,".tox-tree--directory__label").each(y=>{p.getSystem().getByDom(y).each(be.focus)})}),i.stop())})})})])])})},cB=({children:e,onLeafAction:t,visible:o,treeId:n,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(c=>c.type==="leaf"?A0({leaf:c,selectedId:r,onLeafAction:t,visible:o,treeId:n,backstage:a}):E0({directory:c,expandedIds:s,selectedId:r,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:a})),behaviours:W([Bn.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:o}),we.config({})])}),iB=se("directory-event-id"),E0=({directory:e,onLeafAction:t,labelTabstopping:o,treeId:n,backstage:s,expandedIds:r,selectedId:a})=>{const{children:c}=e,i=ue(r),u=g=>c.map(p=>p.type==="leaf"?A0({leaf:p,selectedId:a,onLeafAction:t,visible:g,treeId:n,backstage:s}):E0({directory:p,expandedIds:i.get(),selectedId:a,onLeafAction:t,labelTabstopping:g,treeId:n,backstage:s})),m=r.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[aB({directory:e,visible:o,noChildren:e.children.length===0,backstage:s}),cB({children:c,expandedIds:r,selectedId:a,onLeafAction:t,visible:m,treeId:n,backstage:s})],behaviours:W([Te(iB,[Ct((g,p)=>{He.set(g,m)}),z("expand-tree-node",(g,p)=>{const{expanded:b,node:y}=p.event;i.set(b?[...i.get(),y]:i.get().filter(x=>x!==y))})]),He.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(g,p)=>{const b=g.components()[1],y=u(p);p?Bn.grow(b):Bn.shrink(b),we.set(b,y)}})])}},lB=se("tree-event-id"),uB=(e,t)=>{const o=e.onLeafAction.getOr(j),n=e.onToggleExpand.getOr(j),s=e.defaultExpandedIds,r=ue(s),a=ue(e.defaultSelectedId),c=se("tree-id"),i=(u,m)=>e.items.map(g=>g.type==="leaf"?A0({leaf:g,selectedId:u,onLeafAction:o,visible:!0,treeId:c,backstage:t}):E0({directory:g,selectedId:u,onLeafAction:o,expandedIds:m,labelTabstopping:!0,treeId:c,backstage:t}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(a.get(),r.get()),behaviours:W([ce.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Te(lB,[z("expand-tree-node",(u,m)=>{const{expanded:g,node:p}=m.event;r.set(g?[...r.get(),p]:r.get().filter(b=>b!==p)),n(r.get(),{expanded:g,node:p})})]),jn.config({channels:{[`update-active-item-${c}`]:{onReceive:(u,m)=>{a.set(d.some(m.value)),we.set(u,i(d.some(m.value),r.get()))}}}}),we.config({})])}};var dB=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.stream.streams.setup(e,t);return wt([z(e.event,n),da(()=>t.cancel())].concat(e.cancelEvent.map(s=>[z(s,()=>t.cancel())]).getOr([])))}});const E5=e=>{const t=ue(null);return gs({readState:()=>({timer:t.get()!==null?"set":"unset"}),setTimer:r=>{t.set(r)},cancel:()=>{const r=t.get();r!==null&&r.cancel()}})};var mB=Object.freeze({__proto__:null,throttle:E5,init:e=>e.stream.streams.state(e)});const hB=(e,t)=>{const o=e.stream,n=v0(e.onStream,o.delay);return t.setTimer(n),(s,r)=>{n.throttle(s,r),o.stopEvent&&r.stop()}};var gB=[us("stream",Fn("mode",{throttle:[$("delay"),F("stopEvent",!0),Mt("streams",{setup:hB,state:E5})]})),F("event","input"),Je("cancelEvent"),wi("onStream")];const D0=Io({fields:gB,name:"streaming",active:dB,state:mB}),th=(e,t,o)=>{const n=ee.getValue(o);ee.setValue(t,n),H5(t)},D5=(e,t)=>{const o=e.element,n=Ba(o),s=o.dom;De(o,"type")!=="number"&&t(s,n)},H5=e=>{D5(e,(t,o)=>t.setSelectionRange(o.length,o.length))},pB=(e,t)=>{D5(e,(o,n)=>o.setSelectionRange(t,n.length))},fB=(e,t,o)=>{if(e.selectsOver){const n=ee.getValue(t),s=e.getDisplayText(n),r=ee.getValue(o);return e.getDisplayText(r).indexOf(s)===0?d.some(()=>{th(e,t,o),pB(t,s.length)}):d.none()}else return d.none()},H0=H("alloy.typeahead.itemexecute"),vB=(e,t,o,n)=>{const s=(g,p,b)=>{e.previewing.set(!1);const y=Nt.getCoupled(g,"sandbox");if(Ye.isOpen(y))Ne.getCurrent(y).each(x=>{et.getHighlighted(x).fold(()=>{b(x)},()=>{mv(y,x.element,"keydown",p)})});else{const x=D=>{Ne.getCurrent(D).each(b)};Im(e,a(g),g,y,n,x,kn.HighlightMenuAndItem).get(j)}},r=Vy(e),a=g=>p=>p.map(b=>{const y=Ta(b.menus),x=Ie(y,S=>it(S.items,k=>k.type==="item"));return ee.getState(g).update(J(x,S=>S.data)),b}),c=g=>Ne.getCurrent(g),i="typeaheadevents",u=[be.config({}),ee.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:g=>Ba(g.element),getFallbackEntry:g=>({value:g,meta:{}}),setValue:(g,p)=>{Ti(g.element,e.model.getDisplayText(p))},...e.initialData.map(g=>hi("initialValue",g)).getOr({})}}),D0.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(g,p)=>{const b=Nt.getCoupled(g,"sandbox");if(be.isFocused(g)&&Ba(g.element).length>=e.minChars){const x=c(b).bind(S=>et.getHighlighted(S).map(ee.getValue));e.previewing.set(!0);const D=S=>{c(b).each(k=>{x.fold(()=>{e.model.selectsOver&&et.highlightFirst(k)},A=>{et.highlightBy(k,I=>ee.getValue(I).value===A.value),et.getHighlighted(k).orThunk(()=>(et.highlightFirst(k),d.none()))})})};Im(e,a(g),g,b,n,D,kn.HighlightJustMenu).get(j)}},cancelEvent:yg()}),ce.config({mode:"special",onDown:(g,p)=>(s(g,p,et.highlightFirst),d.some(!0)),onEscape:g=>{const p=Nt.getCoupled(g,"sandbox");return Ye.isOpen(p)?(Ye.close(p),d.some(!0)):d.none()},onUp:(g,p)=>(s(g,p,et.highlightLast),d.some(!0)),onEnter:g=>{const p=Nt.getCoupled(g,"sandbox"),b=Ye.isOpen(p);if(b&&!e.previewing.get())return c(p).bind(y=>et.getHighlighted(y)).map(y=>(me(g,H0(),{item:y}),!0));{const y=ee.getValue(g);return Re(g,yg()),e.onExecute(p,g,y),b&&Ye.close(p),d.some(!0)}}}),He.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Nt.config({others:{sandbox:g=>qf(e,g,{onOpen:()=>He.on(g),onClose:()=>{e.lazyTypeaheadComp.get().each(p=>ht(p.element,"aria-activedescendant")),He.off(g)}})}}),Te(i,[Ct(g=>{e.lazyTypeaheadComp.set(d.some(g))}),da(g=>{e.lazyTypeaheadComp.set(d.none())}),Va(g=>{const p=j;Xf(e,a(g),g,n,p,kn.HighlightMenuAndItem).get(j)}),z(H0(),(g,p)=>{const b=Nt.getCoupled(g,"sandbox");th(e.model,g,p.event.item),Re(g,yg()),e.onItemExecute(g,b,p.event.item,ee.getValue(g)),Ye.close(b),H5(g)})].concat(e.dismissOnBlur?[z(Au(),g=>{const p=Nt.getCoupled(g,"sandbox");dn(p.element).isNone()&&Ye.close(p)})]:[]))],m={[ua()]:[ee.name(),D0.name(),i],...e.eventOrder};return{uid:e.uid,dom:By(Rt(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...Vo(e.typeaheadBehaviours,u)},eventOrder:m}},bB=H([Je("lazySink"),$("fetch"),F("minChars",5),F("responseTime",1e3),je("onOpen"),F("getHotspot",d.some),F("getAnchorOverrides",H({})),F("layouts",d.none()),F("eventOrder",{}),fg("model",{},[F("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),F("selectsOver",!0),F("populateFromBrowse",!0)]),je("onSetValue"),Gn("onExecute"),je("onItemExecute"),F("inputClasses",[]),F("inputAttributes",{}),F("inputStyles",{}),F("matchWidth",!0),F("useMinWidth",!1),F("dismissOnBlur",!0),Si(["openClass"]),Je("initialData"),Je("listRole"),_o("typeaheadBehaviours",[be,ee,D0,ce,He,Nt]),Cn("lazyTypeaheadComp",()=>ue(d.none)),Cn("previewing",()=>ue(!0))].concat(Iy()).concat(Kf())),yB=H([ar({schema:[E1()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,o,n)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(s=>{fB(e.model,s,n).fold(()=>{e.model.selectsOver?(et.dehighlight(o,n),e.previewing.set(!0)):e.previewing.set(!1)},r=>{r(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(s=>{e.model.populateFromBrowse&&th(e.model,s,n),qe(n.element,"id").each(r=>Q(s.element,"aria-activedescendant",r))})},onExecute:(t,o)=>e.lazyTypeaheadComp.get().map(n=>(me(n,H0(),{item:o}),!0)),onHover:(t,o)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(n=>{e.model.populateFromBrowse&&th(e.model,n,o)})}})})]),xB=mn({name:"Typeahead",configFields:bB(),partFields:yB(),factory:vB}),hr=e=>({...e,toCached:()=>hr(e.toCached()),bindFuture:i=>hr(e.bind(u=>u.fold(m=>Xo.pure(Ve.error(m)),m=>i(m)))),bindResult:i=>hr(e.map(u=>u.bind(i))),mapResult:i=>hr(e.map(u=>u.map(i))),mapError:i=>hr(e.map(u=>u.mapError(i))),foldResult:(i,u)=>e.map(m=>m.fold(i,u)),withTimeout:(i,u)=>hr(Xo.nu(m=>{let g=!1;const p=setTimeout(()=>{g=!0,m(Ve.error(u()))},i);e.get(b=>{g||(clearTimeout(p),m(b))})}))}),L5=e=>hr(Xo.nu(e)),F5=e=>hr(Xo.pure(Ve.value(e))),SB={nu:L5,wrap:hr,pure:F5,value:F5,error:e=>hr(Xo.pure(Ve.error(e))),fromResult:e=>hr(Xo.pure(e)),fromFuture:e=>hr(e.map(Ve.value)),fromPromise:e=>L5(t=>{e.then(o=>{t(Ve.value(o))},o=>{t(Ve.error(o))})})},oh=(e,t,o=[],n,s,r,a)=>{const c=t.fold(()=>({}),m=>({action:m})),i={buttonBehaviours:W([zs.item(()=>!e.enabled||a.checkUiComponentContext(e.context).shouldDisable),to(()=>a.checkUiComponentContext(e.context)),xt.config({}),...r.map(m=>Ft.config(a.tooltips.getConfig({tooltipText:a.translate(m)}))).toArray(),Te("button press",[eC("click")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...c},u=Rt(i,{dom:n});return Rt(u,{components:s})},wB=(e,t,o,n=[],s)=>{const r=e.tooltip.map(u=>({"aria-label":o.translate(u)})).getOr({}),a={tag:"button",classes:["tox-tbtn"],attributes:{...r,"data-mce-name":s}},c=e.icon.map(u=>w0(u,o.icons)),i=zl([c]);return oh(e,t,n,a,i,e.tooltip,o)},L0=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},I5=(e,t,o,n=[],s=[])=>{const r=o.translate(e.text),a=e.icon.map(b=>w0(b,o.icons)),c=[a.getOrThunk(()=>At(r))],i=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary"),g={tag:"button",classes:[...L0(i),...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...s],attributes:{"aria-label":r,"data-mce-name":e.text}},p=e.icon.map(H(r));return oh(e,t,n,g,c,p,o)},V5=(e,t,o,n=[],s=[])=>{const r=I5(e,d.some(t),o,n,s);return Bo.sketch(r)},B5=(e,t)=>o=>{t==="custom"?me(o,ga,{name:e,value:{}}):t==="submit"?Re(o,vd):t==="cancel"?Re(o,Fc):console.error("Unknown button type: ",t)},CB=(e,t)=>t==="menu",TB=(e,t)=>t==="custom"||t==="cancel"||t==="submit",MB=(e,t)=>t==="togglebutton",kB=(e,t,o)=>{var n,s;const r=e.icon.map(A=>Pc(A,t.icons)).map(Qe),a=A=>{me(A,ga,{name:e.name,value:{setIcon:I=>{r.map(V=>V.getOpt(A).each(G=>{we.set(G,[Pc(I,t.icons)])}))}}})},c=e.buttonType.getOr(e.primary?"primary":"secondary"),i={...e,name:(n=e.name)!==null&&n!==void 0?n:"",primary:c==="primary",tooltip:e.tooltip,enabled:(s=e.enabled)!==null&&s!==void 0?s:!1,borderless:!1},u=i.tooltip.or(e.text).map(A=>({"aria-label":t.translate(A)})).getOr({}),m=L0(c??"secondary"),g=e.icon.isSome()&&e.text.isSome(),p={tag:"button",classes:[...m.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...g?["tox-button--icon-and-text"]:[]],attributes:{...u,..._t(o)?{"data-mce-name":o}:{}}},b=[],y=t.translate(e.text.getOr("")),x=At(y),S=[...zl([r.map(A=>A.asSpec())]),...e.text.isSome()?[x]:[]],k=oh(i,d.some(a),b,p,S,e.tooltip,t);return Bo.sketch(k)},nh=(e,t,o)=>{if(CB(e,t)){const n=()=>a,s=e,r={...e,type:"menubutton",search:d.none(),onSetup:c=>(c.setEnabled(e.enabled),j),fetch:sB(s.items,n,o)},a=Qe(Cd(r,"tox-tbtn",o,d.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return a.asSpec()}else if(TB(e,t)){const n=B5(e.name,t),s={...e,context:t==="cancel"?"any":e.context,borderless:!1};return V5(s,n,o.shared.providers,[])}else{if(MB(e,t))return kB(e,o.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")}},OB=(e,t)=>{const o=B5(e.name,"custom");return dF(d.none(),Ue.parts.field({factory:Bo,...I5(e,d.some(o),t,[qm(""),mr.self()])}))},_B={type:"separator"},AB=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:j}),F0=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:j}),EB=e=>J(e,AB),DB=(e,t)=>it(t,o=>o.type===e),P5=(e,t)=>EB(DB(e,t)),HB=e=>P5("header",e.targets),LB=e=>P5("anchor",e.targets),FB=e=>d.from(e.anchorTop).map(t=>F0("<top>",t)).toArray(),IB=e=>d.from(e.anchorBottom).map(t=>F0("<bottom>",t)).toArray(),VB=e=>J(e,t=>F0(t,t)),BB=e=>io(e,(t,o)=>t.length===0||o.length===0?t.concat(o):t.concat(_B,o),[]),I0=(e,t)=>{const o=e.toLowerCase();return it(t,n=>{var s;const r=n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.text,a=(s=n.value)!==null&&s!==void 0?s:"";return To(r.toLowerCase(),o)||To(a.toLowerCase(),o)})},PB=(e,t,o)=>{var n,s;const r=ee.getValue(t),a=(s=(n=r==null?void 0:r.meta)===null||n===void 0?void 0:n.text)!==null&&s!==void 0?s:r.value;return o.getLinkInformation().fold(()=>[],i=>{const u=I0(a,VB(o.getHistory(e)));return e==="file"?BB([u,I0(a,HB(i)),I0(a,Xt([FB(i),LB(i),IB(i)]))]):u})},R5=se("aria-invalid"),RB=(e,t,o,n)=>{const s=t.shared.providers,r=k=>{const A=ee.getValue(k);o.addToHistory(A.value,e.filetype)},a={...n.map(k=>({initialData:k})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":R5,type:"url"},minChars:0,responseTime:0,fetch:k=>{const A=PB(e.filetype,k,o),I=Gl(A,Rr.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:d.none()});return Xo.pure(I)},getHotspot:k=>y.getOpt(k),onSetValue:(k,A)=>{k.hasConfigured(pa)&&pa.run(k).get(j)},typeaheadBehaviours:W([...o.getValidationHandler().map(k=>pa.config({getRoot:A=>Un(A.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(A,I)=>{m.getOpt(A).each(V=>{Q(V.element,"title",s.translate(I))})}},validator:{validate:A=>{const I=ee.getValue(A);return SB.nu(V=>{k({type:e.filetype,url:I.value},G=>{if(G.status==="invalid"){const te=Ve.error(G.message);V(te)}else{const te=Ve.value(G.message);V(te)}})})},validateOnLoad:!1}})).toArray(),ge.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable}),xt.config({}),Te("urlinput-events",[z(Ia(),k=>{const A=Ba(k.element),I=A.trim();I!==A&&Ti(k.element,I),e.filetype==="file"&&me(k,Vn,{name:e.name})}),z(yl(),k=>{me(k,Vn,{name:e.name}),r(k)}),z(bg(),k=>{me(k,Vn,{name:e.name}),r(k)})])]),eventOrder:{[Ia()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:k=>k.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:wm(!1,1,"normal")},onExecute:(k,A,I)=>{me(A,vd,{})},onItemExecute:(k,A,I,V)=>{r(k),me(k,Vn,{name:e.name})}},c=Ue.parts.field({...a,factory:xB}),i=e.label.map(k=>Lc(k,s)),m=Qe(((k,A,I=k,V=k)=>Ps(I,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+k],attributes:{title:s.translate(V),"aria-live":"polite",...A.fold(()=>({}),G=>({id:G}))}},s.icons))("invalid",d.some(R5),"warning")),g=Qe({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[m.asSpec()]}),p=o.getUrlPicker(e.filetype),b=se("browser.url.event"),y=Qe({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,g.asSpec()],behaviours:W([ge.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable})])}),x=Qe(V5({context:e.context,name:e.name,icon:d.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:d.none(),borderless:!0},k=>Re(k,b),s,[],["tox-browse-url"])),D=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xt([[y.asSpec()],p.map(()=>x.asSpec()).toArray()])}),S=k=>{Ne.getCurrent(k).each(A=>{const I=ee.getValue(A),V={fieldname:e.name,...I};p.each(G=>{G(V).get(te=>{ee.setValue(A,te),me(k,Vn,{name:e.name})})})})};return Ue.sketch({dom:hF(),components:i.toArray().concat([D()]),fieldBehaviours:W([ge.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:k=>{Ue.getField(k).each(ge.disable),x.getOpt(k).each(ge.disable)},onEnabled:k=>{Ue.getField(k).each(ge.enable),x.getOpt(k).each(ge.enable)}}),to(()=>s.checkUiComponentContext(e.context)),Te("url-input-events",[z(b,S)])])})},zB=(e,t)=>{const o=ky(e.icon,t.icons);return Nr.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:o},components:e.url?[Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:o,attributes:{title:t.translate(e.iconTooltip)}},action:n=>me(n,ga,{name:"alert-banner",value:e.url}),buttonBehaviours:W([Oy()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},ZB=(e,t)=>{e.dom.checked=t},$B=e=>e.dom.checked,NB=(e,t,o)=>{const n=i=>(i.element.dom.click(),d.some(!0)),s=Ue.parts.field({factory:{sketch:Ze},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:W([mr.self(),ge.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:i=>{Un(i.element).each(u=>ro(u,"tox-checkbox--disabled"))},onEnabled:i=>{Un(i.element).each(u=>Yt(u,"tox-checkbox--disabled"))}}),xt.config({}),be.config({}),XS(o,$B,ZB),ce.config({mode:"special",onEnter:n,onSpace:n,stopSpaceKeyup:!0}),Te("checkbox-events",[z(yl(),(i,u)=>{me(i,Vn,{name:e.name})})])])}),r=Ue.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[At(t.translate(e.label))],behaviours:W([bd.config({})])}),a=i=>Ps(i==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+i]},t.icons),c=Qe({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Ue.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:W([ge.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),to(()=>t.checkUiComponentContext(e.context))])})},UB=(e,t)=>{const o=["tox-form__group",...e.stretched?["tox-form__group--stretched"]:[]],n=Te("htmlpanel",[Ct(s=>{e.onInit(s.element.dom)})]);return e.presets==="presentation"?Nr.sketch({dom:{tag:"div",classes:o,innerHtml:e.html},containerBehaviours:W([Ft.config({...t.tooltips.getConfig({tooltipText:"",onShow:s=>{kt(s.element,"[data-mce-tooltip]:hover").orThunk(()=>dn(s.element)).each(r=>{qe(r,"data-mce-tooltip").each(a=>{Ft.setComponents(s,t.tooltips.getComponents({tooltipText:a}))})})}}),mode:"children-normal",anchor:s=>({type:"node",node:kt(s.element,"[data-mce-tooltip]:hover").orThunk(()=>dn(s.element).filter(r=>qe(r,"data-mce-tooltip").isSome())),root:s.element,layouts:{onLtr:H([fo,Oo,go,jo,po,Yo]),onRtl:H([fo,Oo,go,jo,po,Yo])},bubble:sr(0,-2,{})})}),n])}):Nr.sketch({dom:{tag:"div",classes:o,innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:W([xt.config({}),be.config({}),n])})},vo=e=>(t,o,n,s,r)=>pe(o,"name").fold(()=>e(o,s,d.none(),r),a=>t.field(a,e(o,s,pe(n,a),r))),WB=e=>(t,o,n,s,r)=>{const a=Rt(o,{source:"dynamic"});return vo(e)(t,a,n,s,r)},GB={bar:vo((e,t)=>aF(e,t.shared)),collection:vo((e,t,o)=>gF(e,t.shared.providers,o)),alertbanner:vo((e,t)=>zB(e,t.shared.providers)),input:vo((e,t,o)=>WV(e,t.shared.providers,o)),textarea:vo((e,t,o)=>GV(e,t.shared.providers,o)),label:vo((e,t,o,n)=>xV(e,t.shared,n)),iframe:WB((e,t,o)=>pV(e,t.shared.providers,o)),button:vo((e,t)=>OB(e,t.shared.providers)),checkbox:vo((e,t,o)=>NB(e,t.shared.providers,o)),colorinput:vo((e,t,o)=>SF(e,t.shared,t.colorinput,o)),colorpicker:vo((e,t,o)=>eV(e,t.shared.providers,o)),dropzone:vo((e,t,o)=>sV(e,t.shared.providers,o)),grid:vo((e,t)=>rV(e,t.shared)),listbox:vo((e,t,o)=>EV(e,t,o)),selectbox:vo((e,t,o)=>FV(e,t.shared.providers,o)),sizeinput:vo((e,t)=>$V(e,t.shared.providers)),slider:vo((e,t,o)=>NV(e,t.shared.providers,o)),urlinput:vo((e,t,o)=>RB(e,t,t.urlinput,o)),customeditor:vo(oV),htmlpanel:vo((e,t)=>UB(e,t.shared.providers)),imagepreview:vo((e,t,o)=>yV(e,o)),table:vo((e,t)=>UV(e,t.shared.providers)),tree:vo((e,t)=>uB(e,t)),panel:vo((e,t)=>DV(e,t))},jB={field:(e,t)=>t,record:H([])},z5=(e,t,o,n,s)=>{const r=Rt(n,{shared:{interpreter:a=>V0(e,a,o,r,s)}});return V0(e,t,o,r,s)},V0=(e,t,o,n,s)=>pe(GB,t.type).fold(()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t),r=>r(e,t,o,n,s)),Z5=(e,t,o,n)=>V0(jB,e,t,o,n),Rc="layout-inset",B0=e=>e.x,$5=(e,t)=>e.x+e.width/2-t.width/2,P0=(e,t)=>e.x+e.width-t.width,R0=e=>e.y,z0=(e,t)=>e.y+e.height-t.height,N5=(e,t)=>e.y+e.height/2-t.height/2,sh=(e,t,o)=>Wo(P0(e,t),z0(e,t),o.insetSouthwest(),Kg(),"southwest",Go(e,{right:0,bottom:3}),Rc),rh=(e,t,o)=>Wo(B0(e),z0(e,t),o.insetSoutheast(),qg(),"southeast",Go(e,{left:1,bottom:3}),Rc),Td=(e,t,o)=>Wo(P0(e,t),R0(e),o.insetNorthwest(),Xg(),"northwest",Go(e,{right:0,top:2}),Rc),Md=(e,t,o)=>Wo(B0(e),R0(e),o.insetNortheast(),I1(),"northeast",Go(e,{left:1,top:2}),Rc),gr=(e,t,o)=>Wo($5(e,t),R0(e),o.insetNorth(),Qv(),"north",Go(e,{top:2}),Rc),kd=(e,t,o)=>Wo($5(e,t),z0(e,t),o.insetSouth(),eb(),"south",Go(e,{bottom:3}),Rc),U5=(e,t,o)=>Wo(P0(e,t),N5(e,t),o.insetEast(),ob(),"east",Go(e,{right:0}),Rc),W5=(e,t,o)=>Wo(B0(e),N5(e,t),o.insetWest(),tb(),"west",Go(e,{left:1}),Rc),YB=e=>{switch(e){case"north":return gr;case"northeast":return Md;case"northwest":return Td;case"south":return kd;case"southeast":return rh;case"southwest":return sh;case"east":return U5;case"west":return W5}},G5=(e,t,o,n,s)=>gb(n).map(YB).getOr(gr)(e,t,o,n,s),XB=e=>{switch(e){case"north":return kd;case"northeast":return rh;case"northwest":return sh;case"south":return gr;case"southeast":return Md;case"southwest":return Td;case"east":return W5;case"west":return U5}},qB=(e,t,o,n,s)=>gb(n).map(XB).getOr(gr)(e,t,o,n,s),Od={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},KB=(e,t,o)=>{const s={maxHeightFunction:_l()},r=()=>({type:"node",root:Or(Zo(e())),node:d.from(e()),bubble:sr(12,12,Od),layouts:{onRtl:()=>[Md],onLtr:()=>[Td]},overrides:s}),a=()=>({type:"hotspot",hotspot:t(),bubble:sr(-12,12,Od),layouts:{onRtl:()=>[go,po,fo],onLtr:()=>[po,go,fo]},overrides:s});return()=>o()?r():a()},JB=(e,t,o,n)=>{const r={maxHeightFunction:_l()},a=()=>({type:"node",root:Or(Zo(t())),node:d.from(t()),bubble:sr(12,12,Od),layouts:{onRtl:()=>[gr],onLtr:()=>[gr]},overrides:r}),c=()=>e?{type:"node",root:Or(Zo(t())),node:d.from(t()),bubble:sr(0,-ra(t()),Od),layouts:{onRtl:()=>[Oo],onLtr:()=>[Oo]},overrides:r}:{type:"hotspot",hotspot:o(),bubble:sr(0,0,Od),layouts:{onRtl:()=>[Oo],onLtr:()=>[Oo]},overrides:r};return()=>n()?a():c()},QB=(e,t,o)=>{const n=()=>({type:"node",root:Or(Zo(e())),node:d.from(e()),layouts:{onRtl:()=>[gr],onLtr:()=>[gr]}}),s=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[fo],onLtr:()=>[fo]}});return()=>o()?n():s()},eP=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const o=e.selection.getRng(),n=e.model.table.getSelectedCells();if(n.length>1){const s=n[0],r=n[n.length-1],a={firstCell:K.fromDom(s),lastCell:K.fromDom(r)};return d.some(a)}return d.some(Iu.range(K.fromDom(o.startContainer),o.startOffset,K.fromDom(o.endContainer),o.endOffset))}}),tP=e=>t=>({type:"node",root:e(),node:t}),oP=(e,t,o,n)=>{const s=Il(e),r=()=>K.fromDom(e.getBody()),a=()=>K.fromDom(e.getContentAreaContainer()),c=()=>s||!n();return{inlineDialog:KB(a,t,c),inlineBottomDialog:JB(e.inline,a,o,c),banner:QB(a,t,c),cursor:eP(e,r),node:tP(r)}},nP=e=>(t,o)=>{Zx(e)(t,o)},sP=e=>()=>Lx(e),rP=e=>t=>Lm(e,t),aP=e=>t=>Hx(e,t),cP=e=>({colorPicker:nP(e),hasCustomColors:sP(e),getColors:rP(e),getColorCols:aP(e)}),iP=e=>()=>W3(e),lP=e=>({isDraggableModal:iP(e)}),uP=e=>{const t=ue(ef(e)?"bottom":"top");return{isPositionedAtTop:()=>t.get()==="top",getDockingMode:t.get,setDockingMode:t.set}},j5=e=>Ko(e,"items"),Y5=e=>Ko(e,"format"),X5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],dP=e=>Xe(e,"items"),mP=e=>Xe(e,"block"),hP=e=>Xe(e,"inline"),gP=e=>Xe(e,"selector"),q5=e=>io(e,(t,o)=>{if(dP(o)){const n=q5(o.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:o.title,items:n.formats}])}}else if(hP(o)||mP(o)||gP(o)){const s=`custom-${_(o.name)?o.name:o.title.toLowerCase()}`;return{customFormats:t.customFormats.concat([{name:s,format:o}]),formats:t.formats.concat([{title:o.title,format:s,icon:o.icon}])}}else return{...t,formats:t.formats.concat(o)}},{customFormats:[],formats:[]}),pP=(e,t)=>{const o=q5(t),n=s=>{le(s,r=>{e.formatter.has(r.name)||e.formatter.register(r.name,r.format)})};return e.formatter?n(o.customFormats):e.on("init",()=>{n(o.customFormats)}),o.formats},K5=e=>A3(e).map(t=>{const o=pP(e,t);return E3(e)?X5.concat(o):o}).getOr(X5),fP=e=>{const t=Vt(e);return t.length===1&&ot(t,"title")},J5=(e,t,o)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:o(e.format)}),Q5=(e,t,o,n)=>{const s=i=>J5(i,o,n),r=i=>{const u=c(i.items);return{...i,type:"submenu",getStyleItems:H(u)}},a=i=>{const u=_(i.name)?i.name:se(i.title),m=`custom-${u}`,g={...i,type:"formatter",format:m,isSelected:o(m),getStylePreview:n(m)};return e.formatter.register(u,g),g},c=i=>J(i,u=>j5(u)?r(u):Y5(u)?s(u):fP(u)?{...u,type:"separator"}:a(u));return c(t)},vP=e=>{const t=c=>()=>e.formatter.match(c),o=c=>()=>{const i=e.formatter.get(c);return i!==void 0?d.some({tag:i.length>0&&(i[0].inline||i[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))}):d.none()},n=ue([]),s=ue([]),r=ue(!1);return e.on("PreInit",c=>{const i=K5(e),u=Q5(e,i,t,o);n.set(u)}),e.on("addStyleModifications",c=>{const i=Q5(e,c.items,t,o);s.set(i),r.set(c.replace)}),{getData:()=>{const c=r.get()?[]:n.get(),i=s.get();return c.concat(i)}}},bP=e=>{let n=0;const s=()=>n>0,r=c=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[At(c.tooltipText)]}];return{getConfig:c=>({delayForShow:()=>s()?60:300,delayForHide:H(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:r(c),onShow:(i,u)=>{n++,c.onShow&&c.onShow(i,u)},onHide:(i,u)=>{n--,c.onHide&&c.onHide(i,u)},onSetup:c.onSetup}),getComponents:r}},yP=e=>_t(e)&&e.nodeType===1,xP=ja.trim,ew=e=>t=>!!(yP(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),SP=ew("true"),wP=ew("false"),tw=(e,t,o,n,s)=>({type:e,title:t,url:o,level:n,attach:s}),CP=e=>{let t=e;for(;t=t.parentNode;){const o=t.contentEditable;if(o&&o!=="inherit")return SP(t)}return!1},TP=(e,t)=>J(Mn(K.fromDom(t),e),o=>o.dom),ow=e=>e.innerText||e.textContent,MP=e=>e.id?e.id:se("h"),kP=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==void 0,OP=e=>kP(e)&&sw(e),nw=e=>e&&/^(H[1-6])$/.test(e.nodeName),sw=e=>CP(e)&&!wP(e),_P=e=>nw(e)&&sw(e),AP=e=>nw(e)?parseInt(e.nodeName.substr(1),10):0,EP=e=>{var t;const o=MP(e),n=()=>{e.id=o};return tw("header",(t=ow(e))!==null&&t!==void 0?t:"","#"+o,AP(e),n)},DP=e=>{const t=e.id||e.name,o=ow(e);return tw("anchor",o||"#"+t,"#"+t,0,j)},HP=e=>J(it(e,_P),EP),LP=e=>J(it(e,OP),DP),FP=e=>TP("h1,h2,h3,h4,h5,h6,a:not([href])",e),IP=e=>xP(e.title).length>0,VP={find:e=>{const t=FP(e);return it(HP(t).concat(LP(t)),IP)}},ah="tinymce-url-history",rw=5,aw=e=>_(e)&&/^https?/.test(e),BP=e=>It(e)&&e.length<=rw&&bn(e,aw),cw=e=>zt(e)&&lt(e,t=>!BP(t)).isNone(),iw=()=>{const e=Ri.getItem(ah);if(e===null)return{};let t;try{t=JSON.parse(e)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+ah+" was not valid JSON",o),{};throw o}return cw(t)?t:(console.log("Local storage "+ah+" was not valid format",t),{})},PP=e=>{if(!cw(e))throw new Error(`Bad format for history:
`+JSON.stringify(e));Ri.setItem(ah,JSON.stringify(e))},RP=e=>{const t=iw();return pe(t,e).getOr([])},zP=(e,t)=>{if(!aw(e))return;const o=iw(),n=pe(o,t).getOr([]),s=it(n,r=>r!==e);o[t]=[e].concat(s).slice(0,rw),PP(o)},lw=e=>!!e,ZP=e=>Dt(ja.makeMap(e,/[, ]/),lw),Z0=e=>d.from(P3(e)),$P=e=>{const t=d.from(Z3(e)).filter(lw).map(ZP);return Z0(e).fold(rt,o=>t.fold(ct,n=>Vt(n).length>0?n:!1))},NP=(e,t)=>{const o=$P(e);return qo(o)?o?Z0(e):d.none():o[t]?Z0(e):d.none()},UP=(e,t)=>NP(e,t).map(o=>n=>Xo.nu(s=>{const r=(c,i)=>{if(!_(c))throw new Error("Expected value to be string");if(i!==void 0&&!zt(i))throw new Error("Expected meta to be a object");s({value:c,meta:i})},a={filetype:t,fieldname:n.fieldname,...d.from(n.meta).getOr({})};o.call(e,r,n.value,a)})),uw=e=>d.from(e).filter(_).getOrUndefined(),WP=e=>$3(e)?d.some({targets:VP.find(e.getBody()),anchorTop:uw(N3(e)),anchorBottom:uw(U3(e))}):d.none(),GP=e=>d.from(R3(e)),jP=e=>({getHistory:RP,addToHistory:zP,getLinkInformation:()=>WP(e),getValidationHandler:()=>GP(e),getUrlPicker:t=>UP(e,t)}),YP=(e,t,o,n)=>{const s=ue(!1),r=uP(t),a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Bs.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:bP(e.dialog),checkUiComponentContext:S=>{if(hm(t))return{contextType:"disabled",shouldDisable:!0};const[k,A=""]=S.split(":"),I=t.ui.registry.getAll().contexts,V=pe(I,k).fold(()=>pe(I,"mode").map(G=>G("design")).getOr(!1),G=>A.charAt(0)==="!"?!G(A.slice(1)):G(A));return{contextType:k,shouldDisable:!V}}},c=jP(t),i=vP(t),u=cP(t),m=lP(t),g=()=>s.get(),p=S=>s.set(S),b={shared:{providers:a,anchors:oP(t,o,n,r.isPositionedAtTop),header:r},urlinput:c,styles:i,colorinput:u,dialog:m,isContextMenuOpen:g,setContextMenuState:p},y=S=>d.none(),x={...b,shared:{...b.shared,interpreter:S=>Z5(S,{},x,y),getSink:e.popup}},D={...b,shared:{...b.shared,interpreter:S=>Z5(S,{},D,y),getSink:e.dialog}};return{popup:x,dialog:D}},XP=(e,t,o)=>{const n=(P,oe)=>{le([t,...o],Y=>{Y.broadcastEvent(P,oe)})},s=(P,oe)=>{le([t,...o],Y=>{Y.broadcastOn([P],oe)})},r=P=>s(Oc(),{target:P.target}),a=il(),c=Tn(a,"touchstart",r),i=Tn(a,"touchmove",P=>n(q7(),P)),u=Tn(a,"touchend",P=>n(K7(),P)),m=Tn(a,"mousedown",r),g=Tn(a,"mouseup",P=>{P.raw.button===0&&s(vp(),{target:P.target})}),p=P=>s(Oc(),{target:K.fromDom(P.target)}),b=P=>{P.button===0&&s(vp(),{target:K.fromDom(P.target)})},y=()=>{le(e.editorManager.get(),P=>{e!==P&&P.dispatch("DismissPopups",{relatedTarget:e})})},x=P=>n(xg(),fb(P)),D=P=>{s(Al(),{}),n(Hu(),fb(P))},S=Zo(K.fromDom(e.getElement())),k=ip(S,"scroll",P=>{requestAnimationFrame(()=>{const oe=e.getContainer();if(oe!=null){const ne=Ec(e,t.element).map(Le=>[Le.element,...Le.others]).getOr([]);yo(ne,Le=>nt(Le,P.target))&&(e.dispatch("ElementScroll",{target:P.target.dom}),n(lv(),P))}})}),A=()=>s(Al(),{}),I=P=>{P.state&&s(Oc(),{target:K.fromDom(e.getContainer())})},V=P=>{s(Oc(),{target:K.fromDom(P.relatedTarget.getContainer())})},G=P=>e.dispatch("focusin",P),te=P=>e.dispatch("focusout",P);e.on("PostRender",()=>{e.on("click",p),e.on("tap",p),e.on("mouseup",b),e.on("mousedown",y),e.on("ScrollWindow",x),e.on("ResizeWindow",D),e.on("ResizeEditor",A),e.on("AfterProgressState",I),e.on("DismissPopups",V),le([t,...o],P=>{P.element.dom.addEventListener("focusin",G),P.element.dom.addEventListener("focusout",te)})}),e.on("remove",()=>{e.off("click",p),e.off("tap",p),e.off("mouseup",b),e.off("mousedown",y),e.off("ScrollWindow",x),e.off("ResizeWindow",D),e.off("ResizeEditor",A),e.off("AfterProgressState",I),e.off("DismissPopups",V),le([t,...o],P=>{P.element.dom.removeEventListener("focusin",G),P.element.dom.removeEventListener("focusout",te)}),m.unbind(),c.unbind(),i.unbind(),u.unbind(),g.unbind(),k.unbind()}),e.on("detach",()=>{le([t,...o],nO),le([t,...o],P=>P.destroy())})},Co=qO,va=jO,qP=H([F("shell",!1),$("makeItem"),F("setupItem",j),rr.field("listBehaviours",[we])]),KP=Fs({name:"items",overrides:()=>({behaviours:W([we.config({})])})}),JP=H([KP]),QP=H("CustomList"),eR=(e,t,o,n)=>{const s=(c,i)=>{a(c).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},u=>{const m=we.contents(u),g=i.length,p=g-m.length,b=p>0?Ns(p,()=>e.makeItem()):[],y=m.slice(g);le(y,D=>we.remove(u,D)),le(b,D=>we.append(u,D));const x=we.contents(u);le(x,(D,S)=>{e.setupItem(c,D,i[S],S)})})},r=e.shell?{behaviours:[we.config({})],components:[]}:{behaviours:[],components:t},a=c=>e.shell?d.some(c):gt(c,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Vo(e.listBehaviours,r.behaviours),apis:{setItems:s}}},dw=mn({name:QP(),configFields:qP(),partFields:JP(),factory:eR,apis:{setItems:(e,t,o)=>{e.setItems(t,o)}}}),jl=H([$("dom"),F("shell",!0),_o("toolbarBehaviours",[we])]),tR=H([Fs({name:"groups",overrides:()=>({behaviours:W([we.config({})])})})]),oR=(e,t,o,n)=>{const s=(c,i)=>{r(c).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},u=>{we.set(u,i)})},r=c=>e.shell?d.some(c):gt(c,e,"groups"),a=e.shell?{behaviours:[we.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Vo(e.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:j},domModification:{attributes:{role:"group"}}}},Ur=mn({name:"Toolbar",configFields:jl(),partFields:tR(),factory:oR,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)}}}),nR=j,sR=rt,mw=H([]);var rR=Object.freeze({__proto__:null,setup:nR,isDocked:sR,getBehaviours:mw});const $0=H(se("toolbar-height-change")),ba={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},hw="tox-tinymce--toolbar-sticky-on",gw="tox-tinymce--toolbar-sticky-off",aR=(e,t)=>{const o=Nn(t),s=sa(t).dom.innerHeight,r=wn(o),a=K.fromDom(e.elm),c=Er(a),i=mo(a),u=c.y,m=u+i,g=as(t),p=mo(t),b=g.top,y=b+p,x=Math.abs(b-r.top)<2,D=Math.abs(y-(r.top+s))<2;if(x&&u<y)ui(r.left,u-p,o);else if(D&&m>b){const S=u-s+i+p;ui(r.left,S,o)}},ch=(e,t)=>ot(Lt.getModes(e),t),N0=e=>{const t=n=>ra(n)+(parseInt(Fo(n,"margin-top"),10)||0)+(parseInt(Fo(n,"margin-bottom"),10)||0),o=e.element;Un(o).each(n=>{const s="padding-"+Lt.getModes(e)[0];if(Lt.isDocked(e)){const r=ln(n);Me(o,"width",r+"px"),Me(n,s,t(o)+"px")}else $e(o,"width"),$e(n,s)})},pw=(e,t)=>{t?(Yt(e,ba.fadeOutClass),xi(e,[ba.transitionClass,ba.fadeInClass])):(Yt(e,ba.fadeInClass),xi(e,[ba.fadeOutClass,ba.transitionClass]))},fw=(e,t)=>{const o=K.fromDom(e.getContainer());t?(ro(o,hw),Yt(o,gw)):(ro(o,gw),Yt(o,hw))},cR=(e,t)=>{const o=Nn(t);Ra(o).filter(n=>!nt(t,n)).filter(n=>nt(n,K.fromDom(o.dom.body))||na(e,n)).each(()=>Yn(t))},iR=(e,t)=>dn(e).orThunk(()=>t().toOptional().bind(o=>dn(o.element))),lR=(e,t,o)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{o().each(Lt.reset)}),e.on("ResizeWindow ResizeEditor",()=>{o().each(N0)}),e.on("SkinLoaded",()=>{o().each(n=>{Lt.isDocked(n)?Lt.reset(n):Lt.refresh(n)})}),e.on("FullscreenStateChanged",()=>{o().each(Lt.reset)})),e.on("AfterScrollIntoView",n=>{o().each(s=>{Lt.refresh(s);const r=s.element;P4(r)&&aR(n,r)})}),e.on("PostRender",()=>{fw(e,!1)})},uR=e=>e().map(Lt.isDocked).getOr(!1),dR=()=>[jn.config({channels:{[$0()]:{onReceive:N0}}})],vw=(e,t)=>{const o=ut(),n=t.getSink,s=c=>{n().each(i=>c(i.element))},r=c=>{e.inline||N0(c),fw(e,Lt.isDocked(c)),c.getSystem().broadcastOn([Al()],{}),n().each(i=>i.getSystem().broadcastOn([Al()],{}))},a=e.inline?[]:dR();return[be.config({}),Lt.config({contextual:{lazyContext:c=>{const i=ra(c.element),u=e.inline?e.getContentAreaContainer():e.getContainer();return d.from(u).map(m=>{const g=ho(K.fromDom(m));return Ec(e,c.element).fold(()=>{const b=g.height-i,y=g.y+(ch(c,"top")?0:i);return So(g.x,y,g.width,b)},b=>{const y=Su(g,Hi(b)),x=ch(c,"top")?y.y:y.y+i;return So(y.x,x,y.width,y.height-i)})})},onShow:()=>{s(c=>pw(c,!0))},onShown:c=>{s(i=>tr(i,[ba.transitionClass,ba.fadeInClass])),o.get().each(i=>{cR(c.element,i),o.clear()})},onHide:c=>{iR(c.element,n).fold(o.clear,o.set),s(i=>pw(i,!1))},onHidden:()=>{s(c=>tr(c,[ba.transitionClass]))},...ba},lazyViewport:c=>Ec(e,c.element).fold(()=>{const u=$o(),m=V3(e),g=u.y+(ch(c,"top")&&!cy(e)?m:0),p=u.height-(ch(c,"bottom")?m:0);return{bounds:So(u.x,g,u.width,p),optScrollEnv:d.none()}},u=>({bounds:Hi(u),optScrollEnv:d.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:as(u.element).top})})),modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var mR=Object.freeze({__proto__:null,setup:lR,isDocked:uR,getBehaviours:vw});const hR=e=>{const t=e.editor,o=e.sticky?vw:mw;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:W(o(t,e.sharedBackstage))}},gR=ye([eo,us("items",v1([b1([wf,Wn("items",wo)]),wo]))].concat(rd)),pR=e=>jt("GroupToolbarButton",gR,e),fR=[no("text"),no("tooltip"),no("icon"),Ls("search",!1,v1([S1,ye([no("placeholder")])],e=>qo(e)?e?d.some({placeholder:d.none()}):d.none():d.some(e))),Js("fetch"),yt("onSetup",()=>j),$t("context","mode:design")],bw=ye([eo,...fR]),yw=e=>jt("menubutton",bw,e),vR=ye([eo,sd,Rs,Hc,d9,a9,Vi,ia("presets","normal",["normal","color","listpreview"]),Yy(1),Bl,i9,$t("context","mode:design")]),bR=e=>jt("SplitButton",vR,e);var U0=fs({factory:(e,t)=>{const o=(s,r)=>{const a=J(r,c=>{const i={type:"menubutton",text:c.text,fetch:m=>{m(c.getItems())},context:"any"},u=yw(i).mapError(m=>fl(m)).getOrDie();return Cd(u,"tox-mbtn",t.backstage,d.some("menuitem"))});we.set(s,a)},n={focus:ce.focusIn,setMenus:o};return{uid:e.uid,dom:e.dom,components:[],behaviours:W([we.config({}),Te("menubar-events",[Ct(s=>{e.onSetup(s)}),z(la(),(s,r)=>{kt(s.element,".tox-mbtn--active").each(a=>{ma(r.event.target,".tox-mbtn").each(c=>{nt(a,c)||s.getSystem().getByDom(a).each(i=>{s.getSystem().getByDom(c).each(u=>{vs.expand(u),vs.close(i),be.focus(u)})})})})}),z(O1(),(s,r)=>{r.event.prevFocus.bind(a=>s.getSystem().getByDom(a).toOptional()).each(a=>{r.event.newFocus.bind(c=>s.getSystem().getByDom(c).toOptional()).each(c=>{vs.isOpen(a)&&(vs.expand(c),vs.close(a))})})})]),ce.config({mode:"flow",selector:".tox-mbtn",onEscape:s=>(e.onEscape(s),d.some(!0))}),xt.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[$("dom"),$("uid"),$("onEscape"),$("backstage"),F("onSetup",j)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,o)=>{e.setMenus(t,o)}}});const yR="Upgrade",xR="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",SR=e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:xR,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:yR}}]}),xw="container",wR=[_o("slotBehaviours",[])],Sw=e=>"<alloy.field."+e+">",CR=e=>{const t=(()=>{const r=[];return{slot:(c,i)=>(r.push(c),Op(xw,Sw(c),i)),record:H(r)}})(),o=e(t),n=t.record(),s=J(n,r=>on({name:r,pname:Sw(r)}));return Hp(xw,wR,s,TR,o)},TR=(e,t)=>{const o=x=>y4(e),n=(x,D)=>gt(x,e,D),s=(x,D)=>(S,k)=>gt(S,e,k).map(A=>x(A,k)).getOr(D),r=x=>(D,S)=>{le(S,k=>x(D,k))},a=(x,D)=>De(x.element,"aria-hidden")!=="true",c=(x,D)=>{if(!a(x)){const S=x.element;$e(S,"display"),ht(S,"aria-hidden"),me(x,Sg(),{name:D,visible:!0})}},i=(x,D)=>{if(a(x)){const S=x.element;Me(S,"display","none"),Q(S,"aria-hidden","true"),me(x,Sg(),{name:D,visible:!1})}},u=s(a,!1),m=s(i),g=r(m),p=x=>g(x,o()),b=s(c),y={getSlotNames:o,getSlot:n,isShowing:u,hideSlot:m,hideAllSlots:p,showSlot:b};return{uid:e.uid,dom:e.dom,components:t,behaviours:j1(e.slotBehaviours),apis:y}},nn={...Dt({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,o)=>e.getSlot(t,o),isShowing:(e,t,o)=>e.isShowing(t,o),hideSlot:(e,t,o)=>e.hideSlot(t,o),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,o)=>e.showSlot(t,o)},e=>F1(e)),sketch:CR},MR=ye([Rs,sd,yt("onShow",j),yt("onHide",j),Vi]),kR=e=>jt("sidebar",MR,e),OR=e=>{const{sidebars:t}=e.ui.registry.getAll();le(Vt(t),o=>{const n=t[o],s=()=>Lo(d.from(e.queryCommandValue("ToggleSidebar")),o);e.ui.registry.addToggleButton(o,{icon:n.icon,tooltip:n.tooltip,onAction:r=>{e.execCommand("ToggleSidebar",!1,o),r.setActive(s())},onSetup:r=>{r.setActive(s());const a=()=>r.setActive(s());return e.on("ToggleSidebar",a),()=>{e.off("ToggleSidebar",a)}},context:"any"})})},_R=e=>({element:()=>e.element.dom}),AR=(e,t)=>{const o=J(Vt(t),n=>{const s=t[n],r=Hr(kR(s));return{name:n,getApi:_R,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return J(o,n=>{const s=ue(j);return e.slot(n.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:ad.unnamedEvents([zr(n,s),Zr(n,s),z(Sg(),(r,a)=>{const c=a.event;vt(o,u=>u.name===c.name).each(u=>{(c.visible?u.onShow:u.onHide)(u.getApi(r))})})])})})},ER=e=>nn.sketch(t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:AR(t,e),slotBehaviours:ad.unnamedEvents([Ct(o=>nn.hideAllSlots(o))])})),DR=(e,t,o)=>{Ne.getCurrent(e).each(s=>{we.set(s,[ER(t)]);const r=o==null?void 0:o.toLowerCase();_(r)&&Xe(t,r)&&Ne.getCurrent(s).each(a=>{nn.showSlot(a,r),Bn.immediateGrow(s),$e(s.element,"width"),ih(e.element,"region")})})},ih=(e,t)=>{Q(e,"role",t)},HR=(e,t)=>{Ne.getCurrent(e).each(n=>{Ne.getCurrent(n).each(r=>{Bn.hasGrown(n)?nn.isShowing(r,t)?(Bn.shrink(n),ih(e.element,"presentation")):(nn.hideAllSlots(r),nn.showSlot(r,t),ih(e.element,"region")):(nn.hideAllSlots(r),nn.showSlot(r,t),Bn.grow(n),ih(e.element,"region"))})})},LR=e=>Ne.getCurrent(e).bind(o=>Bn.isGrowing(o)||Bn.hasGrown(o)?Ne.getCurrent(o).bind(r=>vt(nn.getSlotNames(r),a=>nn.isShowing(r,a))):d.none()),W0=se("FixSizeEvent"),G0=se("AutoSizeEvent"),FR=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:W([xt.config({}),be.config({}),Bn.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:t=>{Ne.getCurrent(t).each(nn.hideAllSlots),Re(t,G0)},onGrown:t=>{Re(t,G0)},onStartGrow:t=>{me(t,W0,{width:Jt(t.element,"width").getOr("")})},onStartShrink:t=>{me(t,W0,{width:ln(t.element)+"px"})}}),we.config({}),Ne.config({find:t=>{const o=we.contents(t);return an(o)}})])}],behaviours:W([mr.childAt(0),Te("sidebar-sliding-events",[z(W0,(t,o)=>{Me(t.element,"width",o.event.width)}),z(G0,(t,o)=>{$e(t.element,"width")})])])});var IR=Object.freeze({__proto__:null,block:(e,t,o,n)=>{Q(e.element,"aria-busy",!0);const s=t.getRoot(e).getOr(e),r=W([ce.config({mode:"special",onTab:()=>d.some(!0),onShiftTab:()=>d.some(!0)}),be.config({})]),a=n(s,r),c=s.getSystem().build(a);we.append(s,ps(c)),c.hasConfigured(ce)&&t.focus&&ce.focusIn(c),o.isBlocked()||t.onBlock(e),o.blockWith(()=>we.remove(s,c))},unblock:(e,t,o)=>{ht(e.element,"aria-busy"),o.isBlocked()&&t.onUnblock(e),o.clear()},isBlocked:(e,t,o)=>o.isBlocked()}),VR=[yt("getRoot",d.none),Qo("focus",!0),je("onBlock"),je("onUnblock")],BR=Object.freeze({__proto__:null,init:()=>{const e=ng(),t=o=>{e.set({destroy:o})};return gs({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})}});const Wr=Io({fields:VR,name:"blocking",apis:IR,state:BR}),PR=e=>(t,o)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Na('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),ww=e=>Ne.getCurrent(e).each(t=>Yn(t.element,!0)),RR=(e,t)=>{const o="tabindex",n=`data-mce-${o}`;d.from(e.iframeElement).map(K.fromDom).each(s=>{t?(qe(s,o).each(r=>Q(s,n,r)),Q(s,o,-1)):(ht(s,o),qe(s,n).each(r=>{Q(s,o,r),ht(s,n)}))})},zR=(e,t,o,n)=>{const s=t.element;if(RR(e,o),o)Wr.block(t,PR(n)),$e(s,"display"),ht(s,"aria-hidden"),e.hasFocus()&&ww(t);else{const r=Ne.getCurrent(t).exists(a=>Ol(a.element));Wr.unblock(t),Me(s,"display","none"),Q(s,"aria-hidden","true"),r&&e.focus()}},ZR=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:W([we.config({}),Wr.config({focus:!1}),Ne.config({find:t=>an(t.components())})]),components:[]}),$R=e=>e.type==="focusin",NR=e=>$R(e)?(e.composed?an(e.composedPath()):d.from(e.target)).map(K.fromDom).filter(uo).exists(o=>In(o,"mce-pastebin")):!1,UR=(e,t,o)=>{const n=ue(!1),s=ut(),r=c=>{n.get()&&!NR(c)&&(c.preventDefault(),ww(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",r),e.on("BeforeExecCommand",c=>{c.command.toLowerCase()==="mcefocus"&&c.value!==!0&&r(c)})});const a=c=>{c!==n.get()&&(n.set(c),zR(e,t(),c,o.providers),MH(e,c))};e.on("ProgressState",c=>{if(s.on(clearTimeout),Ro(c.time)){const i=mm.setEditorTimeout(e,()=>a(c.state),c.time);s.set(i)}else a(c.state),s.clear()})},WR=(e,t)=>io(e,(s,r)=>t(r,s.len).fold(H(s),c=>({len:c.finish,list:s.list.concat([c])})),{len:0,list:[]}).list,j0=(e,t,o)=>({within:e,extra:t,withinWidth:o}),Cw=(e,t,o)=>{const n=WR(e,(c,i)=>{const u=o(c);return d.some({element:c,start:i,finish:i+u,width:u})}),s=it(n,c=>c.finish<=t),r=Wt(s,(c,i)=>c+i.width,0),a=n.slice(s.length);return{within:s,extra:a,withinWidth:r}},lh=e=>J(e,t=>t.element),GR=(e,t,o)=>{const n=lh(e.concat(t));return j0(n,[],o)},jR=(e,t,o,n)=>{const s=lh(e).concat([o]);return j0(s,lh(t),n)},YR=(e,t,o)=>j0(lh(e),[],o),XR=(e,t,o)=>{const n=Cw(t,e,o);return n.extra.length===0?d.some(n):d.none()},qR=(e,t,o,n)=>{const s=XR(e,t,o).getOrThunk(()=>Cw(t,e-o(n),o)),r=s.within,a=s.extra,c=s.withinWidth;return a.length===1&&a[0].width<=o(n)?GR(r,a,c):a.length>=1?jR(r,a,n,c):YR(r,a,c)},Tw=(e,t)=>{const o=J(t,n=>ps(n));Ur.setGroups(e,o)},KR=e=>Ho(e,t=>dn(t.element).bind(o=>t.getSystem().getByDom(o).toOptional())),Mw=(e,t,o)=>{const n=t.builtGroups.get();if(n.length===0)return;const s=_c(e,t,"primary"),r=Nt.getCoupled(e,"overflowGroup");Me(s.element,"visibility","hidden");const a=n.concat([r]),c=KR(a);o([]),Tw(s,a);const i=ln(s.element),u=qR(i,t.builtGroups.get(),m=>Math.ceil(m.element.dom.getBoundingClientRect().width),r);u.extra.length===0?(we.remove(s,r),o([])):(Tw(s,u.within),o(u.extra)),$e(s.element,"visibility"),nl(s.element),c.each(be.focus)},kw=H([_o("splitToolbarBehaviours",[Nt]),Cn("builtGroups",()=>ue([]))]),JR=H([Si(["overflowToggledClass"]),Sc("getOverflowBounds"),$("lazySink"),Cn("overflowGroups",()=>ue([])),je("onOpened"),je("onClosed")].concat(kw())),QR=H([on({factory:Ur,schema:jl(),name:"primary"}),ar({schema:jl(),name:"overflow"}),ar({name:"overflow-button"}),ar({name:"overflow-group"})]),Y0=H((e,t)=>{Rh(e,Math.floor(t))}),ez=H([Si(["toggledClass"]),$("lazySink"),Js("fetch"),Sc("getBounds"),ds("fireDismissalEventInstead",[F("event",vi())]),kc(),je("onToggled")]),tz=H([ar({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:W([He.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),ar({factory:Ur,schema:jl(),name:"toolbar",overrides:e=>({toolbarBehaviours:W([ce.config({mode:"cyclic",onEscape:t=>(gt(t,e,"button").each(be.focus),d.none())})])})})]),uh=ut(),oz=(e,t)=>{uh.set(!0),X0(e,t),uh.clear()},X0=(e,t)=>{const o=Nt.getCoupled(e,"toolbarSandbox");Ye.isOpen(o)?Ye.close(o):Ye.open(o,t.toolbar())},q0=(e,t,o,n)=>{const s=o.getBounds.map(a=>a()),r=o.lazySink(e).getOrDie();tn.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:n,overrides:{maxWidthFunction:Y0()}}},s)},Ow=(e,t,o,n,s)=>{Ur.setGroups(t,s),q0(e,t,o,n),He.on(e)},nz=(e,t,o)=>{const n=Jv(),s=(a,c)=>{const i=uh.get().getOr(!1);o.fetch().get(u=>{Ow(e,c,o,t.layouts,u),n.link(e.element),i||ce.focusIn(c)})},r=()=>{He.off(e),uh.get().getOr(!1)||be.focus(e),n.unlink(e.element)};return{dom:{tag:"div",attributes:{id:n.id}},behaviours:W([ce.config({mode:"special",onEscape:a=>(Ye.close(a),d.some(!0))}),Ye.config({onOpen:s,onClose:r,isPartOf:(a,c,i)=>Mi(c,i)||Mi(e,i),getAttachPoint:()=>o.lazySink(e).getOrDie()}),jn.config({channels:{...bp({isExtraPart:rt,...o.fireDismissalEventInstead.map(a=>({fireEventInstead:{event:a.event}})).getOr({})}),...yp({doReposition:()=>{Ye.getState(Nt.getCoupled(e,"toolbarSandbox")).each(a=>{q0(e,a,o,t.layouts)})}})}})])}},zc=mn({name:"FloatingToolbarButton",factory:(e,t,o,n)=>({...Bo.sketch({...n.button(),action:s=>{X0(s,n)},buttonBehaviours:rr.augment({dump:n.button().buttonBehaviours},[Nt.config({others:{toolbarSandbox:s=>nz(s,o,e)}})])}),apis:{setGroups:(s,r)=>{Ye.getState(Nt.getCoupled(s,"toolbarSandbox")).each(a=>{Ow(s,a,e,o.layouts,r)})},reposition:s=>{Ye.getState(Nt.getCoupled(s,"toolbarSandbox")).each(r=>{q0(s,r,e,o.layouts)})},toggle:s=>{X0(s,n)},toggleWithoutFocusing:s=>{oz(s,n)},getToolbar:s=>Ye.getState(Nt.getCoupled(s,"toolbarSandbox")),isOpen:s=>Ye.isOpen(Nt.getCoupled(s,"toolbarSandbox"))}}),configFields:ez(),partFields:tz(),apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),sz=H([$("items"),Si(["itemSelector"]),_o("tgroupBehaviours",[ce])]),rz=H([tm({name:"items",unit:"item"})]),az=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.tgroupBehaviours,[ce.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),dh=mn({name:"ToolbarGroup",configFields:sz(),partFields:rz(),factory:az}),_w=e=>J(e,t=>ps(t)),Aw=(e,t,o)=>{Mw(e,o,n=>{o.overflowGroups.set(n),t.getOpt(e).each(s=>{zc.setGroups(s,_w(n))})})},cz=(e,t,o,n)=>{const s=Qe(zc.sketch({fetch:()=>Xo.nu(r=>{r(_w(e.overflowGroups.get()))}),layouts:{onLtr:()=>[po,go],onRtl:()=>[go,po],onBottomLtr:()=>[Yo,jo],onBottomRtl:()=>[jo,Yo]},getBounds:o.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:n["overflow-button"](),toolbar:n.overflow()},onToggled:(r,a)=>e[a?"onOpened":"onClosed"](r)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.splitToolbarBehaviours,[Nt.config({others:{overflowGroup:()=>dh.sketch({...n["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(r,a)=>{e.builtGroups.set(J(a,r.getSystem().build)),Aw(r,s,e)},refresh:r=>Aw(r,s,e),toggle:r=>{s.getOpt(r).each(a=>{zc.toggle(a)})},toggleWithoutFocusing:r=>{s.getOpt(r).each(zc.toggleWithoutFocusing)},isOpen:r=>s.getOpt(r).map(zc.isOpen).getOr(!1),reposition:r=>{s.getOpt(r).each(a=>{zc.reposition(a)})},getOverflow:r=>s.getOpt(r).bind(zc.getToolbar)},domModification:{attributes:{role:"group"}}}},Ew=mn({name:"SplitFloatingToolbar",configFields:JR(),partFields:QR(),factory:cz,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),iz=H([Si(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),je("onOpened"),je("onClosed")].concat(kw())),lz=H([on({factory:Ur,schema:jl(),name:"primary"}),on({factory:Ur,schema:jl(),name:"overflow",overrides:e=>({toolbarBehaviours:W([Bn.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{gt(t,e,"overflow-button").each(o=>{He.off(o)}),e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{gt(t,e,"overflow-button").each(He.on)}}),ce.config({mode:"acyclic",onEscape:t=>(gt(t,e,"overflow-button").each(be.focus),d.some(!0))})])})}),ar({name:"overflow-button",overrides:e=>({buttonBehaviours:W([He.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),ar({name:"overflow-group"})]),uz=(e,t)=>gt(e,t,"overflow").map(Bn.hasGrown).getOr(!1),K0=(e,t,o)=>{gt(e,t,"overflow-button").each(n=>{gt(e,t,"overflow").each(s=>{if(J0(e,t),Bn.hasShrunk(s)){const r=t.onOpened;t.onOpened=a=>{o||ce.focusIn(s),r(a),t.onOpened=r}}else{const r=t.onClosed;t.onClosed=a=>{o||be.focus(n),r(a),t.onClosed=r}}Bn.toggleGrow(s)})})},J0=(e,t)=>{gt(e,t,"overflow").each(o=>{Mw(e,t,n=>{const s=J(n,r=>ps(r));Ur.setGroups(o,s)}),gt(e,t,"overflow-button").each(n=>{Bn.hasGrown(o)&&He.on(n)}),Bn.refresh(o)})},dz=(e,t,o,n)=>{const s="alloy.toolbar.toggle",r=(a,c)=>{const i=J(c,a.getSystem().build);e.builtGroups.set(i)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Vo(e.splitToolbarBehaviours,[Nt.config({others:{overflowGroup:a=>dh.sketch({...n["overflow-group"](),items:[Bo.sketch({...n["overflow-button"](),action:c=>{Re(a,s)}})]})}}),Te("toolbar-toggle-events",[z(s,a=>{K0(a,e,!1)})])]),apis:{setGroups:(a,c)=>{r(a,c),J0(a,e)},refresh:a=>J0(a,e),toggle:a=>{K0(a,e,!1)},toggleWithoutFocusing:a=>{K0(a,e,!0)},isOpen:a=>uz(a,e)},domModification:{attributes:{role:"group"}}}},Q0=mn({name:"SplitSlidingToolbar",configFields:iz(),partFields:lz(),factory:dz,apis:{setGroups:(e,t,o)=>{e.setGroups(t,o)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),Dw=e=>{const t=e.label.isNone()?e.title.fold(()=>({}),o=>({attributes:{title:o}})):e.label.fold(()=>({}),o=>({attributes:{"aria-label":o}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(e.label.isSome()?["tox-toolbar__group_with_label"]:[]),...t},components:[...e.label.map(o=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[At(o)]})).toArray(),dh.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:W([xt.config({}),be.config({})])}},mh=e=>dh.sketch(Dw(e)),Hw=(e,t)=>{const o=Ct(n=>{const s=J(e.initGroups,mh);Ur.setGroups(n,s)});return W([zs.toolbarButton(()=>e.providers.checkUiComponentContext("any").shouldDisable),to(()=>e.providers.checkUiComponentContext("any")),ce.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Te("toolbar-events",[o])])},Lw=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Dw({title:d.none(),label:d.none(),items:[]}),"overflow-button":wB({context:"any",name:"more",icon:d.some("more-drawer"),enabled:!0,tooltip:d.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:d.none(),borderless:!1},d.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:Hw(e,t)}},mz=e=>{const t=Lw(e),o=4,n=Ew.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return Ew.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const s=e.moreDrawerData.lazyHeader().element,r=Er(s),a=As(s),c=Er(a),i=Math.max(a.dom.scrollHeight,c.height);return So(r.x+o,c.y,r.width-o*2,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>e.onToggled(s,!0),onClosed:s=>e.onToggled(s,!1)})},hz=e=>{const t=Q0.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=Q0.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),n=Lw(e);return Q0.sketch({...n,components:[t,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>{s.getSystem().broadcastOn([$0()],{type:"opened"}),e.onToggled(s,!0)},onClosed:s=>{s.getSystem().broadcastOn([$0()],{type:"closed"}),e.onToggled(s,!1)}})},hh=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return Ur.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Is.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ur.parts.groups({})],toolbarBehaviours:Hw(e,t)})},Fw=[Hc,Rs,no("tooltip"),ia("buttonType","secondary",["primary","secondary"]),Qo("borderless",!1),Js("onAction"),$t("context","mode:design")],gz=[...Fw,Wa,Ks("type",["button"])],pz=[...Fw,Qo("active",!1),Ks("type",["togglebutton"])],Iw={button:gz,togglebutton:pz},fz=[Ks("type",["group"]),mi("buttons",[],Fn("type",Iw))],vz=Fn("type",{...Iw,group:fz}),bz=ye([mi("buttons",[],vz),Js("onShow"),Js("onHide")]),yz=e=>jt("view",bz,e),xz=(e,t)=>{var o,n;const s=e.type==="togglebutton",r=e.icon.map(A=>Pc(A,t.icons)).map(Qe),c=A=>{const I=P=>{r.map(oe=>oe.getOpt(A).each(Y=>{we.set(Y,[Pc(P,t.icons)])}))},V=P=>{const oe=A.element;P?(ro(oe,"tox-button--enabled"),Q(oe,"aria-pressed",!0)):(Yt(oe,"tox-button--enabled"),ht(oe,"aria-pressed"))},G=()=>In(A.element,"tox-button--enabled"),te=()=>Yn(A.element);if(s)return e.onAction({setIcon:I,setActive:V,isActive:G,focus:te});if(e.type==="button")return e.onAction({setIcon:I})},i={...e,name:s?e.text.getOr(e.icon.getOr("")):(o=e.text)!==null&&o!==void 0?o:e.icon.getOr(""),primary:e.buttonType==="primary",buttonType:d.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},u=L0((n=e.buttonType)!==null&&n!==void 0?n:"secondary"),m=s?e.text.map(t.translate):d.some(t.translate(e.text)),g=m.map(At),p=i.tooltip.or(m).map(A=>({"aria-label":t.translate(A)})).getOr({}),b=r.map(A=>A.asSpec()),y=zl([b,g]),x=e.icon.isSome()&&g.isSome(),D={tag:"button",classes:u.concat(...e.icon.isSome()&&!x?["tox-button--icon"]:[]).concat(...x?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(...e.type==="togglebutton"&&e.active?["tox-button--enabled"]:[]),attributes:p},S=[],k=oh(i,d.some(c),S,D,y,e.tooltip,t);return Bo.sketch(k)},Vw=(e,t)=>xz(e,t),Sz=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:J(e.buttons,o=>Vw(o,t))}),Bw=un().deviceType,wz=Bw.isPhone(),Cz=Bw.isTablet(),Tz=e=>{let t=!1;const o=J(e.buttons,n=>n.type==="group"?(t=!0,Sz(n,e.providers)):Vw(n,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...wz||Cz?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:W([be.config({}),ce.config({mode:"flow",selector:"button, .tox-button",focusInside:_i.OnEnterOrSpaceMode})]),components:t?o:[Nr.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),Nr.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:o})]}},Mz=e=>({uid:e.uid,behaviours:W([be.config({}),xt.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),kz=(e,t,o,n)=>{const s={getPane:r=>Co.getPart(r,e,"pane"),getOnShow:r=>e.viewConfig.onShow,getOnHide:r=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,behaviours:W([be.config({}),ce.config({mode:"cyclic",focusInside:_i.OnEnterOrSpaceMode})]),apis:s}};var Yl=mn({name:"silver.View",configFields:[$("viewConfig")],partFields:[Fs({factory:{sketch:Tz},schema:[$("buttons"),$("providers")],name:"header"}),Fs({factory:{sketch:Mz},schema:[],name:"pane"})],factory:kz,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const Oz=(e,t,o)=>Kt(t,(n,s)=>{const r=Hr(yz(n));return e.slot(s,Yl.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[Yl.parts.header({buttons:r.buttons,providers:o})]:[],Yl.parts.pane({})]}))}),_z=(e,t)=>nn.sketch(o=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:Oz(o,e,t),slotBehaviours:ad.unnamedEvents([Ct(n=>nn.hideAllSlots(n))])})),Pw=e=>vt(nn.getSlotNames(e),t=>nn.isShowing(e,t)),Az=e=>{const t=e.element;Me(t,"display","none"),Q(t,"aria-hidden","true")},Ez=e=>{const t=e.element;$e(t,"display"),ht(t,"aria-hidden")},Dz=e=>({getContainer:H(e)}),Rw=(e,t,o)=>{nn.getSlot(e,t).each(n=>{Yl.getPane(n).each(s=>{o(n)(Dz(s.element.dom))})})},Hz=(e,t)=>Rw(e,t,Yl.getOnShow),Lz=(e,t)=>Rw(e,t,Yl.getOnHide);var gh=fs({factory:(e,t)=>{const r={setViews:(a,c)=>{we.set(a,[_z(c,t.backstage.shared.providers)])},whichView:a=>Ne.getCurrent(a).bind(Pw),toggleView:(a,c,i,u)=>Ne.getCurrent(a).exists(m=>{const g=Pw(m),p=g.exists(y=>u===y),b=nn.getSlot(m,u).isSome();return b&&(nn.hideAllSlots(m),p?(Az(a),c()):(i(),Ez(a),nn.showSlot(m,u),Hz(m,u)),g.each(y=>Lz(m,y))),b})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:W([we.config({}),Ne.config({find:a=>{const c=we.contents(a);return an(c)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[$("backstage")],apis:{setViews:(e,t,o)=>e.setViews(t,o),toggleView:(e,t,o,n,s)=>e.toggleView(t,o,n,s),whichView:(e,t)=>e.whichView(t)}});const Fz=(e,t,o)=>{let n=!1;const s=a=>{rM(a,".tox-statusbar").each(c=>{Fo(c,"display")==="none"&&De(c,"aria-hidden")==="true"?($e(c,"display"),ht(c,"aria-hidden")):(Me(c,"display","none"),Q(c,"aria-hidden","true"))})},r={getSocket:a=>Co.getPart(a,e,"socket"),setSidebar:(a,c,i)=>{Co.getPart(a,e,"sidebar").each(u=>DR(u,c,i))},toggleSidebar:(a,c)=>{Co.getPart(a,e,"sidebar").each(i=>HR(i,c))},whichSidebar:a=>Co.getPart(a,e,"sidebar").bind(LR).getOrNull(),getHeader:a=>Co.getPart(a,e,"header"),getToolbar:a=>Co.getPart(a,e,"toolbar"),setToolbar:(a,c)=>{Co.getPart(a,e,"toolbar").each(i=>{const u=J(c,mh);i.getApis().setGroups(i,u)})},setToolbars:(a,c)=>{Co.getPart(a,e,"multiple-toolbar").each(i=>{const u=J(c,m=>J(m,mh));dw.setItems(i,u)})},refreshToolbar:a=>{Co.getPart(a,e,"toolbar").each(i=>i.getApis().refresh(i))},toggleToolbarDrawer:a=>{Co.getPart(a,e,"toolbar").each(c=>{Cr(c.getApis().toggle,i=>i(c))})},toggleToolbarDrawerWithoutFocusing:a=>{Co.getPart(a,e,"toolbar").each(c=>{Cr(c.getApis().toggleWithoutFocusing,i=>i(c))})},isToolbarDrawerToggled:a=>Co.getPart(a,e,"toolbar").bind(c=>d.from(c.getApis().isOpen).map(i=>i(c))).getOr(!1),getThrobber:a=>Co.getPart(a,e,"throbber"),focusToolbar:a=>{Co.getPart(a,e,"toolbar").orThunk(()=>Co.getPart(a,e,"multiple-toolbar")).each(i=>{ce.focusIn(i)})},setMenubar:(a,c)=>{Co.getPart(a,e,"menubar").each(i=>{U0.setMenus(i,c)})},focusMenubar:a=>{Co.getPart(a,e,"menubar").each(c=>{U0.focus(c)})},setViews:(a,c)=>{Co.getPart(a,e,"viewWrapper").each(i=>{gh.setViews(i,c)})},toggleView:(a,c)=>Co.getPart(a,e,"viewWrapper").exists(i=>gh.toggleView(i,()=>r.showMainView(a),()=>r.hideMainView(a),c)),whichView:a=>Co.getPart(a,e,"viewWrapper").bind(gh.whichView).getOrNull(),hideMainView:a=>{n=r.isToolbarDrawerToggled(a),n&&r.toggleToolbarDrawer(a),Co.getPart(a,e,"editorContainer").each(c=>{const i=c.element;s(i),Me(i,"display","none"),Q(i,"aria-hidden","true")})},showMainView:a=>{n&&r.toggleToolbarDrawer(a),Co.getPart(a,e,"editorContainer").each(c=>{const i=c.element;s(i),$e(i,"display"),ht(i,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},Iz=va.optional({factory:U0,name:"menubar",schema:[$("backstage")]}),Vz=e=>e.type===Is.sliding?hz:e.type===Is.floating?mz:hh,Bz=va.optional({factory:{sketch:e=>dw.sketch({uid:e.uid,dom:e.dom,listBehaviours:W([ce.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>hh({type:e.type,uid:se("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),d.some(!0))}),setupItem:(t,o,n,s)=>{Ur.setGroups(o,n)},shell:!0})},name:"multiple-toolbar",schema:[$("dom"),$("onEscape")]}),Pz=va.optional({factory:{sketch:e=>{const t=Vz(e),o={type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),d.some(!0)),onToggled:(n,s)=>e.onToolbarToggled(s),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(o)}},name:"toolbar",schema:[$("dom"),$("onEscape"),$("getSink")]}),Rz=va.optional({factory:{sketch:hR},name:"header",schema:[$("dom")]}),zz=va.optional({factory:{sketch:SR},name:"promotion",schema:[$("dom")]}),Zz=va.optional({name:"socket",schema:[$("dom")]}),$z=va.optional({factory:{sketch:FR},name:"sidebar",schema:[$("dom")]}),Nz=va.optional({factory:{sketch:ZR},name:"throbber",schema:[$("dom")]}),Uz=va.optional({factory:gh,name:"viewWrapper",schema:[$("backstage")]}),Wz=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components}),Gz=va.optional({factory:{sketch:Wz},name:"editorContainer",schema:[]});var ft=mn({name:"OuterContainer",factory:Fz,configFields:[$("dom"),$("behaviours")],partFields:[Rz,Iz,Pz,Bz,Zz,$z,zz,Nz,Uz,Gz],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,o,n)=>{e.setSidebar(t,o,n)},toggleSidebar:(e,t,o)=>{e.toggleSidebar(t,o)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,o)=>{e.setToolbar(t,o)},setToolbars:(e,t,o)=>{e.setToolbars(t,o)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,o)=>{e.setMenubar(t,o)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,o)=>{e.setViews(t,o)},toggleView:(e,t,o)=>e.toggleView(t,o),whichView:(e,t)=>e.whichView(t)}});const jz="file edit view insert format tools table help",zw={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},Yz=(e,t,o)=>{const n=L3(o).split(/[ ,]/);return{text:e.title,getItems:()=>Ie(e.items,s=>{const r=s.toLowerCase();return r.trim().length===0?[]:yo(n,a=>a===r)?[]:r==="separator"||r==="|"?[{type:"separator"}]:t.menuItems[r]?[t.menuItems[r]]:[]})}},e2=e=>e.split(" "),Zw=(e,t)=>{const o={...zw,...t.menus},n=Vt(t.menus).length>0,s=t.menubar===void 0||t.menubar===!0?e2(jz):e2(t.menubar===!1?"":t.menubar),r=it(s,c=>{const i=Xe(zw,c);return n?i||pe(t.menus,c).exists(u=>Xe(u,"items")):i}),a=J(r,c=>{const i=o[c];return Yz({title:i.title,items:e2(i.items)},t,e)});return it(a,c=>{const i=u=>_(u)||u.type!=="separator";return c.getItems().length>0&&yo(c.getItems(),i)})},Xz=e=>{const t=()=>{e._skinLoaded=!0,SH(e)};return()=>{e.initialized?t():e.on("init",t)}},qz=(e,t)=>()=>wH(e,{message:t}),Kz=e=>{const t=ey(e);return t?d.from(t):d.none()},$w=(e,t,o)=>(e.on("remove",()=>o.unload(t)),o.load(t)),ph=(e,t,o,n)=>(e.on("remove",()=>n.unloadRawCss(t)),n.loadRawCss(t,o)),Jz=(e,t)=>"ui/"+e+"/"+t,Qz=e=>d.from(tinymce.Resource.get(e)).filter(_),t2=(e,t,o="")=>{const n=Kz(e).map(r=>Jz(r,`${t}.css`)),s=n.bind(Qz);return Gs(n,s,(r,a)=>({_kind:"load-raw",key:r,css:a})).getOrThunk(()=>{const r=e.editorManager.suffix;return{_kind:"load-stylesheet",url:o+`/${t}${r}.css`}})},eZ=(e,t)=>{const o=e.ui.styleSheetLoader,n=t2(e,"skin",t);switch(n._kind){case"load-raw":const{key:s,css:r}=n;return ph(e,s,r,o),Promise.resolve();case"load-stylesheet":const{url:a}=n;return $w(e,a,o);default:return Promise.resolve()}},tZ=(e,t)=>{if(dc(K.fromDom(e.getElement()))){const n=Uu.DOM.styleSheetLoader,s=t2(e,"skin.shadowdom",t);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return ph(e,r,a,n),Promise.resolve();case"load-stylesheet":const{url:c}=s;return $w(e,c,n);default:return Promise.resolve()}}else return Promise.resolve()},oZ=(e,t,o)=>{const s=t2(e,t?"content.inline":"content",o);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return t?ph(e,r,a,e.ui.styleSheetLoader):e.on("PostRender",()=>{ph(e,r,a,e.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:c}=s;return o&&e.contentCSS.push(c),Promise.resolve();default:return Promise.resolve()}},nZ=async(e,t)=>{const o=ty(t);if(await oZ(t,e,o),!Jp(t)&&_(o))return Promise.all([eZ(t,o),tZ(t,o)]).then()},Nw=(e,t)=>nZ(e,t).then(Xz(t),qz(t,"Skin could not be loaded")),sZ=Ut(Nw,!1),rZ=Ut(Nw,!0),Xl=(e,t,o)=>Tr(o)?e.translate(t):e.translate([t,e.translate(o)]),aZ=(e,t)=>{const o=(a,c,i,u)=>{const m=e.shared.providers.translate(a.title);if(a.type==="separator")return d.some({type:"separator",text:m});if(a.type==="submenu"){const g=Ie(a.getStyleItems(),p=>n(p,c,u));return c===0&&g.length<=0?d.none():d.some({type:"nestedmenuitem",text:m,enabled:g.length>0,getSubmenuItems:()=>Ie(a.getStyleItems(),p=>n(p,c,u))})}else return d.some({type:"togglemenuitem",text:m,icon:a.icon,active:a.isSelected(u),enabled:!i,onAction:t.onAction(a),...a.getStylePreview().fold(()=>({}),g=>({meta:{style:g}}))})},n=(a,c,i)=>{const u=a.type==="formatter"&&t.isInvalid(a);return c===0?u?[]:o(a,c,!1,i).toArray():o(a,c,u,i).toArray()},s=a=>{const c=t.getCurrentValue(),i=t.shouldHide?0:1;return Ie(a,u=>n(u,i,c))};return{validateItems:s,getFetch:(a,c)=>(i,u)=>{const m=c(),g=s(m),p=Gl(g,Rr.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:d.none()});u(p)}}},ql=(e,t)=>{const o=t.dataset,n=o.type==="basic"?()=>J(o.data,s=>J5(s,t.isSelectedFor,t.getPreviewFor)):o.getData;return{items:aZ(e,t),getStyleItems:n}},_d=(e,t,o,n,s,r)=>{const{items:a,getStyleItems:c}=ql(t,o),i=ue(o.tooltip),u=g=>({getComponent:H(g),setTooltip:p=>{const b=t.shared.providers.translate(p);Q(g.element,"aria-label",b),i.set(p)}}),m=g=>{const p=b=>g.setTooltip(Xl(e,n(b.value),b.value));return e.on(s,p),Dm(Pi(e,"NodeChange",b=>{const y=b.getComponent();o.updateText(y),ge.set(b.getComponent(),!e.selection.isEditable())})(g),()=>e.off(s,p))};return C0({context:"mode:design",text:o.icon.isSome()?d.none():o.text,icon:o.icon,ariaLabel:d.some(o.tooltip),tooltip:d.none(),role:d.none(),fetch:a.getFetch(t,c),onSetup:m,getApi:u,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Ft.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(o.tooltip),onShow:g=>{if(o.tooltip!==i.get()){const p=t.shared.providers.translate(i.get());Ft.setComponents(g,t.shared.providers.tooltips.getComponents({tooltipText:p}))}}})})]},"tox-tbtn",t.shared,r)},cZ=e=>J(e,t=>{let o=t,n=t;const s=t.split("=");return s.length>1&&(o=s[0],n=s[1]),{title:o,format:n}}),iZ=e=>({type:"basic",data:e});var Kl;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(Kl||(Kl={}));const lZ=(e,t)=>t===Kl.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),o2=(e,t,o)=>{const n=e.options.get(t);return{type:"basic",data:cZ(lZ(n,o))}},uZ="Align",Uw=H("Alignment {0}"),Ww="left",n2=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Gw=e=>{const t=()=>vt(n2,c=>e.formatter.match(c.format)),o=c=>()=>e.formatter.match(c),n=c=>d.none,s=c=>{const u=t().fold(H(Ww),m=>m.title.toLowerCase());me(c,Wi,{icon:`align-${u}`}),AH(e,{value:u})},r=iZ(n2),a=c=>()=>vt(n2,i=>i.format===c.format).each(i=>e.execCommand(i.command));return{tooltip:Xl(e,Uw(),Ww),text:d.none(),icon:d.some("align-left"),isSelectedFor:o,getCurrentValue:d.none,getPreviewFor:n,onAction:a,updateText:s,dataset:r,shouldHide:!1,isInvalid:c=>!e.formatter.canApply(c.format)}},dZ=(e,t)=>_d(e,t,Gw(e),Uw,"AlignTextUpdate","align"),mZ=(e,t)=>{const o=ql(t,Gw(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate(uZ),onSetup:hn(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},jw=(e,t)=>{const o=t(),n=J(o,s=>s.format);return d.from(e.formatter.closest(n)).bind(s=>vt(o,r=>r.format===s))},hZ="Blocks",Yw=H("Block {0}"),s2="Paragraph",Xw=e=>{const t=r=>()=>e.formatter.match(r),o=r=>()=>{const a=e.formatter.get(r);return a?d.some({tag:a.length>0&&(a[0].inline||a[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(r))}):d.none()},n=r=>{const c=jw(e,()=>s.data).fold(H(s2),i=>i.title);me(r,Zs,{text:c}),HH(e,{value:c})},s=o2(e,"block_formats",Kl.SemiColon);return{tooltip:Xl(e,Yw(),s2),text:d.some(s2),icon:d.none(),isSelectedFor:t,getCurrentValue:d.none,getPreviewFor:o,onAction:Mx(e),updateText:n,dataset:s,shouldHide:!1,isInvalid:r=>!e.formatter.canApply(r.format)}},gZ=(e,t)=>_d(e,t,Xw(e),Yw,"BlocksTextUpdate","blocks"),pZ=(e,t)=>{const o=ql(t,Xw(e));e.ui.registry.addNestedMenuItem("blocks",{text:hZ,onSetup:hn(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},fZ="Fonts",qw=H("Font {0}"),r2="System Font",vZ=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Kw=e=>{const t=e.split(/\s*,\s*/);return J(t,o=>o.replace(/^['"]+|['"]+$/g,""))},Jw=(e,t)=>t.length>0&&bn(t,o=>e.indexOf(o.toLowerCase())>-1),bZ=(e,t)=>{if(e.indexOf("-apple-system")===0||t.length>0){const o=Kw(e.toLowerCase());return Jw(o,vZ)||Jw(o,t)}else return!1},Qw=e=>{const t=()=>{const i=y=>y?Kw(y)[0]:"",u=e.queryCommandValue("FontName"),m=c.data,g=u?u.toLowerCase():"",p=Q3(e);return{matchOpt:vt(m,y=>{const x=y.format;return x.toLowerCase()===g||i(x).toLowerCase()===i(g).toLowerCase()}).orThunk(()=>zo(bZ(g,p),{title:r2,format:g})),font:u}},o=i=>u=>u.exists(m=>m.format===i),n=()=>{const{matchOpt:i}=t();return i},s=i=>()=>d.some({tag:"div",styles:i.indexOf("dings")===-1?{"font-family":i}:{}}),r=i=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,i.format)})},a=i=>{const{matchOpt:u,font:m}=t(),g=u.fold(H(m),p=>p.title);me(i,Zs,{text:g}),LH(e,{value:g})},c=o2(e,"font_family_formats",Kl.SemiColon);return{tooltip:Xl(e,qw(),r2),text:d.some(r2),icon:d.none(),isSelectedFor:o,getCurrentValue:n,getPreviewFor:s,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:rt}},yZ=(e,t)=>_d(e,t,Qw(e),qw,"FontFamilyTextUpdate","fontfamily"),xZ=(e,t)=>{const o=ql(t,Qw(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate(fZ),onSetup:hn(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},SZ={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},wZ=(()=>{const e="[0-9]+",o="[eE]"+("[+-]?"+e),n="\\.",s=c=>`(?:${c})?`,a=`[+-]?(?:${["Infinity",e+n+s(e)+s(o),n+e+s(o),e+s(o)].join("|")})`;return new RegExp(`^(${a})(.*)$`)})(),CZ=(e,t)=>yo(t,o=>yo(SZ[o],n=>e===n)),fh=(e,t)=>d.from(wZ.exec(e)).bind(n=>{const s=Number(n[1]),r=n[2];return CZ(r,t)?d.some({value:s,unit:r}):d.none()}),TZ=(e,t)=>fh(e,t).map(({value:o,unit:n})=>o+n),e6={tab:H(9),escape:H(27),enter:H(13),backspace:H(8),delete:H(46),left:H(37),up:H(38),right:H(39),down:H(40),space:H(32),home:H(36),end:H(35),pageUp:H(33),pageDown:H(34)},MZ=(e,t,o,n)=>{let s=d.none();const r=A=>A.map(I=>ee.getValue(I)).getOr(""),a=Pi(e,"NodeChange SwitchMode DisabledStateChange",A=>{const I=A.getComponent();s=d.some(I),o.updateInputValue(I),ge.set(I,!e.selection.isEditable()||hm(e))}),c=A=>({getComponent:H(A)}),i=ue(j),u=se("custom-number-input-events"),m=(A,I,V)=>{const G=r(s),te=o.getNewValue(G,A),P=G.length-`${te}`.length,oe=s.map(ne=>ne.element.dom.selectionStart-P),Y=s.map(ne=>ne.element.dom.selectionEnd-P);o.onAction(te,V),s.each(ne=>{ee.setValue(ne,te),I&&(oe.each(Le=>ne.element.dom.selectionStart=Le),Y.each(Le=>ne.element.dom.selectionEnd=Le))})},g=(A,I)=>m((V,G)=>V-G,A,I),p=(A,I)=>m((V,G)=>V+G,A,I),b=A=>Un(A.element).fold(d.none,I=>(Yn(I),d.some(!0))),y=A=>Ol(A.element)?(Ea(A.element).each(I=>Yn(I)),d.some(!0)):d.none(),x=(A,I,V,G)=>{const te=ue(j),P=t.shared.providers.translate(V),oe=se("altExecuting"),Y=Pi(e,"NodeChange SwitchMode DisabledStateChange",Le=>{ge.set(Le.getComponent(),!e.selection.isEditable()||hm(e))}),ne=Le=>{ge.isDisabled(Le)||A(!0)};return Bo.sketch({dom:{tag:"button",attributes:{"aria-label":P,"data-mce-name":I},classes:G.concat(I)},components:[w0(I,t.shared.providers.icons)],buttonBehaviours:W([ge.config({}),Ft.config(t.shared.providers.tooltips.getConfig({tooltipText:P})),Te(oe,[zr({onSetup:Y,getApi:c},te),Zr({getApi:c},te),z(Fr(),(Le,dt)=>{(dt.event.raw.keyCode===e6.space()||dt.event.raw.keyCode===e6.enter())&&(ge.isDisabled(Le)||A(!1))}),z(pi(),ne),z(gi(),ne)])]),eventOrder:{[Fr()]:[oe,"keying"],[pi()]:[oe,"alloy.base.behaviour"],[gi()]:[oe,"alloy.base.behaviour"],[Ir()]:["alloy.base.behaviour",oe,"tooltipping"],[ua()]:[oe,"tooltipping"]}})},D=Qe(x(A=>g(!1,A),"minus","Decrease font size",[])),S=Qe(x(A=>p(!1,A),"plus","Increase font size",[])),k=Qe({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Dc.sketch({inputBehaviours:W([ge.config({}),Te(u,[zr({onSetup:a,getApi:c},i),Zr({getApi:c},i)]),Te("input-update-display-text",[z(Zs,(A,I)=>{ee.setValue(A,I.event.text)}),z(cv(),A=>{o.onAction(ee.getValue(A))}),z(yl(),A=>{o.onAction(ee.getValue(A))})]),ce.config({mode:"special",onEnter:A=>(m(Ze,!0,!0),d.some(!0)),onEscape:b,onUp:A=>(p(!0,!1),d.some(!0)),onDown:A=>(g(!0,!1),d.some(!0)),onLeft:(A,I)=>(I.cut(),d.none()),onRight:(A,I)=>(I.cut(),d.none())})])})],behaviours:W([be.config({}),ce.config({mode:"special",onEnter:y,onSpace:y,onEscape:b}),Te("input-wrapper-events",[z(la(),A=>{le([D,S],I=>{const V=K.fromDom(I.get(A).element.dom);Ol(V)&&V1(V)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{..._t(n)?{"data-mce-name":n}:{}}},components:[D.asSpec(),k.asSpec(),S.asSpec()],behaviours:W([be.config({}),ce.config({mode:"flow",focusInside:_i.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:A=>Ol(A.element)?d.none():(Yn(A.element),d.some(!0))})])}},kZ="Font sizes",t6=H("Font size {0}"),o6="12pt",OZ={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},_Z={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},AZ=(e,t)=>{const o=Math.pow(10,t);return Math.round(e*o)/o},EZ=(e,t)=>/[0-9.]+px$/.test(e)?AZ(parseInt(e,10)*72/96,t||0)+"pt":pe(_Z,e).getOr(e),DZ=e=>pe(OZ,e).getOr(""),n6=e=>{const t=()=>{let i=d.none();const u=c.data,m=e.queryCommandValue("FontSize");if(m)for(let g=3;i.isNone()&&g>=0;g--){const p=EZ(m,g),b=DZ(p);i=vt(u,y=>y.format===m||y.format===p||y.format===b)}return{matchOpt:i,size:m}},o=i=>u=>u.exists(m=>m.format===i),n=()=>{const{matchOpt:i}=t();return i},s=H(d.none),r=i=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,i.format)})},a=i=>{const{matchOpt:u,size:m}=t(),g=u.fold(H(m),p=>p.title);me(i,Zs,{text:g}),EH(e,{value:g})},c=o2(e,"font_size_formats",Kl.Space);return{tooltip:Xl(e,t6(),o6),text:d.some(o6),icon:d.none(),isSelectedFor:o,getPreviewFor:s,getCurrentValue:n,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:rt}},HZ=(e,t)=>_d(e,t,n6(e),t6,"FontSizeTextUpdate","fontsize"),LZ=e=>{var t;const o={step:1};return(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])!==null&&t!==void 0?t:o},FZ=16,IZ=e=>e>=0,VZ=e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:n=>me(n,Zs,{text:t()}),onAction:(n,s)=>e.execCommand("FontSize",!1,n,{skip_focus:!s}),getNewValue:(n,s)=>{fh(n,["unsupportedLength","empty"]);const r=t(),a=fh(n,["unsupportedLength","empty"]).or(fh(r,["unsupportedLength","empty"])),c=a.map(p=>p.value).getOr(FZ),i=z3(e),u=a.map(p=>p.unit).filter(p=>p!=="").getOr(i),m=s(c,LZ(u).step),g=`${IZ(m)?m:c}${u}`;return g!==r&&DH(e,{value:g}),g}}},BZ=(e,t)=>MZ(e,t,VZ(e),"fontsizeinput"),PZ=(e,t)=>{const o=ql(t,n6(e));e.ui.registry.addNestedMenuItem("fontsize",{text:kZ,onSetup:hn(e),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},RZ="Formats",s6=e=>Tr(e)?"Formats":"Format {0}",r6=(e,t)=>{const o="Formats",n=a=>()=>e.formatter.match(a),s=a=>()=>{const c=e.formatter.get(a);return c!==void 0?d.some({tag:c.length>0&&(c[0].inline||c[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(a))}):d.none()},r=a=>{const c=g=>j5(g)?Ie(g.items,c):Y5(g)?[{title:g.title,format:g.format}]:[],i=Ie(K5(e),c),m=jw(e,H(i)).fold(H({title:o,tooltipLabel:""}),g=>({title:g.title,tooltipLabel:g.title}));me(a,Zs,{text:m.title}),_H(e,{value:m.tooltipLabel})};return{tooltip:Xl(e,s6(""),""),text:d.some(o),icon:d.none(),isSelectedFor:n,getCurrentValue:d.none,getPreviewFor:s,onAction:Mx(e),updateText:r,shouldHide:D3(e),isInvalid:a=>!e.formatter.canApply(a.format),dataset:t}},zZ=(e,t)=>{const o={type:"advanced",...t.styles};return _d(e,t,r6(e,o),s6,"StylesTextUpdate","styles")},ZZ=(e,t)=>{const o={type:"advanced",...t.styles},n=ql(t,r6(e,o));e.ui.registry.addNestedMenuItem("styles",{text:RZ,onSetup:hn(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},$Z=H([$("toggleClass"),$("fetch"),wi("onExecute"),F("getHotspot",d.some),F("getAnchorOverrides",H({})),kc(),wi("onItemExecute"),Je("lazySink"),$("dom"),je("onOpen"),_o("splitDropdownBehaviours",[Nt,ce,be]),F("matchWidth",!1),F("useMinWidth",!1),F("eventOrder",{}),Je("role"),Je("listRole")].concat(Kf())),NZ=on({factory:Bo,schema:[$("dom")],name:"arrow",defaults:()=>({buttonBehaviours:W([be.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(bi)},buttonBehaviours:W([He.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),UZ=on({factory:Bo,schema:[$("dom")],name:"button",defaults:()=>({buttonBehaviours:W([be.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(o=>{e.onExecute(o,t)})}})}),WZ=H([NZ,UZ,Fs({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[$("text")],name:"aria-descriptor"}),ar({schema:[E1()],name:"menu",defaults:e=>({onExecute:(t,o)=>{t.getSystem().getByUid(e.uid).each(n=>{e.onItemExecute(n,t,o)})}})}),jx()]),GZ=(e,t,o,n)=>{const s=m=>{Ne.getCurrent(m).each(g=>{et.highlightFirst(g),ce.focusIn(g)})},r=m=>{Xf(e,Ze,m,n,s,kn.HighlightMenuAndItem).get(j)},a=m=>(r(m),d.some(!0)),c=m=>{const g=_c(m,e,"button");return bi(g),d.some(!0)},i={...wt([Ct((m,g)=>{gt(m,e,"aria-descriptor").each(b=>{const y=se("aria");Q(b.element,"id",y),Q(m.element,"aria-describedby",y)})})]),...dm(d.some(r))},u={repositionMenus:m=>{He.isOn(m)&&Kx(m)}};return{uid:e.uid,dom:e.dom,components:t,apis:u,eventOrder:{...e.eventOrder,[hs()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:Vo(e.splitDropdownBehaviours,[Nt.config({others:{sandbox:m=>{const g=_c(m,e,"arrow");return qf(e,m,{onOpen:()=>{He.on(g),He.on(m)},onClose:()=>{He.off(g),He.off(m)}})}}}),ce.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),be.config({}),He.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},vh=mn({name:"SplitDropdown",configFields:$Z(),partFields:WZ(),factory:GZ,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),a6=e=>({isEnabled:()=>!ge.isDisabled(e),setEnabled:t=>ge.set(e,!t),setText:t=>me(e,Zs,{text:t}),setIcon:t=>me(e,Wi,{icon:t})}),jZ=e=>({setActive:t=>{He.set(e,t)},isActive:()=>He.isOn(e),isEnabled:()=>!ge.isDisabled(e),setEnabled:t=>ge.set(e,!t),setText:t=>me(e,Zs,{text:t}),setIcon:t=>me(e,Wi,{icon:t})}),c6=(e,t)=>e.map(o=>({"aria-label":t.translate(o)})).getOr({}),i6=se("focus-button"),a2=(e,t,o,n,s,r,a)=>{const c=t.map(u=>Qe(u5(u,"tox-tbtn",s))),i=e.map(u=>Qe(Pc(u,s.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:{...c6(o,s),..._t(a)?{"data-mce-name":a}:{}}},components:zl([i.map(u=>u.asSpec()),c.map(u=>u.asSpec())]),eventOrder:{[ms()]:["focusing","alloy.base.behaviour",Bc],[Ir()]:[Bc,"toolbar-group-button-events"],[ua()]:[Bc,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:W([zs.toolbarButton(()=>s.checkUiComponentContext(r).shouldDisable),to(()=>s.checkUiComponentContext(r)),Te(Bc,[Ct((u,m)=>S0(u)),z(Zs,(u,m)=>{c.bind(g=>g.getOpt(u)).each(g=>{we.set(g,[At(s.translate(m.event.text))])})}),z(Wi,(u,m)=>{i.bind(g=>g.getOpt(u)).each(g=>{we.set(g,[Pc(m.event.icon,s.icons)])})}),z(ms(),(u,m)=>{m.event.prevent(),Re(u,i6)})])].concat(n.getOr([])))}},YZ=(e,t,o,n,s)=>{const r=t.shared,a=ue(j),c={toolbarButtonBehaviours:[],getApi:a6,onSetup:e.onSetup},i=[Te("toolbar-group-button-events",[zr(c,a),Zr(c,a)]),...e.tooltip.map(u=>Ft.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(u)}))).toArray()];return zc.sketch({lazySink:r.getSink,fetch:()=>Xo.nu(u=>{u(J(o(e.items),mh))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:a2(e.icon,e.text,e.tooltip,d.some(i),r.providers,e.context,s),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n}}}})},l6=(e,t,o,n)=>{var s;const r=ue(j),a=a2(e.icon,e.text,e.tooltip,d.none(),o,e.context,n);return Bo.sketch({dom:a.dom,components:a.components,eventOrder:i5,buttonBehaviours:{...W([Te("toolbar-button-events",[SV({onAction:e.onAction,getApi:t.getApi}),zr(t,r),Zr(t,r)]),...e.tooltip.map(c=>Ft.config(o.tooltips.getConfig({tooltipText:o.translate(c)+e.shortcut.map(i=>` (${Hf(i)})`).getOr("")}))).toArray(),zs.toolbarButton(()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable),to(()=>o.checkUiComponentContext(e.context))].concat(t.toolbarButtonBehaviours)),[Bc]:(s=a.buttonBehaviours)===null||s===void 0?void 0:s[Bc]}})},XZ=(e,t,o)=>u6(e,t,[],o),u6=(e,t,o,n)=>l6(e,{toolbarButtonBehaviours:o.length>0?[Te("toolbarButtonWith",o)]:[],getApi:a6,onSetup:e.onSetup},t,n),qZ=(e,t,o)=>d6(e,t,[],o),d6=(e,t,o,n)=>l6(e,{toolbarButtonBehaviours:[we.config({}),He.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Te("toolbarToggleButtonWith",o)]:[]),getApi:jZ,onSetup:e.onSetup},t,n),KZ=(e,t,o)=>n=>Xo.nu(s=>t.fetch(s)).map(s=>d.from(Jf(Rt(jf(se("menu-value"),s,r=>{t.onItemAction(e(n),r)},t.columns,t.presets,Rr.CLOSE_ON_EXECUTE,t.select.getOr(rt),o),{movement:Fm(t.columns,t.presets),menuBehaviours:ad.unnamedEvents(t.columns!=="auto"?[]:[Ct((r,a)=>{Df(r,4,Fy(t.presets)).each(({numRows:c,numColumns:i})=>{ce.setGridSize(r,c,i)})})])})))),JZ=(e,t,o)=>{const n=ue(e.tooltip.getOr("")),s=c=>({isEnabled:()=>!ge.isDisabled(c),setEnabled:i=>ge.set(c,!i),setIconFill:(i,u)=>{kt(c.element,`svg path[class="${i}"], rect[class="${i}"]`).each(m=>{Q(m,"fill",u)})},setActive:i=>{Q(c.element,"aria-pressed",i),kt(c.element,"span").each(u=>{c.getSystem().getByDom(u).each(m=>He.set(m,i))})},isActive:()=>kt(c.element,"span").exists(i=>c.getSystem().getByDom(i).exists(He.isOn)),setText:i=>kt(c.element,"span").each(u=>c.getSystem().getByDom(u).each(m=>me(m,Zs,{text:i}))),setIcon:i=>kt(c.element,"span").each(u=>c.getSystem().getByDom(u).each(m=>me(m,Wi,{icon:i}))),setTooltip:i=>{const u=t.providers.translate(i);Q(c.element,"aria-label",u),n.set(i)}}),r=ue(j),a={getApi:s,onSetup:e.onSetup};return vh.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...c6(e.tooltip,t.providers),..._t(o)?{"data-mce-name":o}:{}}},onExecute:c=>{const i=s(c);i.isEnabled()&&e.onAction(i)},onItemExecute:(c,i,u)=>{},splitDropdownBehaviours:W([Te("split-dropdown-events",[Ct((c,i)=>S0(c)),z(i6,be.focus),zr(a,r),Zr(a,r)]),zs.splitButton(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),to(()=>t.providers.checkUiComponentContext(e.context)),bd.config({}),...e.tooltip.map(c=>Ft.config({...t.providers.tooltips.getConfig({tooltipText:t.providers.translate(c),onShow:i=>{if(n.get()!==c){const u=t.providers.translate(n.get());Ft.setComponents(i,t.providers.tooltips.getComponents({tooltipText:u}))}}})})).toArray()]),eventOrder:{[Ir()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[ua()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:KZ(s,e,t.providers),parts:{menu:wm(!1,e.columns,e.presets)},components:[vh.parts.button(a2(e.icon,e.text,d.none(),d.some([He.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),zs.toolbarButton(rt),to(H({contextType:"any",shouldDisable:!1}))]),t.providers,e.context)),vh.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ky("chevron-down",t.providers.icons)},buttonBehaviours:W([zs.splitButton(rt),to(H({contextType:"any",shouldDisable:!1}))])}),vh.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},QZ=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ad=(e,t)=>(o,n,s,r)=>{const a=e(o).mapError(c=>fl(c)).getOrDie();return t(a,n,s,r)},e$={button:Ad(qy,(e,t,o,n)=>XZ(e,t.shared.providers,n)),togglebutton:Ad(Ky,(e,t,o,n)=>qZ(e,t.shared.providers,n)),menubutton:Ad(yw,(e,t,o,n)=>Cd(e,"tox-tbtn",t,d.none(),!1,n)),splitbutton:Ad(bR,(e,t,o,n)=>JZ(e,t.shared,n)),grouptoolbarbutton:Ad(pR,(e,t,o,n)=>{const s=o.ui.registry.getAll().buttons,r=c=>bh(o,{buttons:s,toolbar:c,allowToolbarGroups:!1},t,d.none()),a={[up]:t.shared.header.isPositionedAtTop()?za.TopToBottom:za.BottomToTop};switch(Fl(o)){case Is.floating:return YZ(e,t,r,a,n);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},t$=(e,t,o,n)=>pe(e$,e.type).fold(()=>(console.error("skipping button defined by",e),d.none()),s=>d.some(s(e,t,o,n))),m6={styles:zZ,fontsize:HZ,fontsizeinput:BZ,fontfamily:yZ,blocks:gZ,align:dZ},o$=e=>{const t=J(QZ,o=>{const n=it(o.items,s=>Xe(e,s)||Xe(m6,s));return{name:o.name,items:n}});return it(t,o=>o.items.length>0)},n$=e=>{const t=e.split("|");return J(t,o=>({items:o.trim().split(" ")}))},s$=e=>xe(e,t=>(Xe(t,"name")||Xe(t,"label"))&&Xe(t,"items")),r$=e=>{const t=e.toolbar,o=e.buttons;return t===!1?[]:t===void 0||t===!0?o$(o):_(t)?n$(t):s$(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},a$=(e,t,o,n,s,r)=>pe(t,o.toLowerCase()).orThunk(()=>r.bind(a=>Ho(a,c=>pe(t,c+o.toLowerCase())))).fold(()=>pe(m6,o.toLowerCase()).map(a=>a(e,s)),a=>a.type==="grouptoolbarbutton"&&!n?(console.warn(`Ignoring the '${o}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),d.none()):t$(a,s,e,o.toLowerCase())),bh=(e,t,o,n)=>{const s=r$(t),r=J(s,a=>{const c=Ie(a.items,i=>i.trim().length===0?[]:a$(e,t.buttons,i,t.allowToolbarGroups,o,n).toArray());return{title:d.from(e.translate(a.name)),label:zo(a.label!==void 0,e.translate(a.label)),items:c}});return it(r,a=>a.items.length>0)},h6=(e,t,o,n)=>{const s=t.mainUi.outerContainer,r=o.toolbar,a=o.buttons;if(xe(r,_)){const c=r.map(i=>{const u={toolbar:i,buttons:a,allowToolbarGroups:o.allowToolbarGroups};return bh(e,u,n,d.none())});ft.setToolbars(s,c)}else ft.setToolbar(s,bh(e,o,n,d.none()))},g6=un(),c$=g6.os.isiOS()&&g6.os.version.major<=12,i$=(e,t)=>{const{uiMotherships:o}=t,n=e.dom;let s=e.getWin();const r=e.getDoc().documentElement,a=ue(bt(s.innerWidth,s.innerHeight)),c=ue(bt(r.offsetWidth,r.offsetHeight)),i=()=>{const p=a.get();(p.left!==s.innerWidth||p.top!==s.innerHeight)&&(a.set(bt(s.innerWidth,s.innerHeight)),Bf(e))},u=()=>{const p=e.getDoc().documentElement,b=c.get();(b.left!==p.offsetWidth||b.top!==p.offsetHeight)&&(c.set(bt(p.offsetWidth,p.offsetHeight)),Bf(e))},m=p=>{TH(e,p)};n.bind(s,"resize",i),n.bind(s,"scroll",m);const g=ip(K.fromDom(e.getBody()),"load",u);e.on("hide",()=>{le(o,p=>{Me(p.element,"display","none")})}),e.on("show",()=>{le(o,p=>{$e(p.element,"display")})}),e.on("NodeChange",u),e.on("remove",()=>{g.unbind(),n.unbind(s,"resize",i),n.unbind(s,"scroll",m),s=null})},l$=(e,t,o)=>{Ac(e)&&G1(o.mainUi.mothership.element,o.popupUi.mothership),fp(t,o.dialogUi.mothership)};var u$=Object.freeze({__proto__:null,render:(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=t,c=ue(0),i=r.outerContainer;sZ(e);const u=K.fromDom(s.targetNode),m=Or(Zo(u));G1(u,r.mothership),l$(e,m,t),e.on("PostRender",()=>{ft.setSidebar(i,o.sidebar,q3(e))}),e.on("SkinLoaded",()=>{h6(e,t,o,n),c.set(e.getWin().innerWidth),ft.setMenubar(i,Zw(e,o)),ft.setViews(i,o.views),i$(e,t)});const g=ft.getSocket(i).getOrDie("Could not find expected socket element");if(c$){Ds(g.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const x=cV(()=>{e.dispatch("ScrollContent")},20),D=Tn(g.element,"scroll",x.throttle);e.on("remove",D.unbind)}nx(e,t),e.addCommand("ToggleSidebar",(x,D)=>{ft.toggleSidebar(i,D),FH(e)}),e.addQueryValueHandler("ToggleSidebar",()=>{var x;return(x=ft.whichSidebar(i))!==null&&x!==void 0?x:""}),e.addCommand("ToggleView",(x,D)=>{if(ft.toggleView(i,D)){const S=i.element;r.mothership.broadcastOn([Oc()],{target:S}),le(a,k=>{k.broadcastOn([Oc()],{target:S})}),En(ft.whichView(i))&&(e.focus(),e.nodeChanged(),ft.refreshToolbar(i)),IH(e)}}),e.addQueryValueHandler("ToggleView",()=>{var x;return(x=ft.whichView(i))!==null&&x!==void 0?x:""});const p=Fl(e),b=()=>{ft.refreshToolbar(t.mainUi.outerContainer)};(p===Is.sliding||p===Is.floating)&&e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const x=e.getWin().innerWidth;x!==c.get()&&(b(),c.set(x))});const y={setEnabled:x=>{id(t,x?"setEnabled":"setDisabled")},isEnabled:()=>!ge.isDisabled(i)};return{iframeContainer:g.element.dom,editorContainer:i.element.dom,api:y}}});const p6=e=>/^[0-9\.]+(|px)$/i.test(""+e)?d.some(parseInt(""+e,10)):d.none(),c2=e=>Ro(e)?e+"px":e,yh=(e,t,o)=>{const n=t.filter(r=>e<r),s=o.filter(r=>e>r);return n.or(s).getOr(e)},d$=e=>{const t=Wp(e),o=Yp(e),n=Xp(e);return p6(t).map(s=>yh(s,o,n))},m$=e=>d$(e).getOr(Wp(e)),f6=e=>{const t=Gp(e),o=jp(e),n=gm(e);return p6(t).map(s=>yh(s,o,n))},h$=e=>f6(e).getOr(Gp(e)),{ToolbarLocation:i2,ToolbarMode:v6}=JE,g$=40,p$=(e,t,o,n,s)=>{const{mainUi:r,uiMotherships:a}=o,c=Uu.DOM,i=Il(e),u=Vl(e),m=gm(e).or(f6(e)),g=n.shared.header,p=g.isPositionedAtTop,b=150,y=Fl(e),x=y===v6.sliding||y===v6.floating,D=ue(!1),S=()=>D.get()&&!e.removed,k=re=>x?re.fold(H(0),N=>N.components().length>1?mo(N.components()[1].element):0):0,A=re=>{switch(qp(e)){case i2.auto:const N=ft.getToolbar(r.outerContainer),q=k(N),ve=mo(re.element)-q,ke=ho(t);if(ke.y>ve)return"top";{const Se=As(t),st=Math.max(Se.dom.scrollHeight,mo(Se));return ke.bottom<st-ve||$o().bottom<ke.bottom-ve?"bottom":"top"}case i2.bottom:return"bottom";case i2.top:default:return"top"}},I=re=>{s.on(N=>{Lt.setModes(N,[re]),g.setDockingMode(re);const q=p()?za.TopToBottom:za.BottomToTop;Q(N.element,up,q)})},V=()=>{s.on(re=>{const N=m.getOrThunk(()=>yu().width-qs(t).left-10);Me(re.element,"max-width",N+"px")})},G=(re,N)=>{s.on(q=>{const ve=ft.getToolbar(r.outerContainer),ke=k(ve),ie=ho(t),Se=te(e,r.outerContainer.element),st=()=>Se.fold(()=>ie.x,Ao=>{const Rn=ho(Ao);return nt(Ao,Z())?ie.x:ie.x-Rn.x}),tt=()=>Se.fold(()=>p()?Math.max(ie.y-mo(q.element)+ke,0):ie.bottom,Ao=>{var Rn;const zn=ho(Ao),ys=(Rn=Ao.dom.scrollTop)!==null&&Rn!==void 0?Rn:0,pr=nt(Ao,Z())?Math.max(ie.y-mo(q.element)+ke,0):ie.y-zn.y+ys-mo(q.element)+ke;return p()?pr:ie.bottom}),gn=st(),Tt=zo(re,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter(Ao=>Ao>b).map(Ao=>{const Rn=N.getOr(wn()),zn=window.innerWidth-(gn-Rn.left),ys=Math.max(Math.min(Ao,zn),b);return zn<Ao&&Me(r.outerContainer.element,"width",ys+"px"),{width:ys+"px"}}).getOr({width:"max-content"}),Pn={position:"absolute",left:Math.round(gn)+"px",top:tt()+"px"};Ds(r.outerContainer.element,{...Pn,...Tt})})},te=(re,N)=>Ac(re)?Lg(N):d.none(),P=()=>{le(a,re=>{re.broadcastOn([Al()],{})})},oe=()=>!i&&(as(r.outerContainer.element).left+hc(r.outerContainer.element)>=window.innerWidth-g$||Jt(r.outerContainer.element,"width").isSome())?(Me(r.outerContainer.element,"position","absolute"),Me(r.outerContainer.element,"left","0px"),$e(r.outerContainer.element,"width"),!0):!1,Y=re=>{if(!S())return;i||V();const N=wn(),q=i?!1:oe();if(x&&ft.refreshToolbar(r.outerContainer),!i){const ve=wn(),ke=zo(N.left!==ve.left,N);G(q,ke),ke.each(ie=>{ui(ie.left,ve.top)})}u&&s.on(re),P()},ne=()=>i||!u||!S()?!1:s.get().exists(re=>{const N=g.getDockingMode(),q=A(re);return q!==N?(I(q),!0):!1});return{isVisible:S,isPositionedAtTop:p,show:()=>{D.set(!0),Me(r.outerContainer.element,"display","flex"),c.addClass(e.getBody(),"mce-edit-focus"),le(a,re=>{$e(re.element,"display")}),ne(),Ac(e)?Y(re=>Lt.isDocked(re)?Lt.reset(re):Lt.refresh(re)):Y(Lt.refresh)},hide:()=>{D.set(!1),Me(r.outerContainer.element,"display","none"),c.removeClass(e.getBody(),"mce-edit-focus"),le(a,re=>{Me(re.element,"display","none")})},update:Y,updateMode:()=>{ne()&&Y(Lt.reset)},repositionPopups:P}},b6=(e,t)=>{const o=ho(e);return{pos:t?o.y:o.bottom,bounds:o}},f$=(e,t,o,n)=>{const s=ue(b6(t,o.isPositionedAtTop())),r=u=>{const{pos:m,bounds:g}=b6(t,o.isPositionedAtTop()),{pos:p,bounds:b}=s.get(),y=g.height!==b.height||g.width!==b.width;s.set({pos:m,bounds:g}),y&&Bf(e,u),o.isVisible()&&(p!==m?o.update(Lt.reset):y&&(o.updateMode(),o.repositionPopups()))};n||(e.on("activate",o.show),e.on("deactivate",o.hide)),e.on("SkinLoaded ResizeWindow",()=>o.update(Lt.reset)),e.on("NodeChange keydown",u=>{requestAnimationFrame(()=>r(u))});let a=0;const c=v0(()=>o.update(Lt.refresh),33);e.on("ScrollWindow",()=>{const u=wn().left;u!==a&&(a=u,c.throttle()),o.updateMode()}),Ac(e)&&e.on("ElementScroll",u=>{o.update(Lt.refresh)});const i=bc();i.set(ip(K.fromDom(e.getBody()),"load",u=>r(u.raw))),e.on("remove",()=>{i.clear()})};var v$=Object.freeze({__proto__:null,render:(e,t,o,n,s)=>{const{mainUi:r}=t,a=ut(),c=K.fromDom(s.targetNode),i=p$(e,c,t,n,a),u=I3(e);rZ(e);const m=()=>{if(a.isSet()){i.show();return}a.set(ft.getHeader(r.outerContainer).getOrDie());const p=tf(e);Ac(e)?(G1(c,r.mothership),G1(c,t.popupUi.mothership)):fp(p,r.mothership),fp(p,t.dialogUi.mothership);const b=()=>{h6(e,t,o,n),ft.setMenubar(r.outerContainer,Zw(e,o)),i.show(),f$(e,c,i,u),e.nodeChanged()};u?e.once("SkinLoaded",b):b()};e.on("show",m),e.on("hide",i.hide),u||(e.on("focus",m),e.on("blur",i.hide)),e.on("init",()=>{(e.hasFocus()||u)&&m()}),nx(e,t);const g={show:m,hide:i.hide,setEnabled:p=>{id(t,p?"setEnabled":"setDisabled")},isEnabled:()=>!ge.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:g}}});const b$=()=>{const e=ut(),t=ut(),o=ut();return{dialogUi:e,popupUi:t,mainUi:o,getUiMotherships:()=>{const r=e.get().map(c=>c.mothership),a=t.get().map(c=>c.mothership);return r.fold(()=>a.toArray(),c=>a.fold(()=>[c],i=>nt(c.element,i.element)?[c]:[c,i]))},lazyGetInOuterOrDie:(r,a)=>()=>o.get().bind(c=>a(c.outerContainer)).getOrDie(`Could not find ${r} element in OuterContainer`)}},y$="contexttoolbar-show",y6="contexttoolbar-hide",x$=".tox-toolbar-slider__input,.tox-toolbar-textfield",l2=e=>{Et.getContent(e).each(t=>{kt(t.element,x$).fold(()=>ce.focusIn(t),Yn)})},x6=e=>dn(e.element).each(t=>{Pa(t,'[tabindex="-1"]').each(o=>{Yn(o)})}),S6=se("forward-slide"),u2=se("backward-slide"),d2=se("change-slide-event"),m2="tox-pop--resizing",S$=e=>{const t=ue([]);return Et.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:o=>{t.set([]),Et.getContent(o).each(n=>{$e(n.element,"visibility")}),Yt(o.element,m2),$e(o.element,"width")},onHide:()=>{e.onHide()},inlineBehaviours:W([Te("context-toolbar-events",[Sl(_u(),(o,n)=>{n.event.raw.propertyName==="width"&&(Yt(o.element,m2),$e(o.element,"width"))}),z(d2,(o,n)=>{const s=o.element;$e(s,"width");const r=ln(s);$e(s,"left"),$e(s,"right"),$e(s,"max-width"),Et.setContent(o,n.event.contents),ro(s,m2);const a=ln(s);Me(s,"transition","none"),Et.reposition(o),$e(s,"transition"),Me(s,"width",r+"px"),n.event.focus.fold(()=>l2(o),c=>{Yn(c),dn(s).isNone()&&l2(o)}),setTimeout(()=>{Me(o.element,"width",a+"px")},0)}),z(S6,(o,n)=>{Et.getContent(o).each(s=>{t.set(t.get().concat([{bar:s,focus:Ra(Zo(o.element))}]))}),me(o,d2,{contents:n.event.forwardContents,focus:d.none()})}),z(u2,(o,n)=>{e.onBack(),wr(t.get()).each(s=>{t.set(t.get().slice(0,t.get().length-1)),me(o,d2,{contents:ps(s.bar),focus:s.focus})})})]),ce.config({mode:"special",onEscape:o=>wr(t.get()).fold(()=>e.onEscape(),n=>(Re(o,u2),d.some(!0)))})]),lazySink:()=>Ve.value(e.sink)})},Xa=e=>{const t=ut();return{setInputEnabled:o=>{o||x6(e),ge.set(e,!o)},isInputEnabled:()=>!ge.isDisabled(e),hide:()=>{t.isSet()||t.set(ee.getValue(e)),Re(e,M1())},back:()=>{t.isSet()||t.set(ee.getValue(e)),Re(e,u2)},getValue:()=>t.get().getOrThunk(()=>ee.getValue(e)),setValue:o=>{t.isSet()?t.set(o):ee.setValue(e,o)}}},w6=(e,t)=>z(c5,(o,n)=>{const s=e.get(o),r=Xa(s);t.onAction(r,n.event.buttonApi)}),w$=(e,t,o)=>{const{primary:n,...s}=t.original,r=Hr(qy({...s,type:"button",onAction:j}));return u6(r,o,[w6(e,t)])},C$=(e,t,o)=>{const{primary:n,...s}=t.original,r=Hr(Ky({...s,type:"togglebutton",onAction:j}));return d6(r,o,[w6(e,t)])},T$=e=>e.type==="contextformtogglebutton",M$=(e,t,o)=>T$(t)?C$(e,t,o):w$(e,t,o),C6=(e,t,o)=>{const n=J(t,a=>Qe(M$(e,a,o)));return{asSpecs:()=>J(n,a=>a.asSpec()),findPrimary:a=>Ho(t,(c,i)=>c.primary?d.from(n[i]).bind(u=>u.getOpt(a)).filter(Do(ge.isDisabled)):d.none())}},k$=(e,t,o)=>{const{width:n,height:s}=e.initValue();return v5({inDialog:!1,label:e.label,enabled:!0,context:d.none(),name:d.none(),width:n,height:s,onEnter:d.some(o),onInput:d.some(r=>e.onInput(Xa(r))),onSetup:d.some(e.onSetup),getApi:d.some(Xa)},t)},T6=(e,t,o)=>Ue.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...e.toArray(),t],fieldBehaviours:W([ge.config({disabled:()=>o.checkUiComponentContext("mode:design").shouldDisable,onDisabled:n=>{x6(n),Ue.getField(n).each(ge.disable)},onEnabled:n=>{Ue.getField(n).each(ge.enable)}})])}),O$=(e,t,o)=>{const n=ue(j),s=e.label.map(a=>Ue.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[At(t.translate(a))]})),r=Ue.parts.field({factory:Dc,type:"range",inputClasses:["tox-toolbar-slider__input"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:a=>ea(a).getOr(e.min()),toInputValue:a=>String(a),inputBehaviours:W([ge.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),to(()=>t.checkUiComponentContext("mode:design")),ce.config({mode:"special",onEnter:o,onLeft:(a,c)=>(c.cut(),d.none()),onRight:(a,c)=>(c.cut(),d.none())}),Te("slider-events",[zr({onSetup:e.onSetup,getApi:Xa,onBeforeSetup:ce.focusIn},n),Zr({getApi:Xa},n),z(Ia(),a=>{e.onInput(Xa(a))})])])});return T6(s,r,t)},_$=(e,t,o)=>{const n=ue(j),s=e.label.map(i=>Ue.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[At(t.translate(i))]})),a={...e.placeholder.map(i=>({placeholder:t.translate(i)})).getOr({})},c=Ue.parts.field({factory:Dc,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],inputAttributes:a,data:e.initValue(),selectOnFocus:!0,inputBehaviours:W([ge.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),to(()=>t.checkUiComponentContext("mode:design")),ce.config({mode:"special",onEnter:o,onLeft:(i,u)=>(u.cut(),d.none()),onRight:(i,u)=>(u.cut(),d.none())}),Te("input-events",[zr({onSetup:e.onSetup,getApi:Xa,onBeforeSetup:ce.focusIn},n),Zr({getApi:Xa},n),z(Ia(),i=>{e.onInput(Xa(i))})])])});return T6(s,c,t)},h2=(e,t,o)=>{const s=Qe(e(o,i=>a.findPrimary(i).orThunk(()=>c.findPrimary(i)).map(u=>(bi(u),!0)))),r=wa(t.commands,i=>i.align==="start"),a=C6(s,r.pass,o),c=C6(s,r.fail,o);return it([{title:d.none(),label:d.none(),items:a.asSpecs()},{title:d.none(),label:d.none(),items:[s.asSpec()]},{title:d.none(),label:d.none(),items:c.asSpecs()}],i=>i.items.length>0)},M6=(e,t)=>{switch(e.type){case"contextform":return h2(Ut(_$,e),e,t);case"contextsliderform":return h2(Ut(O$,e),e,t);case"contextsizeinputform":return h2(Ut(k$,e),e,t)}},A$={renderContextForm:(e,t,o)=>hh({type:e,uid:se("context-toolbar"),initGroups:M6(t,o),onEscape:d.none,cyclicKeying:!0,providers:o}),buildInitGroups:M6},k6=(e,t,o)=>t.bottom-e.y>=o&&e.bottom-t.y>=o,E$=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const o=Da(K.fromDom(e.startContainer),e.startOffset).element;return(R(o)?Jo(o):d.some(o)).filter(uo).map(s=>s.dom.getBoundingClientRect()).getOr(t)}else return t},g2=e=>{const t=e.selection.getRng(),o=E$(t);if(e.inline){const n=wn();return So(n.left+o.left,n.top+o.top,o.width,o.height)}else{const n=Er(K.fromDom(e.getBody()));return So(n.x+o.left,n.y+o.top,o.width,o.height)}},D$=(e,t)=>t.filter(o=>E(o)&&oo(o)).map(Er).getOrThunk(()=>g2(e)),H$=(e,t,o)=>{const n=Math.max(e.x+o,t.x),s=Math.min(e.right-o,t.right);return{x:n,width:s-n}},L$=(e,t,o,n,s,r)=>{const a=K.fromDom(e.getContainer()),c=kt(a,".tox-editor-header").getOr(a),i=ho(c),u=i.y>=t.bottom,m=n&&!u;if(e.inline&&m)return{y:Math.max(i.bottom+r,o.y),bottom:o.bottom};if(e.inline&&!m)return{y:o.y,bottom:Math.min(i.y-r,o.bottom)};const g=s==="line"?ho(a):t;return m?{y:Math.max(i.bottom+r,o.y),bottom:Math.min(g.bottom-r,o.bottom)}:{y:Math.max(g.y+r,o.y),bottom:Math.min(i.y-r,o.bottom)}},O6=(e,t,o,n=0)=>{const s=yu(window),r=ho(K.fromDom(e.getContentAreaContainer())),a=fm(e)||vm(e)||ju(e),{x:c,width:i}=H$(r,s,n);if(e.inline&&!a)return So(c,s.y,i,s.height);{const u=t.header.isPositionedAtTop(),{y:m,bottom:g}=L$(e,r,s,u,o,n);return So(c,m,i,g-m)}},xh=12,_6={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},A6={maxHeightFunction:_l(),maxWidthFunction:Y0()},F$=(e,t)=>{const o=e.selection.getRng(),n=Da(K.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&nt(n.element,t)},I$=(e,t,o)=>{const n=Jt(e,"position");Me(e,"position",t);const s=o(e);return n.each(r=>Me(e,"position",r)),s},E6=e=>e==="node",V$=(e,t,o,n,s)=>{const r=g2(e),a=n.lastElement().exists(c=>nt(o,c));if(F$(e,o))return a?G5:gr;if(a)return I$(t,n.getMode(),()=>k6(r,ho(t),-20)&&!n.isReposition()?qB:G5);{const c=n.getMode()==="fixed"?s.y+wn().top:s.y,i=mo(t)+xh;return c+i<=r.y?gr:kd}},B$=(e,t,o,n)=>{const s=i=>(u,m,g,p,b)=>{const y=V$(e,p,i,o,b),x={...u,y:b.y,height:b.height};return{...y(x,m,g,p,b),alwaysFit:!0}},r=i=>E6(n)?[s(i)]:[];return t?{onLtr:i=>[fo,go,po,jo,Yo,Oo].concat(r(i)),onRtl:i=>[fo,po,go,Yo,jo,Oo].concat(r(i))}:{onLtr:i=>[Oo,fo,jo,go,Yo,po].concat(r(i)),onRtl:i=>[Oo,fo,Yo,po,jo,go].concat(r(i))}},P$=(e,t,o,n)=>t==="line"?{bubble:sr(xh,0,_6),layouts:{onLtr:()=>[ep],onRtl:()=>[tp]},overrides:A6}:{bubble:sr(0,xh,_6,1/xh),layouts:B$(e,o,n,t),overrides:A6},p2=(e,t)=>{const o=it(t,r=>r.predicate(e.dom)),{pass:n,fail:s}=wa(o,r=>r.type==="contexttoolbar");return{contextToolbars:n,contextForms:s}},R$=e=>{if(e.length<=1)return e;{const t=r=>yo(e,a=>a.position===r),o=r=>it(e,a=>a.position===r),n=t("selection"),s=t("node");if(n||s)if(s&&n){const r=o("node"),a=J(o("selection"),c=>({...c,position:"node"}));return r.concat(a)}else return o(n?"selection":"node");else return o("line")}},z$=e=>{if(e.length<=1)return e;{const t=n=>vt(e,s=>s.position===n);return t("selection").orThunk(()=>t("node")).orThunk(()=>t("line")).map(n=>n.position).fold(()=>[],n=>it(e,s=>s.position===n))}},Z$=(e,t,o)=>{const n=p2(e,t);if(n.contextForms.length>0)return d.some({elem:e,toolbars:[n.contextForms[0]]});{const s=p2(e,o);if(s.contextForms.length>0)return d.some({elem:e,toolbars:[s.contextForms[0]]});if(n.contextToolbars.length>0||s.contextToolbars.length>0){const r=R$(n.contextToolbars.concat(s.contextToolbars));return d.some({elem:e,toolbars:r})}else return d.none()}},$$=(e,t,o)=>e(t)?d.none():sv(t,n=>{if(uo(n)){const{contextToolbars:s,contextForms:r}=p2(n,o.inNodeScope),a=r.length>0?r:z$(s);return a.length>0?d.some({elem:n,toolbars:a}):d.none()}else return d.none()},e),N$=(e,t)=>{const o=K.fromDom(t.getBody()),n=a=>nt(a,o),s=a=>!n(a)&&!na(o,a),r=K.fromDom(t.selection.getNode());return s(r)?d.none():Z$(r,e.inNodeScope,e.inEditorScope).orThunk(()=>$$(n,r,e))},U$=(e,t)=>{const o={},n=[],s=[],r={},a={},c=(m,g)=>{const p=Hr(A9(g));o[m]=p,p.launch.map(b=>{r["form:"+m]={...g.launch,type:b.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{t(p)}}}),p.scope==="editor"?s.push(p):n.push(p),a[m]=p},i=(m,g)=>{L9(g).each(p=>{g.scope==="editor"?s.push(p):n.push(p),a[m]=p})},u=Vt(e);return le(u,m=>{const g=e[m];g.type==="contextform"||g.type==="contextsliderform"||g.type==="contextsizeinputform"?c(m,g):g.type==="contexttoolbar"&&i(m,g)}),{forms:o,inNodeScope:n,inEditorScope:s,lookupTable:a,formNavigators:r}},f2="tox-pop--transition",W$=(e,t,o,n)=>{const s=n.backstage,r=s.shared,a=un().deviceType.isTouch,c=ut(),i=ut(),u=ut(),m=en(S$({sink:o,onEscape:()=>(e.focus(),Tx(e),d.some(!0)),onHide:()=>{Tx(e)},onBack:()=>{VH(e)}})),g=()=>{const Y=u.get().getOr("node"),ne=E6(Y)?1:0;return O6(e,r,Y,ne)},p=()=>!e.removed&&!(a()&&s.isContextMenuOpen()),b=Y=>Lo(Gs(Y,c.get(),nt),!0),y=()=>{if(p()){const Y=g(),ne=Lo(u.get(),"node")?D$(e,c.get()):g2(e);return Y.height<=0||!k6(ne,Y,.01)}else return!0},x=()=>{c.clear(),i.clear(),u.clear(),Et.hide(m)},D=()=>{if(Et.isOpen(m)){const Y=m.element;$e(Y,"display"),y()?Me(Y,"display","none"):(i.set(0),Et.reposition(m))}},S=Y=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Y],behaviours:W([ce.config({mode:"acyclic"}),Te("pop-dialog-wrap-events",[Ct(ne=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>ce.focusIn(ne))}),da(ne=>{e.shortcuts.remove("ctrl+F9")})])])}),k=aa(()=>U$(t,Y=>{const ne=V([Y]);me(m,S6,{forwardContents:S(ne)})})),A=(Y,ne)=>bh(e,{buttons:Y,toolbar:ne.items,allowToolbarGroups:!1},n.backstage,d.some(["form:"])),I=(Y,ne)=>A$.buildInitGroups(Y,ne),V=Y=>{const{buttons:ne}=e.ui.registry.getAll(),Le=k(),dt={...ne,...Le.formNavigators},We=Fl(e)===Is.scrolling?Is.scrolling:Is.default,re=Xt(J(Y,N=>N.type==="contexttoolbar"?A(dt,H9(N)):I(N,r.providers)));return hh({type:We,uid:se("context-toolbar"),initGroups:re,onEscape:d.none,cyclicKeying:!0,providers:r.providers})},G=(Y,ne)=>{const Le=Y==="node"?r.anchors.node(ne):r.anchors.cursor(),dt=P$(e,Y,a(),{lastElement:c.get,isReposition:()=>Lo(i.get(),0),getMode:()=>tn.getMode(o)});return Rt(Le,dt)},te=(Y,ne)=>{if(oe.cancel(),!p())return;const Le=V(Y),dt=Y[0].position,We=G(dt,ne);u.set(dt),i.set(1);const re=m.element;$e(re,"display"),b(ne)||(Yt(re,f2),tn.reset(o,m)),Et.showWithinBounds(m,S(Le),{anchor:We,transition:{classes:[f2],mode:"placement"}},()=>d.some(g())),ne.fold(c.clear,c.set),y()&&Me(re,"display","none")};let P=!1;const oe=v0(()=>{if(!(!e.hasFocus()||e.removed||P))if(In(m.element,f2))oe.throttle();else{const Y=k();N$(Y,e).fold(x,ne=>{te(ne.toolbars,d.some(ne.elem))})}},17);e.on("init",()=>{e.on("remove",x),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",D),e.on("click keyup focus SetContent",oe.throttle),e.on(y6,x),e.on(y$,Y=>{const ne=k();pe(ne.lookupTable,Y.toolbarKey).each(Le=>{te([Le],zo(Y.target!==e,Y.target)),l2(m)})}),e.on("focusout",Y=>{mm.setEditorTimeout(e,()=>{dn(o.element).isNone()&&dn(m.element).isNone()&&x()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&x()}),e.on("DisabledStateChange",Y=>{Y.state&&x()}),e.on("ExecCommand",({command:Y})=>{Y.toLowerCase()==="toggleview"&&x()}),e.on("AfterProgressState",Y=>{Y.state?x():e.hasFocus()&&oe.throttle()}),e.on("dragstart",()=>{P=!0}),e.on("dragend drop",()=>{P=!1}),e.on("NodeChange",Y=>{dn(m.element).fold(oe.throttle,j)})})},G$=e=>{le([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],o=>{e.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:Jn(e,o.cmd),onSetup:Hm(e,o.name)})}),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:hn(e),onAction:Jn(e,"JustifyNone")})},D6=(e,t)=>{const o=()=>{const n=t.getOptions(e),s=t.getCurrent(e).map(t.hash),r=ut();return J(n,a=>({type:"togglemenuitem",text:t.display(a),onSetup:c=>{const i=m=>{m&&(r.on(g=>g.setActive(!1)),r.set(c)),c.setActive(m)};i(Lo(s,t.hash(a)));const u=t.watcher(e,a,i);return()=>{r.clear(),u()}},onAction:()=>t.setCurrent(e,a)}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:n=>n(o()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:o,onSetup:t.onMenuSetup})},j$=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:oy,hash:t=>TZ(t,["fixed","relative","empty"]).getOr(t),display:Ze,watcher:(t,o,n)=>t.formatter.formatChanged("lineheight",n,!1,{value:o}).unbind,getCurrent:t=>d.from(t.queryCommandValue("LineHeight")),setCurrent:(t,o)=>t.execCommand("LineHeight",!1,o),onToolbarSetup:hn(e),onMenuSetup:hn(e)}),Y$=e=>d.from(H3(e)).map(o=>({name:"language",text:"Language",icon:"language",getOptions:H(o),hash:n=>sn(n.customCode)?n.code:`${n.code}/${n.customCode}`,display:n=>n.title,watcher:(n,s,r)=>{var a;return n.formatter.formatChanged("lang",r,!1,{value:s.code,customValue:(a=s.customCode)!==null&&a!==void 0?a:null}).unbind},getCurrent:n=>{const s=K.fromDom(n.selection.getNode());return w1(s,r=>d.some(r).filter(uo).bind(a=>qe(a,"lang").map(i=>{const u=qe(a,"data-mce-lang").getOrUndefined();return{code:i,customCode:u,title:""}})))},setCurrent:(n,s)=>n.execCommand("Lang",!1,s),onToolbarSetup:n=>{const s=bc();return n.setActive(e.formatter.match("lang",{},void 0,!0)),s.set(e.formatter.formatChanged("lang",n.setActive,!0)),Dm(s.clear,hn(e)(n))},onMenuSetup:hn(e)})),X$=e=>{D6(e,j$(e)),Y$(e).each(t=>D6(e,t))},q$=(e,t)=>{mZ(e,t),xZ(e,t),ZZ(e,t),pZ(e,t),PZ(e,t)},K$=e=>{e.ui.registry.addContext("editable",()=>e.selection.isEditable()),e.ui.registry.addContext("mode",t=>e.mode.get()===t),e.ui.registry.addContext("any",ct),e.ui.registry.addContext("formatting",t=>e.formatter.canApply(t)),e.ui.registry.addContext("insert",t=>e.schema.isValidChild(e.selection.getNode().tagName,t))},J$=e=>Pi(e,"NodeChange",t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),Q$=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:J$(e),onAction:Jn(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:hn(e),onAction:Jn(e,"indent")})},eN=e=>{Q$(e)},H6=(e,t)=>o=>{o.setActive(t.get());const n=s=>{t.set(s.state),o.setActive(s.state)};return e.on("PastePlainTextToggle",n),Dm(()=>e.off("PastePlainTextToggle",n),hn(e)(o))},tN=e=>{const t=ue(X3(e)),o=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:o,onSetup:H6(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:o,onSetup:H6(e,t)})},v2=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},oN=e=>{ja.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(t,o)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Hm(e,t.name),onAction:v2(e,t.name),shortcut:t.shortcut})});for(let t=1;t<=6;t++){const o="h"+t,n=`Access+${t}`;e.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+t,onSetup:Hm(e,o),onAction:v2(e,o),shortcut:n})}},nN=e=>{ja.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:Jn(e,t.action),shortcut:t.shortcut,context:t.context})}),ja.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:hn(e),onAction:Jn(e,t.action)})})},sN=e=>{ja.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:Jn(e,t.action),onSetup:Hm(e,t.name)})})},rN=e=>{oN(e),nN(e),sN(e)},aN=e=>{ja.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:Jn(e,t.action),context:t.context})}),ja.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:hn(e),onAction:Jn(e,t.action)})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:hn(e),onAction:v2(e,"code")})},cN=e=>{rN(e),aN(e)},Sh=(e,t)=>Pi(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o=>{o.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}),iN=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Sh(e,"hasUndo"),onAction:Jn(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Sh(e,"hasRedo"),onAction:Jn(e,"redo")})},lN=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Sh(e,"hasUndo"),onAction:Jn(e,"undo"),shortcut:"Meta+Z"}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Sh(e,"hasRedo"),onAction:Jn(e,"redo"),shortcut:"Meta+Y"})},uN=e=>{iN(e),lN(e)},dN=e=>Pi(e,"VisualAid",t=>{t.setActive(e.hasVisual)}),mN=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:dN(e),onAction:Jn(e,"mceToggleVisualAid"),context:"any"})},hN=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Jn(e,"mceToggleVisualAid"),context:"any"})},gN=e=>{hN(e),mN(e)},pN=(e,t)=>{G$(e),cN(e),q$(e,t),uN(e),QH(e),gN(e),eN(e),X$(e),tN(e),K$(e)},fN=e=>_(e)?e.split(/[ ,]/):e,L6=e=>t=>t.options.get(e),vN=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:o=>o===!1?{value:[],valid:!0}:_(o)||xe(o,_)?{value:fN(o),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},F6=L6("contextmenu_never_use_native"),bN=L6("contextmenu_avoid_overlap"),yN=e=>I6(e).length===0,I6=e=>{const t=e.ui.registry.getAll().contextMenus,o=e.options.get("contextmenu");return e.options.isSet("contextmenu")?o:it(o,n=>Xe(t,n))},Ed=(e,t)=>({type:"makeshift",x:e,y:t}),xN=(e,t,o)=>Ed(e.x+t,e.y+o),V6=e=>e.type==="longpress"||e.type.indexOf("touch")===0,SN=e=>{if(V6(e)){const t=e.touches[0];return Ed(t.pageX,t.pageY)}else return Ed(e.pageX,e.pageY)},wN=e=>{if(V6(e)){const t=e.touches[0];return Ed(t.clientX,t.clientY)}else return Ed(e.clientX,e.clientY)},CN=(e,t)=>{const o=Uu.DOM.getPos(e);return xN(t,o.x,o.y)},TN=(e,t)=>t.type==="contextmenu"||t.type==="longpress"?e.inline?SN(t):CN(e.getContentAreaContainer(),wN(t)):B6(e),B6=e=>({type:"selection",root:K.fromDom(e.selection.getNode())}),MN=e=>({type:"node",node:d.some(K.fromDom(e.selection.getNode())),root:K.fromDom(e.getBody())}),P6=(e,t,o)=>{switch(o){case"node":return MN(e);case"point":return TN(e,t);case"selection":return B6(e)}},kN=(e,t,o,n,s,r)=>{const a=o(),c=P6(e,t,r);Gl(a,Rr.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:d.none()}).map(i=>{t.preventDefault(),Et.showMenuAt(s,{anchor:c},{menu:{markers:Ii("normal")},data:i})})},ON={onLtr:()=>[fo,go,po,jo,Yo,Oo,gr,kd,Md,rh,Td,sh],onRtl:()=>[fo,po,go,Yo,jo,Oo,gr,kd,Td,sh,Md,rh]},_N=12,AN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},EN=(e,t)=>{const o=e.selection;if(o.isCollapsed()||t.touches.length<1)return!1;{const n=t.touches[0],s=o.getRng();return Lb(e.getWin(),Iu.domRange(s)).exists(a=>a.left<=n.clientX&&a.right>=n.clientX&&a.top<=n.clientY&&a.bottom>=n.clientY)}},DN=e=>{const t=e.selection.getRng(),o=()=>{mm.setEditorTimeout(e,()=>{e.selection.setRng(t)},10),r()};e.once("touchend",o);const n=a=>{a.preventDefault(),a.stopImmediatePropagation()};e.on("mousedown",n,!0);const s=()=>r();e.once("longpresscancel",s);const r=()=>{e.off("touchend",o),e.off("longpresscancel",s),e.off("mousedown",n)}},HN=(e,t,o)=>{const n=P6(e,t,o);return{bubble:sr(0,o==="point"?_N:0,AN),layouts:ON,overrides:{maxWidthFunction:Y0(),maxHeightFunction:_l()},...n}},LN=(e,t,o,n,s,r,a)=>{const c=HN(e,t,r);Gl(o,Rr.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!0,search:d.none()}).map(i=>{t.preventDefault();const u=a?kn.HighlightMenuAndItem:kn.HighlightNone;Et.showMenuWithinBounds(s,{anchor:c},{menu:{markers:Ii("normal"),highlightOnOpen:u},data:i,type:"horizontal"},()=>d.some(O6(e,n.shared,r==="node"?"node":"selection"))),e.dispatch(y6)})},FN=(e,t,o,n,s,r)=>{const a=un(),c=a.os.isiOS(),i=a.os.isMacOS(),u=a.os.isAndroid(),m=a.deviceType.isTouch(),g=()=>!(u||c||i&&m),p=()=>{const b=o();LN(e,t,b,n,s,r,g())};if((i||c)&&r!=="node"){const b=()=>{DN(e),p()};EN(e,t)?b():(e.once("selectionchange",b),e.once("touchend",()=>e.off("selectionchange",b)))}else p()},R6=e=>_(e)?e==="|":e.type==="separator",b2={type:"separator"},z6=e=>{const t=o=>({text:o.text,icon:o.icon,enabled:o.enabled,shortcut:o.shortcut});if(_(e))return e;switch(e.type){case"separator":return b2;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const n=e.getSubmenuItems();return _(n)?n:J(n,z6)}};default:const o=e;return{type:"menuitem",...t(o),onAction:Pe(o.onAction)}}},Z6=(e,t)=>{if(t.length===0)return e;const n=wr(e).filter(s=>!R6(s)).fold(()=>[],s=>[b2]);return e.concat(n).concat(t).concat([b2])},IN=(e,t,o)=>{const n=io(t,(s,r)=>pe(e,r.toLowerCase()).map(a=>{const c=a.update(o);if(_(c)&&cn(Oa(c)))return Z6(s,c.split(" "));if(It(c)&&c.length>0){const i=J(c,z6);return Z6(s,i)}else return s}).getOrThunk(()=>s.concat([r])),[]);return n.length>0&&R6(n[n.length-1])&&n.pop(),n},VN=(e,t)=>t.ctrlKey&&!F6(e),BN=e=>e.type==="longpress"||Xe(e,"touches"),$6=(e,t)=>!BN(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType===""),N6=(e,t)=>$6(e,t)?e.selection.getStart(!0):t.target,PN=(e,t)=>{const o=bN(e),n=$6(e,t)?"selection":"point";if(cn(o)){const s=N6(e,t);return hd(K.fromDom(s),o)?"node":n}else return n},RN=(e,t,o)=>{const s=un().deviceType.isTouch,r=en(Et.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>o.setContextMenuState(!0),onHide:()=>o.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:W([Te("dismissContextMenu",[z(vi(),(i,u)=>{Ye.close(i),e.focus()})])])})),a=()=>Et.hide(r),c=i=>{if(F6(e)&&i.preventDefault(),VN(e,i)||yN(e))return;const u=PN(e,i),m=()=>{const p=N6(e,i),b=e.ui.registry.getAll(),y=I6(e);return IN(b.contextMenus,y,p)};(s()?FN:kN)(e,i,m,o,r,u)};e.on("init",()=>{const i="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");e.on(i,a),e.on("longpress contextmenu",c)})},y2=Qs.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),wh=e=>t=>t.translate(-e.left,-e.top),Ch=e=>t=>t.translate(e.left,e.top),qa=e=>(t,o)=>io(e,(n,s)=>s(n),bt(t,o)),Th=(e,t,o)=>e.fold(qa([Ch(o),wh(t)]),qa([wh(t)]),qa([])),Jl=(e,t,o)=>e.fold(qa([Ch(o)]),qa([]),qa([Ch(t)])),U6=(e,t,o)=>e.fold(qa([]),qa([wh(o)]),qa([Ch(t),wh(o)])),zN=(e,t,o,n,s,r)=>{const a=Jl(e,s,r),c=Jl(t,s,r);return Math.abs(a.left-c.left)<=o&&Math.abs(a.top-c.top)<=n},ZN=(e,t,o,n,s,r)=>{const a=Jl(e,s,r),c=Jl(t,s,r),i=Math.abs(a.left-c.left),u=Math.abs(a.top-c.top);return bt(i,u)},W6=(e,t,o)=>{const n=e.fold((s,r)=>({position:d.some("absolute"),left:d.some(s+"px"),top:d.some(r+"px")}),(s,r)=>({position:d.some("absolute"),left:d.some(s-o.left+"px"),top:d.some(r-o.top+"px")}),(s,r)=>({position:d.some("fixed"),left:d.some(s+"px"),top:d.some(r+"px")}));return{right:d.none(),bottom:d.none(),...n}},$N=(e,t,o)=>e.fold((n,s)=>Mh(n+t,s+o),(n,s)=>Zc(n+t,s+o),(n,s)=>ji(n+t,s+o)),x2=(e,t,o,n)=>{const s=(r,a)=>(c,i)=>{const u=r(t,o,n);return a(c.getOr(u.left),i.getOr(u.top))};return e.fold(s(U6,Mh),s(Jl,Zc),s(Th,ji))},Mh=y2.offset,Zc=y2.absolute,ji=y2.fixed,G6=(e,t)=>{const o=De(e,t);return sn(o)?NaN:parseInt(o,10)},NN=(e,t)=>{const o=e.element,n=G6(o,t.leftAttr),s=G6(o,t.topAttr);return isNaN(n)||isNaN(s)?d.none():d.some(bt(n,s))},UN=(e,t,o)=>{const n=e.element;Q(n,t.leftAttr,o.left+"px"),Q(n,t.topAttr,o.top+"px")},WN=(e,t)=>{const o=e.element;ht(o,t.leftAttr),ht(o,t.topAttr)},GN=(e,t,o,n)=>NN(e,t).fold(()=>o,s=>ji(s.left+n.left,s.top+n.top)),jN=(e,t,o,n,s,r)=>{const a=GN(e,t,o,n),c=t.mustSnap?XN(e,t,a,s,r):qN(e,t,a,s,r),i=Th(a,s,r);return UN(e,t,i),c.fold(()=>({coord:ji(i.left,i.top),extra:d.none()}),u=>({coord:u.output,extra:u.extra}))},YN=(e,t)=>{WN(e,t)},j6=(e,t,o,n)=>Ho(e,s=>{const r=s.sensor;return zN(t,r,s.range.left,s.range.top,o,n)?d.some({output:x2(s.output,t,o,n),extra:s.extra}):d.none()}),XN=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return j6(r,o,n,s).orThunk(()=>io(r,(i,u)=>{const m=u.sensor,g=ZN(o,m,u.range.left,u.range.top,n,s);return i.deltas.fold(()=>({deltas:d.some(g),snap:d.some(u)}),p=>{const b=(g.left+g.top)/2,y=(p.left+p.top)/2;return b<=y?{deltas:d.some(g),snap:d.some(u)}:i})},{deltas:d.none(),snap:d.none()}).snap.map(i=>({output:x2(i.output,o,n,s),extra:i.extra})))},qN=(e,t,o,n,s)=>{const r=t.getSnapPoints(e);return j6(r,o,n,s)},KN=(e,t,o)=>({coord:x2(e.output,e.output,t,o),extra:e.extra});var JN=Object.freeze({__proto__:null,snapTo:(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=Nn(e.element),a=wn(r),c=wv(s),i=KN(n,a,c),u=W6(i.coord,a,c);si(s,u)}}});const S2="data-initial-z-index",QN=e=>{Jo(e.element).filter(uo).each(t=>{qe(t,S2).fold(()=>$e(t,"z-index"),o=>Me(t,"z-index",o)),ht(t,S2)})},eU=e=>{Jo(e.element).filter(uo).each(t=>{Jt(t,"z-index").each(o=>{Q(t,S2,o)}),Me(t,"z-index",Fo(e.element,"z-index"))})},Y6=(e,t)=>{e.getSystem().addToGui(t),eU(t)},tU=e=>{QN(e),e.getSystem().removeFromGui(e)},X6=(e,t,o)=>e.getSystem().build(Nr.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:o}));var oU=ds("snaps",[$("getSnapPoints"),je("onSensor"),$("leftAttr"),$("topAttr"),F("lazyViewport",$o),F("mustSnap",!1)]);const w2=[F("useFixed",rt),$("blockerClass"),F("getTarget",Ze),F("onDrag",j),F("repositionTarget",!0),F("onDrop",j),yt("getBounds",$o),oU],nU=e=>nc(Jt(e,"left"),Jt(e,"top"),Jt(e,"position"),(t,o,n)=>(n==="fixed"?ji:Mh)(parseInt(t,10),parseInt(o,10))).getOrThunk(()=>{const t=as(e);return Zc(t.left,t.top)}),sU=(e,t,o,n,s)=>{const r=s.bounds,a=Jl(t,o,n),c=nr(a.left,r.x,r.x+r.width-s.width),i=nr(a.top,r.y,r.y+r.height-s.height),u=Zc(c,i);return t.fold(()=>{const m=U6(u,o,n);return Mh(m.left,m.top)},H(u),()=>{const m=Th(u,o,n);return ji(m.left,m.top)})},rU=(e,t,o,n,s,r,a)=>{const c=t.fold(()=>{const i=$N(o,r.left,r.top),u=Th(i,n,s);return ji(u.left,u.top)},i=>{const u=jN(e,i,o,r,n,s);return u.extra.each(m=>{i.onSensor(e,m)}),u.coord});return sU(e,c,n,s,a)},aU=(e,t,o,n)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=Nn(e.element),a=wn(r),c=wv(s),i=nU(s),u=rU(e,t.snaps,i,a,c,n,o),m=W6(u,a,c);si(s,m)}t.onDrag(e,s,n)},q6=(e,t)=>({bounds:e.getBounds(),height:ra(t.element),width:hc(t.element)}),C2=(e,t,o,n,s)=>{const r=o.update(n,s),a=o.getStartData().getOrThunk(()=>q6(t,e));r.each(c=>{aU(e,t,a,c)})},K6=(e,t,o,n)=>{t.each(tU),o.snaps.each(r=>{YN(e,r)});const s=o.getTarget(e.element);n.reset(),o.onDrop(e,s)},T2=e=>(t,o)=>{const n=s=>{o.setStartData(q6(t,s))};return wt([z(xg(),s=>{o.getStartData().each(()=>n(s))}),...e(t,o,n)])},cU=e=>wt([z(ms(),e.forceDrop),z(vg(),e.drop),z(C1(),(t,o)=>{e.move(o.event)}),z(T1(),e.delayDrop)]);var iU=Object.freeze({__proto__:null,getData:e=>d.from(bt(e.x,e.y)),getDelta:(e,t)=>bt(t.left-e.left,t.top-e.top)});const J6=(e,t,o)=>[z(ms(),(n,s)=>{if(s.event.raw.button!==0)return;s.stop();const a=()=>K6(n,d.some(u),e,t),c=eS(a,200),i={drop:a,delayDrop:c.schedule,forceDrop:a,move:g=>{c.cancel(),C2(n,e,t,iU,g)}},u=X6(n,e.blockerClass,cU(i));(()=>{o(n),Y6(n,u)})()})],lU=[...w2,Mt("dragger",{handlers:T2(J6)})],uU=e=>wt([z(Fa(),e.forceDrop),z(gi(),e.drop),z(av(),e.drop),z(Ou(),(t,o)=>{e.move(o.event)})]),dU=e=>{const t=e[0];return d.some(bt(t.clientX,t.clientY))};var Q6=Object.freeze({__proto__:null,getData:e=>{const o=e.raw.touches;return o.length===1?dU(o):d.none()},getDelta:(e,t)=>bt(t.left-e.left,t.top-e.top)});const e8=(e,t,o)=>{const n=ut(),s=r=>{K6(r,n.get(),e,t),n.clear()};return[z(Fa(),(r,a)=>{a.stop();const c=()=>s(r),i={drop:c,delayDrop:j,forceDrop:c,move:g=>{C2(r,e,t,Q6,g)}},u=X6(r,e.blockerClass,uU(i));n.set(u),(()=>{o(r),Y6(r,u)})()}),z(Ou(),(r,a)=>{a.stop(),C2(r,e,t,Q6,a.event)}),z(gi(),(r,a)=>{a.stop(),s(r)}),z(av(),s)]},mU=[...w2,Mt("dragger",{handlers:T2(e8)})],hU=(e,t,o)=>[...J6(e,t,o),...e8(e,t,o)],gU=[...w2,Mt("dragger",{handlers:T2(hU)})];var pU=Object.freeze({__proto__:null,mouse:lU,touch:mU,mouseOrTouch:gU}),fU=Object.freeze({__proto__:null,init:()=>{let e=d.none(),t=d.none();const o=()=>{e=d.none(),t=d.none()},n=(i,u)=>{const m=e.map(g=>i.getDelta(g,u));return e=d.some(u),m},s=(i,u)=>i.getData(u).bind(m=>n(i,m)),r=i=>{t=d.some(i)},a=()=>t,c=H({});return gs({readState:c,reset:o,update:s,getStartData:a,setStartData:r})}});const Yi=fv({branchKey:"mode",branches:pU,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:d.from(e.extra)})},state:fU,apis:JN}),M2=40,kh=M2/2,t8=(e,t,o,n,s,r)=>e.fold(()=>Yi.snap({sensor:Zc(o-kh,n-kh),range:bt(s,r),output:Zc(d.some(o),d.some(n)),extra:{td:t}}),a=>{const c=o-kh,i=n-kh,u=M2,m=M2,g=a.element.dom.getBoundingClientRect();return Yi.snap({sensor:Zc(c,i),range:bt(u,m),output:Zc(d.some(o-g.width/2),d.some(n-g.height/2)),extra:{td:t}})}),o8=(e,t,o)=>{const n=(s,r)=>s.exists(a=>nt(a,r));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(s,r)=>{const a=r.td;n(t.get(),a)||(t.set(a),o(a))},mustSnap:!0}},n8=e=>Qe(Bo.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:W([Yi.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),bd.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),vU=(e,t)=>{const o=ue([]),n=ue([]),s=ue(!1),r=ut(),a=ut(),c=te=>{const P=Er(te);return t8(b.getOpt(t),te,P.x,P.y,P.width,P.height)},i=()=>J(o.get(),te=>c(te)),u=te=>{const P=Er(te);return t8(y.getOpt(t),te,P.right,P.bottom,P.width,P.height)},m=()=>J(n.get(),te=>u(te)),g=o8(i,r,te=>{a.get().each(P=>{e.dispatch("TableSelectorChange",{start:te,finish:P})})}),p=o8(m,a,te=>{r.get().each(P=>{e.dispatch("TableSelectorChange",{start:P,finish:te})})}),b=n8(g),y=n8(p),x=en(b.asSpec()),D=en(y.asSpec()),S=(te,P,oe,Y)=>{const ne=P.dom.getBoundingClientRect();$e(te.element,"display");const Le=sa(K.fromDom(e.getBody())).dom.innerHeight,dt=oe(ne),We=Y(ne,Le);(dt||We)&&Me(te.element,"display","none")},k=(te,P,oe,Y)=>{const ne=oe(P);Yi.snapTo(te,ne),S(te,P,We=>We[Y]<0,(We,re)=>We[Y]>re)},A=te=>k(x,te,c,"top"),I=()=>r.get().each(A),V=te=>k(D,te,u,"bottom"),G=()=>a.get().each(V);if(un().deviceType.isTouch()){const te=P=>J(P,K.fromDom);e.on("TableSelectionChange",P=>{s.get()||(ki(t,x),ki(t,D),s.set(!0));const oe=K.fromDom(P.start),Y=K.fromDom(P.finish);r.set(oe),a.set(Y),d.from(P.otherCells).each(ne=>{o.set(te(ne.upOrLeftCells)),n.set(te(ne.downOrRightCells)),A(oe),V(Y)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{I(),G()}),e.on("TableSelectionClear",()=>{s.get()&&(Za(x),Za(D),s.set(!1)),r.clear(),a.clear()})}};var bU=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const yU=(e,t)=>{const o=d.from(De(e,"id")).getOrThunk(()=>{const n=se("aria");return Q(t,"id",n),n});Q(e,"aria-describedby",o)},xU=e=>{ht(e,"aria-describedby")},SU=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark",wU=(e,t,o)=>{var n;const s=(n=t.delimiter)!==null&&n!==void 0?n:"",r=(u,m,g)=>Bo.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":g}},components:[At(u)],action:p=>{e.focus(),e.selection.select(m),e.nodeChanged()},buttonBehaviours:W([Ft.config({...o.tooltips.getConfig({tooltipText:o.translate(["Select the {0} element",m.nodeName.toLowerCase()]),onShow:(p,b)=>{yU(p.element,b.element)},onHide:p=>{xU(p.element)}})}),zs.button(o.isDisabled),to(()=>o.checkUiComponentContext("any"))])}),a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[At(` ${s} `)]}),c=u=>io(u,(m,g,p)=>{const b=r(g.name,g.element,p);return p===0?m.concat([b]):m.concat([a(),b])},[]),i=u=>{const m=[];let g=u.length;for(;g-- >0;){const p=u[g];if(p.nodeType===1&&!SU(p)){const b=kH(e,p);if(b.isDefaultPrevented()||m.push({name:b.name,element:p}),b.isPropagationStopped())break}}return m};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:W([ce.config({mode:"flow",selector:"div[role=button]"}),ge.config({disabled:o.isDisabled}),to(()=>o.checkUiComponentContext("any")),xt.config({}),we.config({}),Te("elementPathEvents",[Ct((u,m)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>ce.focusIn(u)),e.on("NodeChange",g=>{const p=i(g.parents),b=p.length>0?c(p):[];we.set(u,b)})})])]),components:[]}};var $c;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})($c||($c={}));const CU=(e,t,o,n,s)=>{const r={height:yh(n+t.top,Yp(e),Xp(e))};return o===$c.Both&&(r.width=yh(s+t.left,jp(e),gm(e))),r},s8=(e,t,o)=>{const n=K.fromDom(e.getContainer()),s=CU(e,t,o,mo(n),ln(n));qt(s,(r,a)=>{Ro(r)&&Me(n,a,c2(r))}),CH(e)},TU=e=>{const t=Y3(e);return t===!1?$c.None:t==="both"?$c.Both:$c.Vertical},Oh=(e,t,o,n)=>{const r=bt(o*20,n*20);return s8(e,r,t),d.some(!0)},MU=(e,t)=>{const o=TU(e);if(o===$c.None)return d.none();const n=o===$c.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return d.some(Ps("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":t.translate(n),"data-mce-name":"resize-handle"},behaviours:[Yi.config({mode:"mouse",repositionTarget:!1,onDrag:(s,r,a)=>s8(e,a,o),blockerClass:"tox-blocker"}),ce.config({mode:"special",onLeft:()=>Oh(e,o,-1,0),onRight:()=>Oh(e,o,1,0),onUp:()=>Oh(e,o,0,-1),onDown:()=>Oh(e,o,0,1)}),xt.config({}),be.config({}),Ft.config(t.tooltips.getConfig({tooltipText:t.translate("Resize")}))]},t.icons))},kU=(e,t)=>{const o=(n,s,r)=>we.set(n,[At(t.translate(["{0} "+r,s[r]]))]);return Bo.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:W([zs.button(t.isDisabled),to(()=>t.checkUiComponentContext("any")),xt.config({}),we.config({}),ee.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Te("wordcount-events",[Va(n=>{const s=ee.getValue(n),r=s.mode==="words"?"characters":"words";ee.setValue(n,{mode:r,count:s.count}),o(n,s.count,r)}),Ct(n=>{e.on("wordCountUpdate",s=>{const{mode:r}=ee.getValue(n);ee.setValue(n,{mode:r,count:s.wordCount}),o(n,s.wordCount,r)})})])]),eventOrder:{[hs()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},OU=(e,t)=>{const o=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",bU.trim()])},behaviours:W([be.config({})])}]}),n=()=>{const c=Hf("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[At(Bs.translate(["Press {0} for help",c]))]}},s=()=>{const c=[];return e.hasPlugin("wordcount")&&c.push(kU(e,t)),Kp(e)&&c.push(o()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:c}},r=()=>{const c=[],i=J3(e),u=j3(e),m=Kp(e)||e.hasPlugin("wordcount"),g=()=>{const p="tox-statusbar__text-container--flex-start",b="tox-statusbar__text-container--flex-end",y="tox-statusbar__text-container--space-around";if(i){const x="tox-statusbar__text-container-3-cols";return!m&&!u?[x,y]:m&&!u?[x,b]:[x,p]}return[m&&!u?b:p]};return u&&c.push(wU(e,{},t)),i&&c.push(n()),m&&c.push(s()),c.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...g()]},components:c}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const c=r(),i=MU(e,t);return c.concat(i.toArray())})()}},r8=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),_U=(e,t)=>{const o=e.inline,n=o?v$:u$,s=Vl(e)?mR:rR,r=b$(),a=ut(),c=ut(),i=ut(),p=un().deviceType.isTouch()?["tox-platform-touch"]:[],b=ef(e),y=Fl(e),x=Qe({dom:{tag:"div",classes:["tox-anchorbar"]}}),D=Qe({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),S=()=>r.mainUi.get().map(ie=>ie.outerContainer).bind(ft.getHeader),k=()=>Ve.fromOption(r.dialogUi.get().map(ie=>ie.sink),"UI has not been rendered"),A=()=>Ve.fromOption(r.popupUi.get().map(ie=>ie.sink),"(popup) UI has not been rendered"),I=r.lazyGetInOuterOrDie("anchor bar",x.getOpt),V=r.lazyGetInOuterOrDie("bottom anchor bar",D.getOpt),G=r.lazyGetInOuterOrDie("toolbar",ft.getToolbar),te=r.lazyGetInOuterOrDie("throbber",ft.getThrobber),P=YP({popup:A,dialog:k},e,I,V),oe=()=>{const ie={attributes:{[up]:b?za.BottomToTop:za.TopToBottom}},Se=ft.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:P.popup,onEscape:()=>{e.focus()}}),st=ft.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:P.popup.shared.getSink,providers:P.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:pr=>{OH(e,pr)},type:y,lazyToolbar:G,lazyHeader:()=>S().getOrDie("Could not find header element"),...ie}),tt=ft.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:P.popup.shared.providers,onEscape:()=>{e.focus()},type:y}),gn=ju(e),Tt=vm(e),Pn=fm(e),Ao=K3(e),Rn=Y(),zn=gn||Tt||Pn,ys=()=>gn?[tt]:Tt?[st]:[],qi=Ao?[Rn,Se]:[Se];return ft.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(zn?[]:["tox-editor-header--empty"]),...ie},components:Xt([Pn?qi:[],ys(),Il(e)?[]:[x.asSpec()]]),sticky:Vl(e),editor:e,sharedBackstage:P.popup.shared})},Y=()=>ft.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),ne=()=>{const ie=ft.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Se=ft.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ie,Se]}},Le=()=>{const ie=tf(e),Se=nt(Z(),ie)&&Fo(ie,"display")==="grid",st={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(p),attributes:{...Bs.isRtl()?{dir:"rtl"}:{}}},behaviours:W([tn.config({useFixed:()=>s.isDocked(S)})])},tt={dom:{styles:{width:document.body.clientWidth+"px"}},events:wt([z(Hu(),Pn=>{Me(Pn.element,"width",document.body.clientWidth+"px")})])},gn=en(Rt(st,Se?tt:{})),Tt=Qf(gn);return c.set(Tt),{sink:gn,mothership:Tt}},dt=()=>{const ie={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(p),attributes:{...Bs.isRtl()?{dir:"rtl"}:{}}},behaviours:W([tn.config({useFixed:()=>s.isDocked(S),getBounds:()=>t.getPopupSinkBounds()})])},Se=en(ie),st=Qf(Se);return i.set(st),{sink:Se,mothership:st}},We=()=>{const ie=oe(),Se=ne(),st=ft.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:P.popup}),tt=ft.parts.viewWrapper({backstage:P.popup}),gn=G3(e)&&!o?d.some(OU(e,P.popup.shared.providers)):d.none(),Tt=Xt([b?[]:[ie],o?[]:[Se],b?[ie]:[]]),Pn=ft.parts.editorContainer({components:Xt([Tt,o?[]:[D.asSpec()]])}),Ao=of(e),Rn={role:"application",...Bs.isRtl()?{dir:"rtl"}:{},...Ao?{"aria-hidden":"true"}:{}},zn=en(ft.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(b?["tox-tinymce--toolbar-bottom"]:[]).concat(p),styles:{visibility:"hidden",...Ao?{opacity:"0",border:"0"}:{}},attributes:Rn},components:[Pn,...o?[]:[tt,...gn.toArray()],st],behaviours:W([to(()=>P.popup.shared.providers.checkUiComponentContext("any")),ge.config({disableClass:"tox-tinymce--disabled"}),ce.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),ys=Qf(zn);return a.set(ys),{mothership:ys,outerContainer:zn}},re=ie=>{const Se=c2(m$(e)),st=c2(h$(e));return e.inline||(uu("div","width",st)&&Me(ie.element,"width",st),uu("div","height",Se)?Me(ie.element,"height",Se):Me(ie.element,"height","400px")),Se},N=ie=>{e.addShortcut("alt+F9","focus menubar",()=>{ft.focusMenubar(ie)}),e.addShortcut("alt+F10","focus toolbar",()=>{ft.focusToolbar(ie)}),e.addCommand("ToggleToolbarDrawer",(Se,st)=>{st!=null&&st.skipFocus?ft.toggleToolbarDrawerWithoutFocusing(ie):ft.toggleToolbarDrawer(ie)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>ft.isToolbarDrawerToggled(ie))},q=ie=>{const{mainUi:Se,popupUi:st,uiMotherships:tt}=ie;Dt(F3(e),(Ka,Hd)=>{e.ui.registry.addGroupToolbarButton(Hd,Ka)});const{buttons:gn,menuItems:Tt,contextToolbars:Pn,sidebars:Ao,views:Rn}=e.ui.registry.getAll(),zn=Qp(e),ys={menuItems:Tt,menus:sy(e),menubar:B3(e),toolbar:zn.getOrThunk(()=>pm(e)),allowToolbarGroups:y===Is.floating,buttons:gn,sidebar:Ao,views:Rn};N(Se.outerContainer),XP(e,Se.mothership,tt),s.setup(e,P.popup.shared,S),pN(e,P.popup),RN(e,P.popup.shared.getSink,P.popup),OR(e),UR(e,te,P.popup.shared),W$(e,Pn,st.sink,{backstage:P.popup}),vU(e,st.sink);const qi=e.getElement(),pr=re(Se.outerContainer),Dd={targetNode:qi,height:pr};return n.render(e,ie,ys,P.popup,Dd)},ve=ie=>(i.set(ie.mothership),ie),ke=()=>{const ie=We(),Se=Le(),st=Ac(e)?dt():ve(Se);r.dialogUi.set(Se),r.popupUi.set(st),r.mainUi.set(ie);const tt={popupUi:st,dialogUi:Se,mainUi:ie,uiMotherships:r.getUiMotherships()};return q(tt)};return{popups:{backstage:P.popup,getMothership:()=>r8("popups",i)},dialogs:{backstage:P.dialog,getMothership:()=>r8("dialogs",c)},renderUI:ke}},AU=e=>e.dom.textContent,EU=(e,t)=>{const o=qe(e,"id").fold(()=>{const n=se("dialog-label");return Q(t,"id",n),n},Ze);Q(e,"aria-labelledby",o)},DU=H([$("lazySink"),Je("dragBlockClass"),yt("getBounds",$o),F("useTabstopAt",ct),F("firstTabstop",0),F("eventOrder",{}),_o("modalBehaviours",[ce]),Gn("onExecute"),Ug("onEscape")]),k2={sketch:Ze},HU=H([Fs({name:"draghandle",overrides:(e,t)=>({behaviours:W([Yi.config({mode:"mouse",getTarget:o=>Pa(o,'[role="dialog"]').getOr(o),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),on({schema:[$("dom")],name:"title"}),on({factory:k2,schema:[$("dom")],name:"close"}),on({factory:k2,schema:[$("dom")],name:"body"}),Fs({factory:k2,schema:[$("dom")],name:"footer"}),ar({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[F("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),F("components",[])],name:"blocker"})]),LU=(e,t,o,n)=>{const s=ut(),r=y=>{s.set(y);const x=e.lazySink(y).getOrDie(),D=n.blocker(),S=x.getSystem().build({...D,components:D.components.concat([ps(y)]),behaviours:W([be.config({}),Te("dialog-blocker-events",[Sl(Lr(),()=>{Wr.isBlocked(y)?j():ce.focusIn(y)})])])});ki(x,S),ce.focusIn(y)},a=y=>{s.clear(),Jo(y.element).each(x=>{y.getSystem().getByDom(x).each(D=>{Za(D)})})},c=y=>_c(y,e,"body"),i=y=>gt(y,e,"footer"),u=(y,x)=>{Wr.block(y,x)},m=y=>{Wr.unblock(y)},g=se("modal-events"),p={...e.eventOrder,[Ir()]:[g].concat(e.eventOrder["alloy.system.attached"]||[])},b=un();return{uid:e.uid,dom:e.dom,components:t,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:m,setBusy:u},eventOrder:p,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Vo(e.modalBehaviours,[we.config({}),ce.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),Wr.config({getRoot:s.get}),Te(g,[Ct(y=>{const x=_c(y,e,"title").element,D=AU(x);b.os.isMacOS()&&_t(D)?Q(y.element,"aria-label",D):EU(y.element,x)})])])}},bo=mn({name:"ModalDialog",configFields:DU(),partFields:HU(),factory:LU,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,o)=>{e.setBusy(t,o)},setIdle:(e,t)=>{e.setIdle(t)}}}),FU=ye([eo,wf].concat(Rl)),IU=S1,O2=[_f("button"),Rs,ia("align","end",["start","end"]),Om,ir,tv("buttonType",["primary","secondary"]),$t("context","mode:design")],a8=[...O2,Wa],_2=[Ks("type",["submit","cancel","custom"]),...a8],VU=[Ks("type",["menu"]),Hc,sd,Rs,Wn("items",FU),...O2],BU=[...O2,Ks("type",["togglebutton"]),sd,Rs,Hc,Qo("active",!1)],PU=Fn("type",{submit:_2,cancel:_2,custom:_2,menu:VU,togglebutton:BU}),RU=[eo,Wa,Ks("level",["info","warn","error","success"]),jy,F("url","")],zU=ye(RU),ZU=e=>[eo,e],$U=[eo,Wa,ir,_f("button"),Rs,m9,tv("buttonType",["primary","secondary","toolbar"]),Om,$t("context","mode:design")],NU=ye($U),Ql=[eo,wf],Gr=Ql.concat([Tf]),UU=Ql.concat([Cf,ir,$t("context","mode:design")]),WU=ye(UU),GU=S1,jU=Gr.concat([Yy("auto"),$t("context","mode:design")]),YU=ye(jU),XU=b1([nd,Wa,jy]),qU=Gr.concat([$t("storageKey","default"),$t("context","mode:design")]),KU=ye(qU),JU=wo,QU=ye(Gr),eW=wo,tW=Ql.concat([$t("tag","textarea"),ko("scriptId"),ko("scriptUrl"),Sc("onFocus"),E7("settings",void 0)]),oW=Ql.concat([$t("tag","textarea"),Js("init")]),nW=Mu(e=>jt("customeditor.old",ls(oW),e).orThunk(()=>jt("customeditor.new",ls(tW),e))),sW=wo,rW=Gr.concat([$t("context","mode:design")]),aW=ye(rW),cW=M7(),iW=e=>[eo,O7("columns"),e],lW=[eo,ko("html"),ia("presets","presentation",["presentation","document"]),yt("onInit",j),Qo("stretched",!1)],uW=ye(lW),dW=Gr.concat([Qo("border",!1),Qo("sandboxed",!0),Qo("streamContent",!1),Qo("transparent",!0)]),mW=ye(dW),hW=wo,gW=ye(Ql.concat([no("height")])),pW=ye([ko("url"),ku("zoom"),ku("cachedWidth"),ku("cachedHeight")]),fW=Gr.concat([no("inputMode"),no("placeholder"),Qo("maximized",!1),ir,$t("context","mode:design")]),vW=ye(fW),bW=wo,yW=e=>[eo,Cf,e,ia("align","start",["start","center","end"]),no("for")],xW=[Wa,nd],SW=[Wa,Wn("items",Q2("items",()=>c8))],c8=v1([ye(xW),ye(SW)]),wW=Gr.concat([Wn("items",c8),ir,$t("context","mode:design")]),CW=ye(wW),TW=wo,MW=Gr.concat([ev("items",[Wa,nd]),pg("size",1),ir,$t("context","mode:design")]),kW=ye(MW),OW=wo,_W=Gr.concat([Qo("constrain",!0),ir,$t("context","mode:design")]),AW=ye(_W),i8=ye([ko("width"),ko("height")]),EW=Ql.concat([Cf,pg("min",0),pg("max",0)]),DW=ye(EW),HW=x1,LW=[eo,Wn("header",wo),Wn("cells",yc(wo))],FW=ye(LW),IW=Gr.concat([no("placeholder"),Qo("maximized",!1),ir,$t("context","mode:design")]),VW=ye(IW),BW=wo,l8=[Ks("type",["directory","leaf"]),Gy,ko("id"),ca("menu",bw),no("customStateIcon"),no("customStateIconTooltip")],u8=ye(l8),PW=l8.concat([Wn("children",Q2("children",()=>pl("type",{directory:d8,leaf:u8})))]),d8=ye(PW),RW=pl("type",{directory:d8,leaf:u8}),zW=[eo,Wn("items",RW),Sc("onLeafAction"),Sc("onToggleExpand"),mi("defaultExpandedIds",[],wo),no("defaultSelectedId")],ZW=ye(zW),$W=Gr.concat([ia("filetype","file",["image","media","file"]),ir,no("picker_text"),$t("context","mode:design")]),NW=ye($W),UW=ye([nd,kf]),A2=e=>No("items","items",Hs(),yc(Mu(t=>jt(`Checking item of ${e}`,E2,t).fold(o=>Ve.error(fl(o)),o=>Ve.value(o))))),E2=q2(()=>pl("type",{alertbanner:zU,bar:ye(ZU(A2("bar"))),button:NU,checkbox:WU,colorinput:KU,colorpicker:QU,dropzone:aW,grid:ye(iW(A2("grid"))),iframe:mW,input:vW,listbox:CW,selectbox:kW,sizeinput:AW,slider:DW,textarea:VW,urlinput:NW,customeditor:nW,htmlpanel:uW,imagepreview:gW,collection:YU,label:ye(yW(A2("label"))),table:FW,tree:ZW,panel:m8})),WW=[eo,F("classes",[]),Wn("items",E2)],m8=ye(WW),GW=[_f("tab"),Gy,Wn("items",E2)],jW=[eo,ev("tabs",GW)],YW=ye(jW),XW=a8,qW=PU,KW=ye([ko("title"),us("body",pl("type",{panel:m8,tabpanel:YW})),$t("size","normal"),mi("buttons",[],qW),F("initialData",{}),yt("onAction",j),yt("onChange",j),yt("onSubmit",j),yt("onClose",j),yt("onCancel",j),yt("onTabChange",j)]),JW=e=>jt("dialog",KW,e),QW=ye([Ks("type",["cancel","custom"]),...XW]),eG=ye([ko("title"),ko("url"),ku("height"),ku("width"),ov("buttons",QW),yt("onAction",j),yt("onCancel",j),yt("onClose",j),yt("onMessage",j)]),tG=e=>jt("dialog",eG,e),D2=e=>zt(e)?[e].concat(Ie(Ta(e),D2)):It(e)?Ie(e,D2):[],oG=e=>_(e.type)&&_(e.name),nG={checkbox:GU,colorinput:JU,colorpicker:eW,dropzone:cW,input:bW,iframe:hW,imagepreview:pW,selectbox:OW,sizeinput:i8,slider:HW,listbox:TW,size:i8,textarea:BW,urlinput:UW,customeditor:sW,collection:XU,togglemenuitem:IU},sG=e=>d.from(nG[e.type]),rG=e=>it(D2(e),oG),aG=e=>{const t=rG(e),o=Ie(t,n=>sG(n).fold(()=>[],s=>[us(n.name,s)]));return ye(o)},h8=e=>{var t;const o=Hr(JW(e)),n=aG(e),s=(t=e.initialData)!==null&&t!==void 0?t:{};return{internalDialog:o,dataValidator:n,initialData:s}},Xi={open:(e,t)=>{const o=h8(t);return e(o.internalDialog,o.initialData,o.dataValidator)},openUrl:(e,t)=>{const o=Hr(tG(t));return e(o)},redial:e=>h8(e)};var cG=Object.freeze({__proto__:null,events:(e,t)=>{const o=(n,s)=>{e.updateState.each(r=>{const a=r(n,s);t.set(a)}),e.renderComponents.each(r=>{const a=r(s,t.get());(e.reuseDom?i3:c3)(n,a)})};return wt([z(fi(),(n,s)=>{const r=s;if(!r.universal){const a=e.channel;ot(r.channels,a)&&o(n,r.data)}}),Ct((n,s)=>{e.initialData.each(r=>{o(n,r)})})])}}),iG=Object.freeze({__proto__:null,getState:(e,t,o)=>o}),lG=[$("channel"),Je("renderComponents"),Je("updateState"),Je("initialData"),Qo("reuseDom",!0)],uG=Object.freeze({__proto__:null,init:()=>{const e=ue(d.none()),t=()=>e.set(d.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:t}}});const Qn=Io({fields:lG,name:"reflecting",active:cG,apis:iG,state:uG}),g8=e=>{const t=[],o={};return qt(e,(n,s)=>{n.fold(()=>{t.push(s)},r=>{o[s]=r})}),t.length>0?Ve.error(t):Ve.value(o)},dG=(e,t,o,n)=>{const s=Qe(Wl.sketch(r=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:J(e.items,a=>z5(r,a,t,o,n))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[s.asSpec()]}],behaviours:W([ce.config({mode:"acyclic",useTabstopAt:Do(xd)}),mr.memento(s),qI(s,{postprocess:r=>g8(r).fold(a=>(console.error(a),{}),Ze)}),Te("dialog-body-panel",[z(Lr(),(r,a)=>{r.getSystem().broadcastOn([Jm],{newFocus:d.some(a.event.target)})})])])}},mG=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:dm(e.action),behaviours:Vo(e.tabButtonBehaviours,[be.config({}),ce.config({mode:"execution",useSpace:!0,useEnter:!0}),ee.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}),hG=fs({name:"TabButton",configFields:[F("uid",void 0),$("value"),No("dom","dom",l(()=>({attributes:{role:"tab",id:se("aria"),"aria-selected":"false"}})),Dr()),Je("action"),F("domModification",{}),_o("tabButtonBehaviours",[be,ce,ee]),$("view")],factory:mG}),gG=H([$("tabs"),$("dom"),F("clickToDismiss",!1),_o("tabbarBehaviours",[et,ce]),Si(["tabClass","selectedClass"])]),pG=tm({factory:hG,name:"tabs",unit:"tab",overrides:e=>{const t=(n,s)=>{et.dehighlight(n,s),me(n,dv(),{tabbar:n,button:s})},o=(n,s)=>{et.highlight(n,s),me(n,uv(),{tabbar:n,button:s})};return{action:n=>{const s=n.getSystem().getByUid(e.uid).getOrDie(),r=et.isHighlighted(s,n);(r&&e.clickToDismiss?t:r?j:o)(s,n)},domModification:{classes:[e.markers.tabClass]}}}}),fG=H([pG]),vG=(e,t,o,n)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Vo(e.tabbarBehaviours,[et.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(s,r)=>{Q(r.element,"aria-selected","true")},onDehighlight:(s,r)=>{Q(r.element,"aria-selected","false")}}),ce.config({mode:"flow",getInitial:s=>et.getHighlighted(s).map(r=>r.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])}),p8=mn({name:"Tabbar",configFields:gG(),partFields:fG(),factory:vG}),bG=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Vo(e.tabviewBehaviours,[we.config({})]),domModification:{attributes:{role:"tabpanel"}}}),yG=fs({name:"Tabview",configFields:[_o("tabviewBehaviours",[we])],factory:bG}),xG=H([F("selectFirst",!0),je("onChangeTab"),je("onDismissTab"),F("tabs",[]),_o("tabSectionBehaviours",[])]),SG=on({factory:p8,schema:[$("dom"),xc("markers",[$("tabClass"),$("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),wG=on({factory:yG,name:"tabview"}),CG=H([SG,wG]),TG=(e,t,o,n)=>{const s=a=>{const c=ee.getValue(a);gt(a,e,"tabview").each(i=>{vt(e.tabs,m=>m.value===c).each(m=>{const g=m.view();qe(a.element,"id").each(p=>{Q(i.element,"aria-labelledby",p)}),we.set(i,g),e.onChangeTab(i,a,g)})})},r=(a,c)=>{gt(a,e,"tabbar").each(i=>{c(i).each(bi)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:j1(e.tabSectionBehaviours),events:wt(Xt([e.selectFirst?[Ct((a,c)=>{r(a,et.getFirst)})]:[],[z(uv(),(a,c)=>{const i=c.event.button;s(i)}),z(dv(),(a,c)=>{const i=c.event.button;e.onDismissTab(a,i)})]])),apis:{getViewItems:a=>gt(a,e,"tabview").map(c=>we.contents(c)).getOr([]),showTab:(a,c)=>{r(a,u=>{const m=et.getCandidates(u);return vt(m,p=>ee.getValue(p)===c).filter(p=>!et.isHighlighted(u,p))})}}}},eu=mn({name:"TabSection",configFields:xG(),partFields:CG(),factory:TG,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,o)=>{e.showTab(t,o)}}}),MG=(e,t,o)=>J(e,(n,s)=>{we.set(o,e[s].view());const r=t.dom.getBoundingClientRect();return we.set(o,[]),r.height}),kG=e=>an(Ca(e,(t,o)=>t>o?-1:t<o?1:0)),OG=(e,t,o)=>{const n=As(e).dom,s=Pa(e,".tox-dialog-wrap").getOr(e),r=Fo(s,"position")==="fixed";let a;r?a=Math.max(n.clientHeight,window.innerHeight):a=Math.max(n.offsetHeight,n.scrollHeight);const c=mo(t),u=t.dom.offsetLeft>=o.dom.offsetLeft+ln(o)?Math.max(mo(o),c):c,m=parseInt(Fo(e,"margin-top"),10)||0,g=parseInt(Fo(e,"margin-bottom"),10)||0,b=mo(e)+m+g-u;return a-b},_G=(e,t)=>{an(e).each(o=>eu.showTab(t,o.value))},f8=(e,t)=>{Me(e,"height",t+"px"),Me(e,"flex-basis",t+"px")},_h=(e,t,o)=>{Pa(e,'[role="dialog"]').each(n=>{kt(n,'[role="tablist"]').each(s=>{o.get().map(r=>(Me(t,"height","0"),Me(t,"flex-basis","0"),Math.min(r,OG(n,t,s)))).each(r=>{f8(t,r)})})})},H2=e=>kt(e,'[role="tabpanel"]'),AG=e=>{const t=ut();return{extraEvents:[Ct(s=>{const r=s.element;H2(r).each(a=>{Me(a,"visibility","hidden"),s.getSystem().getByDom(a).toOptional().each(c=>{const i=MG(e,a,c);kG(i).fold(t.clear,t.set)}),_h(r,a,t),$e(a,"visibility"),_G(e,s),requestAnimationFrame(()=>{_h(r,a,t)})})}),z(Hu(),s=>{const r=s.element;H2(r).each(a=>{_h(r,a,t)})}),z(uS,(s,r)=>{const a=s.element;H2(a).each(c=>{const i=Ra(Zo(c));Me(c,"visibility","hidden");const u=Jt(c,"height").map(p=>parseInt(p,10));$e(c,"height"),$e(c,"flex-basis");const m=c.dom.getBoundingClientRect().height;u.forall(p=>m>p)?(t.set(m),_h(a,c,t)):u.each(p=>{f8(c,p)}),$e(c,"visibility"),i.each(Yn)})})],selectFirst:!1}},v8="send-data-to-section",b8="send-data-to-view",EG=(e,t,o,n)=>{const s=ue({}),r=m=>{const g=ee.getValue(m),p=g8(g).getOr({}),b=s.get(),y=Rt(b,p);s.set(y)},a=m=>{const g=s.get();ee.setValue(m,g)},c=ue(null),i=J(e.tabs,m=>({value:m.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[At(o.shared.providers.translate(m.title))],view:()=>[Wl.sketch(g=>({dom:{tag:"div",classes:["tox-form"]},components:J(m.items,p=>z5(g,p,t,o,n)),formBehaviours:W([ce.config({mode:"acyclic",useTabstopAt:Do(xd)}),Te("TabView.form.events",[Ct(a),da(r)]),jn.config({channels:vl([{key:v8,value:{onReceive:r}},{key:b8,value:{onReceive:a}}])})])}))]})),u=AG(i);return eu.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(m,g,p)=>{const b=ee.getValue(g);me(m,lS,{name:b,oldName:c.get()}),c.set(b)},tabs:i,components:[eu.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[p8.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:W([xt.config({})])}),eu.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:W([Te("tabpanel",u.extraEvents),ce.config({mode:"acyclic"}),Ne.config({find:m=>an(eu.getViewItems(m))}),Ui(d.none(),m=>(m.getSystem().broadcastOn([v8],{}),s.get()),(m,g)=>{s.set(g),m.getSystem().broadcastOn([b8],{})})])})},y8=(e,t,o,n,s,r)=>{const a=u=>{const m=u.body;switch(m.type){case"tabpanel":return[EG(m,u.initialData,n,r)];default:return[dG(m,u.initialData,n,r)]}},c=(u,m)=>d.some({isTabPanel:()=>m.body.type==="tabpanel"}),i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...o.map(u=>({id:u})).getOr({}),...s?i:{}}},components:[],behaviours:W([mr.childAt(0),Qn.config({channel:`${t5}-${t}`,updateState:c,renderComponents:a,initialData:e})])}},DG=(e,t,o,n,s,r)=>y8(e,t,d.some(o),n,s,r),HG=(e,t,o,n)=>{const s=y8(e,t,d.none(),o,!1,n);return bo.parts.body(s)},LG=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[JS(d.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:W([xt.config({}),be.config({})])})]}],behaviours:W([ce.config({mode:"acyclic",useTabstopAt:Do(xd)})])};return bo.parts.body(t)},FG=Ll.deviceType.isTouch(),x8=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),S8=(e,t)=>bo.parts.close(Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:W([xt.config({})])})),w8=()=>bo.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),C8=(e,t)=>bo.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Na(`<p>${Cy(t.translate(e))}</p>`)}]}]}),T8=e=>bo.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),M8=(e,t)=>[Nr.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Nr.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],L2=e=>{const t="tox-dialog",o=t+"-wrap",n=o+"__backdrop",s=t+"__disable-scroll";return bo.sketch({lazySink:e.lazySink,onEscape:r=>(e.onEscape(r),d.some(!0)),useTabstopAt:r=>!xd(r),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Na(`<div class="${o}"></div>`),components:[{dom:{tag:"div",classes:FG?[n,n+"--opaque"]:[n]}}]}},dragBlockClass:o,modalBehaviours:W([be.config({}),Te("dialog-events",e.dialogEvents.concat([Sl(Lr(),(r,a)=>{Wr.isBlocked(r)?j():ce.focusIn(r)}),z(O1(),(r,a)=>{r.getSystem().broadcastOn([Jm],{newFocus:a.event.newFocus})})])),Te("scroll-lock",[Ct(()=>{ro(Z(),s)}),da(()=>{Yt(Z(),s)})]),...e.extraBehaviours]),eventOrder:{[hs()]:["dialog-events"],[Ir()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[ua()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},k8=e=>Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:W([xt.config({}),Ft.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[Ps("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:t=>{Re(t,Fc)}}),O8=(e,t,o,n)=>{const s=r=>[At(n.translate(r.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...o.map(r=>({id:r})).getOr({})}},components:[],behaviours:W([Qn.config({channel:`${e5}-${t}`,initialData:e,renderComponents:s})])}},_8=()=>({dom:Na('<div class="tox-dialog__draghandle"></div>')}),IG=(e,t,o,n)=>Nr.sketch({dom:Na('<div class="tox-dialog__header"></div>'),components:[O8(e,t,d.some(o),n),_8(),k8(n)],containerBehaviours:W([Yi.config({mode:"mouse",blockerClass:"blocker",getTarget:s=>ma(s,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),VG=(e,t,o)=>{const n=bo.parts.title(O8(e,t,d.none(),o)),s=bo.parts.draghandle(_8()),r=bo.parts.close(k8(o)),a=[n].concat(e.draggable?[s]:[]).concat([r]);return Nr.sketch({dom:Na('<div class="tox-dialog__header"></div>'),components:a})},A8=(e,t,o)=>VG({title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},t,o.shared.providers),E8=(e,t,o,n)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${n.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:Na('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),D8=(e,t,o)=>({onClose:()=>o.closeWindow(),onBlock:n=>{const s=kt(e().element,".tox-dialog__header").map(r=>mo(r));bo.setBusy(e(),(r,a)=>E8(n.message,a,t,s))},onUnblock:()=>{bo.setIdle(e())}}),H8="tox-dialog--fullscreen",F2="tox-dialog--width-lg",I2="tox-dialog--width-md",Ah=e=>{switch(e){case"large":return d.some(F2);case"medium":return d.some(I2);default:return d.none()}},L8=(e,t)=>{const o=K.fromDom(t.element.dom);In(o,H8)||(tr(o,[F2,I2]),Ah(e).each(n=>ro(o,n)))},F8=(e,t)=>{const o=K.fromDom(e.element.dom),n=xv(o),s=vt(n,r=>r===F2||r===I2).or(Ah(t));yC(o,[H8,...s.toArray()])},I8=(e,t,o)=>en(L2({...e,firstTabstop:1,lazySink:o.shared.getSink,extraBehaviours:[qm({}),...e.extraBehaviours],onEscape:n=>{Re(n,Fc)},dialogEvents:t,eventOrder:{[fi()]:[Qn.name(),jn.name()],[Ir()]:["scroll-lock",Qn.name(),"messages","dialog-events","alloy.base.behaviour"],[ua()]:["alloy.base.behaviour","dialog-events","messages",Qn.name(),"scroll-lock"]}})),V2=(e,t={})=>{const o=n=>{const s=J(n.items,r=>{const a=pe(t,r.name).getOr(ue(!1));return{...r,storage:a}});return{...n,items:s}};return J(e,n=>n.type==="menu"?o(n):n)},V8=e=>io(e,(t,o)=>o.type==="menu"?io(o.items,(s,r)=>(s[r.name]=r.storage,s),t):t,{}),B8=(e,t)=>[Og(Lr(),iV),e(fd,(o,n,s,r)=>{Ol(r.element)&&Ra(Zo(r.element)).each(V1),t.onClose(),n.onClose()}),e(Fc,(o,n,s,r)=>{n.onCancel(o),Re(r,fd)}),z(t0,(o,n)=>t.onUnblock()),z(e0,(o,n)=>t.onBlock(n.event))],BG=(e,t)=>{const o=(s,r)=>z(s,(a,c)=>{n(a,(i,u)=>{r(e(),i,c.event,a)})}),n=(s,r)=>{Qn.getState(s).get().each(a=>{r(a,s)})};return[...B8(o,t),o(ga,(s,r,a)=>{r.onAction(s,{name:a.name})})]},P8=(e,t,o)=>{const n=(r,a)=>z(r,(c,i)=>{s(c,(u,m)=>{a(e(),u,i.event,c)})}),s=(r,a)=>{Qn.getState(r).get().each(c=>{a(c.internalDialog,r)})};return[...B8(n,t),n(vd,(r,a)=>a.onSubmit(r)),n(Vn,(r,a,c)=>{a.onChange(r,{name:c.name})}),n(ga,(r,a,c,i)=>{const u=()=>i.getSystem().isConnected()?ce.focusIn(i):void 0,m=b=>Gt(b,"disabled")||qe(b,"aria-disabled").exists(y=>y==="true"),g=Zo(i.element),p=Ra(g);a.onAction(r,{name:c.name,value:c.value}),Ra(g).fold(u,b=>{m(b)||p.exists(y=>na(b,y)&&m(y))?u():o().toOptional().filter(y=>!na(y.element,b)).each(u)})}),n(lS,(r,a,c)=>{a.onTabChange(r,{newTabName:c.name,oldTabName:c.oldName})}),da(r=>{const a=e();ee.setValue(r,a.getData())})]},PG=(e,t)=>nh(e,e.type,t),RG=(e,t,o)=>vt(t,n=>n.name===o).bind(n=>n.memento.getOpt(e)),zG=(e,t)=>{const o=t.map(c=>c.footerButtons).getOr([]),n=wa(o,c=>c.align==="start"),s=(c,i)=>Nr.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${c}`]},components:J(i,u=>u.memento.asSpec())}),r=s("start",n.pass),a=s("end",n.fail);return[r,a]},R8=(e,t,o)=>{const n=(s,r)=>{const a=J(r.buttons,i=>{const u=Qe(PG(i,o));return{name:i.name,align:i.align,memento:u}}),c=i=>RG(s,a,i);return d.some({lookupByName:c,footerButtons:a})};return{dom:Na('<div class="tox-dialog__footer"></div>'),components:[],behaviours:W([Qn.config({channel:`${o5}-${t}`,initialData:e,updateState:n,renderComponents:zG})])}},ZG=(e,t,o)=>R8(e,t,o),z8=(e,t,o)=>bo.parts.footer(R8(e,t,o)),Eh=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const n=Ne.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Wl.getField(n,t).orThunk(()=>e.getFooter().bind(a=>Qn.getState(a).get()).bind(a=>a.lookupByName(t)))}else return d.none()},$G=(e,t)=>{const o=e.getRoot();return Qn.getState(o).get().map(n=>Hr(jt("data",n.dataValidator,t))).getOr(t)},Z8=(e,t,o)=>{const n=y=>{const x=e.getRoot();x.getSystem().isConnected()&&y(x)},b={getData:()=>{const y=e.getRoot(),x=y.getSystem().isConnected()?e.getFormWrapper():y,D=ee.getValue(x),S=Dt(o,k=>k.get());return{...D,...S}},setData:y=>{n(x=>{const D=b.getData(),S=Rt(D,y),k=$G(e,S),A=e.getFormWrapper();ee.setValue(A,k),qt(o,(I,V)=>{Xe(S,V)&&I.set(S[V])})})},setEnabled:(y,x)=>{Eh(e,y).each(x?ge.enable:ge.disable)},focus:y=>{Eh(e,y).each(be.focus)},block:y=>{if(!_(y))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(x=>{me(x,e0,{message:y})})},unblock:()=>{n(y=>{Re(y,t0)})},showTab:y=>{n(x=>{const D=e.getBody();Qn.getState(D).get().exists(k=>k.isTabPanel())&&Ne.getCurrent(D).each(k=>{eu.showTab(k,y)})})},redial:y=>{n(x=>{const D=e.getId(),S=t(y),k=V2(S.internalDialog.buttons,o);x.getSystem().broadcastOn([`${Km}-${D}`],S),x.getSystem().broadcastOn([`${e5}-${D}`],S.internalDialog),x.getSystem().broadcastOn([`${t5}-${D}`],S.internalDialog),x.getSystem().broadcastOn([`${o5}-${D}`],{...S.internalDialog,buttons:k}),b.setData(S.initialData)})},close:()=>{n(y=>{Re(y,fd)})},toggleFullscreen:e.toggleFullscreen};return b},NG=(e,t,o)=>{const n=se("dialog"),s=e.internalDialog,r=A8(s.title,n,o),a=ue(s.size),c=A=>Eh(S,A),i=Ah(a.get()).toArray(),u=(A,I)=>(a.set(I.internalDialog.size),L8(I.internalDialog.size,A),d.some(I)),m=HG({body:s.body,initialData:s.initialData},n,o,c),g=V2(s.buttons),p=V8(g),b=zo(g.length!==0,z8({buttons:g},n,o)),y=P8(()=>k,D8(()=>D,o.shared.providers,t),o.shared.getSink),x={id:n,header:r,body:m,footer:b,extraClasses:i,extraBehaviours:[Qn.config({channel:`${Km}-${n}`,updateState:u,initialData:e})],extraStyles:{}},D=I8(x,y,o),S=(()=>{const A=()=>{const V=bo.getBody(D);return Ne.getCurrent(V).getOr(V)},I=()=>{F8(D,a.get())};return{getId:H(n),getRoot:H(D),getBody:()=>bo.getBody(D),getFooter:()=>bo.getFooter(D),getFormWrapper:A,toggleFullscreen:I}})(),k=Z8(S,t.redial,p);return{dialog:D,instanceApi:k}},$8=(e,t,o,n=!1,s)=>{const r=se("dialog"),a=se("dialog-label"),c=se("dialog-content"),i=e.internalDialog,u=oe=>Eh(te,oe),m=ue(i.size),g=Ah(m.get()).toArray(),p=(oe,Y)=>(m.set(Y.internalDialog.size),L8(Y.internalDialog.size,oe),s(),d.some(Y)),b=Qe(IG({title:i.title,draggable:!0},r,a,o.shared.providers)),y=Qe(DG({body:i.body,initialData:i.initialData},r,c,o,n,u)),x=V2(i.buttons),D=V8(x),S=zo(x.length!==0,Qe(ZG({buttons:x},r,o))),k=P8(()=>P,{onBlock:oe=>{Wr.block(V,(Y,ne)=>{const Le=b.getOpt(V).map(dt=>mo(dt.element));return E8(oe.message,ne,o.shared.providers,Le)})},onUnblock:()=>{Wr.unblock(V)},onClose:()=>t.closeWindow()},o.shared.getSink),A="tox-dialog-inline",I=un().os,V=en({dom:{tag:"div",classes:["tox-dialog",A,...g],attributes:{role:"dialog",...I.isMacOS()?{"aria-label":i.title}:{"aria-labelledby":a}}},eventOrder:{[fi()]:[Qn.name(),jn.name()],[hs()]:["execute-on-form"],[Ir()]:["reflecting","execute-on-form"]},behaviours:W([ce.config({mode:"cyclic",onEscape:oe=>(Re(oe,fd),d.some(!0)),useTabstopAt:oe=>!xd(oe)&&(lo(oe)!=="button"||De(oe,"disabled")!=="disabled"),firstTabstop:1}),Qn.config({channel:`${Km}-${r}`,updateState:p,initialData:e}),be.config({}),Te("execute-on-form",k.concat([Sl(Lr(),(oe,Y)=>{ce.focusIn(oe)}),z(O1(),(oe,Y)=>{oe.getSystem().broadcastOn([Jm],{newFocus:Y.event.newFocus})})])),Wr.config({getRoot:()=>d.some(V)}),we.config({}),qm({})]),components:[b.asSpec(),y.asSpec(),...S.map(oe=>oe.asSpec()).toArray()]}),G=()=>{F8(V,m.get())},te={getId:H(r),getRoot:H(V),getFooter:()=>S.map(oe=>oe.get(V)),getBody:()=>y.get(V),getFormWrapper:()=>{const oe=y.get(V);return Ne.getCurrent(oe).getOr(oe)},toggleFullscreen:G},P=Z8(te,t.redial,D);return{dialog:V,instanceApi:P}};var B2=tinymce.util.Tools.resolve("tinymce.util.URI");const UG=e=>{const t=a=>{e.getSystem().isConnected()&&a(e)};return{block:a=>{if(!_(a))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(c=>{me(c,e0,{message:a})})},unblock:()=>{t(a=>{Re(a,t0)})},close:()=>{t(a=>{Re(a,fd)})},sendMessage:a=>{t(c=>{c.getSystem().broadcastOn([n5],a)})}}},WG=["insertContent","setContent","execCommand","close","block","unblock"],N8=e=>zt(e)&&WG.indexOf(e.mceAction)!==-1,GG=e=>!N8(e)&&zt(e)&&Xe(e,"mceAction"),jG=(e,t,o)=>{switch(o.mceAction){case"insertContent":e.insertContent(o.content);break;case"setContent":e.setContent(o.content);break;case"execCommand":const n=qo(o.ui)?o.ui:!1;e.execCommand(o.cmd,n,o.value);break;case"close":t.close();break;case"block":t.block(o.message);break;case"unblock":t.unblock();break}},YG=(e,t,o,n)=>{const s=se("dialog"),r=A8(e.title,s,n),a=LG(e),c=e.buttons.bind(A=>A.length===0?d.none():d.some(z8({buttons:A},s,n))),i=BG(()=>k,D8(()=>S,n.shared.providers,t)),u={...e.height.fold(()=>({}),A=>({height:A+"px","max-height":A+"px"})),...e.width.fold(()=>({}),A=>({width:A+"px","max-width":A+"px"}))},m=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],g=new B2(e.url,{base_uri:new B2(window.location.href)}),p=`${g.protocol}://${g.host}${g.port?":"+g.port:""}`,b=bc(),y=(A,I)=>d.some(I),x=[Qn.config({channel:`${Km}-${s}`,updateState:y,initialData:e}),Te("messages",[Ct(()=>{const A=Tn(K.fromDom(window),"message",I=>{if(g.isSameOrigin(new B2(I.raw.origin))){const V=I.raw.data;N8(V)?jG(o,k,V):GG(V)&&e.onMessage(k,V)}});b.set(A)}),da(b.clear)]),jn.config({channels:{[n5]:{onReceive:(A,I)=>{kt(A.element,"iframe").each(V=>{const G=V.dom.contentWindow;_t(G)&&G.postMessage(I,p)})}}}})],S=I8({id:s,header:r,body:a,footer:c,extraClasses:m,extraBehaviours:x,extraStyles:u},i,n),k=UG(S);return{dialog:S,instanceApi:k}},XG=e=>{const t=e.shared;return{open:(n,s)=>{const r=()=>{bo.hide(u),s()},a=Qe(nh({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:d.some("primary"),align:"end",enabled:!0,icon:d.none()},"cancel",e)),c=w8(),i=S8(r,t.providers),u=en(L2({lazySink:()=>t.getSink(),header:x8(c,i),body:C8(n,t.providers),footer:d.some(T8(M8([],[a.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[z(Fc,r)],eventOrder:{}}));bo.show(u);const m=a.get(u);be.focus(m)}}},qG=e=>{const t=e.shared;return{open:(n,s)=>{const r=p=>{bo.hide(m),s(p)},a=Qe(nh({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:d.some("primary"),align:"end",enabled:!0,icon:d.none()},"submit",e)),c=nh({context:"any",name:"no",text:"No",primary:!1,buttonType:d.some("secondary"),align:"end",enabled:!0,icon:d.none()},"cancel",e),i=w8(),u=S8(()=>r(!1),t.providers),m=en(L2({lazySink:()=>t.getSink(),header:x8(i,u),body:C8(n,t.providers),footer:d.some(T8(M8([],[c,a.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[z(Fc,()=>r(!1)),z(vd,()=>r(!0))],eventOrder:{}}));bo.show(m);const g=a.get(m);be.focus(g)}}},U8=(e,t)=>Hr(jt("data",t,e)),W8=e=>hd(e,".tox-alert-dialog")||hd(e,".tox-confirm-dialog"),KG=(e,t,o)=>t&&o?[]:[Lt.config({contextual:{lazyContext:()=>d.some(ho(K.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:n=>Ec(e,n.element).map(r=>({bounds:Hi(r),optScrollEnv:d.some({currentScrollTop:r.element.dom.scrollTop,scrollElmTop:as(r.element).top})})).getOrThunk(()=>({bounds:$o(),optScrollEnv:d.none()}))})],JG=e=>{const t=e.editor,o=Vl(t),n=XG(e.backstages.dialog),s=qG(e.backstages.dialog),r=(y,x,D)=>{if(!sn(x)){if(x.inline==="toolbar")return u(y,e.backstages.popup.shared.anchors.inlineDialog(),D,x);if(x.inline==="bottom")return m(y,e.backstages.popup.shared.anchors.inlineBottomDialog(),D,x);if(x.inline==="cursor")return u(y,e.backstages.popup.shared.anchors.cursor(),D,x)}return i(y,D)},a=(y,x)=>c(y,x),c=(y,x)=>{const D=S=>{const k=YG(S,{closeWindow:()=>{bo.hide(k.dialog),x(k.instanceApi)}},t,e.backstages.dialog);return bo.show(k.dialog),k.instanceApi};return Xi.openUrl(D,y)},i=(y,x)=>{const D=(S,k,A)=>{const I=k,G=NG({dataValidator:A,initialData:I,internalDialog:S},{redial:Xi.redial,closeWindow:()=>{bo.hide(G.dialog),x(G.instanceApi)}},e.backstages.dialog);return bo.show(G.dialog),G.instanceApi.setData(I),G.instanceApi};return Xi.open(D,y)},u=(y,x,D,S)=>{const k=(A,I,V)=>{const G=U8(I,V),te=ut(),P=e.backstages.popup.shared.header.isPositionedAtTop(),oe={dataValidator:V,initialData:G,internalDialog:A},Y=()=>te.on(We=>{Et.reposition(We),(!o||!P)&&Lt.refresh(We)}),ne=$8(oe,{redial:Xi.redial,closeWindow:()=>{te.on(Et.hide),t.off("ResizeEditor",Y),te.clear(),D(ne.instanceApi)}},e.backstages.popup,S.ariaAttrs,Y),Le=en(Et.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:S.persistent?{event:"doNotDismissYet"}:{},...P?{}:{fireRepositionEventInstead:{}},inlineBehaviours:W([Te("window-manager-inline-events",[z(vi(),(We,re)=>{Re(ne.dialog,Fc)})]),...KG(t,o,P)]),isExtraPart:(We,re)=>W8(re)}));te.set(Le);const dt=()=>{const We=t.inline?Z():K.fromDom(t.getContainer()),re=ho(We);return d.some(re)};return Et.showWithinBounds(Le,ps(ne.dialog),{anchor:x},dt),(!o||!P)&&(Lt.refresh(Le),t.on("ResizeEditor",Y)),ne.instanceApi.setData(G),ce.focusIn(ne.dialog),ne.instanceApi};return Xi.open(k,y)},m=(y,x,D,S)=>{const k=(A,I,V)=>{const G=U8(I,V),te=ut(),P=e.backstages.popup.shared.header.isPositionedAtTop(),oe={dataValidator:V,initialData:G,internalDialog:A},Y=()=>te.on(We=>{Et.reposition(We),Lt.refresh(We)}),ne=$8(oe,{redial:Xi.redial,closeWindow:()=>{te.on(Et.hide),t.off("ResizeEditor ScrollWindow ElementScroll",Y),te.clear(),D(ne.instanceApi)}},e.backstages.popup,S.ariaAttrs,Y),Le=en(Et.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:S.persistent?{event:"doNotDismissYet"}:{},...P?{}:{fireRepositionEventInstead:{}},inlineBehaviours:W([Te("window-manager-inline-events",[z(vi(),(We,re)=>{Re(ne.dialog,Fc)})]),Lt.config({contextual:{lazyContext:()=>d.some(ho(K.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:We=>Ec(t,We.element).map(N=>({bounds:Hi(N),optScrollEnv:d.some({currentScrollTop:N.element.dom.scrollTop,scrollElmTop:as(N.element).top})})).getOrThunk(()=>({bounds:$o(),optScrollEnv:d.none()}))})]),isExtraPart:(We,re)=>W8(re)}));te.set(Le);const dt=()=>e.backstages.popup.shared.getSink().toOptional().bind(We=>{const re=Ec(t,We.element),N=15,q=re.map(ie=>Hi(ie)).getOr($o()),ve=ho(K.fromDom(t.getContentAreaContainer())),ke=Su(ve,q);return d.some(So(ke.x,ke.y,ke.width,ke.height-N))});return Et.showWithinBounds(Le,ps(ne.dialog),{anchor:x},dt),Lt.refresh(Le),t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",Y),ne.instanceApi.setData(G),ce.focusIn(ne.dialog),ne.instanceApi};return Xi.open(k,y)};return{open:r,openUrl:a,alert:(y,x)=>{n.open(y,x)},close:y=>{y.close()},confirm:(y,x)=>{s.open(y,x)}}},QG=e=>{O3(e),UH(e),vN(e)};var ej=()=>{sg.add("silver",e=>{QG(e);let t=()=>$o();const{dialogs:o,popups:n,renderUI:s}=_U(e,{getPopupSinkBounds:()=>t()}),r=()=>{const u=s();return Ec(e,n.getMothership().element).each(g=>{t=()=>Hi(g)}),u};WL.register(e,n.backstage.shared);const a=JG({editor:e,backstages:{popup:n.backstage,dialog:o.backstage}}),c=ut(),i=()=>FD(e,{backstage:n.backstage},n.getMothership(),c);return{renderUI:r,getWindowManagerImpl:H(a),getNotificationManagerImpl:i}})};ej()})();const xj={name:"LeadsPage",setup(){const br=ze("all"),w=ze([]),yr=ze(!0),O=ze(""),es=ze(""),xr=ze(!1),St=ze({id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""}),_=ze({}),zt=ze({message:"",type:""}),Cs=ze([]),It=ze([]),En=ze([]),qo=ze(!1),sn=ze(""),$s=ze([]),_t=ze(null),Po=ze(""),Ro=ze(new Set),xe=ze(!1),j=ze(!1),Pe=ze(null),Ts=ze(""),Yr=ze(1),H=ze(10),Ze=U2(()=>Math.ceil(w.value.length/H.value));ze("");const ts=ze(""),Ut=ze(""),Do=ze(!1),co=ze(!1),vn=ze(!1),rt=ze(!1),ct=ze(!1),d=ze(null),Ms=ze(""),Xr=ze(!1),Zt=ze([]),Sr=ze(!1),ks=ze(!1),ot=ze([]),yo=R=>{Po.value=R,sn.value=Nc(R),$s.value=wa(R),qo.value=!0},Ns=()=>{qo.value=!1},Sa=R=>Ro.value.has(R),J=R=>{Ro.value.has(R)?Ro.value.delete(R):Ro.value.add(R),St.value.tag=Array.from(Ro.value)},le=()=>{Ns()},Nc=R=>({listingAlert:"New Listing Alert",neighbourhoodAlert:"Neighbourhood Alert",openHouseAlert:"Open House Alert",actionPlan:"Action Plan",marketUpdates:"Market Updates",newsletter:"Real Estate Newsletter"})[R]||"Unknown Modal",wa=R=>({listingAlert:[{value:"alert1",text:"Alert 1"},{value:"alert2",text:"Alert 2"}],neighbourhoodAlert:[{value:"neigh1",text:"Neighbourhood 1"},{value:"neigh2",text:"Neighbourhood 2"}],openHouseAlert:[{value:"house1",text:"House 1"},{value:"house2",text:"House 2"}],actionPlan:[{value:"plan1",text:"Plan 1"},{value:"plan2",text:"Plan 2"}],marketUpdates:[{value:"update1",text:"Update 1"},{value:"update2",text:"Update 2"}],newsletter:[{value:"news1",text:"Newsletter 1"},{value:"news2",text:"Newsletter 2"}]})[R]||[],it=()=>{ks.value=!1},Wt=ze({from:"hiteshpandey732195@gmail.com",to:"",subject:"",message:"",template:"",attachments:[]}),io=R=>{ot.value.splice(R,1),Wt.value.to=ot.value.join(", ")};Ih(Zt,R=>{ot.value=w.value.filter(Ce=>R.includes(Ce.id)).map(Ce=>Ce.email),Wt.value.to=ot.value.join(", "),console.log("Updated To Field:",Wt.value.to)}),Ih(ot,R=>{Wt.value.to=R.join(", "),console.log("Updated To Field from Modal:",Wt.value.to)});const Uc=async()=>{console.log("Lead modal opening..."),ks.value=!0,await cn()},vt=()=>{ks.value=!1},rn=R=>{ot.value.includes(R)?ot.value=ot.value.filter(Ce=>Ce!==R):ot.value.push(R)},Xt=ze(""),Ie=ze(["Best regards,<br>John Doe<br>Company Name","Sincerely,<br>Jane Smith<br>Marketing Head","Thank you,<br>Support Team<br>XYZ Pvt Ltd"]),bn=ze(""),yn=ze(["{{firstName}}","{{lastName}}","{{email}}","{{company}}","{{phone}}"]),os=()=>{Xt.value&&(Wt.value.subject+=" "+Xt.value)},Us=()=>{if(bn.value){const R=au.get("email-editor"),Ce=R.getContent();R.setContent(Ce+"<br><br>"+bn.value)}},qr=ze([]),Ca=localStorage.getItem("auth_token"),Os=async()=>{try{const R=await fr.get("/api/templates",{headers:{Authorization:`Bearer ${Ca}`}});qr.value=R.data.data??R.data}catch(R){console.error("Error fetching templates:",R),R.response&&R.response.status===401&&alert("Session expired. Please log in again.")}},an=()=>{h7(()=>{au.get("email-editor")||au.init({selector:"#email-editor",plugins:["anchor autolink autoresize autosave charmap code codesample directionality emoticons fullscreen help image insertdatetime link lists liststyles media nonbreaking pagebreak preview quickbars save searchreplace table visualblocks visualchars wordcount"],toolbar:"undo redo | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | preview fullscreen emoticons charmap | searchreplace code",menubar:"file edit view insert format tools table help",height:500,setup:R=>{d.value=R}})})},wr=()=>{au.get("email-editor")&&au.get("email-editor").remove()},Ws=()=>{if(Zt.value.length===0){_n.fire({icon:"warning",title:"No Leads Selected",text:"Please select at least one lead before sending an email."});return}ct.value=!0,h7(()=>{wr(),an()})},Ho=()=>{ct.value=!1,wr()},Vt=()=>{const R=qr.value.find(Ce=>Ce.id===Wt.value.template);if(R){let Ce=R.content;au.get("email-editor").setContent(Ce),bn.value&&Us()}},$n=R=>{Wt.value.attachments=Array.from(R.target.files)},qt=()=>{const R=d.value.getContent();alert(`Preview:
From: ${Wt.value.from}
To: ${Wt.value.to}
Subject: ${Wt.value.subject}
Message:
${R}`)},Dt=()=>{alert("Feature not implemented yet. Add scheduling logic here!")},tc=async()=>{const R=d.value.getContent();if(!Wt.value.to){_n.fire({icon:"error",title:"No Recipients",text:"Please add at least one recipient."});return}_n.fire({title:"Are you sure?",text:"Do you want to send this email?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, send it!",cancelButtonText:"Cancel"}).then(async Ce=>{if(Ce.isConfirmed)try{await fr.post("/api/send-email",{from:Wt.value.from,to:Wt.value.to.split(",").map(Bt=>Bt.trim()),subject:Wt.value.subject,message:R,template_id:Wt.value.template}),_n.fire({icon:"success",title:"Email Sent!",text:"Your email has been successfully sent."}),Ho()}catch{_n.fire({icon:"error",title:"Failed to Send",text:"Something went wrong. Please try again later."})}})},Kr=ze(!1),Dn=ze(!1),Wc=ze([]),oc=ze([]),Kt=ze([]),lt=ze({from:"",to:"",toName:"",subject:"",message:"",template:"",schedule:""}),Ta=()=>{lt.value.to=Kt.value.map(R=>R.phone).join(", "),lt.value.toName=Kt.value.map(R=>R.first_name).join(", ")},pe=R=>{const Ce=Zt.value.indexOf(R.id);Ce===-1?(Zt.value.push(R.id),Kt.value.push({id:R.id,first_name:R.first_name,phone:R.phone})):(Zt.value.splice(Ce,1),Kt.value=Kt.value.filter(Bt=>Bt.id!==R.id))},Xe=R=>Zt.value.includes(R.id),Ko=R=>{const Ce=Kt.value[R];Kt.value.splice(R,1),Zt.value=Zt.value.filter(Bt=>Bt!==Ce.id)};Ih(Zt,R=>{lt.value.to=Kt.value.map(Ce=>Ce.phone).join(", "),lt.value.toName=Kt.value.map(Ce=>Ce.first_name).join(", ")});const Lo=()=>{Dn.value=!1},Ma=()=>{console.log("Opening SMS Lead Modal"),Dn.value=!0},ns=()=>{Dn.value=!1},Jr=R=>{lt.value.toName=R.first_name,lt.value.to=R.phone,Dn.value=!1};Ih(Zt,()=>{Kt.value=w.value.filter(R=>Zt.value.includes(R.id)),lt.value.to=Kt.value.map(R=>R.phone).join(", "),lt.value.toName=Kt.value.map(R=>R.first_name).join(", ")});const Gs=()=>{lt.value.message.length>300&&(lt.value.message=lt.value.message.slice(0,300))},nc=ze([{id:1,name:"Appointment Reminder",content:"Hi {name}, this is a reminder for your appointment."},{id:2,name:"Promotional Offer",content:"Hello {name}, check out our latest promotional offers!"}]),Cr=R=>{lt.value.to=R.phone,vt()},zo=R=>{R.target.checked?(Zt.value=w.value.map(Ce=>Ce.id),Kt.value=w.value.map(Ce=>({id:Ce.id,first_name:Ce.first_name,phone:Ce.phone}))):(Zt.value=[],Kt.value=[])},Qr=ze(["{name}","{email}","{phone}"]),ka=()=>{if(Zt.value.length===0){_n.fire("No leads selected!","Please select leads before sending an SMS.","warning");return}Xr.value=!0},Gc=()=>{Sr.value=!Sr.value},sc=()=>{Xr.value=!1,lt.value={from:"",to:"",subject:"",message:"",template:"",schedule:""}},xn=()=>{const R=nc.value.find(Ce=>Ce.id===lt.value.template);R&&(lt.value.message=R.content)},To=R=>{const Ce=R.target.value;Ce&&(lt.value.message+=` ${Ce}`,lt.value.subject+=` ${Ce}`,R.target.value="")},rc=()=>{_n.fire({title:"SMS Preview",html:`<strong>From:</strong> ${lt.value.from}<br>
            <strong>To:</strong> ${lt.value.to}<br>
            <strong>Subject:</strong> ${lt.value.subject}<br>
            <strong>Message:</strong><br> ${lt.value.message}`,icon:"info"})},js=async()=>{if(!lt.value.from||Kt.value.length===0||!lt.value.message.trim()){_n.fire("Missing Information","Sender, recipient, and message cannot be empty.","error");return}try{const R=Kt.value.map(Ce=>Ce.phone);await fr.post("/api/send-sms",{lead_ids:Zt.value,from:lt.value.from,to:R.join(", "),subject:lt.value.subject,message:lt.value.message,schedule:lt.value.schedule||null}),_n.fire("Success","SMS sent successfully.","success"),sc()}catch{_n.fire("Error","Failed to send SMS.","error")}},ac=async R=>{br.value=R,yr.value=!0,R==="all"?await Oa():R==="my"&&await cn()},Oa=async()=>{try{const R=await fr.get("/leads");console.log(R),w.value=Array.isArray(R.data)?R.data:[]}catch{O.value="Failed to fetch leads."}finally{yr.value=!1}},cn=async()=>{try{const R=await fr.get("/leads");w.value=Array.isArray(R.data)?R.data:[]}catch{O.value="Failed to fetch my leads."}finally{yr.value=!1}},Tr=async()=>{try{const R=await fr.get("/items");Cs.value=R.data.tags,It.value=R.data.stages,En.value=R.data.sources}catch(R){console.error("Failed to fetch items:",R)}},ea=()=>{Do.value=!0},Ys=()=>{Do.value=!1,ts.value=""},_a=()=>{co.value=!0},jc=()=>{co.value=!1,Ut.value=""},cc=async()=>{if(ts.value.trim())try{const R=await fr.post("/api/items",{name:ts.value,type:"tag"});Cs.value.push(R.data.item),ts.value="",vn.value=!1,_n.fire("Success","Tag added successfully","success")}catch(R){console.error("Failed to add tag:",R),_n.fire("Error","Failed to add tag","error")}},_s=async()=>{if(Ut.value.trim())try{const R=await fr.post("/api/items",{name:Ut.value,type:"stage"});It.value.push(R.data.item),Ut.value="",rt.value=!1,_n.fire("Success","Stage added successfully","success")}catch(R){console.error("Failed to add stage:",R),_n.fire("Error","Failed to add stage","error")}},Yc=U2(()=>w.value.filter(R=>R.first_name&&R.first_name.toLowerCase().includes(es.value.toLowerCase()))),K=R=>{const Ce=Cs.value.find(Bt=>Bt.id===R);return Ce?Ce.name:"N/A"},Aa=R=>{const Ce=It.value.find(Bt=>Bt.id===R);return Ce?Ce.name:"N/A"},Xc=()=>(_.value={first_name:St.value.first_name?"":"First name is required.",last_name:St.value.last_name?"":"Last name is required.",email:St.value.email&&/^\S+@\S+\.\S+$/.test(St.value.email)?"":"Valid email is required.",phone:St.value.phone&&/^\d{10}$/.test(St.value.phone)?"":"Valid phone number is required.",tag:St.value.tag?"":"Tag is required.",stage:St.value.stage?"":"Stage is required."},!Object.values(_.value).some(R=>R)),qc=async()=>{if(Zt.value.length===0){oo("No leads selected.","error");return}if((await _n.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const Ce=document.querySelector('meta[name="csrf-token"]'),Bt=Ce?Ce.getAttribute("content"):"";await fr.post("/leads/delete",{lead_ids:Zt.value},{headers:{"X-CSRF-TOKEN":Bt}}),w.value=w.value.filter(Sn=>!Zt.value.includes(Sn.id)),Zt.value=[],_n.fire("Deleted!","Selected leads have been deleted.","success")}catch{_n.fire("Error!","Failed to delete leads.","error")}},Kc=R=>{R>=1&&R<=Ze.value&&(Yr.value=R)},Ki=R=>{H.value=R,Yr.value=1},Mr=U2(()=>{const R=(Yr.value-1)*H.value,Ce=R+H.value;return w.value.slice(R,Ce)}),ta=async()=>{if(Zt.value.length===0){oo("No leads selected.","error");return}try{const R=await fr.post("/leads/export",{lead_ids:Zt.value},{responseType:"blob"}),Ce=window.URL.createObjectURL(new Blob([R.data])),Bt=document.createElement("a");Bt.href=Ce,Bt.setAttribute("download","leads.csv"),document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),oo("Leads exported successfully!","success")}catch{oo("Failed to export leads.","error")}},Ji=async R=>{const Ce=R.target.files[0];if(!Ce){oo("No file selected.","error");return}const Bt=new FormData;Bt.append("file",Ce);try{const Sn=document.querySelector('meta[name="csrf-token"]'),Xs=Sn?Sn.getAttribute("content"):"";await fr.post("/leads/import",Bt,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":Xs}}),await ac(),oo("Leads imported successfully!","success")}catch{oo("Failed to import leads.","error")}},ic=()=>{ss(),alert("Indirect File Import option selected")},oa=()=>{xe.value=!0},ss=()=>{xe.value=!1,j.value=!1,Pe.value=null,Ts.value=""},lc=()=>{j.value=!0},lo=R=>{const Ce=R.target.files[0];Ce&&Ce.type==="text/csv"?(Pe.value=Ce,Ts.value=""):(Pe.value=null,Ts.value="Please select a valid CSV file.")},uc=()=>{if(!Pe.value){Ts.value="No file selected or invalid file type.";return}console.log("CSV file selected:",Pe.value),ss()},rs=()=>{ss()},oo=(R,Ce)=>{zt.value={message:R,type:Ce},setTimeout(()=>{zt.value.message=""},5e3)},uo=async()=>{if(Xc())try{const R=document.querySelector('meta[name="csrf-token"]'),Ce=R?R.getAttribute("content"):"",Bt=localStorage.getItem("auth_token"),Sn=await fr.post("/leads",{first_name:St.value.first_name,last_name:St.value.last_name,email:St.value.email,phone:St.value.phone,tag:String(St.value.tag),stage:String(St.value.stage)},{headers:{"X-CSRF-TOKEN":Ce,Authorization:`Bearer ${Bt}`}});St.value={id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""},xr.value=!1,w.value.push(Sn.data),oo("Lead created successfully!","success")}catch{oo("Failed to create lead.","error")}};return dj(async()=>{await ac(br.value),await Tr(),await wr(),await Os()}),{removeEmail:io,toggleLeadSelection:rn,toggleSelectAll:zo,showLeadModal:ks,selectedEmails:ot,addSelectedEmails:it,closeLeadModal:vt,openLeadModal:Uc,expandSmsModal:Gc,showSmsModal:Xr,selectedLeads:Zt,smsData:lt,smsTemplates:nc,mergeTags:Qr,openSmsModal:ka,closeSmsModal:sc,loadSmsTemplate:xn,insertMergeTag:To,previewSms:rc,sendSms:js,emailData:Wt,templates:qr,loadTemplate:Vt,handleAttachments:$n,previewEmail:qt,scheduleEmail:Dt,emailMessage:Ms,showEmailModal:ct,openEmailModal:Ws,closeEmailModal:Ho,sendEmail:tc,getAllLeads:Oa,getMyLeads:cn,fetchLeads:ac,activeLeadType:br,leads:w,loading:yr,error:O,searchQuery:es,filteredLeads:Yc,showForm:xr,newLead:St,errors:_,submitForm:uo,toggleSelectAll:zo,toast:zt,getTagValue:K,getStageValue:Aa,tags:Cs,stages:It,sources:En,fetchItems:Tr,showImportModal:xe,openImportModal:oa,closeImportModal:ss,importDirectFile:rs,importIndirectFile:ic,showFileInput:j,showFileUploadField:lc,handleFileUpload:lo,submitCsvFile:uc,fileError:Ts,deleteLeads:qc,exportLeads:ta,importLeads:Ji,currentPage:Yr,pageSize:H,totalPages:Ze,changePage:Kc,setPageSize:Ki,paginatedLeads:Mr,showToast:oo,newTag:ts,newStage:Ut,showTagModal:Do,showStageModal:co,showAddTagInput:vn,showAddStageInput:rt,openTagModal:ea,closeTagModal:Ys,openStageModal:_a,closeStageModal:jc,addTag:cc,addStage:_s,openModal:yo,submitAction:le,showModal:qo,modalTitle:sn,modalOptions:$s,selectedOption:_t,isTagSelected:Sa,toggleTagSelection:J,closeModal:Ns,selectedMergeField:Xt,addMergeFieldToSubject:os,mergeFields:yn,signatures:Ie,addSignatureToBody:Us,selectedSignature:bn,selectLead:Cr,countCharacters:Gs,showEmailLeadModal:Kr,openSmsLeadModal:Ma,selectSmsLead:Jr,closeSmsLeadModal:ns,showSmsLeadModal:Dn,addSelectedPhones:Lo,toggleSmsLeadSelection:pe,selectedPhones:Wc,selectedNames:oc,selectedLeadsList:Kt,isLeadSelected:Xe,removeSelectedLead:Ko,addSelectedPhones:Lo,toggleSmsLeadSelection:pe,updateSmsToField:Ta}}},Sj={class:"leads-container"},wj={class:"leads-header"},Cj={class:"leads-section"},Tj={class:"lead-buttons"},Mj={class:"icon-section"},kj={class:"selected-count total-leads"},Oj=["disabled"],_j={key:0,class:"modal"},Aj={class:"modal-header"},Ej={class:"modal-body"},Dj={class:"form-group"},Hj={class:"form-group"},Lj={class:"email-input-container"},Fj={class:"email-tags"},Ij=["onClick"],Vj={class:"form-group"},Bj={class:"form-group"},Pj=["value"],Rj={class:"form-group"},zj=["value"],Zj={class:"form-group"},$j=["value"],Nj={class:"form-group"},Uj={class:"form-actions"},Wj=["disabled"],Gj={key:0,class:"integrte_LeadModal"},jj={class:"modal_LeadContent"},Yj={class:"modal-header"},Xj={class:"modal_LeadBody"},qj=["value","checked","onChange"],Kj={class:"modal-footer"},Jj={class:"modal-header"},Qj={class:"modal-body"},eY={class:"form-group"},tY={class:"form-group"},oY={class:"input-group"},nY={class:"selected-leads"},sY=["onClick"],rY={class:"form-group"},aY=["value"],cY={class:"form-group"},iY=["value"],lY={class:"form-group textarea-container"},uY={class:"char-counter"},dY={class:"form-group"},mY={class:"form-actions"},hY=["disabled"],gY=["disabled"],pY=["disabled"],fY=["disabled"],vY=["disabled"],bY=["disabled"],yY=["disabled"],xY=["disabled"],SY=["disabled"],wY=["disabled"],CY=["disabled"],TY={key:0,class:"modal-overlay"},MY={class:"modal-container"},kY={key:0,class:"import-options"},OY={key:1,class:"file-upload-container"},_Y={key:0,class:"error-message"},AY={key:1,class:"tag-modal-overlay"},EY={class:"tag-modal-container"},DY={class:"modal_tags"},HY=["value","checked","onChange"],LY={key:0},FY={key:2,class:"stage-modal-overlay"},IY={class:"stage-modal-container"},VY={key:0},BY=["value"],PY={key:3,class:"modal-overlay"},RY={class:"modal-container"},zY=["value"],ZY={class:"modal-buttons"},$Y={class:"header"},NY={class:"total-leads"},UY={key:4,class:"form-overlay"},WY={class:"form-container"},GY={key:0,class:"error"},jY={key:0,class:"error"},YY={key:0,class:"error"},XY={key:0,class:"error"},qY=["value"],KY={key:0,class:"error"},JY=["value"],QY={key:0,class:"error"},eX={key:0},tX={key:0,id:"leadsTable",class:"table table-striped table-bordered leads-table"},oX={class:"custom-checkbox-label"},nX={class:"custom-checkbox-label"},sX=["value"],rX={key:1,class:"no-leads"},aX=["disabled"],cX=["disabled"];function iX(br,w,yr,O,es,xr){const St=yj("router-link");return Ae(),Ee("div",Sj,[L("div",wj,[L("div",Cj,[L("div",Tj,[L("button",{class:An(["btn",{active:O.activeLeadType==="all"}]),onClick:w[0]||(w[0]=_=>O.fetchLeads("all"))}," All Leads ",2),L("button",{class:An(["btn",{active:O.activeLeadType==="my"}]),onClick:w[1]||(w[1]=_=>O.fetchLeads("my"))}," My Leads ",2)])]),L("div",Mj,[L("ul",null,[L("li",kj," Selected Leads: "+mt(O.selectedLeads.length),1),w[117]||(w[117]=L("li",{class:"total-leads"},[L("i",{class:"fa-solid fa-plus"})],-1)),L("li",{class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),onClick:w[2]||(w[2]=(..._)=>O.deleteLeads&&O.deleteLeads(..._)),disabled:O.selectedLeads.length===0},w[80]||(w[80]=[L("span",null,"Delete",-1),L("i",{class:"fa-solid fa-trash-can-arrow-up"},null,-1)]),10,Oj),O.showEmailModal?(Ae(),Ee("div",_j,[L("div",Aj,[w[81]||(w[81]=L("h2",null,"Compose Email",-1)),L("button",{onClick:w[3]||(w[3]=(..._)=>O.closeEmailModal&&O.closeEmailModal(..._))},"")]),L("div",Ej,[L("div",Dj,[w[82]||(w[82]=L("label",{for:"from"},"From:",-1)),Eo(L("input",{type:"email",id:"from","onUpdate:modelValue":w[4]||(w[4]=_=>O.emailData.from=_),placeholder:"Enter sender email"},null,512),[[vr,O.emailData.from]])]),L("div",Hj,[w[83]||(w[83]=L("label",{for:"to"},"To:",-1)),L("div",Lj,[L("div",Fj,[(Ae(!0),Ee(Ss,null,ws(O.selectedLeadsList,(_,zt)=>(Ae(),Ee("span",{key:_.id,class:"email-tag"},[jr(mt(_.first_name)+" ("+mt(_.email)+") ",1),L("button",{onClick:Cs=>O.removeSelectedLead(zt),class:"remove-email"},"",8,Ij)]))),128))]),L("button",{onClick:w[5]||(w[5]=(..._)=>O.openSmsLeadModal&&O.openSmsLeadModal(..._))},"+")])]),L("div",Vj,[w[84]||(w[84]=L("label",{for:"subject"},"Subject:",-1)),Eo(L("input",{type:"text",id:"subject","onUpdate:modelValue":w[6]||(w[6]=_=>O.emailData.subject=_),placeholder:"Enter subject"},null,512),[[vr,O.emailData.subject]])]),L("div",Bj,[w[86]||(w[86]=L("label",{for:"mergeFields"},"Merge Fields:",-1)),Eo(L("select",{id:"mergeFields","onUpdate:modelValue":w[7]||(w[7]=_=>O.selectedMergeField=_),onChange:w[8]||(w[8]=(..._)=>O.addMergeFieldToSubject&&O.addMergeFieldToSubject(..._))},[w[85]||(w[85]=L("option",{value:""},"Select Merge Field",-1)),(Ae(!0),Ee(Ss,null,ws(O.mergeFields,_=>(Ae(),Ee("option",{key:_,value:_},mt(_),9,Pj))),128))],544),[[ec,O.selectedMergeField]])]),L("div",Rj,[w[88]||(w[88]=L("label",{for:"template"},"Template:",-1)),Eo(L("select",{id:"template","onUpdate:modelValue":w[9]||(w[9]=_=>O.emailData.template=_),onChange:w[10]||(w[10]=(..._)=>O.loadTemplate&&O.loadTemplate(..._))},[w[87]||(w[87]=L("option",{value:""},"Select Template",-1)),(Ae(!0),Ee(Ss,null,ws(O.templates,_=>(Ae(),Ee("option",{key:_.id,value:_.id},mt(_.title),9,zj))),128))],544),[[ec,O.emailData.template]])]),w[92]||(w[92]=L("textarea",{id:"email-editor"},null,-1)),L("div",Zj,[w[90]||(w[90]=L("label",{for:"signature"},"Select Signature:",-1)),Eo(L("select",{id:"signature","onUpdate:modelValue":w[11]||(w[11]=_=>O.selectedSignature=_),onChange:w[12]||(w[12]=(..._)=>O.addSignatureToBody&&O.addSignatureToBody(..._))},[w[89]||(w[89]=L("option",{value:""},"Select Signature",-1)),(Ae(!0),Ee(Ss,null,ws(O.signatures,(_,zt)=>(Ae(),Ee("option",{key:zt,value:_}," Signature "+mt(zt+1),9,$j))),128))],544),[[ec,O.selectedSignature]])]),L("div",Nj,[w[91]||(w[91]=L("label",{for:"attachments"},"Attachments:",-1)),L("input",{type:"file",id:"attachments",multiple:"",onChange:w[13]||(w[13]=(..._)=>O.handleAttachments&&O.handleAttachments(..._))},null,32)]),L("div",Uj,[L("button",{onClick:w[14]||(w[14]=(..._)=>O.previewEmail&&O.previewEmail(..._))},"Preview"),L("button",{onClick:w[15]||(w[15]=(..._)=>O.scheduleEmail&&O.scheduleEmail(..._))},"Schedule"),L("button",{onClick:w[16]||(w[16]=(..._)=>O.sendEmail&&O.sendEmail(..._))},"Send Email")])])])):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:1,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),onClick:w[17]||(w[17]=(..._)=>O.openEmailModal&&O.openEmailModal(..._)),disabled:O.selectedLeads.length===0},w[93]||(w[93]=[L("span",null,"Email",-1),L("i",{class:"fa-solid fa-envelope"},null,-1)]),10,Wj)):Ot("",!0),(Ae(),mj(hj,{to:"body"},[O.showSmsLeadModal?(Ae(),Ee("div",Gj,[L("div",jj,[L("div",Yj,[w[94]||(w[94]=L("h2",null,"Select Leads",-1)),L("button",{onClick:w[18]||(w[18]=_=>O.showSmsLeadModal=!1)},"")]),L("div",Xj,[L("table",null,[w[95]||(w[95]=L("thead",null,[L("tr",null,[L("th",null,"Select"),L("th",null,"Name"),L("th",null,"Phone")])],-1)),L("tbody",null,[(Ae(!0),Ee(Ss,null,ws(O.leads,_=>(Ae(),Ee("tr",{key:_.id},[L("td",null,[L("input",{type:"checkbox",value:_.phone,checked:O.isLeadSelected(_),onChange:zt=>O.toggleSmsLeadSelection(_)},null,40,qj)]),L("td",null,mt(_.first_name)+" "+mt(_.last_name),1),L("td",null,mt(_.phone),1)]))),128))])])]),L("div",Kj,[L("button",{onClick:w[19]||(w[19]=(..._)=>O.addSelectedPhones&&O.addSelectedPhones(..._))},"Add Selected")])])])):Ot("",!0)])),O.showSmsModal?(Ae(),Ee("div",{key:2,class:An(["modal",{"modal-fullscreen":br.isFullscreen}])},[L("div",Jj,[w[96]||(w[96]=L("h2",null,"Compose SMS",-1)),L("i",{class:"fas fa-expand-alt",onClick:w[20]||(w[20]=(..._)=>O.expandSmsModal&&O.expandSmsModal(..._)),title:"Expand"}),L("button",{onClick:w[21]||(w[21]=(..._)=>O.closeSmsModal&&O.closeSmsModal(..._))},"")]),L("div",Qj,[L("div",eY,[w[97]||(w[97]=L("label",{for:"sms-from"},"From:",-1)),Eo(L("input",{type:"text",id:"sms-from","onUpdate:modelValue":w[22]||(w[22]=_=>O.smsData.from=_),placeholder:"Enter sender's name or phone number"},null,512),[[vr,O.smsData.from]])]),L("div",tY,[w[98]||(w[98]=L("label",{for:"sms-to"},"To:",-1)),L("div",oY,[L("div",nY,[(Ae(!0),Ee(Ss,null,ws(O.selectedLeadsList,(_,zt)=>(Ae(),Ee("span",{key:_.id,class:"selected-tag"},[jr(mt(_.first_name)+" ",1),L("button",{onClick:Cs=>O.removeSelectedLead(zt)},"",8,sY)]))),128)),L("button",{onClick:w[23]||(w[23]=(..._)=>O.openSmsLeadModal&&O.openSmsLeadModal(..._))},"+")])])]),L("div",rY,[w[100]||(w[100]=L("label",{for:"sms-template"},"Template:",-1)),Eo(L("select",{id:"sms-template","onUpdate:modelValue":w[24]||(w[24]=_=>O.smsData.template=_),onChange:w[25]||(w[25]=(..._)=>O.loadSmsTemplate&&O.loadSmsTemplate(..._))},[w[99]||(w[99]=L("option",{value:""},"Select Template",-1)),(Ae(!0),Ee(Ss,null,ws(O.smsTemplates,_=>(Ae(),Ee("option",{key:_.id,value:_.id},mt(_.name),9,aY))),128))],544),[[ec,O.smsData.template]])]),L("div",cY,[w[102]||(w[102]=L("label",{for:"merge-tags"},"Insert Merge Tag:",-1)),L("select",{id:"merge-tags",onChange:w[26]||(w[26]=_=>O.insertMergeTag(_))},[w[101]||(w[101]=L("option",{value:""},"Select Tag",-1)),(Ae(!0),Ee(Ss,null,ws(O.mergeTags,_=>(Ae(),Ee("option",{key:_,value:_},mt(_),9,iY))),128))],32)]),L("div",lY,[w[103]||(w[103]=L("label",{for:"sms-message"},"Message:",-1)),Eo(L("textarea",{id:"sms-message","onUpdate:modelValue":w[27]||(w[27]=_=>O.smsData.message=_),placeholder:"Type your message here...",rows:"5",maxlength:"300",onInput:w[28]||(w[28]=(..._)=>O.countCharacters&&O.countCharacters(..._))},null,544),[[vr,O.smsData.message]]),L("span",uY,mt(O.smsData.message.length)+"/300",1)]),L("div",dY,[w[104]||(w[104]=L("label",{for:"sms-schedule"},"Schedule SMS:",-1)),Eo(L("input",{type:"datetime-local",id:"sms-schedule","onUpdate:modelValue":w[29]||(w[29]=_=>O.smsData.schedule=_)},null,512),[[vr,O.smsData.schedule]])]),L("div",mY,[L("button",{onClick:w[30]||(w[30]=(..._)=>O.previewSms&&O.previewSms(..._))},"Preview"),L("button",{onClick:w[31]||(w[31]=(..._)=>O.sendSms&&O.sendSms(..._))},"Send SMS")])])],2)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:3,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),onClick:w[32]||(w[32]=(..._)=>O.openSmsModal&&O.openSmsModal(..._)),disabled:O.selectedLeads.length===0},w[105]||(w[105]=[L("span",null,"Smart SMS",-1),L("i",{class:"fa-solid fa-comment-dots"},null,-1)]),10,hY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:4,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[33]||(w[33]=(..._)=>O.openTagModal&&O.openTagModal(..._))},w[106]||(w[106]=[L("span",null,"Tags",-1),L("i",{class:"fa-solid fa-tags"},null,-1)]),10,gY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:5,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[34]||(w[34]=(..._)=>O.openStageModal&&O.openStageModal(..._))},w[107]||(w[107]=[L("span",null,"Stage",-1),L("i",{class:"fa-solid fa-table-cells"},null,-1)]),10,pY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:6,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[35]||(w[35]=_=>O.openModal("listingAlert"))},w[108]||(w[108]=[L("span",null,"New Listing Alert",-1),L("i",{class:"fa-solid fa-bell"},null,-1)]),10,fY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:7,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[36]||(w[36]=_=>O.openModal("neighbourhoodAlert"))},w[109]||(w[109]=[L("span",null,"Neighbourhood Alert",-1),L("i",{class:"fa-solid fa-map-location-dot"},null,-1)]),10,vY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:8,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[37]||(w[37]=_=>O.openModal("openHouseAlert"))},w[110]||(w[110]=[L("span",null,"Open House Alert",-1),L("i",{class:"fa-solid fa-circle-exclamation"},null,-1)]),10,bY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:9,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[38]||(w[38]=_=>O.openModal("actionPlan"))},w[111]||(w[111]=[L("span",null,"Action Plan",-1),L("i",{class:"fa-solid fa-plus"},null,-1)]),10,yY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:10,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[39]||(w[39]=_=>O.openModal("marketUpdates"))},w[112]||(w[112]=[L("span",null,"Market Updates",-1),L("i",{class:"fa fa-bar-chart","aria-hidden":"true"},null,-1)]),10,xY)):Ot("",!0),O.activeLeadType==="my"?(Ae(),Ee("li",{key:11,class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0,onClick:w[40]||(w[40]=_=>O.openModal("newsletter"))},w[113]||(w[113]=[L("span",null,"Real Estate Newsletter",-1),L("i",{class:"fa-solid fa-envelope-open-text"},null,-1)]),10,SY)):Ot("",!0),L("li",{class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),disabled:O.selectedLeads.length===0},w[114]||(w[114]=[L("span",null,"Lead Transfer",-1),L("i",{class:"fa-solid fa-right-left"},null,-1)]),10,wY),L("li",{class:An(["total-leads",{disabled:O.selectedLeads.length===0}]),onClick:w[41]||(w[41]=(..._)=>O.exportLeads&&O.exportLeads(..._)),disabled:O.selectedLeads.length===0},w[115]||(w[115]=[L("span",null,"Export Lead",-1),L("i",{class:"fa-solid fa-file-export"},null,-1)]),10,CY),L("li",{class:"total-leads",onClick:w[42]||(w[42]=(..._)=>O.openImportModal&&O.openImportModal(..._))},w[116]||(w[116]=[L("span",null,"Import",-1),L("i",{class:"fa-solid fa-file-import"},null,-1)]))])])]),O.showImportModal?(Ae(),Ee("div",TY,[L("div",MY,[L("button",{type:"button",onClick:w[43]||(w[43]=(..._)=>O.closeImportModal&&O.closeImportModal(..._)),class:"close-button"},"X"),w[118]||(w[118]=L("h2",null,"Select Import Type",-1)),O.showFileInput?Ot("",!0):(Ae(),Ee("div",kY,[L("button",{onClick:w[44]||(w[44]=(..._)=>O.importDirectFile&&O.importDirectFile(..._)),class:"import-button"},"Direct File Import"),L("button",{onClick:w[45]||(w[45]=(..._)=>O.showFileUploadField&&O.showFileUploadField(..._)),class:"import-button"},"Indirect File Import")])),O.showFileInput?(Ae(),Ee("div",OY,[L("input",{type:"file",onChange:w[46]||(w[46]=(..._)=>O.handleFileUpload&&O.handleFileUpload(..._)),accept:".csv"},null,32),L("button",{onClick:w[47]||(w[47]=(..._)=>O.submitCsvFile&&O.submitCsvFile(..._)),class:"submit-button"},"Submit CSV"),O.fileError?(Ae(),Ee("p",_Y,mt(O.fileError),1)):Ot("",!0)])):Ot("",!0)])])):Ot("",!0),O.showTagModal?(Ae(),Ee("div",AY,[L("div",EY,[L("button",{type:"button",onClick:w[48]||(w[48]=(..._)=>O.closeTagModal&&O.closeTagModal(..._)),class:"close-button"},"X"),w[119]||(w[119]=L("h3",null,"Select Tags",-1)),L("div",DY,[(Ae(!0),Ee(Ss,null,ws(O.tags,_=>(Ae(),Ee("div",{key:_.id,class:"modal_tag"},[L("input",{type:"checkbox",value:_.id,checked:O.isTagSelected(_.id),onChange:zt=>O.toggleTagSelection(_.id)},null,40,HY),jr(" "+mt(_.name),1)]))),128))]),L("button",{onClick:w[49]||(w[49]=_=>O.showAddTagInput=!O.showAddTagInput),class:"add-button"},"Add Tag"),O.showAddTagInput?(Ae(),Ee("div",LY,[Eo(L("input",{"onUpdate:modelValue":w[50]||(w[50]=_=>O.newTag=_),placeholder:"Enter new tag"},null,512),[[vr,O.newTag]]),L("button",{onClick:w[51]||(w[51]=(..._)=>O.addTag&&O.addTag(..._)),class:"submit-button"},"Add")])):Ot("",!0),L("button",{onClick:w[52]||(w[52]=(..._)=>O.closeTagModal&&O.closeTagModal(..._)),class:"submit-button"},"Close")])])):Ot("",!0),O.showStageModal?(Ae(),Ee("div",FY,[L("div",IY,[L("button",{type:"button",onClick:w[53]||(w[53]=(..._)=>O.closeStageModal&&O.closeStageModal(..._)),class:"close-button"},"X"),w[120]||(w[120]=L("h3",null,"Select Stage",-1)),O.showAddStageInput?(Ae(),Ee("div",VY,[Eo(L("input",{"onUpdate:modelValue":w[54]||(w[54]=_=>O.newStage=_),placeholder:"Enter new stage",id:"m_add_stage",class:"m_add_stage"},null,512),[[vr,O.newStage]]),L("button",{onClick:w[55]||(w[55]=(..._)=>O.addStage&&O.addStage(..._)),class:"submit-button"},"Add")])):Ot("",!0),L("button",{onClick:w[56]||(w[56]=_=>O.showAddStageInput=!O.showAddStageInput),class:"add-button"},"Add Stage"),Eo(L("select",{"onUpdate:modelValue":w[57]||(w[57]=_=>O.newLead.stage=_),id:"stage_id",class:"stage_class"},[(Ae(!0),Ee(Ss,null,ws(O.stages,_=>(Ae(),Ee("option",{key:_.id,value:_.id,class:"stage_values"},mt(_.name),9,BY))),128))],512),[[ec,O.newLead.stage]]),L("button",{onClick:w[58]||(w[58]=(..._)=>O.closeStageModal&&O.closeStageModal(..._)),class:"submit-button"},"Close")])])):Ot("",!0),O.showModal?(Ae(),Ee("div",PY,[L("div",RY,[L("button",{type:"button",onClick:w[59]||(w[59]=(..._)=>O.closeModal&&O.closeModal(..._)),class:"close-button"},"X"),L("h2",null,mt(O.modalTitle),1),Eo(L("select",{"onUpdate:modelValue":w[60]||(w[60]=_=>O.selectedOption=_),class:"open_modal_drop-box"},[(Ae(!0),Ee(Ss,null,ws(O.modalOptions,_=>(Ae(),Ee("option",{key:_.value,value:_.value},mt(_.text),9,zY))),128))],512),[[ec,O.selectedOption]]),L("div",ZY,[L("button",{onClick:w[61]||(w[61]=(..._)=>O.submitAction&&O.submitAction(..._)),class:"submit-button"},"Submit"),L("button",{onClick:w[62]||(w[62]=(..._)=>O.closeModal&&O.closeModal(..._)),class:"cancel-button"},"Cancel")])])])):Ot("",!0),L("div",null,[L("div",$Y,[Eo(L("input",{"onUpdate:modelValue":w[63]||(w[63]=_=>O.searchQuery=_),type:"text",placeholder:"Search leads by name...",class:"search-bar"},null,512),[[vr,O.searchQuery]]),L("div",NY,"Total Leads: "+mt(O.filteredLeads.length),1),w[121]||(w[121]=gj('<div class="total-leads">Last 7 Days</div><div class="total-leads">Hot</div><div class="total-leads">Buyer</div><div class="total-leads">Seller</div><div class="total-leads">Closed</div>',5)),L("button",{onClick:w[64]||(w[64]=_=>O.showForm=!0),class:"create-new-button"},"+ Create New")])]),O.showForm?(Ae(),Ee("div",UY,[L("div",WY,[L("button",{type:"button",onClick:w[65]||(w[65]=_=>O.showForm=!1),id:"cancel_button"},"X"),w[129]||(w[129]=L("h2",null,"Create New Lead",-1)),L("form",{onSubmit:w[72]||(w[72]=pj((..._)=>O.submitForm&&O.submitForm(..._),["prevent"]))},[L("label",null,[w[122]||(w[122]=jr(" First Name: ")),Eo(L("input",{"onUpdate:modelValue":w[66]||(w[66]=_=>O.newLead.first_name=_),type:"text",required:""},null,512),[[vr,O.newLead.first_name]]),O.errors.first_name?(Ae(),Ee("span",GY,mt(O.errors.first_name),1)):Ot("",!0)]),L("label",null,[w[123]||(w[123]=jr(" Last Name: ")),Eo(L("input",{"onUpdate:modelValue":w[67]||(w[67]=_=>O.newLead.last_name=_),type:"text",required:""},null,512),[[vr,O.newLead.last_name]]),O.errors.last_name?(Ae(),Ee("span",jY,mt(O.errors.last_name),1)):Ot("",!0)]),L("label",null,[w[124]||(w[124]=jr(" Email: ")),Eo(L("input",{"onUpdate:modelValue":w[68]||(w[68]=_=>O.newLead.email=_),type:"email",required:""},null,512),[[vr,O.newLead.email]]),O.errors.email?(Ae(),Ee("span",YY,mt(O.errors.email),1)):Ot("",!0)]),L("label",null,[w[125]||(w[125]=jr(" Phone: ")),Eo(L("input",{"onUpdate:modelValue":w[69]||(w[69]=_=>O.newLead.phone=_),type:"tel",required:""},null,512),[[vr,O.newLead.phone]]),O.errors.phone?(Ae(),Ee("span",XY,mt(O.errors.phone),1)):Ot("",!0)]),L("label",null,[w[126]||(w[126]=jr(" Tag: ")),Eo(L("select",{"onUpdate:modelValue":w[70]||(w[70]=_=>O.newLead.tag=_),required:""},[(Ae(!0),Ee(Ss,null,ws(O.tags,_=>(Ae(),Ee("option",{key:_.id,value:_.id},mt(_.name),9,qY))),128))],512),[[ec,O.newLead.tag]]),O.errors.tag?(Ae(),Ee("span",KY,mt(O.errors.tag),1)):Ot("",!0)]),L("label",null,[w[127]||(w[127]=jr(" Stage: ")),Eo(L("select",{"onUpdate:modelValue":w[71]||(w[71]=_=>O.newLead.stage=_),required:""},[(Ae(!0),Ee(Ss,null,ws(O.stages,_=>(Ae(),Ee("option",{key:_.id,value:_.id},mt(_.name),9,JY))),128))],512),[[ec,O.newLead.stage]]),O.errors.stage?(Ae(),Ee("span",QY,mt(O.errors.stage),1)):Ot("",!0)]),w[128]||(w[128]=L("button",{type:"submit",id:"submit_button"},"Submit",-1))],32)])])):Ot("",!0),L("div",null,[L("div",null,[w[131]||(w[131]=L("label",{for:"pageSize"},"Rows per page:",-1)),Eo(L("select",{"onUpdate:modelValue":w[73]||(w[73]=_=>O.pageSize=_),onChange:w[74]||(w[74]=_=>O.setPageSize(Number(_.target.value)))},w[130]||(w[130]=[L("option",{value:"5"},"5",-1),L("option",{value:"10"},"10",-1),L("option",{value:"25"},"25",-1),L("option",{value:"50"},"50",-1)]),544),[[ec,O.pageSize]])]),!O.loading&&!O.error?(Ae(),Ee("div",eX,[O.filteredLeads.length?(Ae(),Ee("table",tX,[L("thead",null,[L("tr",null,[L("th",null,[L("label",oX,[L("input",{type:"checkbox",onChange:w[75]||(w[75]=(..._)=>O.toggleSelectAll&&O.toggleSelectAll(..._)),class:"custom-checkbox"},null,32),w[132]||(w[132]=L("span",{class:"custom-checkbox-span"},null,-1))])]),w[133]||(w[133]=L("th",null,"First Name",-1)),w[134]||(w[134]=L("th",null,"Last Name",-1)),w[135]||(w[135]=L("th",null,"Phone",-1)),w[136]||(w[136]=L("th",null,"Email",-1)),w[137]||(w[137]=L("th",null,"Activity",-1)),w[138]||(w[138]=L("th",null,"Created",-1)),w[139]||(w[139]=L("th",null,"Tag",-1)),w[140]||(w[140]=L("th",null,"Stage",-1)),w[141]||(w[141]=L("th",null,"Source",-1))])]),L("tbody",null,[(Ae(!0),Ee(Ss,null,ws(O.paginatedLeads,_=>(Ae(),Ee("tr",{key:_.id},[L("td",null,[L("label",nX,[Eo(L("input",{type:"checkbox",value:_.id,"onUpdate:modelValue":w[76]||(w[76]=zt=>O.selectedLeads=zt),class:"custom-checkbox"},null,8,sX),[[fj,O.selectedLeads]]),w[142]||(w[142]=L("span",{class:"custom-checkbox-span"},null,-1))])]),L("td",null,[vj(St,{to:{name:"update-profile",params:{id:_.id}},style:{color:"blue","text-decoration":"underline"}},{default:bj(()=>[jr(mt(_.first_name),1)]),_:2},1032,["to"])]),L("td",null,mt(_.last_name),1),L("td",null,mt(_.phone),1),L("td",null,mt(_.email),1),L("td",null,mt(_.activity||"N/A"),1),L("td",null,mt(new Date(_.created_at).toLocaleDateString()),1),L("td",null,mt(_.tag||"N/A"),1),L("td",null,mt(_.stage||"N/A"),1),L("td",null,mt(_.source||"N/A"),1)]))),128))])])):Ot("",!0)])):Ot("",!0),O.filteredLeads.length===0?(Ae(),Ee("div",rX,"No leads available.")):Ot("",!0)]),O.toast.message?(Ae(),Ee("div",{key:5,class:An(`toast ${O.toast.type}`)},[jr(mt(O.toast.message)+" ",1),L("button",{onClick:w[77]||(w[77]=_=>O.toast.message=""),class:"toast-close-button"},"X")],2)):Ot("",!0),L("div",null,[L("button",{onClick:w[78]||(w[78]=_=>O.changePage(O.currentPage-1)),disabled:O.currentPage===1},"Previous",8,aX),L("span",null,"Page "+mt(O.currentPage)+" of "+mt(O.totalPages),1),L("button",{onClick:w[79]||(w[79]=_=>O.changePage(O.currentPage+1)),disabled:O.currentPage===O.totalPages},"Next",8,cX)])])}const gK=uj(xj,[["render",iX]]);export{gK as default};
