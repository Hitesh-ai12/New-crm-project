import{a as u}from"./axios-CdtiCRuU.js";import{S as n}from"./sweetalert2.all-GNMny6cd.js";import{_ as m,m as w,k as r,Q as d,M as i,d7 as p,Y as f,aH as c,o as l}from"./main-BNmxWn3R.js";const _={data(){return{form:{current_password:"",new_password:"",new_password_confirmation:""}}},computed:{passwordsMatch(){return this.form.new_password===this.form.new_password_confirmation}},methods:{async handleSubmit(){if(!this.passwordsMatch){n.fire({icon:"error",title:"Passwords do not match!",text:"Please ensure that the new password and confirmation password are the same."});return}try{const t=localStorage.getItem("auth_token"),s=await u.post("/api/reset-password",this.form,{headers:{Authorization:`Bearer ${t}`}});console.log("Password reset successfully",s.data),n.fire({icon:"success",title:"Password Reset Successful!",text:"Your password has been successfully updated."}),this.form={current_password:"",new_password:"",new_password_confirmation:""},this.$router.push("/login")}catch(t){if(console.error("There was an error resetting the password:",t),t.response){const s=t.response.data.message||"There was an error resetting your password. Please try again.";n.fire({icon:"error",title:"Error",text:s})}else n.fire({icon:"error",title:"Error",text:"An unexpected error occurred. Please try again later."})}}}},h={class:"form-container"},b={class:"form-group"},g={class:"form-group"},y={class:"form-group"},P={key:0,class:"error-message"},x=["disabled"];function v(t,s,S,M,e,a){return l(),w("div",h,[s[8]||(s[8]=r("h2",null,"Reset Password",-1)),r("form",{onSubmit:s[3]||(s[3]=c((...o)=>a.handleSubmit&&a.handleSubmit(...o),["prevent"])),class:"password-reset-form"},[r("div",b,[s[4]||(s[4]=r("label",{for:"current_password"},[d("Current Password "),r("span",{class:"required"},"*")],-1)),i(r("input",{type:"password",id:"current_password","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.current_password=o),required:""},null,512),[[p,e.form.current_password]])]),r("div",g,[s[5]||(s[5]=r("label",{for:"new_password"},[d("New Password "),r("span",{class:"required"},"*")],-1)),i(r("input",{type:"password",id:"new_password","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.new_password=o),required:""},null,512),[[p,e.form.new_password]])]),r("div",y,[s[7]||(s[7]=r("label",{for:"new_password_confirmation"},[d("Confirm New Password "),r("span",{class:"required"},"*")],-1)),i(r("input",{type:"password",id:"new_password_confirmation","onUpdate:modelValue":s[2]||(s[2]=o=>e.form.new_password_confirmation=o),required:""},null,512),[[p,e.form.new_password_confirmation]]),!a.passwordsMatch&&e.form.new_password_confirmation?(l(),w("div",P,s[6]||(s[6]=[r("span",null,"Passwords do not match",-1)]))):f("",!0)]),r("button",{type:"submit",class:"submit-btn",disabled:!a.passwordsMatch},"Submit",8,x)],32)])}const N=m(_,[["render",v],["__scopeId","data-v-ad0b681c"]]);export{N as default};
