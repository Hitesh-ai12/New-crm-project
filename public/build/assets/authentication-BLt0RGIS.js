import{a as g}from"./axios-CdtiCRuU.js";import{_ as b,l as r,j as n,L as i,d3 as p,P as l,k as y,F as f,Y as A,X as K,o as u}from"./main-DYpbBk43.js";const v={data(){return{permissions:[],apiKey:null,endpoints:[]}},methods:{async generateApiKey(){try{if(this.permissions.length===0){alert("Please select at least one permission.");return}const o=localStorage.getItem("auth_token");if(!o){alert("You are not authenticated. Please log in.");return}const e=await g.post("/api/generate-api-key",{permissions:this.permissions},{headers:{Authorization:`Bearer ${o}`}}),{api_key:a,endpoints:d}=e.data;this.apiKey=a,this.endpoints=d,localStorage.setItem("api_key",a),alert("API key generated successfully.")}catch(o){console.error("Error generating API key:",o),alert("Failed to generate API key.")}}}},x={key:0,class:"output-section"};function I(o,e,a,d,t,m){return u(),r("div",null,[e[13]||(e[13]=n("h2",null,"Generate API Key",-1)),n("div",null,[n("label",null,[i(n("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=s=>t.permissions=s),value:"create"},null,512),[[p,t.permissions]]),e[5]||(e[5]=l(" Create "))]),n("label",null,[i(n("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=s=>t.permissions=s),value:"read"},null,512),[[p,t.permissions]]),e[6]||(e[6]=l(" Read "))]),n("label",null,[i(n("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>t.permissions=s),value:"update"},null,512),[[p,t.permissions]]),e[7]||(e[7]=l(" Update "))]),n("label",null,[i(n("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>t.permissions=s),value:"delete"},null,512),[[p,t.permissions]]),e[8]||(e[8]=l(" Delete "))])]),n("button",{onClick:e[4]||(e[4]=(...s)=>m.generateApiKey&&m.generateApiKey(...s))},"Generate API Key"),t.apiKey&&t.endpoints.length>0?(u(),r("div",x,[e[11]||(e[11]=n("h3",null,"Generated API Key",-1)),n("p",null,[e[9]||(e[9]=n("strong",null,"API Key:",-1)),l(" "+y(t.apiKey),1)]),e[12]||(e[12]=n("h3",null,"Generated Endpoints",-1)),n("ul",null,[(u(!0),r(f,null,A(t.endpoints,(s,k)=>(u(),r("li",{key:k},[e[10]||(e[10]=n("strong",null,"Endpoint:",-1)),l(" "+y(s),1)]))),128))])])):K("",!0)])}const U=b(v,[["render",I],["__scopeId","data-v-ab54f3b8"]]);export{U as default};
