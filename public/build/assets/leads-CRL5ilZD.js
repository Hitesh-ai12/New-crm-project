/* empty css              */import{a as Ns}from"./axios-CdtiCRuU.js";import{S as Os}from"./sweetalert2.all-DyJFIm0t.js";import{t as Wu}from"./tinymce-dJfQqXUl.js";import{bn as IX,bo as LX,bp as FX,bq as HX,br as PX,bs as RX,bt as VX,F as ss,bu as BX,bv as NX,bw as $X,bx as zX,bh as p7,by as ZX,bz as UX,aY as _X,bA as jX,bB as WX,bC as GX,bD as KX,bE as XX,bF as YX,bG as JX,aO as QX,bH as qX,bI as tY,b as Gg,bJ as eY,f as Cb,X as dn,l as ie,j as G,bK as nY,bL as oY,bM as sY,bN as rY,bO as aY,bP as v7,P as zs,h as b7,c as iY,bQ as lY,Q as cY,bR as uY,bS as dY,bT as mY,bU as hY,bV as gY,bW as fY,bX as pY,bY as vY,bZ as bY,b_ as yY,bc as xY,b$ as SY,c0 as wY,c1 as CY,c2 as TY,c3 as EY,W as OY,c4 as MY,c5 as AY,c6 as DY,c7 as kY,c8 as IY,c9 as LY,ca as FY,cb as HY,cc as PY,aM as RY,cd as VY,ce as BY,cf as NY,cg as $Y,i as zY,ch as ZY,ci as UY,cj as _Y,ck as jY,cl as WY,cm as GY,N as KY,au as Tb,n as xo,cn as XY,co as YY,cp as JY,cq as QY,S as qY,aH as tJ,cr as eJ,cs as nJ,R as y7,ct as oJ,cu as sJ,ar as rJ,cv as aJ,cw as iJ,cx as lJ,cy as cJ,o as ne,cz as uJ,aL as dJ,cA as mJ,cB as hJ,cC as gJ,bf as fJ,a as pJ,r as Ee,cD as vJ,cE as bJ,Y as Ms,m as yJ,e as Eb,am as xJ,p as SJ,cF as wJ,cG as CJ,cH as TJ,cI as EJ,cJ as OJ,cK as MJ,cL as AJ,s as DJ,cM as kJ,cN as IJ,cO as LJ,k as pn,cP as FJ,cQ as HJ,aZ as PJ,t as RJ,aX as VJ,cR as BJ,cS as NJ,cT as $J,u as zJ,cU as ZJ,cV as UJ,cW as _J,cX as jJ,cY as WJ,cZ as GJ,c_ as KJ,c$ as XJ,d0 as YJ,d1 as JJ,d2 as QJ,d3 as Ob,d4 as qJ,d5 as x7,Z as Vi,d6 as Pr,M as tQ,d7 as eQ,d8 as nQ,w as Im,aq as oQ,d9 as sQ,da as rQ,db as aQ,g as Mb,dc as iQ,L as ho,dd as lQ,de as cQ,aG as S7,df as uQ,_ as dQ}from"./main-CviFXS9a.js";import{a as w7,c as mQ,g as hQ}from"./_commonjsHelpers-BosuxZz1.js";/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gQ=()=>{},fQ=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:IX,BaseTransitionPropsValidators:LX,Comment:FX,DeprecationTypes:HX,EffectScope:PX,ErrorCodes:RX,ErrorTypeStrings:VX,Fragment:ss,KeepAlive:BX,ReactiveEffect:NX,Static:$X,Suspense:zX,Teleport:p7,Text:ZX,TrackOpTypes:UX,Transition:_X,TransitionGroup:jX,TriggerOpTypes:WX,VueElement:GX,assertNumber:KX,callWithAsyncErrorHandling:XX,callWithErrorHandling:YX,camelize:JX,capitalize:QX,cloneVNode:qX,compatUtils:tY,compile:gQ,computed:Gg,createApp:eY,createBlock:Cb,createCommentVNode:dn,createElementBlock:ie,createElementVNode:G,createHydrationRenderer:nY,createPropsRestProxy:oY,createRenderer:sY,createSSRApp:rY,createSlots:aY,createStaticVNode:v7,createTextVNode:zs,createVNode:b7,customRef:iY,defineAsyncComponent:lY,defineComponent:cY,defineCustomElement:uY,defineEmits:dY,defineExpose:mY,defineModel:hY,defineOptions:gY,defineProps:fY,defineSSRCustomElement:pY,defineSlots:vY,devtools:bY,effect:yY,effectScope:xY,getCurrentInstance:SY,getCurrentScope:wY,getCurrentWatcher:CY,getTransitionRawChildren:TY,guardReactiveProps:EY,h:OY,handleError:MY,hasInjectionContext:AY,hydrate:DY,hydrateOnIdle:kY,hydrateOnInteraction:IY,hydrateOnMediaQuery:LY,hydrateOnVisible:FY,initCustomFormatter:HY,initDirectivesForSSR:PY,inject:RY,isMemoSame:VY,isProxy:BY,isReactive:NY,isReadonly:$Y,isRef:zY,isRuntimeOnly:ZY,isShallow:UY,isVNode:_Y,markRaw:jY,mergeDefaults:WY,mergeModels:GY,mergeProps:KY,nextTick:Tb,normalizeClass:xo,normalizeProps:XY,normalizeStyle:YY,onActivated:JY,onBeforeMount:QY,onBeforeUnmount:qY,onBeforeUpdate:tJ,onDeactivated:eJ,onErrorCaptured:nJ,onMounted:y7,onRenderTracked:oJ,onRenderTriggered:sJ,onScopeDispose:rJ,onServerPrefetch:aJ,onUnmounted:iJ,onUpdated:lJ,onWatcherCleanup:cJ,openBlock:ne,popScopeId:uJ,provide:dJ,proxyRefs:mJ,pushScopeId:hJ,queuePostFlushCb:gJ,reactive:fJ,readonly:pJ,ref:Ee,registerRuntimeCompiler:vJ,render:bJ,renderList:Ms,renderSlot:yJ,resolveComponent:Eb,resolveDirective:xJ,resolveDynamicComponent:SJ,resolveFilter:wJ,resolveTransitionHooks:CJ,setBlockTracking:TJ,setDevtoolsHook:EJ,setTransitionHooks:OJ,shallowReactive:MJ,shallowReadonly:AJ,shallowRef:DJ,ssrContextKey:kJ,ssrUtils:IJ,stop:LJ,toDisplayString:pn,toHandlerKey:FJ,toHandlers:HJ,toRaw:PJ,toRef:RJ,toRefs:VJ,toValue:BJ,transformVNodeArgs:NJ,triggerRef:$J,unref:zJ,useAttrs:ZJ,useCssModule:UJ,useCssVars:_J,useHost:jJ,useId:WJ,useModel:GJ,useSSRContext:KJ,useShadowRoot:XJ,useSlots:YJ,useTemplateRef:JJ,useTransitionState:QJ,vModelCheckbox:Ob,vModelDynamic:qJ,vModelRadio:x7,vModelSelect:Vi,vModelText:Pr,vShow:tQ,version:eQ,warn:nQ,watch:Im,watchEffect:oQ,watchPostEffect:sQ,watchSyncEffect:rQ,withAsyncContext:aQ,withCtx:Mb,withDefaults:iQ,withDirectives:ho,withKeys:lQ,withMemo:cQ,withModifiers:S7,withScopeId:uQ},Symbol.toStringTag,{value:"Module"}));tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M12 15v2a5 5 0 0 0 0-10v2a3 3 0 1 0 0 6zm0 0a3 3 0 1 0 0-6z"/><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm7-2h7V5h-7v2a5 5 0 0 0 0 10z"/></g></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z" clip-rule="evenodd"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path clip-rule="evenodd" d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var M=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=(T,P,Z)=>{var it;return Z(T,P.prototype)?!0:((it=T.constructor)===null||it===void 0?void 0:it.name)===P.name},C=T=>{const P=typeof T;return T===null?"null":P==="object"&&Array.isArray(T)?"array":P==="object"&&h(T,String,(Z,it)=>it.isPrototypeOf(Z))?"string":P},f=T=>P=>C(P)===T,y=T=>P=>typeof P===T,D=T=>P=>T===P,d=f("string"),S=f("object"),p=f("array"),O=D(null),L=y("boolean"),F=T=>T==null,V=T=>!F(T),$=y("function"),j=(T,P)=>{if(p(T)){for(let Z=0,it=T.length;Z<it;++Z)if(!P(T[Z]))return!1;return!0}return!1},W=()=>{},Y=T=>()=>T,rt=(T,P)=>T===P;class K{constructor(P,Z){this.tag=P,this.value=Z}static some(P){return new K(!0,P)}static none(){return K.singletonNone}fold(P,Z){return this.tag?Z(this.value):P()}isSome(){return this.tag}isNone(){return!this.tag}map(P){return this.tag?K.some(P(this.value)):K.none()}bind(P){return this.tag?P(this.value):K.none()}exists(P){return this.tag&&P(this.value)}forall(P){return!this.tag||P(this.value)}filter(P){return!this.tag||P(this.value)?this:K.none()}getOr(P){return this.tag?this.value:P}or(P){return this.tag?this:P}getOrThunk(P){return this.tag?this.value:P()}orThunk(P){return this.tag?this:P()}getOrDie(P){if(this.tag)return this.value;throw new Error(P??"Called getOrDie on None")}static from(P){return V(P)?K.some(P):K.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(P){this.tag&&P(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}K.singletonNone=new K(!1);const _=Array.prototype.indexOf,et=Array.prototype.push,Tt=(T,P)=>_.call(T,P),vt=(T,P)=>Tt(T,P)>-1,R=(T,P)=>{const Z=T.length,it=new Array(Z);for(let xt=0;xt<Z;xt++){const Vt=T[xt];it[xt]=P(Vt,xt)}return it},Ot=(T,P)=>{for(let Z=0,it=T.length;Z<it;Z++){const xt=T[Z];P(xt,Z)}},pt=(T,P,Z)=>(Ot(T,(it,xt)=>{Z=P(Z,it,xt)}),Z),Ft=T=>{const P=[];for(let Z=0,it=T.length;Z<it;++Z){if(!p(T[Z]))throw new Error("Arr.flatten item "+Z+" was not an array, input: "+T);et.apply(P,T[Z])}return P},Zt=(T,P)=>Ft(R(T,P)),re=(T,P)=>{for(let Z=0;Z<T.length;Z++){const it=P(T[Z],Z);if(it.isSome())return it}return K.none()},Ht=(T,P,Z=rt)=>T.exists(it=>Z(it,P)),yt=T=>{const P=[],Z=it=>{P.push(it)};for(let it=0;it<T.length;it++)T[it].each(Z);return P},Ut=(T,P)=>T?K.some(P):K.none(),m=T=>P=>P.options.get(T),ue=T=>{const P=T.options.register;P("link_assume_external_targets",{processor:Z=>{const it=d(Z)||L(Z);return it?Z===!0?{value:1,valid:it}:Z==="http"||Z==="https"?{value:Z,valid:it}:{value:0,valid:it}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),P("link_context_toolbar",{processor:"boolean",default:!1}),P("link_list",{processor:Z=>d(Z)||$(Z)||j(Z,S)}),P("link_default_target",{processor:"string"}),P("link_default_protocol",{processor:"string",default:"https"}),P("link_target_list",{processor:Z=>L(Z)||j(Z,S),default:!0}),P("link_rel_list",{processor:"object[]",default:[]}),P("link_class_list",{processor:"object[]",default:[]}),P("link_title",{processor:"boolean",default:!0}),P("allow_unsafe_link_target",{processor:"boolean",default:!1}),P("link_quicklink",{processor:"boolean",default:!1})},We=m("link_assume_external_targets"),Oe=m("link_context_toolbar"),Hn=m("link_list"),ln=m("link_default_target"),me=m("link_default_protocol"),Ge=m("link_target_list"),On=m("link_rel_list"),kn=m("link_class_list"),mt=m("link_title"),Mt=m("allow_unsafe_link_target"),Lo=m("link_quicklink"),qn=Object.keys,Ve=Object.hasOwnProperty,cn=(T,P)=>{const Z=qn(T);for(let it=0,xt=Z.length;it<xt;it++){const Vt=Z[it],Et=T[Vt];P(Et,Vt)}},vn=T=>(P,Z)=>{T[Z]=P},to=(T,P,Z,it)=>{cn(T,(xt,Vt)=>{(P(xt,Vt)?Z:it)(xt,Vt)})},Me=(T,P)=>{const Z={};return to(T,P,vn(Z),W),Z},Wn=(T,P)=>Ve.call(T,P),en=(T,P)=>Wn(T,P)&&T[P]!==void 0&&T[P]!==null;var ae=tinymce.util.Tools.resolve("tinymce.util.URI"),wo=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Fo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Gn=T=>V(T)&&T.nodeName.toLowerCase()==="a",Ho=T=>Gn(T)&&!!Jo(T),fs=(T,P)=>{if(T.collapsed)return[];{const Z=T.cloneContents(),it=Z.firstChild,xt=new wo(it,Z),Vt=[];let Et=it;do P(Et)&&Vt.push(Et);while(Et=xt.next());return Vt}},Yo=T=>/^\w+:/i.test(T),Jo=T=>{var P,Z;return(Z=(P=T.getAttribute("data-mce-href"))!==null&&P!==void 0?P:T.getAttribute("href"))!==null&&Z!==void 0?Z:""},no=(T,P)=>{const Z=["noopener"],it=T?T.split(/\s+/):[],xt=fe=>Fo.trim(fe.sort().join(" ")),Vt=fe=>(fe=Et(fe),fe.length>0?fe.concat(Z):Z),Et=fe=>fe.filter(Be=>Fo.inArray(Z,Be)===-1),Ln=P?Vt(it):Et(it);return Ln.length>0?xt(Ln):""},ps=T=>T.replace(/\uFEFF/g,""),rs=(T,P)=>(P=P||st(T.selection.getRng())[0]||T.selection.getNode(),we(P)?K.from(T.dom.select("a[href]",P)[0]):K.from(T.dom.getParent(P,"a[href]"))),zn=(T,P)=>rs(T,P).isSome(),tt=(T,P)=>{const Z=P.fold(()=>T.getContent({format:"text"}),it=>it.innerText||it.textContent||"");return ps(Z)},st=T=>fs(T,Ho),lt=T=>Fo.grep(T,Ho),ft=T=>lt(T).length>0,oe=T=>st(T).length>0,Se=T=>{const P=T.schema.getTextInlineElements(),Z=Vt=>Vt.nodeType===1&&!Gn(Vt)&&!Wn(P,Vt.nodeName.toLowerCase());if(rs(T).exists(Vt=>Vt.hasAttribute("data-mce-block")))return!1;const xt=T.selection.getRng();return xt.collapsed?!0:fs(xt,Z).length===0},we=T=>V(T)&&T.nodeName==="FIGURE"&&/\bimage\b/i.test(T.className),Qe=T=>pt(["title","rel","class","target"],(Z,it)=>(T[it].each(xt=>{Z[it]=xt.length>0?xt:null}),Z),{href:T.href}),In=(T,P)=>(P==="http"||P==="https")&&!Yo(T)?P+"://"+T:T,qt=(T,P)=>{const Z={...P};if(On(T).length===0&&!Mt(T)){const it=no(Z.rel,Z.target==="_blank");Z.rel=it||null}return K.from(Z.target).isNone()&&Ge(T)===!1&&(Z.target=ln(T)),Z.href=In(Z.href,We(T)),Z},Pt=(T,P,Z,it)=>{Z.each(xt=>{Wn(P,"innerText")?P.innerText=xt:P.textContent=xt}),T.dom.setAttribs(P,it),T.selection.select(P)},ve=(T,P,Z,it)=>{const xt=T.dom;we(P)?$i(xt,P,it):Z.fold(()=>{T.execCommand("mceInsertLink",!1,it)},Vt=>{T.insertContent(xt.createHTML("a",it,xt.encode(Vt)))})},wt=(T,P,Z)=>{const it=T.selection.getNode(),xt=rs(T,it),Vt=qt(T,Qe(Z));T.undoManager.transact(()=>{Z.href===P.href&&P.attach(),xt.fold(()=>{ve(T,it,Z.text,Vt)},Et=>{T.focus(),Pt(T,Et,Z.text,Vt)})})},jt=T=>{const P=T.dom,Z=T.selection,it=Z.getBookmark(),xt=Z.getRng().cloneRange(),Vt=P.getParent(xt.startContainer,"a[href]",T.getBody()),Et=P.getParent(xt.endContainer,"a[href]",T.getBody());Vt&&xt.setStartBefore(Vt),Et&&xt.setEndAfter(Et),Z.setRng(xt),T.execCommand("unlink"),Z.moveToBookmark(it)},bn=T=>{T.undoManager.transact(()=>{const P=T.selection.getNode();we(P)?Br(T,P):jt(T),T.focus()})},eo=T=>{const{class:P,href:Z,rel:it,target:xt,text:Vt,title:Et}=T;return Me({class:P.getOrNull(),href:Z,rel:it.getOrNull(),target:xt.getOrNull(),text:Vt.getOrNull(),title:Et.getOrNull()},(Ln,fe)=>O(Ln)===!1)},ua=(T,P)=>{const Z=T.options.get,it={allow_html_data_urls:Z("allow_html_data_urls"),allow_script_urls:Z("allow_script_urls"),allow_svg_data_urls:Z("allow_svg_data_urls")},xt=P.href;return{...P,href:ae.isDomSafe(xt,"a",it)?xt:""}},Qo=(T,P,Z)=>{const it=ua(T,Z);T.hasPlugin("rtc",!0)?T.execCommand("createlink",!1,eo(it)):wt(T,P,it)},Na=T=>{T.hasPlugin("rtc",!0)?T.execCommand("unlink"):bn(T)},Br=(T,P)=>{var Z;const it=T.dom.select("img",P)[0];if(it){const xt=T.dom.getParents(it,"a[href]",P)[0];xt&&((Z=xt.parentNode)===null||Z===void 0||Z.insertBefore(it,xt),T.dom.remove(xt))}},$i=(T,P,Z)=>{var it;const xt=T.select("img",P)[0];if(xt){const Vt=T.create("a",Z);(it=xt.parentNode)===null||it===void 0||it.insertBefore(Vt,xt),Vt.appendChild(xt)}},da=T=>d(T.value)?T.value:"",No=T=>d(T.text)?T.text:d(T.title)?T.title:"",$a=(T,P)=>{const Z=[];return Fo.each(T,it=>{const xt=No(it);if(it.menu!==void 0){const Vt=$a(it.menu,P);Z.push({text:xt,items:Vt})}else{const Vt=P(it);Z.push({text:xt,value:Vt})}}),Z},li=(T=da)=>P=>K.from(P).map(Z=>$a(Z,T)),vs={sanitize:T=>li(da)(T),sanitizeWith:li,createUi:(T,P)=>Z=>({name:T,type:"listbox",label:P,items:Z}),getValue:da},Co=T=>en(T,"items"),Zi=(T,P)=>re(P,Z=>Co(Z)?Zi(T,Z.items):Ut(Z.value===T,Z)),Nr=(T,P,Z,it)=>{const xt=it[P],Vt=T.length>0;return xt!==void 0?Zi(xt,Z).map(Et=>({url:{value:Et.value,meta:{text:Vt?T:Et.text,attach:W}},text:Vt?T:Et.text})):K.none()},Ui=(T,P)=>P==="link"?T.link:P==="anchor"?T.anchor:K.none(),as={init:(T,P)=>{const Z={text:T.text,title:T.title},it=fe=>{var Be;return Ut(Z.title.length<=0,K.from((Be=fe.meta)===null||Be===void 0?void 0:Be.title).getOr(""))},xt=fe=>{var Be;return Ut(Z.text.length<=0,K.from((Be=fe.meta)===null||Be===void 0?void 0:Be.text).getOr(fe.value))},Vt=fe=>{const Be=xt(fe.url),Bn=it(fe.url);return Be.isSome()||Bn.isSome()?K.some({...Be.map(nn=>({text:nn})).getOr({}),...Bn.map(nn=>({title:nn})).getOr({})}):K.none()},Et=(fe,Be)=>{const Bn=Ui(P,Be).getOr([]);return Nr(Z.text,Be,Bn,fe)};return{onChange:(fe,Be)=>{const Bn=Be.name;return Bn==="url"?Vt(fe()):vt(["anchor","link"],Bn)?Et(fe(),Bn):((Bn==="text"||Bn==="title")&&(Z[Bn]=fe()[Bn]),K.none())}}},getDelta:Nr};var ma=tinymce.util.Tools.resolve("tinymce.util.Delay");const za=(T,P,Z)=>{const it=T.selection.getRng();ma.setEditorTimeout(T,()=>{T.windowManager.confirm(P,xt=>{T.selection.setRng(it),Z(xt)})})},$r=T=>{const P=T.href;return P.indexOf("@")>0&&P.indexOf("/")===-1&&P.indexOf("mailto:")===-1?K.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:it=>({...it,href:"mailto:"+P})}):K.none()},ui=(T,P)=>Z=>{const it=Z.href;return T===1&&!Yo(it)||T===0&&/^\s*www(\.|\d\.)/i.test(it)?K.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${P}:// prefix?`,preprocess:Vt=>({...Vt,href:P+"://"+it})}):K.none()},_i={preprocess:(T,P)=>re([$r,ui(We(T),me(T))],Z=>Z(P)).fold(()=>Promise.resolve(P),Z=>new Promise(it=>{za(T,Z.message,xt=>{it(xt?Z.preprocess(P):P)})}))},Fl={getAnchors:T=>{const P=T.dom.select("a:not([href])"),Z=Zt(P,it=>{const xt=it.name||it.id;return xt?[{text:xt,value:"#"+xt}]:[]});return Z.length>0?K.some([{text:"None",value:""}].concat(Z)):K.none()}},di={getClasses:T=>{const P=kn(T);return P.length>0?vs.sanitize(P):K.none()}},Hl=T=>{try{return K.some(JSON.parse(T))}catch{return K.none()}},Rl={getLinks:T=>{const P=it=>T.convertURL(it.value||it.url||"","href"),Z=Hn(T);return new Promise(it=>{d(Z)?fetch(Z).then(xt=>xt.ok?xt.text().then(Hl):Promise.reject()).then(it,()=>it(K.none())):$(Z)?Z(xt=>it(K.some(xt))):it(K.from(Z))}).then(it=>it.bind(vs.sanitizeWith(P)).map(xt=>xt.length>0?[{text:"None",value:""}].concat(xt):xt))}},ha={getRels:(T,P)=>{const Z=On(T);if(Z.length>0){const it=Ht(P,"_blank"),xt=Mt(T)===!1,Vt=Ln=>no(vs.getValue(Ln),it);return(xt?vs.sanitizeWith(Vt):vs.sanitize)(Z)}return K.none()}},Za=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],ji={getTargets:T=>{const P=Ge(T);return p(P)?vs.sanitize(P).orThunk(()=>K.some(Za)):P===!1?K.none():K.some(Za)}},Ua=(T,P,Z)=>{const it=T.getAttrib(P,Z);return it!==null&&it.length>0?K.some(it):K.none()},qs=(T,P)=>{const Z=T.dom,xt=Se(T)?K.some(tt(T.selection,P)):K.none(),Vt=P.bind(Bn=>K.from(Z.getAttrib(Bn,"href"))),Et=P.bind(Bn=>K.from(Z.getAttrib(Bn,"target"))),Ln=P.bind(Bn=>Ua(Z,Bn,"rel")),fe=P.bind(Bn=>Ua(Z,Bn,"class")),Be=P.bind(Bn=>Ua(Z,Bn,"title"));return{url:Vt,text:xt,title:Be,target:Et,rel:Ln,linkClass:fe}},oo={collect:(T,P)=>Rl.getLinks(T).then(Z=>{const it=qs(T,P);return{anchor:it,catalogs:{targets:ji.getTargets(T),rels:ha.getRels(T,it.target),classes:di.getClasses(T),anchor:Fl.getAnchors(T),link:Z},optNode:P,flags:{titleEnabled:mt(T)}}})},Gi=(T,P)=>Z=>{const it=Z.getData();if(!it.url.value){Na(T),Z.close();return}const xt=Ln=>K.from(it[Ln]).filter(fe=>!Ht(P.anchor[Ln],fe)),Vt={href:it.url.value,text:xt("text"),target:xt("target"),rel:xt("rel"),class:xt("linkClass"),title:xt("title")},Et={href:it.url.value,attach:it.url.meta!==void 0&&it.url.meta.attach?it.url.meta.attach:W};_i.preprocess(T,Vt).then(Ln=>{Qo(T,Et,Ln)}),Z.close()},tr=T=>{const P=rs(T);return oo.collect(T,P)},un=(T,P)=>{const Z=T.anchor,it=Z.url.getOr("");return{url:{value:it,meta:{original:{value:it}}},text:Z.text.getOr(""),title:Z.title.getOr(""),anchor:it,link:it,rel:Z.rel.getOr(""),target:Z.target.or(P).getOr(""),linkClass:Z.linkClass.getOr("")}},so=(T,P,Z)=>{const it=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],xt=T.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Vt=T.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Et=K.from(ln(Z)),Ln=un(T,Et),fe=T.catalogs,Be=as.init(Ln,fe);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:Ft([it,xt,Vt,yt([fe.anchor.map(vs.createUi("anchor","Anchors")),fe.rels.map(vs.createUi("rel","Rel")),fe.targets.map(vs.createUi("target","Open link in...")),fe.link.map(vs.createUi("link","Link list")),fe.classes.map(vs.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Ln,onChange:(nn,{name:qu})=>{Be.onChange(nn.getData,{name:qu}).each(zl=>{nn.setData(zl)})},onSubmit:P}},Vn=T=>{tr(T).then(Z=>{const it=Gi(T,Z);return so(Z,it,T)}).then(Z=>{T.windowManager.open(Z)})},er=T=>{T.addCommand("mceLink",(P,Z)=>{(Z==null?void 0:Z.dialog)===!0||!Lo(T)?Vn(T):T.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},ga=T=>{T.addShortcut("Meta+K","",()=>{T.execCommand("mceLink")})},fa=T=>{let P=T;return{get:()=>P,set:xt=>{P=xt}}},Sr=T=>{const P=fa(K.none()),Z=()=>P.get().each(T);return{clear:()=>{Z(),P.set(K.none())},isSet:()=>P.get().isSome(),get:()=>P.get(),set:Ln=>{Z(),P.set(K.some(Ln))}}},Ki=()=>{const T=Sr(W);return{...T,on:Z=>T.get().each(Z)}},nr=(T,P)=>T.substring(P),Xi=(T,P,Z)=>P===""||T.length>=P.length&&T.substr(Z,Z+P.length)===P,_e=(T,P)=>zr(T,P)?nr(T,P.length):T,zr=(T,P)=>Xi(T,P,0);var bs=tinymce.util.Tools.resolve("tinymce.util.VK");const mi=(T,P)=>{document.body.appendChild(T),T.dispatchEvent(P),document.body.removeChild(T)},ot=T=>{const P=document.createElement("a");P.target="_blank",P.href=T,P.rel="noreferrer noopener";const Z=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(Z),mi(P,Z)},Yt=T=>T.altKey===!0&&T.shiftKey===!1&&T.ctrlKey===!1&&T.metaKey===!1,Ke=(T,P)=>{if(P){const Z=Jo(P);if(/^#/.test(Z)){const it=T.dom.select(`${Z},[name="${_e(Z,"#")}"]`);it.length&&T.selection.scrollIntoView(it[0],!0)}else ot(P.href)}},wr=T=>{const P=T.selection.getRng(),Z=P.startContainer;return Ho(Z)&&P.startContainer===P.endContainer&&T.dom.select("img",Z).length===1},ys=(T,P)=>{const Z=lt(T.dom.getParents(P));return Ut(Z.length===1,Z[0])},zc=T=>{const P=st(T.selection.getRng());return Ut(P.length>0,P[0]).or(ys(T,T.selection.getNode()))},Vl=T=>T.selection.isCollapsed()||wr(T)?ys(T,T.selection.getStart()):zc(T),Zc=T=>{const P=Ki(),Z=()=>P.get().or(Vl(T)),it=()=>Z().each(xt=>Ke(T,xt));return T.on("contextmenu",xt=>{ys(T,xt.target).each(P.set)}),T.on("SelectionChange",()=>{P.isSet()||Vl(T).each(P.set)}),T.on("click",xt=>{P.clear();const Vt=lt(T.dom.getParents(xt.target));Vt.length===1&&bs.metaKeyPressed(xt)&&(xt.preventDefault(),Ke(T,Vt[0]))}),T.on("keydown",xt=>{P.clear(),!xt.isDefaultPrevented()&&xt.keyCode===13&&Yt(xt)&&Z().each(Vt=>{xt.preventDefault(),Ke(T,Vt)})}),{gotoSelectedLink:it}},po=T=>()=>{T.execCommand("mceLink",!1,{dialog:!0})},Cr=(T,P)=>(T.on("NodeChange",P),()=>T.off("NodeChange",P)),hi=T=>P=>{const Z=()=>{P.setActive(!T.mode.isReadOnly()&&zn(T,T.selection.getNode())),P.setEnabled(T.selection.isEditable())};return Z(),Cr(T,Z)},Bl=T=>P=>{const Z=()=>{P.setEnabled(T.selection.isEditable())};return Z(),Cr(T,Z)},gi=T=>P=>{const Z=Vt=>ft(Vt)||oe(T.selection.getRng()),it=T.dom.getParents(T.selection.getStart()),xt=Vt=>{P.setEnabled(Z(Vt)&&T.selection.isEditable())};return xt(it),Cr(T,Vt=>xt(Vt.parents))},Nl=(T,P)=>{T.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:po(T),onSetup:hi(T)}),T.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:P.gotoSelectedLink,onSetup:gi(T)}),T.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>Na(T),onSetup:gi(T)})},$o=(T,P)=>{T.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:P.gotoSelectedLink,onSetup:gi(T)}),T.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:po(T),onSetup:Bl(T)}),T.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>Na(T),onSetup:gi(T)})},pa=T=>{const P="link unlink openlink",Z="link";T.ui.registry.addContextMenu("link",{update:it=>T.dom.isEditable(it)?ft(T.dom.getParents(it,"a"))?P:Z:""})},Yi=(T,P)=>{const Z=Vt=>{Vt.selection.collapse(!1)},it=Vt=>{const Et=T.selection.getNode();return Vt.setEnabled(zn(T,Et)&&T.selection.isEditable()),W},xt=Vt=>{const Et=rs(T),Ln=Se(T);if(Et.isNone()&&Ln){const fe=tt(T.selection,Et);return Ut(fe.length===0,Vt)}else return K.none()};T.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:hi(T)},label:"Link",predicate:Vt=>Oe(T)&&zn(T,Vt),initValue:()=>rs(T).fold(Y(""),Jo),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Vt=>{const Et=T.selection.getNode();return Vt.setActive(zn(T,Et)),hi(T)(Vt)},onAction:Vt=>{const Et=Vt.getValue(),Ln=xt(Et);Qo(T,{href:Et,attach:W},{href:Et,text:Ln,title:K.none(),rel:K.none(),target:K.from(ln(T)),class:K.none()}),Z(T),Vt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:it,onAction:Vt=>{Na(T),Vt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:it,onAction:Vt=>{P.gotoSelectedLink(),Vt.hide()}}]})},Ji=T=>{const P=Zc(T);Nl(T,P),$o(T,P),pa(T),Yi(T,P)};var $l=()=>{M.add("link",T=>{ue(T),er(T),Ji(T),ga(T)})};$l()})();(function(){var M=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=(c,v,w)=>{var H;return w(c,v.prototype)?!0:((H=c.constructor)===null||H===void 0?void 0:H.name)===v.name},C=c=>{const v=typeof c;return c===null?"null":v==="object"&&Array.isArray(c)?"array":v==="object"&&h(c,String,(w,H)=>H.isPrototypeOf(w))?"string":v},f=c=>v=>C(v)===c,y=c=>v=>typeof v===c,D=f("string"),d=f("object"),S=f("array"),p=y("boolean"),O=c=>c==null,L=c=>!O(c),F=y("function"),V=y("number"),$=()=>{},j=(c,v)=>w=>c(v(w)),W=c=>()=>c,Y=(c,v)=>c===v;function rt(c,...v){return(...w)=>{const H=v.concat(w);return c.apply(null,H)}}const K=c=>v=>!c(v),_=W(!1);class et{constructor(v,w){this.tag=v,this.value=w}static some(v){return new et(!0,v)}static none(){return et.singletonNone}fold(v,w){return this.tag?w(this.value):v()}isSome(){return this.tag}isNone(){return!this.tag}map(v){return this.tag?et.some(v(this.value)):et.none()}bind(v){return this.tag?v(this.value):et.none()}exists(v){return this.tag&&v(this.value)}forall(v){return!this.tag||v(this.value)}filter(v){return!this.tag||v(this.value)?this:et.none()}getOr(v){return this.tag?this.value:v}or(v){return this.tag?this:v}getOrThunk(v){return this.tag?this.value:v()}orThunk(v){return this.tag?this:v()}getOrDie(v){if(this.tag)return this.value;throw new Error(v??"Called getOrDie on None")}static from(v){return L(v)?et.some(v):et.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(v){this.tag&&v(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}et.singletonNone=new et(!1);const Tt=Array.prototype.slice,vt=Array.prototype.indexOf,R=Array.prototype.push,Ot=(c,v)=>vt.call(c,v),pt=(c,v)=>Ot(c,v)>-1,Ft=(c,v)=>{for(let w=0,H=c.length;w<H;w++){const B=c[w];if(v(B,w))return!0}return!1},Zt=(c,v)=>{const w=c.length,H=new Array(w);for(let B=0;B<w;B++){const dt=c[B];H[B]=v(dt,B)}return H},re=(c,v)=>{for(let w=0,H=c.length;w<H;w++){const B=c[w];v(B,w)}},Ht=(c,v)=>{const w=[];for(let H=0,B=c.length;H<B;H++){const dt=c[H];v(dt,H)&&w.push(dt)}return w},yt=(c,v)=>{if(c.length===0)return[];{let w=v(c[0]);const H=[];let B=[];for(let dt=0,Xt=c.length;dt<Xt;dt++){const he=c[dt],ge=v(he);ge!==w&&(H.push(B),B=[]),w=ge,B.push(he)}return B.length!==0&&H.push(B),H}},Ut=(c,v,w)=>(re(c,(H,B)=>{w=v(w,H,B)}),w),m=(c,v,w)=>{for(let H=0,B=c.length;H<B;H++){const dt=c[H];if(v(dt,H))return et.some(dt);if(w(dt,H))break}return et.none()},ue=(c,v)=>m(c,v,_),We=c=>{const v=[];for(let w=0,H=c.length;w<H;++w){if(!S(c[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+c);R.apply(v,c[w])}return v},Oe=(c,v)=>We(Zt(c,v)),Hn=c=>{const v=Tt.call(c,0);return v.reverse(),v},ln=(c,v)=>v>=0&&v<c.length?et.some(c[v]):et.none(),me=c=>ln(c,0),Ge=c=>ln(c,c.length-1),On=(c,v)=>{const w=[],H=F(v)?B=>Ft(w,dt=>v(dt,B)):B=>pt(w,B);for(let B=0,dt=c.length;B<dt;B++){const Xt=c[B];H(Xt)||w.push(Xt)}return w},kn=(c,v,w=Y)=>c.exists(H=>w(H,v)),mt=(c,v,w=Y)=>Mt(c,v,w).getOr(c.isNone()&&v.isNone()),Mt=(c,v,w)=>c.isSome()&&v.isSome()?et.some(w(c.getOrDie(),v.getOrDie())):et.none(),Lo=8,qn=11,Ve=1,cn=3,vn=(c,v)=>{const H=(v||document).createElement("div");if(H.innerHTML=c,!H.hasChildNodes()||H.childNodes.length>1){const B="HTML does not have a single root node";throw console.error(B,c),new Error(B)}return Wn(H.childNodes[0])},to=(c,v)=>{const H=(v||document).createElement(c);return Wn(H)},Me=(c,v)=>{const H=(v||document).createTextNode(c);return Wn(H)},Wn=c=>{if(c==null)throw new Error("Node cannot be null or undefined");return{dom:c}},ae={fromHtml:vn,fromTag:to,fromText:Me,fromDom:Wn,fromPoint:(c,v,w)=>et.from(c.dom.elementFromPoint(v,w)).map(Wn)},wo=(c,v)=>{const w=c.dom;if(w.nodeType!==Ve)return!1;{const H=w;if(H.matches!==void 0)return H.matches(v);if(H.msMatchesSelector!==void 0)return H.msMatchesSelector(v);if(H.webkitMatchesSelector!==void 0)return H.webkitMatchesSelector(v);if(H.mozMatchesSelector!==void 0)return H.mozMatchesSelector(v);throw new Error("Browser lacks native selectors")}},Fo=(c,v)=>c.dom===v.dom,Gn=(c,v)=>{const w=c.dom,H=v.dom;return w===H?!1:w.contains(H)},Ho=wo,fs=typeof window<"u"?window:Function("return this;")(),Yo=(c,v)=>{let w=v??fs;for(let H=0;H<c.length&&w!==void 0&&w!==null;++H)w=w[c[H]];return w},Jo=(c,v)=>{const w=c.split(".");return Yo(w,v)},no=(c,v)=>Jo(c,v),ps=(c,v)=>{const w=no(c,v);if(w==null)throw new Error(c+" not available on this browser");return w},rs=Object.getPrototypeOf,zn=c=>ps("HTMLElement",c),tt=c=>{const v=Jo("ownerDocument.defaultView",c);return d(c)&&(zn(v).prototype.isPrototypeOf(c)||/^HTML\w*Element$/.test(rs(c).constructor.name))},st=c=>c.dom.nodeName.toLowerCase(),lt=c=>c.dom.nodeType,ft=c=>v=>lt(v)===c,oe=c=>lt(c)===Lo||st(c)==="#comment",Se=c=>we(c)&&tt(c.dom),we=ft(Ve),Qe=ft(cn),In=ft(qn),qt=c=>v=>we(v)&&st(v)===c,Pt=c=>et.from(c.dom.parentNode).map(ae.fromDom),ve=c=>et.from(c.dom.parentElement).map(ae.fromDom),wt=c=>et.from(c.dom.nextSibling).map(ae.fromDom),jt=c=>Zt(c.dom.childNodes,ae.fromDom),bn=(c,v)=>{const w=c.dom.childNodes;return et.from(w[v]).map(ae.fromDom)},eo=c=>bn(c,0),ua=c=>bn(c,c.dom.childNodes.length-1),Qo=c=>In(c)&&L(c.dom.host),Na=c=>ae.fromDom(c.dom.getRootNode()),Br=c=>{const v=Na(c);return Qo(v)?et.some(v):et.none()},$i=c=>ae.fromDom(c.dom.host),da=c=>{const v=Qe(c)?c.dom.parentNode:c.dom;if(v==null||v.ownerDocument===null)return!1;const w=v.ownerDocument;return Br(ae.fromDom(v)).fold(()=>w.body.contains(v),j(da,$i))};var No=(c,v,w,H,B)=>c(w,H)?et.some(w):F(B)&&B(w)?et.none():v(w,H,B);const $a=(c,v,w)=>{let H=c.dom;const B=F(w)?w:_;for(;H.parentNode;){H=H.parentNode;const dt=ae.fromDom(H);if(v(dt))return et.some(dt);if(B(dt))break}return et.none()},li=(c,v,w)=>No((B,dt)=>dt(B),$a,c,v,w),Il=(c,v,w)=>$a(c,H=>wo(H,v),w),zi=(c,v,w)=>No((B,dt)=>wo(B,dt),Il,c,v,w),vs=c=>zi(c,"[contenteditable]"),Co=(c,v=!1)=>da(c)?c.dom.isContentEditable:vs(c).fold(W(v),w=>Zi(w)==="true"),Zi=c=>c.dom.contentEditable,Nr=(c,v)=>{Pt(c).each(H=>{H.dom.insertBefore(v.dom,c.dom)})},Ui=(c,v)=>{wt(c).fold(()=>{Pt(c).each(B=>{as(B,v)})},H=>{Nr(H,v)})},ci=(c,v)=>{eo(c).fold(()=>{as(c,v)},H=>{c.dom.insertBefore(v.dom,H.dom)})},as=(c,v)=>{c.dom.appendChild(v.dom)},ma=(c,v)=>{re(v,w=>{Nr(c,w)})},za=(c,v)=>{re(v,w=>{as(c,w)})},$r=c=>{c.dom.textContent="",re(jt(c),v=>{ui(v)})},ui=c=>{const v=c.dom;v.parentNode!==null&&v.parentNode.removeChild(v)};var Ll=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),_i=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xr=tinymce.util.Tools.resolve("tinymce.util.VK");const Fl=c=>Zt(c,ae.fromDom),Ct=Object.keys,di=(c,v)=>{const w=Ct(c);for(let H=0,B=w.length;H<B;H++){const dt=w[H],Xt=c[dt];v(Xt,dt)}},Hl=c=>(v,w)=>{c[w]=v},Pl=(c,v,w,H)=>{di(c,(B,dt)=>{(v(B,dt)?w:H)(B,dt)})},Rl=(c,v)=>{const w={};return Pl(c,v,Hl(w),$),w},Nc=(c,v,w)=>{if(D(w)||p(w)||V(w))c.setAttribute(v,w+"");else throw console.error("Invalid call to Attribute.set. Key ",v,":: Value ",w,":: Element ",c),new Error("Attribute value was not simple")},ha=(c,v)=>{const w=c.dom;di(v,(H,B)=>{Nc(w,B,H)})},Za=c=>Ut(c.dom.attributes,(v,w)=>(v[w.name]=w.value,v),{}),$c=(c,v)=>ae.fromDom(c.dom.cloneNode(v)),ji=c=>$c(c,!0),Ua=(c,v)=>{const w=ae.fromTag(v),H=Za(c);return ha(w,H),w},qs=(c,v)=>{const w=Ua(c,v);Ui(c,w);const H=jt(c);return za(w,H),ui(c),w};var Wi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oo=tinymce.util.Tools.resolve("tinymce.util.Tools");const Gi=c=>v=>L(v)&&v.nodeName.toLowerCase()===c,tr=c=>v=>L(v)&&c.test(v.nodeName),un=c=>L(c)&&c.nodeType===3,so=c=>L(c)&&c.nodeType===1,Vn=tr(/^(OL|UL|DL)$/),er=tr(/^(OL|UL)$/),ga=Gi("ol"),fa=tr(/^(LI|DT|DD)$/),Sr=tr(/^(DT|DD)$/),Ki=tr(/^(TH|TD)$/),nr=Gi("br"),Xi=c=>{var v;return((v=c.parentNode)===null||v===void 0?void 0:v.firstChild)===c},_e=(c,v)=>L(v)&&v.nodeName in c.schema.getTextBlockElements(),zr=(c,v)=>L(c)&&c.nodeName in v,bs=(c,v)=>L(v)&&v.nodeName in c.schema.getVoidElements(),mi=(c,v)=>nr(v)?c.isBlock(v.nextSibling)&&!nr(v.previousSibling):!1,ot=(c,v,w)=>{const H=c.isEmpty(v);return w&&c.select("span[data-mce-type=bookmark]",v).length>0?!1:H},Yt=(c,v)=>c.isChildOf(v,c.getRoot()),Ke=c=>v=>v.options.get(c),wr=c=>{const v=c.options.register;v("lists_indent_on_tab",{processor:"boolean",default:!0})},ys=Ke("lists_indent_on_tab"),zc=Ke("forced_root_block"),Vl=Ke("forced_root_block_attrs"),Zc=(c,v,w={})=>{const H=c.dom,B=c.schema.getBlockElements(),dt=H.createFragment(),Xt=zc(c),he=Vl(c);let ge,Wt,Mn=!1;for(Wt=H.create(Xt,{...he,...w.style?{style:w.style}:{}}),zr(v.firstChild,B)||dt.appendChild(Wt);ge=v.firstChild;){const To=ge.nodeName;!Mn&&(To!=="SPAN"||ge.getAttribute("data-mce-type")!=="bookmark")&&(Mn=!0),zr(ge,B)?(dt.appendChild(ge),Wt=null):(Wt||(Wt=H.create(Xt,he),dt.appendChild(Wt)),Wt.appendChild(ge))}return!Mn&&Wt&&Wt.appendChild(H.create("br",{"data-mce-bogus":"1"})),dt},po=Wi.DOM,Cr=(c,v,w)=>{const H=Wt=>{const Mn=Wt.parentNode;Mn&&oo.each(B,To=>{Mn.insertBefore(To,w.parentNode)}),po.remove(Wt)},B=po.select('span[data-mce-type="bookmark"]',v),dt=Zc(c,w),Xt=po.createRng();Xt.setStartAfter(w),Xt.setEndAfter(v);const he=Xt.extractContents();for(let Wt=he.firstChild;Wt;Wt=Wt.firstChild)if(Wt.nodeName==="LI"&&c.dom.isEmpty(Wt)){po.remove(Wt);break}c.dom.isEmpty(he)||po.insertAfter(he,v),po.insertAfter(dt,v);const ge=w.parentElement;ge&&ot(c.dom,ge)&&H(ge),po.remove(w),ot(c.dom,v)&&po.remove(v)},hi=qt("dd"),Bl=qt("dt"),gi=(c,v)=>{hi(v)?qs(v,"dt"):Bl(v)&&ve(v).each(w=>Cr(c,w.dom,v.dom))},Nl=c=>{Bl(c)&&qs(c,"dd")},$o=(c,v,w)=>{v==="Indent"?re(w,Nl):re(w,H=>gi(c,H))},pa=(c,v)=>{if(un(c))return{container:c,offset:v};const w=Ll.getNode(c,v);return un(w)?{container:w,offset:v>=c.childNodes.length?w.data.length:0}:w.previousSibling&&un(w.previousSibling)?{container:w.previousSibling,offset:w.previousSibling.data.length}:w.nextSibling&&un(w.nextSibling)?{container:w.nextSibling,offset:0}:{container:c,offset:v}},Yi=c=>{const v=c.cloneRange(),w=pa(c.startContainer,c.startOffset);v.setStart(w.container,w.offset);const H=pa(c.endContainer,c.endOffset);return v.setEnd(H.container,H.offset),v},Ji=["OL","UL","DL"],$l=Ji.join(","),T=(c,v)=>{const w=v||c.selection.getStart(!0);return c.dom.getParent(w,$l,Be(c,w))},P=(c,v)=>L(c)&&v.length===1&&v[0]===c,Z=c=>Ht(c.querySelectorAll($l),Vn),it=c=>{const v=T(c),w=c.selection.getSelectedBlocks();return P(v,w)?Z(v):Ht(w,H=>Vn(H)&&v!==H)},xt=(c,v)=>{const w=oo.map(v,H=>{const B=c.dom.getParent(H,"li,dd,dt",Be(c,H));return B||H});return On(w)},Vt=c=>{const v=c.selection.getSelectedBlocks();return Ht(xt(c,v),fa)},Et=c=>Ht(Vt(c),Sr),Ln=(c,v)=>{const w=c.dom.getParents(v,"TD,TH");return w.length>0?w[0]:c.getBody()},fe=(c,v)=>!Vn(v)&&!fa(v)&&Ft(Ji,w=>c.isValidChild(v.nodeName,w)),Be=(c,v)=>{const w=c.dom.getParents(v,c.dom.isBlock),H=dt=>dt.nodeName.toLowerCase()!==zc(c);return ue(w,dt=>H(dt)&&fe(c.schema,dt)).getOr(c.getBody())},Bn=c=>Pt(c).exists(v=>fa(v.dom)&&eo(v).exists(w=>!Vn(w.dom))&&ua(v).exists(w=>!Vn(w.dom))),nn=(c,v)=>{const w=c.dom.getParents(v,"ol,ul",Be(c,v));return Ge(w)},qu=c=>{const v=nn(c,c.selection.getStart()),w=Ht(c.selection.getSelectedBlocks(),er);return v.toArray().concat(w)},zl=c=>{const v=c.selection.getStart();return c.dom.getParents(v,"ol,ul",Be(c,v))},Um=c=>{const v=qu(c),w=zl(c);return ue(w,H=>Bn(ae.fromDom(H))).fold(()=>ce(c,v),H=>[H])},ce=(c,v)=>{const w=Zt(v,H=>nn(c,H).getOr(H));return On(w)},Tr=c=>/\btox\-/.test(c.className),Zl=(c,v)=>m(c,Vn,Ki).exists(w=>w.nodeName===v&&!Tr(w)),Po=(c,v)=>v!==null&&!c.dom.isEditable(v),_m=c=>{const v=T(c);return Po(c,v)||!c.selection.isEditable()},Zn=(c,v)=>{const w=c.dom.getParent(v,"ol,ul,dl");return Po(c,w)||!c.selection.isEditable()},td=(c,v)=>{const w=c.selection.getNode();return v({parents:c.dom.getParents(w),element:w}),c.on("NodeChange",v),()=>c.off("NodeChange",v)},ed=(c,v)=>{const H=document.createDocumentFragment();return re(c,B=>{H.appendChild(B.dom)}),ae.fromDom(H)},De=(c,v,w)=>c.dispatch("ListMutation",{action:v,element:w}),jm=(c=>v=>v.replace(c,""))(/^\s+|\s+$/g),nd=c=>c.length>0,ro=c=>!nd(c),_a=c=>c.style!==void 0&&F(c.style.getPropertyValue),rf=(c,v,w)=>{if(!D(w))throw console.error("Invalid call to CSS.set. Property ",v,":: Value ",w,":: Element ",c),new Error("CSS value must be a string: "+w);_a(c)&&c.style.setProperty(v,w)},Wm=(c,v,w)=>{const H=c.dom;rf(H,v,w)},hn=c=>Ho(c,"OL,UL"),af=c=>Ho(c,"LI"),Ul=c=>eo(c).exists(hn),or=c=>ua(c).exists(hn),Zr=c=>"listAttributes"in c,_l=c=>"isComment"in c,lf=c=>"isFragment"in c,is=c=>c.depth>0,Qi=c=>c.isSelected,cf=c=>{const v=jt(c),w=or(c)?v.slice(0,-1):v;return Zt(w,ji)},ja=(c,v,w)=>Pt(c).filter(we).map(H=>({depth:v,dirty:!1,isSelected:w,content:cf(c),itemAttributes:Za(c),listAttributes:Za(H),listType:st(H),isInPreviousLi:!1})),Gm=(c,v)=>{as(c.item,v.list)},uf=c=>{for(let v=1;v<c.length;v++)Gm(c[v-1],c[v])},df=(c,v)=>{Mt(Ge(c),me(v),Gm)},mf=(c,v)=>{const w={list:ae.fromTag(v,c),item:ae.fromTag("li",c)};return as(w.list,w.item),w},Km=(c,v,w)=>{const H=[];for(let B=0;B<w;B++)H.push(mf(c,Zr(v)?v.listType:v.parentListType));return H},od=(c,v)=>{for(let w=0;w<c.length-1;w++)Wm(c[w].item,"list-style-type","none");Ge(c).each(w=>{Zr(v)&&(ha(w.list,v.listAttributes),ha(w.item,v.itemAttributes)),za(w.item,v.content)})},jl=(c,v)=>{st(c.list)!==v.listType&&(c.list=qs(c.list,v.listType)),ha(c.list,v.listAttributes)},hf=(c,v,w)=>{const H=ae.fromTag("li",c);return ha(H,v),za(H,w),H},Xm=(c,v)=>{as(c.list,v),c.item=v},Ym=(c,v,w)=>{const H=v.slice(0,w.depth);return Ge(H).each(B=>{if(Zr(w)){const dt=hf(c,w.itemAttributes,w.content);Xm(B,dt),jl(B,w)}else if(lf(w))za(B.item,w.content);else{const dt=ae.fromHtml(`<!--${w.content}-->`);as(B.list,dt)}}),H},gf=(c,v,w)=>{const H=Km(c,w,w.depth-v.length);return uf(H),od(H,w),df(v,H),v.concat(H)},sd=(c,v)=>{let w=et.none();const H=Ut(v,(B,dt,Xt)=>_l(dt)?Xt===0?(w=et.some(dt),B):Ym(c,B,dt):dt.depth>B.length?gf(c,B,dt):Ym(c,B,dt),[]);return w.each(B=>{const dt=ae.fromHtml(`<!--${B.content}-->`);me(H).each(Xt=>{ci(Xt.list,dt)})}),me(H).map(B=>B.list)},va=(c,v)=>{switch(c){case"Indent":v.depth++;break;case"Outdent":v.depth--;break;case"Flatten":v.depth=0}v.dirty=!0},ff=(c,v)=>{Zr(c)&&Zr(v)&&(c.listType=v.listType,c.listAttributes={...v.listAttributes})},pf=c=>{c.listAttributes=Rl(c.listAttributes,(v,w)=>w!=="start")},Jm=(c,v)=>{const w=c[v].depth,H=dt=>dt.depth===w&&!dt.dirty,B=dt=>dt.depth<w;return m(Hn(c.slice(0,v)),H,B).orThunk(()=>m(c.slice(v+1),H,B))},rd=c=>(re(c,(v,w)=>{Jm(c,w).fold(()=>{v.dirty&&Zr(v)&&pf(v)},H=>ff(v,H))}),c),Qm=c=>{let v=c;return{get:()=>v,set:B=>{v=B}}},ad=(c,v,w,H)=>{var B;if(oe(H))return[{depth:c+1,content:(B=H.dom.nodeValue)!==null&&B!==void 0?B:"",dirty:!1,isSelected:!1,isComment:!0}];v.each(he=>{Fo(he.start,H)&&w.set(!0)});const dt=ja(H,c,w.get());v.each(he=>{Fo(he.end,H)&&w.set(!1)});const Xt=ua(H).filter(hn).map(he=>Wl(c,v,w,he)).getOr([]);return dt.toArray().concat(Xt)},qm=(c,v,w,H)=>eo(H).filter(hn).fold(()=>ad(c,v,w,H),B=>{const dt=Ut(jt(H),(Xt,he,ge)=>{if(ge===0)return Xt;if(af(he))return Xt.concat(ad(c,v,w,he));{const Wt={isFragment:!0,depth:c,content:[he],isSelected:!1,dirty:!1,parentListType:st(B)};return Xt.concat(Wt)}},[]);return Wl(c,v,w,B).concat(dt)}),Wl=(c,v,w,H)=>Oe(jt(H),B=>{const dt=hn(B)?Wl:qm,Xt=c+1;return dt(Xt,v,w,B)}),th=(c,v)=>{const w=Qm(!1),H=0;return Zt(c,B=>({sourceList:B,entries:Wl(H,v,w,B)}))},vf=(c,v)=>{const w=rd(v);return Zt(w,H=>{const B=_l(H)?ed([ae.fromHtml(`<!--${H.content}-->`)]):ed(H.content),dt=Zr(H)?H.itemAttributes:{};return ae.fromDom(Zc(c,B.dom,dt))})},eh=(c,v)=>{const w=rd(v);return sd(c.contentDocument,w).toArray()},nh=(c,v)=>Oe(yt(v,is),w=>me(w).exists(is)?eh(c,w):vf(c,w)),oh=(c,v)=>{re(Ht(c,Qi),w=>va(v,w))},sh=c=>{const v=Zt(Vt(c),ae.fromDom);return Mt(ue(v,K(Ul)),ue(Hn(v),K(Ul)),(w,H)=>({start:w,end:H}))},rh=(c,v,w)=>{const H=th(v,sh(c));re(H,B=>{oh(B.entries,w);const dt=nh(c,B.entries);re(dt,Xt=>{De(c,w==="Indent"?"IndentList":"OutdentList",Xt.dom)}),ma(B.sourceList,dt),ui(B.sourceList)})},ah=(c,v)=>{const w=Fl(Um(c)),H=Fl(Et(c));let B=!1;if(w.length||H.length){const dt=c.selection.getBookmark();rh(c,w,v),$o(c,v,H),c.selection.moveToBookmark(dt),c.selection.setRng(Yi(c.selection.getRng())),c.nodeChanged(),B=!0}return B},_c=(c,v)=>!_m(c)&&ah(c,v),id=c=>_c(c,"Indent"),jc=c=>_c(c,"Outdent"),Gl=c=>_c(c,"Flatten"),bf="\uFEFF",Wc=c=>c===bf,ih=(c,v,w)=>$a(c,v,w).isSome(),Vb=(c,v)=>ih(c,rt(Fo,v));var yf=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const qi=Wi.DOM,tl=c=>{const v={},w=H=>{let B=c[H?"startContainer":"endContainer"],dt=c[H?"startOffset":"endOffset"];if(so(B)){const Xt=qi.create("span",{"data-mce-type":"bookmark"});B.hasChildNodes()?(dt=Math.min(dt,B.childNodes.length-1),H?B.insertBefore(Xt,B.childNodes[dt]):qi.insertAfter(Xt,B.childNodes[dt])):B.appendChild(Xt),B=Xt,dt=0}v[H?"startContainer":"endContainer"]=B,v[H?"startOffset":"endOffset"]=dt};return w(!0),c.collapsed||w(),v},ls=c=>{const v=H=>{const B=he=>{var ge;let Wt=(ge=he.parentNode)===null||ge===void 0?void 0:ge.firstChild,Mn=0;for(;Wt;){if(Wt===he)return Mn;(!so(Wt)||Wt.getAttribute("data-mce-type")!=="bookmark")&&Mn++,Wt=Wt.nextSibling}return-1};let dt=c[H?"startContainer":"endContainer"],Xt=c[H?"startOffset":"endOffset"];if(dt){if(so(dt)&&dt.parentNode){const he=dt;Xt=B(dt),dt=dt.parentNode,qi.remove(he),!dt.hasChildNodes()&&qi.isBlock(dt)&&dt.appendChild(qi.create("br"))}c[H?"startContainer":"endContainer"]=dt,c[H?"startOffset":"endOffset"]=Xt}};v(!0),v();const w=qi.createRng();return w.setStart(c.startContainer,c.startOffset),c.endContainer&&w.setEnd(c.endContainer,c.endOffset),Yi(w)},el=c=>{switch(c){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},lh=(c,v,w)=>{const H=w["list-style-type"]?w["list-style-type"]:null;c.setStyle(v,"list-style-type",H)},ch=(c,v)=>{oo.each(v,(w,H)=>{c.setAttribute(H,w)})},uh=(c,v,w)=>{ch(v,w["list-attributes"]),oo.each(c.select("li",v),H=>{ch(H,w["list-item-attributes"])})},nl=(c,v,w)=>{lh(c,v,w),uh(c,v,w)},xf=(c,v,w)=>{oo.each(w,H=>c.setStyle(v,H,""))},Gc=(c,v)=>L(v)&&!zr(v,c.schema.getBlockElements()),fi=(c,v,w,H)=>{let B=v[w?"startContainer":"endContainer"];const dt=v[w?"startOffset":"endOffset"];so(B)&&(B=B.childNodes[Math.min(dt,B.childNodes.length-1)]||B),!w&&nr(B.nextSibling)&&(B=B.nextSibling);const Xt=ge=>{for(;!c.dom.isBlock(ge)&&ge.parentNode&&H!==ge;)ge=ge.parentNode;return ge},he=(ge,Wt)=>{var Mn;const To=new _i(ge,Xt(ge)),rr=Wt?"next":"prev";let pi;for(;pi=To[rr]();)if(!(bs(c,pi)||Wc(pi.textContent)||((Mn=pi.textContent)===null||Mn===void 0?void 0:Mn.length)===0))return et.some(pi);return et.none()};if(w&&un(B))if(Wc(B.textContent))B=he(B,!1).getOr(B);else for(B.parentNode!==null&&Gc(c,B.parentNode)&&(B=B.parentNode);B.previousSibling!==null&&(Gc(c,B.previousSibling)||un(B.previousSibling));)B=B.previousSibling;if(!w&&un(B))if(Wc(B.textContent))B=he(B,!0).getOr(B);else for(B.parentNode!==null&&Gc(c,B.parentNode)&&(B=B.parentNode);B.nextSibling!==null&&(Gc(c,B.nextSibling)||un(B.nextSibling));)B=B.nextSibling;for(;B.parentNode!==H;){const ge=B.parentNode;if(_e(c,B)||/^(TD|TH)$/.test(ge.nodeName))return B;B=ge}return B},Sf=(c,v,w)=>{const H=[],B=c.dom,dt=fi(c,v,!0,w),Xt=fi(c,v,!1,w);let he;const ge=[];for(let Wt=dt;Wt&&(ge.push(Wt),Wt!==Xt);Wt=Wt.nextSibling);return oo.each(ge,Wt=>{var Mn;if(_e(c,Wt)){H.push(Wt),he=null;return}if(B.isBlock(Wt)||nr(Wt)){nr(Wt)&&B.remove(Wt),he=null;return}const To=Wt.nextSibling;if(yf.isBookmarkNode(Wt)&&(Vn(To)||_e(c,To)||!To&&Wt.parentNode===w)){he=null;return}he||(he=B.create("p"),(Mn=Wt.parentNode)===null||Mn===void 0||Mn.insertBefore(he,Wt),H.push(he)),he.appendChild(Wt)}),H},wf=(c,v,w)=>{const H=c.getStyle(v,"list-style-type");let B=w?w["list-style-type"]:"";return B=B===null?"":B,H===B},sr=(c,v)=>{const w=c.selection.getStart(!0),H=fi(c,v,!0,c.getBody());return Vb(ae.fromDom(H),ae.fromDom(v.commonAncestorContainer))?v.commonAncestorContainer:w},ld=(c,v,w)=>{const H=c.selection.getRng();let B="LI";const dt=Be(c,sr(c,H)),Xt=c.dom;if(Xt.getContentEditable(c.selection.getNode())==="false")return;v=v.toUpperCase(),v==="DL"&&(B="DT");const he=tl(H),ge=Ht(Sf(c,H,dt),c.dom.isEditable);oo.each(ge,Wt=>{let Mn;const To=Wt.previousSibling,rr=Wt.parentNode;fa(rr)||(To&&Vn(To)&&To.nodeName===v&&wf(Xt,To,w)?(Mn=To,Wt=Xt.rename(Wt,B),To.appendChild(Wt)):(Mn=Xt.create(v),rr.insertBefore(Mn,Wt),Mn.appendChild(Wt),Wt=Xt.rename(Wt,B)),xf(Xt,Wt,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),nl(Xt,Mn,w),Kl(c.dom,Mn))}),c.selection.setRng(ls(he))},dh=(c,v)=>Vn(c)&&c.nodeName===(v==null?void 0:v.nodeName),cd=(c,v,w)=>{const H=c.getStyle(v,"list-style-type",!0),B=c.getStyle(w,"list-style-type",!0);return H===B},ba=(c,v)=>c.className===v.className,xs=(c,v,w)=>dh(v,w)&&cd(c,v,w)&&ba(v,w),Kl=(c,v)=>{let w,H=v.nextSibling;if(xs(c,v,H)){const B=H;for(;w=B.firstChild;)v.appendChild(w);c.remove(B)}if(H=v.previousSibling,xs(c,v,H)){const B=H;for(;w=B.lastChild;)v.insertBefore(w,v.firstChild);c.remove(B)}},Cf=(c,v,w,H)=>{if(v.nodeName!==w){const B=c.dom.rename(v,w);nl(c.dom,B,H),De(c,el(w),B)}else nl(c.dom,v,H),De(c,el(w),v)},mh=(c,v,w,H)=>{if(v.classList.forEach((B,dt,Xt)=>{B.startsWith("tox-")&&(Xt.remove(B),Xt.length===0&&v.removeAttribute("class"))}),v.nodeName!==w){const B=c.dom.rename(v,w);nl(c.dom,B,H),De(c,el(w),B)}else nl(c.dom,v,H),De(c,el(w),v)},ud=(c,v,w,H,B)=>{const dt=Vn(v);if(dt&&v.nodeName===H&&!Kc(B)&&!Tr(v))Gl(c);else{ld(c,H,B);const Xt=tl(c.selection.getRng()),he=dt?[v,...w]:w,ge=dt&&Tr(v)?mh:Cf;oo.each(he,Wt=>{ge(c,Wt,H,B)}),c.selection.setRng(ls(Xt))}},Kc=c=>"list-style-type"in c,hh=(c,v,w,H)=>{if(v!==c.getBody())if(v)if(v.nodeName===w&&!Kc(H)&&!Tr(v))Gl(c);else{const B=tl(c.selection.getRng());Tr(v)&&v.classList.forEach((Xt,he,ge)=>{Xt.startsWith("tox-")&&(ge.remove(Xt),ge.length===0&&v.removeAttribute("class"))}),nl(c.dom,v,H);const dt=c.dom.rename(v,w);Kl(c.dom,dt),c.selection.setRng(ls(B)),ld(c,w,H),De(c,el(w),dt)}else ld(c,w,H),De(c,el(w),v)},dd=(c,v,w)=>{const H=T(c);if(Zn(c,H))return;const B=it(c),dt=d(w)?w:{};B.length>0?ud(c,H,B,v,dt):hh(c,H,v,dt)},Tf=Wi.DOM,Bb=(c,v)=>{const w=v.parentElement;if(w&&w.nodeName==="LI"&&w.firstChild===v){const H=w.previousSibling;H&&H.nodeName==="LI"?(H.appendChild(v),ot(c,w)&&Tf.remove(w)):Tf.setStyle(w,"listStyleType","none")}if(Vn(w)){const H=w.previousSibling;H&&H.nodeName==="LI"&&H.appendChild(v)}},gh=(c,v)=>{const w=oo.grep(c.select("ol,ul",v));oo.each(w,H=>{Bb(c,H)})},Xc=(c,v,w,H)=>{let B=v.startContainer;const dt=v.startOffset;if(un(B)&&(w?dt<B.data.length:dt>0))return B;const Xt=c.schema.getNonEmptyElements();so(B)&&(B=Ll.getNode(B,dt));const he=new _i(B,H);w&&mi(c.dom,B)&&he.next();const ge=w?he.next.bind(he):he.prev2.bind(he);for(;B=ge();)if(B.nodeName==="LI"&&!B.hasChildNodes()||Xt[B.nodeName]||un(B)&&B.data.length>0)return B;return null},fh=(c,v)=>{const w=v.childNodes;return w.length===1&&!Vn(w[0])&&c.isBlock(w[0])},Ef=c=>et.from(c).map(ae.fromDom).filter(Se).exists(v=>Co(v)&&!pt(["details"],st(v))),vo=(c,v)=>{fh(c,v)&&Ef(v.firstChild)&&c.remove(v.firstChild,!0)},ao=(c,v,w)=>{let H;const B=fh(c,w)?w.firstChild:w;if(vo(c,v),!ot(c,v,!0))for(;H=v.firstChild;)B.appendChild(H)},ya=(c,v,w)=>{let H;const B=v.parentNode;if(!Yt(c,v)||!Yt(c,w))return;Vn(w.lastChild)&&(H=w.lastChild),B===w.lastChild&&nr(B.previousSibling)&&c.remove(B.previousSibling);const dt=w.lastChild;dt&&nr(dt)&&v.hasChildNodes()&&c.remove(dt),ot(c,w,!0)&&$r(ae.fromDom(w)),ao(c,v,w),H&&w.appendChild(H);const he=Gn(ae.fromDom(w),ae.fromDom(v))?c.getParents(v,Vn,w):[];c.remove(v),re(he,ge=>{ot(c,ge)&&ge!==c.getRoot()&&c.remove(ge)})},md=(c,v,w)=>{$r(ae.fromDom(w)),ya(c.dom,v,w),c.selection.setCursorLocation(w,0)},Of=(c,v,w,H)=>{const B=c.dom;if(B.isEmpty(H))md(c,w,H);else{const dt=tl(v);ya(B,w,H),c.selection.setRng(ls(dt))}},zo=(c,v,w,H)=>{const B=tl(v);ya(c.dom,w,H);const dt=ls(B);c.selection.setRng(dt)},$t=(c,v)=>{const w=c.dom,H=c.selection,B=H.getStart(),dt=Ln(c,B),Xt=w.getParent(H.getStart(),"LI",dt);if(Xt){const he=Xt.parentElement;if(he===c.getBody()&&ot(w,he))return!0;const ge=Yi(H.getRng()),Wt=w.getParent(Xc(c,ge,v,dt),"LI",dt),Mn=Wt&&(v?w.isChildOf(Xt,Wt):w.isChildOf(Wt,Xt));if(Wt&&Wt!==Xt&&!Mn)return c.undoManager.transact(()=>{v?Of(c,ge,Wt,Xt):Xi(Xt)?jc(c):zo(c,ge,Xt,Wt)}),!0;if(Mn&&!v&&Wt!==Xt)return c.undoManager.transact(()=>{if(ge.commonAncestorContainer.parentElement){const To=tl(ge),rr=ge.commonAncestorContainer.parentElement;ao(w,ge.commonAncestorContainer.parentElement,Wt),rr.remove();const pi=ls(To);c.selection.setRng(pi)}}),!0;if(!Wt&&!v&&ge.startOffset===0&&ge.endOffset===0)return c.undoManager.transact(()=>{Gl(c)}),!0}return!1},hd=(c,v,w)=>{const H=c.getParent(v.parentNode,c.isBlock,w);c.remove(v),H&&c.isEmpty(H)&&c.remove(H)},Mf=(c,v)=>{const w=c.dom,H=c.selection.getStart(),B=Ln(c,H),dt=w.getParent(H,w.isBlock,B);if(dt&&w.isEmpty(dt,void 0,{checkRootAsContent:!0})){const Xt=Yi(c.selection.getRng()),he=w.getParent(Xc(c,Xt,v,B),"LI",B);if(he){const ge=rr=>pt(["td","th","caption"],st(rr)),Wt=rr=>rr.dom===B,Mn=li(ae.fromDom(he),ge,Wt),To=li(ae.fromDom(Xt.startContainer),ge,Wt);return mt(Mn,To,Fo)?(c.undoManager.transact(()=>{const rr=he.parentNode;hd(w,dt,B),Kl(w,rr),c.selection.select(he,!0),c.selection.collapse(v)}),!0):!1}}return!1},ol=(c,v)=>$t(c,v)||Mf(c,v),qe=c=>{const v=c.selection.getStart(),w=Ln(c,v);return c.dom.getParent(v,"LI,DT,DD",w)||Vt(c).length>0},Af=c=>qe(c)?(c.undoManager.transact(()=>{let v=!0;const w=()=>v=!1;c.on("input",w),c.execCommand("Delete"),c.off("input",w),v&&c.dispatch("input"),gh(c.dom,c.getBody())}),!0):!1,Yc=(c,v)=>{const w=c.selection;return!Zn(c,w.getNode())&&(w.isCollapsed()?ol(c,v):Af(c))},ph=c=>{c.on("ExecCommand",v=>{const w=v.command.toLowerCase();(w==="delete"||w==="forwarddelete")&&qe(c)&&gh(c.dom,c.getBody())}),c.on("keydown",v=>{v.keyCode===xr.BACKSPACE?Yc(c,!1)&&v.preventDefault():v.keyCode===xr.DELETE&&Yc(c,!0)&&v.preventDefault()})},Nb=c=>({backspaceDelete:v=>{Yc(c,v)}}),Ce=(c,v)=>{const w=T(c);w===null||Zn(c,w)||c.undoManager.transact(()=>{d(v.styles)&&c.dom.setStyles(w,v.styles),d(v.attrs)&&di(v.attrs,(H,B)=>c.dom.setAttrib(w,B,H))})},Ds=c=>{const v=Hn(jm(c).split("")),w=Zt(v,(H,B)=>{const dt=H.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,B)*dt});return Ut(w,(H,B)=>H+B,0)},Xl=c=>{if(c--,c<0)return"";{const v=c%26,w=Math.floor(c/26),H=Xl(w),B=String.fromCharCode(65+v);return H+B}},Df=c=>/^[A-Z]+$/.test(c),kf=c=>/^[a-z]+$/.test(c),If=c=>/^[0-9]+$/.test(c),Lf=c=>If(c)?2:Df(c)?0:kf(c)?1:ro(c)?3:4,Ff=c=>{switch(Lf(c)){case 2:return et.some({listStyleType:et.none(),start:c});case 0:return et.some({listStyleType:et.some("upper-alpha"),start:Ds(c).toString()});case 1:return et.some({listStyleType:et.some("lower-alpha"),start:Ds(c).toString()});case 3:return et.some({listStyleType:et.none(),start:""});case 4:return et.none()}},vh=c=>{const v=parseInt(c.start,10);return kn(c.listStyleType,"upper-alpha")?Xl(v):kn(c.listStyleType,"lower-alpha")?Xl(v).toLowerCase():c.start},bh=c=>{const v=T(c);!ga(v)||Zn(c,v)||c.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:vh({start:c.dom.getAttrib(v,"start","1"),listStyleType:et.from(c.dom.getStyle(v,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:w=>{const H=w.getData();Ff(H.start).each(B=>{c.execCommand("mceListUpdate",!1,{attrs:{start:B.start==="1"?"":B.start},styles:{"list-style-type":B.listStyleType.getOr("")}})}),w.close()}})},yh=(c,v)=>()=>{const w=T(c);return L(w)&&w.nodeName===v},Hf=c=>{c.addCommand("mceListProps",()=>{bh(c)})},Un=c=>{c.on("BeforeExecCommand",v=>{const w=v.command.toLowerCase();w==="indent"?id(c):w==="outdent"&&jc(c)}),c.addCommand("InsertUnorderedList",(v,w)=>{dd(c,"UL",w)}),c.addCommand("InsertOrderedList",(v,w)=>{dd(c,"OL",w)}),c.addCommand("InsertDefinitionList",(v,w)=>{dd(c,"DL",w)}),c.addCommand("RemoveList",()=>{Gl(c)}),Hf(c),c.addCommand("mceListUpdate",(v,w)=>{d(w)&&Ce(c,w)}),c.addQueryStateHandler("InsertUnorderedList",yh(c,"UL")),c.addQueryStateHandler("InsertOrderedList",yh(c,"OL")),c.addQueryStateHandler("InsertDefinitionList",yh(c,"DL"))};var xh=tinymce.util.Tools.resolve("tinymce.html.Node");const Sh=c=>c.type===3,Jc=c=>c.length===0,Pf=c=>{const v=(B,dt)=>{const Xt=xh.create("li");re(B,he=>Xt.append(he)),dt?c.insert(Xt,dt,!0):c.append(Xt)},w=(B,dt)=>Sh(dt)?[...B,dt]:!Jc(B)&&!Sh(dt)?(v(B,dt),[]):B,H=Ut(c.children(),w,[]);Jc(H)||v(H)},Rf=c=>{c.on("PreInit",()=>{const{parser:v}=c;v.addNodeFilter("ul,ol",w=>re(w,Pf))})},wh=c=>{c.on("keydown",v=>{v.keyCode!==xr.TAB||xr.metaKeyPressed(v)||c.undoManager.transact(()=>{(v.shiftKey?jc(c):id(c))&&v.preventDefault()})})},Fn=c=>{ys(c)&&wh(c),ph(c)},gd=(c,v)=>w=>{const H=B=>{w.setActive(Zl(B.parents,v)),w.setEnabled(!Zn(c,B.element)&&c.selection.isEditable())};return w.setEnabled(c.selection.isEditable()),td(c,H)},Er=c=>{const v=w=>()=>c.execCommand(w);c.hasPlugin("advlist")||(c.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:v("InsertOrderedList"),onSetup:gd(c,"OL")}),c.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:v("InsertUnorderedList"),onSetup:gd(c,"UL")}))},Qc=(c,v)=>w=>td(c,B=>w.setEnabled(Zl(B.parents,v)&&!Zn(c,B.element))),qc=c=>{const v={text:"List properties...",icon:"ordered-list",onAction:()=>c.execCommand("mceListProps"),onSetup:Qc(c,"OL")};c.ui.registry.addMenuItem("listprops",v),c.ui.registry.addContextMenu("lists",{update:w=>{const H=T(c,w);return ga(H)?["listprops"]:[]}})};var fd=()=>{M.add("lists",c=>(wr(c),Rf(c),c.hasPlugin("rtc",!0)?Hf(c):(Fn(c),Un(c)),Er(c),qc(c),Nb(c)))};fd()})();(function(){const M=Object.getPrototypeOf,h=(t,e,n)=>{var o;return n(t,e.prototype)?!0:((o=t.constructor)===null||o===void 0?void 0:o.name)===e.name},C=t=>{const e=typeof t;return t===null?"null":e==="object"&&Array.isArray(t)?"array":e==="object"&&h(t,String,(n,o)=>o.isPrototypeOf(n))?"string":e},f=t=>e=>C(e)===t,y=t=>e=>typeof e===t,D=t=>e=>t===e,d=(t,e)=>p(t)&&h(t,e,(n,o)=>M(n)===o),S=f("string"),p=f("object"),O=t=>d(t,Object),L=f("array"),F=D(null),V=y("boolean"),$=D(void 0),j=t=>t==null,W=t=>!j(t),Y=y("function"),rt=y("number"),K=(t,e)=>{if(L(t)){for(let n=0,o=t.length;n<o;++n)if(!e(t[n]))return!1;return!0}return!1},_=()=>{},et=t=>()=>t(),Tt=(t,e)=>(...n)=>t(e.apply(null,n)),vt=(t,e)=>n=>t(e(n)),R=t=>()=>t,Ot=t=>t,pt=(t,e)=>t===e;function Ft(t,...e){return(...n)=>{const o=e.concat(n);return t.apply(null,o)}}const Zt=t=>e=>!t(e),re=t=>()=>{throw new Error(t)},Ht=t=>t(),yt=R(!1),Ut=R(!0);class m{constructor(e,n){this.tag=e,this.value=n}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,n){return this.tag?n(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return W(e)?m.some(e):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const ue=Array.prototype.slice,We=Array.prototype.indexOf,Oe=Array.prototype.push,Hn=(t,e)=>We.call(t,e),ln=(t,e)=>{const n=Hn(t,e);return n===-1?m.none():m.some(n)},me=(t,e)=>Hn(t,e)>-1,Ge=(t,e)=>{for(let n=0,o=t.length;n<o;n++){const s=t[n];if(e(s,n))return!0}return!1},On=(t,e)=>{const n=[];for(let o=0;o<t;o++)n.push(e(o));return n},kn=(t,e)=>{const n=[];for(let o=0;o<t.length;o+=e){const s=ue.call(t,o,o+e);n.push(s)}return n},mt=(t,e)=>{const n=t.length,o=new Array(n);for(let s=0;s<n;s++){const r=t[s];o[s]=e(r,s)}return o},Mt=(t,e)=>{for(let n=0,o=t.length;n<o;n++){const s=t[n];e(s,n)}},Lo=(t,e)=>{for(let n=t.length-1;n>=0;n--){const o=t[n];e(o,n)}},qn=(t,e)=>{const n=[],o=[];for(let s=0,r=t.length;s<r;s++){const a=t[s];(e(a,s)?n:o).push(a)}return{pass:n,fail:o}},Ve=(t,e)=>{const n=[];for(let o=0,s=t.length;o<s;o++){const r=t[o];e(r,o)&&n.push(r)}return n},cn=(t,e,n)=>(Lo(t,(o,s)=>{n=e(n,o,s)}),n),vn=(t,e,n)=>(Mt(t,(o,s)=>{n=e(n,o,s)}),n),to=(t,e,n)=>{for(let o=0,s=t.length;o<s;o++){const r=t[o];if(e(r,o))return m.some(r);if(n(r,o))break}return m.none()},Me=(t,e)=>to(t,e,yt),Wn=(t,e)=>{for(let n=0,o=t.length;n<o;n++){const s=t[n];if(e(s,n))return m.some(n)}return m.none()},en=t=>{const e=[];for(let n=0,o=t.length;n<o;++n){if(!L(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Oe.apply(e,t[n])}return e},ae=(t,e)=>en(mt(t,e)),wo=(t,e)=>{for(let n=0,o=t.length;n<o;++n){const s=t[n];if(e(s,n)!==!0)return!1}return!0},Fo=t=>{const e=ue.call(t,0);return e.reverse(),e},Gn=(t,e)=>Ve(t,n=>!me(e,n)),Ho=(t,e)=>{const n={};for(let o=0,s=t.length;o<s;o++){const r=t[o];n[String(r)]=e(r,o)}return n},fs=t=>[t],Yo=(t,e)=>{const n=ue.call(t,0);return n.sort(e),n},Jo=(t,e)=>e>=0&&e<t.length?m.some(t[e]):m.none(),no=t=>Jo(t,0),ps=t=>Jo(t,t.length-1),rs=Y(Array.from)?Array.from:t=>ue.call(t),zn=(t,e)=>{for(let n=0;n<t.length;n++){const o=e(t[n],n);if(o.isSome())return o}return m.none()},tt=Object.keys,st=Object.hasOwnProperty,lt=(t,e)=>{const n=tt(t);for(let o=0,s=n.length;o<s;o++){const r=n[o],a=t[r];e(a,r)}},ft=(t,e)=>oe(t,(n,o)=>({k:o,v:e(n,o)})),oe=(t,e)=>{const n={};return lt(t,(o,s)=>{const r=e(o,s);n[r.k]=r.v}),n},Se=t=>(e,n)=>{t[n]=e},we=(t,e,n,o)=>{lt(t,(s,r)=>{(e(s,r)?n:o)(s,r)})},Qe=(t,e)=>{const n={},o={};return we(t,e,Se(n),Se(o)),{t:n,f:o}},In=(t,e)=>{const n={};return we(t,e,Se(n),_),n},qt=(t,e)=>{const n=[];return lt(t,(o,s)=>{n.push(e(o,s))}),n},Pt=(t,e)=>{const n=tt(t);for(let o=0,s=n.length;o<s;o++){const r=n[o],a=t[r];if(e(a,r,t))return m.some(a)}return m.none()},ve=t=>qt(t,Ot),wt=(t,e)=>jt(t,e)?m.from(t[e]):m.none(),jt=(t,e)=>st.call(t,e),bn=(t,e)=>jt(t,e)&&t[e]!==void 0&&t[e]!==null,eo=(t,e,n=pt)=>t.exists(o=>n(o,e)),ua=(t,e,n=pt)=>Br(t,e,n).getOr(t.isNone()&&e.isNone()),Qo=t=>{const e=[],n=o=>{e.push(o)};for(let o=0;o<t.length;o++)t[o].each(n);return e},Na=t=>{const e=[];for(let n=0;n<t.length;n++){const o=t[n];if(o.isSome())e.push(o.getOrDie());else return m.none()}return m.some(e)},Br=(t,e,n)=>t.isSome()&&e.isSome()?m.some(n(t.getOrDie(),e.getOrDie())):m.none(),$i=(t,e,n,o)=>t.isSome()&&e.isSome()&&n.isSome()?m.some(o(t.getOrDie(),e.getOrDie(),n.getOrDie())):m.none(),da=(t,e)=>t!=null?m.some(e(t)):m.none(),No=(t,e)=>t?m.some(e):m.none(),$a=(t,e)=>t+e,li=(t,e)=>t.substring(e),Il=(t,e,n)=>e===""||t.length>=e.length&&t.substr(n,n+e.length)===e,zi=(t,e)=>Zi(t,e)?li(t,e.length):t,vs=(t,e)=>Nr(t,e)?t:$a(t,e),Co=(t,e,n=0,o)=>{const s=t.indexOf(e,n);return s!==-1?$(o)?!0:s+e.length<=o:!1},Zi=(t,e)=>Il(t,e,0),Nr=(t,e)=>Il(t,e,t.length-e.length),ci=(t=>e=>e.replace(t,""))(/^\s+|\s+$/g),as=t=>t.length>0,ma=t=>!as(t),za=t=>{const e=parseFloat(t);return isNaN(e)?m.none():m.some(e)},$r=t=>t.style!==void 0&&Y(t.style.getPropertyValue),ui=(t,e)=>{const o=(e||document).createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,t),new Error(s)}return xr(o.childNodes[0])},Ll=(t,e)=>{const o=(e||document).createElement(t);return xr(o)},_i=(t,e)=>{const o=(e||document).createTextNode(t);return xr(o)},xr=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ct={fromHtml:ui,fromTag:Ll,fromText:_i,fromDom:xr,fromPoint:(t,e,n)=>m.from(t.dom.elementFromPoint(e,n)).map(xr)},di=typeof window<"u"?window:Function("return this;")(),Hl=(t,e)=>{let n=e??di;for(let o=0;o<t.length&&n!==void 0&&n!==null;++o)n=n[t[o]];return n},Pl=(t,e)=>{const n=t.split(".");return Hl(n,e)},Rl=(t,e)=>Pl(t,e),Nc=(t,e)=>{const n=Rl(t,e);if(n==null)throw new Error(t+" not available on this browser");return n},ha=Object.getPrototypeOf,Za=t=>Nc("HTMLElement",t),$c=t=>{const e=Pl("ownerDocument.defaultView",t);return p(t)&&(Za(e).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(ha(t).constructor.name))},ji=9,Ua=11,qs=1,Wi=3,oo=t=>t.dom.nodeName.toLowerCase(),Gi=t=>t.dom.nodeType,tr=t=>e=>Gi(e)===t,un=t=>so(t)&&$c(t.dom),so=tr(qs),Vn=tr(Wi),er=tr(ji),ga=tr(Ua),fa=t=>e=>so(e)&&oo(e)===t,Sr=(t,e)=>{const n=t.dom;if(n.nodeType!==qs)return!1;{const o=n;if(o.matches!==void 0)return o.matches(e);if(o.msMatchesSelector!==void 0)return o.msMatchesSelector(e);if(o.webkitMatchesSelector!==void 0)return o.webkitMatchesSelector(e);if(o.mozMatchesSelector!==void 0)return o.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")}},Ki=t=>t.nodeType!==qs&&t.nodeType!==ji&&t.nodeType!==Ua||t.childElementCount===0,nr=(t,e)=>{const n=e===void 0?document:e.dom;return Ki(n)?[]:mt(n.querySelectorAll(t),Ct.fromDom)},Xi=(t,e)=>{const n=e===void 0?document:e.dom;return Ki(n)?m.none():m.from(n.querySelector(t)).map(Ct.fromDom)},_e=(t,e)=>t.dom===e.dom,zr=(t,e)=>{const n=t.dom,o=e.dom;return n===o?!1:n.contains(o)},bs=t=>Ct.fromDom(t.dom.ownerDocument),mi=t=>er(t)?t:bs(t),ot=t=>Ct.fromDom(mi(t).dom.documentElement),Yt=t=>Ct.fromDom(mi(t).dom.defaultView),Ke=t=>m.from(t.dom.parentNode).map(Ct.fromDom),wr=t=>Ke(t),ys=t=>m.from(t.dom.parentElement).map(Ct.fromDom),zc=(t,e)=>{const n=Y(e)?e:yt;let o=t.dom;const s=[];for(;o.parentNode!==null&&o.parentNode!==void 0;){const r=o.parentNode,a=Ct.fromDom(r);if(s.push(a),n(a)===!0)break;o=r}return s},Vl=t=>m.from(t.dom.offsetParent).map(Ct.fromDom),Zc=t=>m.from(t.dom.nextSibling).map(Ct.fromDom),po=t=>mt(t.dom.childNodes,Ct.fromDom),Cr=(t,e)=>{const n=t.dom.childNodes;return m.from(n[e]).map(Ct.fromDom)},hi=t=>Cr(t,0),Bl=(t,e)=>({element:t,offset:e}),gi=(t,e)=>{const n=po(t);return n.length>0&&e<n.length?Bl(n[e],0):Bl(t,e)},Nl=t=>ga(t)&&W(t.dom.host),$o=t=>Ct.fromDom(t.dom.getRootNode()),pa=t=>Nl(t)?t:Ct.fromDom(mi(t).dom.body),Yi=t=>Ji(t).isSome(),Ji=t=>{const e=$o(t);return Nl(e)?m.some(e):m.none()},$l=t=>Ct.fromDom(t.dom.host),T=t=>{if(W(t.target)){const e=Ct.fromDom(t.target);if(so(e)&&P(e)&&t.composed&&t.composedPath){const n=t.composedPath();if(n)return no(n)}}return m.from(t.target)},P=t=>W(t.dom.shadowRoot),Z=t=>{const e=Vn(t)?t.dom.parentNode:t.dom;if(e==null||e.ownerDocument===null)return!1;const n=e.ownerDocument;return Ji(Ct.fromDom(e)).fold(()=>n.body.contains(e),vt(Z,$l))},it=()=>xt(Ct.fromDom(document)),xt=t=>{const e=t.dom.body;if(e==null)throw new Error("Body is not available yet");return Ct.fromDom(e)},Vt=(t,e,n)=>{if(S(n)||V(n)||rt(n))t.setAttribute(e,n+"");else throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple")},Et=(t,e,n)=>{Vt(t.dom,e,n)},Ln=(t,e)=>{const n=t.dom;lt(e,(o,s)=>{Vt(n,s,o)})},fe=(t,e)=>{const n=t.dom.getAttribute(e);return n===null?void 0:n},Be=(t,e)=>m.from(fe(t,e)),Bn=(t,e)=>{const n=t.dom;return n&&n.hasAttribute?n.hasAttribute(e):!1},nn=(t,e)=>{t.dom.removeAttribute(e)},qu=t=>vn(t.dom.attributes,(e,n)=>(e[n.name]=n.value,e),{}),zl=(t,e,n)=>{if(!S(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);$r(t)&&t.style.setProperty(e,n)},Um=(t,e)=>{$r(t)&&t.style.removeProperty(e)},ce=(t,e,n)=>{const o=t.dom;zl(o,e,n)},Tr=(t,e)=>{const n=t.dom;lt(e,(o,s)=>{zl(n,s,o)})},Zl=(t,e)=>{const n=t.dom;lt(e,(o,s)=>{o.fold(()=>{Um(n,s)},r=>{zl(n,s,r)})})},Po=(t,e)=>{const n=t.dom,s=window.getComputedStyle(n).getPropertyValue(e);return s===""&&!Z(t)?_m(n,e):s},_m=(t,e)=>$r(t)?t.style.getPropertyValue(e):"",Zn=(t,e)=>{const n=t.dom,o=_m(n,e);return m.from(o).filter(s=>s.length>0)},td=t=>{const e={},n=t.dom;if($r(n))for(let o=0;o<n.style.length;o++){const s=n.style.item(o);e[s]=n.style[s]}return e},ed=(t,e,n)=>{const o=Ct.fromTag(t);return ce(o,e,n),Zn(o,e).isSome()},De=(t,e)=>{const n=t.dom;Um(n,e),eo(Be(t,"style").map(ci),"")&&nn(t,"style")},Uc=t=>t.dom.offsetWidth,jm=(t,e)=>{const n=(i,l)=>{if(!rt(l)&&!l.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+l);const u=i.dom;$r(u)&&(u.style[t]=l+"px")},o=i=>{const l=e(i);if(l<=0||l===null){const u=Po(i,t);return parseFloat(u)||0}return l},s=o,r=(i,l)=>vn(l,(u,g)=>{const b=Po(i,g),x=b===void 0?0:parseInt(b,10);return isNaN(x)?u:u+x},0);return{set:n,get:o,getOuter:s,aggregate:r,max:(i,l,u)=>{const g=r(i,u);return l>g?l-g:0}}},nd=jm("height",t=>{const e=t.dom;return Z(t)?e.getBoundingClientRect().height:e.offsetHeight}),ro=t=>nd.get(t),_a=t=>nd.getOuter(t),rf=(t,e)=>{const n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],o=nd.max(t,e,n);ce(t,"max-height",o+"px")},Wm=(t,e)=>({left:t,top:e,translate:(o,s)=>Wm(t+o,e+s)}),hn=Wm,af=t=>{const e=t.getBoundingClientRect();return hn(e.left,e.top)},Ul=(t,e)=>t!==void 0?t:e!==void 0?e:0,or=t=>{const e=t.dom.ownerDocument,n=e.body,o=e.defaultView,s=e.documentElement;if(n===t.dom)return hn(n.offsetLeft,n.offsetTop);const r=Ul(o==null?void 0:o.pageYOffset,s.scrollTop),a=Ul(o==null?void 0:o.pageXOffset,s.scrollLeft),i=Ul(s.clientTop,n.clientTop),l=Ul(s.clientLeft,n.clientLeft);return Zr(t).translate(a-l,r-i)},Zr=t=>{const e=t.dom,o=e.ownerDocument.body;return o===e?hn(o.offsetLeft,o.offsetTop):Z(t)?af(e):hn(0,0)},_l=jm("width",t=>t.dom.offsetWidth),lf=(t,e)=>_l.set(t,e),is=t=>_l.get(t),Qi=t=>_l.getOuter(t),cf=(t,e)=>{const n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],o=_l.max(t,e,n);ce(t,"max-width",o+"px")},ja=t=>{let e=!1,n;return(...o)=>(e||(e=!0,n=t.apply(null,o)),n)},Gm=(t,e,n,o)=>{const s=t.isiOS()&&/ipad/i.test(n)===!0,r=t.isiOS()&&!s,a=t.isiOS()||t.isAndroid(),i=a||o("(pointer:coarse)"),l=s||!r&&a&&o("(min-device-width:768px)"),u=r||a&&!l,g=e.isSafari()&&t.isiOS()&&/safari/i.test(n)===!1,b=!u&&!l&&!g;return{isiPad:R(s),isiPhone:R(r),isTablet:R(l),isPhone:R(u),isTouch:R(i),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:R(g),isDesktop:R(b)}},uf=(t,e)=>{for(let n=0;n<t.length;n++){const o=t[n];if(o.test(e))return o}},df=(t,e)=>{const n=uf(t,e);if(!n)return{major:0,minor:0};const o=s=>Number(e.replace(n,"$"+s));return od(o(1),o(2))},mf=(t,e)=>{const n=String(e).toLowerCase();return t.length===0?Km():df(t,n)},Km=()=>od(0,0),od=(t,e)=>({major:t,minor:e}),jl={nu:od,detect:mf,unknown:Km},hf=(t,e)=>zn(e.brands,n=>{const o=n.brand.toLowerCase();return Me(t,s=>{var r;return o===((r=s.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(s=>({current:s.name,version:jl.nu(parseInt(n.version,10),0)}))}),Xm=(t,e)=>{const n=String(e).toLowerCase();return Me(t,o=>o.search(n))},Ym=(t,e)=>Xm(t,e).map(n=>{const o=jl.detect(n.versionRegexes,e);return{current:n.name,version:o}}),gf=(t,e)=>Xm(t,e).map(n=>{const o=jl.detect(n.versionRegexes,e);return{current:n.name,version:o}}),sd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,va=t=>e=>Co(e,t),ff=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Co(t,"edge/")&&Co(t,"chrome")&&Co(t,"safari")&&Co(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sd],search:t=>Co(t,"chrome")&&!Co(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Co(t,"msie")||Co(t,"trident")},{name:"Opera",versionRegexes:[sd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:va("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:va("firefox")},{name:"Safari",versionRegexes:[sd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Co(t,"safari")||Co(t,"mobile/"))&&Co(t,"applewebkit")}],pf=[{name:"Windows",search:va("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Co(t,"iphone")||Co(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:va("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:va("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:va("linux"),versionRegexes:[]},{name:"Solaris",search:va("sunos"),versionRegexes:[]},{name:"FreeBSD",search:va("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:va("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Jm={browsers:R(ff),oses:R(pf)},rd="Edge",Qm="Chromium",ad="IE",qm="Opera",Wl="Firefox",th="Safari",vf=()=>eh({current:void 0,version:jl.unknown()}),eh=t=>{const e=t.current,n=t.version,o=s=>()=>e===s;return{current:e,version:n,isEdge:o(rd),isChromium:o(Qm),isIE:o(ad),isOpera:o(qm),isFirefox:o(Wl),isSafari:o(th)}},nh={unknown:vf,nu:eh,edge:R(rd),chromium:R(Qm),ie:R(ad),opera:R(qm),firefox:R(Wl),safari:R(th)},oh="Windows",sh="iOS",rh="Android",ah="Linux",_c="macOS",id="Solaris",jc="FreeBSD",Gl="ChromeOS",bf=()=>Wc({current:void 0,version:jl.unknown()}),Wc=t=>{const e=t.current,n=t.version,o=s=>()=>e===s;return{current:e,version:n,isWindows:o(oh),isiOS:o(sh),isAndroid:o(rh),isMacOS:o(_c),isLinux:o(ah),isSolaris:o(id),isFreeBSD:o(jc),isChromeOS:o(Gl)}},ih={unknown:bf,nu:Wc,windows:R(oh),ios:R(sh),android:R(rh),linux:R(ah),macos:R(_c),solaris:R(id),freebsd:R(jc),chromeos:R(Gl)},yf={detect:(t,e,n)=>{const o=Jm.browsers(),s=Jm.oses(),r=e.bind(l=>hf(o,l)).orThunk(()=>Ym(o,t)).fold(nh.unknown,nh.nu),a=gf(s,t).fold(ih.unknown,ih.nu),i=Gm(a,r,t,n);return{browser:r,os:a,deviceType:i}}},qi=t=>window.matchMedia(t).matches;let tl=ja(()=>yf.detect(window.navigator.userAgent,m.from(window.navigator.userAgentData),qi));const ls=()=>tl(),el=(t,e,n,o,s,r,a)=>({target:t,x:e,y:n,stop:o,prevent:s,kill:r,raw:a}),lh=t=>{const e=Ct.fromDom(T(t).getOr(t.target)),n=()=>t.stopPropagation(),o=()=>t.preventDefault(),s=Tt(o,n);return el(e,t.clientX,t.clientY,n,o,s,t)},ch=(t,e)=>n=>{t(n)&&e(lh(n))},uh=(t,e,n,o,s)=>{const r=ch(n,o);return t.dom.addEventListener(e,r,s),{unbind:Ft(Gc,t,e,r,s)}},nl=(t,e,n,o)=>uh(t,e,n,o,!1),xf=(t,e,n,o)=>uh(t,e,n,o,!0),Gc=(t,e,n,o)=>{t.dom.removeEventListener(e,n,o)},fi=(t,e)=>{Ke(t).each(o=>{o.dom.insertBefore(e.dom,t.dom)})},Sf=(t,e)=>{Zc(t).fold(()=>{Ke(t).each(s=>{sr(s,e)})},o=>{fi(o,e)})},wf=(t,e)=>{hi(t).fold(()=>{sr(t,e)},o=>{t.dom.insertBefore(e.dom,o.dom)})},sr=(t,e)=>{t.dom.appendChild(e.dom)},ld=(t,e,n)=>{Cr(t,n).fold(()=>{sr(t,e)},o=>{fi(o,e)})},dh=(t,e)=>{Mt(e,n=>{sr(t,n)})},cd=t=>{t.dom.textContent="",Mt(po(t),e=>{ba(e)})},ba=t=>{const e=t.dom;e.parentNode!==null&&e.parentNode.removeChild(e)},xs=t=>{const e=t!==void 0?t.dom:document,n=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop;return hn(n,o)},Kl=(t,e,n)=>{const s=(n!==void 0?n.dom:document).defaultView;s&&s.scrollTo(t,e)},Cf=t=>{const e=t===void 0?window:t;return ls().browser.isFirefox()?m.none():m.from(e.visualViewport)},mh=(t,e,n,o)=>({x:t,y:e,width:n,height:o,right:t+n,bottom:e+o}),ud=t=>{const e=t===void 0?window:t,n=e.document,o=xs(Ct.fromDom(n));return Cf(e).fold(()=>{const s=e.document.documentElement,r=s.clientWidth,a=s.clientHeight;return mh(o.left,o.top,r,a)},s=>mh(Math.max(s.pageLeft,o.left),Math.max(s.pageTop,o.top),s.width,s.height))},Kc=()=>Ct.fromDom(document),hh=(t,e)=>t.view(e).fold(R([]),o=>{const s=t.owner(o),r=hh(t,s);return[o].concat(r)}),dd=(t,e)=>{const n=e.owner(t),o=hh(e,n);return m.some(o)};var gh=Object.freeze({__proto__:null,view:t=>{var e;return(t.dom===document?m.none():m.from((e=t.dom.defaultView)===null||e===void 0?void 0:e.frameElement)).map(Ct.fromDom)},owner:t=>bs(t)});const Xc=t=>{const e=Kc(),n=xs(e);return dd(t,gh).fold(Ft(or,t),s=>{const r=Zr(t),a=cn(s,(i,l)=>{const u=Zr(l);return{left:i.left+u.left,top:i.top+u.top}},{left:0,top:0});return hn(a.left+r.left+n.left,a.top+r.top+n.top)})},fh=(t,e,n)=>({point:t,width:e,height:n}),Ef=(t,e,n,o)=>({x:t,y:e,width:n,height:o}),vo=(t,e,n,o)=>({x:t,y:e,width:n,height:o,right:t+n,bottom:e+o}),ao=t=>{const e=or(t),n=Qi(t),o=_a(t);return vo(e.left,e.top,n,o)},ya=t=>{const e=Xc(t),n=Qi(t),o=_a(t);return vo(e.left,e.top,n,o)},md=(t,e)=>{const n=Math.max(t.x,e.x),o=Math.max(t.y,e.y),s=Math.min(t.right,e.right),r=Math.min(t.bottom,e.bottom),a=s-n,i=r-o;return vo(n,o,a,i)},Of=(t,e)=>vn(e,(n,o)=>md(n,o),t),zo=()=>ud(window),$t=t=>{let e=t;return{get:()=>e,set:s=>{e=s}}},hd=t=>{const e=$t(m.none()),n=()=>e.get().each(t);return{clear:()=>{n(),e.set(m.none())},isSet:()=>e.get().isSome(),get:()=>e.get(),set:i=>{n(),e.set(m.some(i))}}},Mf=()=>hd(t=>t.destroy()),ol=()=>hd(t=>t.unbind()),qe=()=>{const t=hd(_);return{...t,on:n=>t.get().each(n)}};var Af=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Yc=t=>{const e=r=>r(t),n=R(t),o=()=>s,s={tag:!0,inner:t,fold:(r,a)=>a(t),isValue:Ut,isError:yt,map:r=>Ce.value(r(t)),mapError:o,bind:e,exists:e,forall:e,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:r=>{r(t)},toOptional:()=>m.some(t)};return s},ph=t=>{const e=()=>n,n={tag:!1,inner:t,fold:(o,s)=>o(t),isValue:yt,isError:Ut,map:e,mapError:o=>Ce.error(o(t)),bind:e,exists:yt,forall:Ut,getOr:Ot,or:Ot,getOrThunk:Ht,orThunk:Ht,getOrDie:re(String(t)),each:_,toOptional:m.none};return n},Ce={value:Yc,error:ph,fromOption:(t,e)=>t.fold(()=>ph(e),Yc)};var Ds;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Ds||(Ds={}));const Xl=(t,e,n)=>t.stype===Ds.Error?e(t.serror):n(t.svalue),Df=t=>{const e=[],n=[];return Mt(t,o=>{Xl(o,s=>n.push(s),s=>e.push(s))}),{values:e,errors:n}},kf=(t,e)=>t.stype===Ds.Error?{stype:Ds.Error,serror:e(t.serror)}:t,If=(t,e)=>t.stype===Ds.Value?{stype:Ds.Value,svalue:e(t.svalue)}:t,Lf=(t,e)=>t.stype===Ds.Value?e(t.svalue):t,Ff=(t,e)=>t.stype===Ds.Error?e(t.serror):t,vh=t=>({stype:Ds.Value,svalue:t}),bh=t=>({stype:Ds.Error,serror:t}),Un={fromResult:t=>t.fold(bh,vh),toResult:t=>Xl(t,Ce.error,Ce.value),svalue:vh,partition:Df,serror:bh,bind:Lf,bindError:Ff,map:If,mapError:kf,fold:Xl},xh=(t,e,n,o)=>({tag:"field",key:t,newKey:e,presence:n,prop:o}),Sh=(t,e)=>({tag:"custom",newKey:t,instantiator:e}),Jc=(t,e,n)=>{switch(t.tag){case"field":return e(t.key,t.newKey,t.presence,t.prop);case"custom":return n(t.newKey,t.instantiator)}},Pf=(t,e)=>e,Rf=(t,e)=>O(t)&&O(e)?Fn(t,e):e,wh=t=>(...e)=>{if(e.length===0)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<e.length;o++){const s=e[o];for(const r in s)jt(s,r)&&(n[r]=t(n[r],s[r]))}return n},Fn=wh(Rf),gd=wh(Pf),Er=()=>({tag:"required",process:{}}),Qc=t=>({tag:"defaultedThunk",process:t}),qc=t=>Qc(R(t)),fd=()=>({tag:"option",process:{}}),c=t=>({tag:"mergeWithThunk",process:t}),v=t=>c(R(t)),w=(t,e)=>t.length>0?Un.svalue(Fn(e,gd.apply(void 0,t))):Un.svalue(e),H=t=>Tt(Un.serror,en)(t),Xt={consolidateObj:(t,e)=>{const n=Un.partition(t);return n.errors.length>0?H(n.errors):w(n.values,e)},consolidateArr:t=>{const e=Un.partition(t);return e.errors.length>0?H(e.errors):Un.svalue(e.values)}},he=t=>p(t)&&tt(t).length>100?" removed due to size":JSON.stringify(t,null,2),ge=t=>{const e=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:R("... (only showing first ten failures)")}]):t;return mt(e,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Wt=(t,e)=>Un.serror([{path:t,getErrorInfo:e}]),Mn=(t,e,n)=>Wt(t,()=>'Could not find valid *required* value for "'+e+'" in '+he(n)),To=(t,e)=>Wt(t,()=>'Choice schema did not contain choice key: "'+e+'"'),rr=(t,e,n)=>Wt(t,()=>'The chosen schema: "'+n+'" did not exist in branches: '+he(e)),pi=(t,e)=>Wt(t,()=>"There are unsupported fields: ["+e.join(", ")+"] specified"),P7=(t,e)=>Wt(t,R(e)),tu=t=>{const e=(o,s)=>Un.bindError(t(s),r=>P7(o,r)),n=R("val");return{extract:e,toString:n}},$b=tu(Un.svalue),R7=(t,e,n,o)=>wt(e,n).fold(()=>Mn(t,n,e),o),zb=(t,e,n,o)=>{const s=wt(t,e).getOrThunk(()=>n(t));return o(s)},V7=(t,e,n)=>n(wt(t,e)),B7=(t,e,n,o)=>{const s=wt(t,e).map(r=>r===!0?n(t):r);return o(s)},N7=(t,e,n,o,s)=>{const r=i=>s.extract(e.concat([o]),i),a=i=>i.fold(()=>Un.svalue(m.none()),l=>{const u=s.extract(e.concat([o]),l);return Un.map(u,m.some)});switch(t.tag){case"required":return R7(e,n,o,r);case"defaultedThunk":return zb(n,o,t.process,r);case"option":return V7(n,o,a);case"defaultedOptionThunk":return B7(n,o,t.process,a);case"mergeWithThunk":return zb(n,o,R({}),i=>{const l=Fn(t.process(n),i);return r(l)})}},$7=(t,e,n)=>{const o={},s=[];for(const r of n)Jc(r,(a,i,l,u)=>{const g=N7(l,t,e,a,u);Un.fold(g,b=>{s.push(...b)},b=>{o[i]=b})},(a,i)=>{o[a]=i(e)});return s.length>0?Un.serror(s):Un.svalue(o)},Zb=t=>({extract:(o,s)=>t().extract(o,s),toString:()=>t().toString()}),z7=t=>tt(In(t,W)),ar=t=>{const e=te(t),n=cn(t,(s,r)=>Jc(r,a=>Fn(s,{[a]:!0}),R(s)),{});return{extract:(s,r)=>{const a=V(r)?[]:z7(r),i=Ve(a,l=>!bn(n,l));return i.length===0?e.extract(s,r):pi(s,i)},toString:e.toString}},te=t=>({extract:(o,s)=>$7(o,s,t),toString:()=>`obj{
`+mt(t,s=>Jc(s,(r,a,i,l)=>r+" -> "+l.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),sl=t=>({extract:(o,s)=>{const r=mt(s,(a,i)=>t.extract(o.concat(["["+i+"]"]),a));return Xt.consolidateArr(r)},toString:()=>"array("+t.toString()+")"}),Ch=(t,e)=>{const n=e!==void 0?e:Ot;return{extract:(r,a)=>{const i=[];for(const l of t){const u=l.extract(r,a);if(u.stype===Ds.Value)return{stype:Ds.Value,svalue:n(u.svalue)};i.push(u)}return Xt.consolidateArr(i)},toString:()=>"oneOf("+mt(t,r=>r.toString()).join(", ")+")"}},Z7=(t,e)=>{const n=(r,a)=>sl(tu(t)).extract(r,a);return{extract:(r,a)=>{const i=tt(a),l=n(r,i);return Un.bind(l,u=>{const g=mt(u,b=>xh(b,b,Er(),e));return te(g).extract(r,a)})},toString:()=>"setOf("+e.toString()+")"}},U7=(t,e)=>{const n=ja(e);return{extract:(r,a)=>n().extract(r,a),toString:()=>n().toString()}},Th=Tt(sl,te),xa=R($b),Eh=(t,e)=>tu(n=>{const o=typeof n;return t(n)?Un.svalue(n):Un.serror(`Expected type: ${e} but got: ${o}`)}),Oh=Eh(rt,"number"),bo=Eh(S,"string"),Mh=Eh(V,"boolean"),Vf=Eh(Y,"function"),Ub=t=>{if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(e=>Ub(t[e]));default:return!1}},_7=tu(t=>Ub(t)?Un.svalue(t):Un.serror("Expected value to be acceptable for sending via postMessage")),j7=(t,e,n,o)=>wt(n,o).fold(()=>rr(t,n,o),r=>r.extract(t.concat(["branch: "+o]),e)),eu=(t,e)=>({extract:(s,r)=>wt(r,t).fold(()=>To(s,t),i=>j7(s,r,e,i)),toString:()=>"chooseOn("+t+"). Possible values: "+tt(e)}),W7=()=>sl($b),pd=t=>tu(e=>t(e).fold(Un.serror,Un.svalue)),_b=(t,e)=>Z7(n=>Un.fromResult(t(n)),e),G7=(t,e,n)=>{const o=e.extract([t],n);return Un.mapError(o,s=>({input:n,errors:s}))},Nn=(t,e,n)=>Un.toResult(G7(t,e,n)),Sa=t=>t.fold(e=>{throw new Error(nu(e))},Ot),ks=(t,e,n)=>Sa(Nn(t,e,n)),nu=t=>`Errors: 
`+ge(t.errors).join(`
`)+`

Input object: `+he(t.input),Is=(t,e)=>eu(t,ft(e,te)),jb=(t,e)=>U7(t,e),Zo=xh,Ss=Sh,Bf=t=>pd(e=>me(t,e)?Ce.value(e):Ce.error(`Unsupported value: "${e}", choose one of "${t.join(", ")}".`)),ct=t=>Zo(t,t,Er(),xa()),ir=(t,e)=>Zo(t,t,Er(),e),K7=t=>ir(t,Oh),Eo=t=>ir(t,bo),Ur=(t,e)=>Zo(t,t,Er(),Bf(e)),_r=t=>ir(t,Vf),X7=(t,e)=>Zo(t,t,fd(),tu(n=>Un.serror("The field: "+t+" is forbidden. "+e))),rl=(t,e)=>Zo(t,t,Er(),te(e)),Wb=(t,e)=>Zo(t,t,Er(),Th(e)),Us=(t,e)=>Zo(t,t,Er(),sl(e)),$e=t=>Zo(t,t,fd(),xa()),Wa=(t,e)=>Zo(t,t,fd(),e),vd=t=>Wa(t,Oh),Kn=t=>Wa(t,bo),Gb=(t,e)=>Wa(t,Bf(e)),al=t=>Wa(t,Vf),Kb=(t,e)=>Wa(t,sl(e)),lr=(t,e)=>Wa(t,te(e)),Y7=(t,e)=>Wa(t,ar(e)),X=(t,e)=>Zo(t,t,qc(e),xa()),Or=(t,e,n)=>Zo(t,t,qc(e),n),Nf=(t,e)=>Or(t,e,Oh),Pn=(t,e)=>Or(t,e,bo),Ga=(t,e,n)=>Or(t,e,Bf(n)),qo=(t,e)=>Or(t,e,Mh),gn=(t,e)=>Or(t,e,Vf),J7=(t,e)=>Or(t,e,_7),Yl=(t,e,n)=>Or(t,e,sl(n)),$f=(t,e,n)=>Or(t,e,te(n)),jr={generate:t=>{if(!L(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const e=[],n={};return Mt(t,(o,s)=>{const r=tt(o);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],i=o[a];if(n[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!L(i))throw new Error("case arguments must be an array");e.push(a),n[a]=(...l)=>{const u=l.length;if(u!==i.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+i.length+" ("+i+"), got "+u);return{fold:(...b)=>{if(b.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+b.length);return b[s].apply(null,l)},match:b=>{const x=tt(b);if(e.length!==x.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+`
Actual: `+x.join(","));if(!wo(e,A=>me(x,A)))throw new Error("Not all branches were specified when using match. Specified: "+x.join(", ")+`
Required: `+e.join(", "));return b[a].apply(null,l)},log:b=>{console.log(b,{constructors:e,constructor:a,params:l})}}}}),n}};jr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Q7=t=>{const e=[],n=[];return Mt(t,o=>{o.fold(s=>{e.push(s)},s=>{n.push(s)})}),{errors:e,values:n}},q7=(t,e)=>{const n={};return lt(t,(o,s)=>{me(e,s)||(n[s]=o)}),n},tE=(t,e)=>({[t]:e}),eE=t=>{const e={};return Mt(t,n=>{e[n.key]=n.value}),e},nE=(t,e)=>q7(t,e),Jl=(t,e)=>tE(t,e),ou=t=>eE(t),oE=(t,e)=>t.length===0?Ce.value(e):Ce.value(Fn(e,gd.apply(void 0,t))),sE=t=>Ce.error(en(t)),rE=(t,e)=>{const n=Q7(t);return n.errors.length>0?sE(n.errors):oE(n.values,e)},Xb=t=>Y(t)?t:yt,Yb=(t,e,n)=>{let o=t.dom;const s=Xb(n);for(;o.parentNode;){o=o.parentNode;const r=Ct.fromDom(o),a=e(r);if(a.isSome())return a;if(s(r))break}return m.none()},Ah=(t,e,n)=>{const o=e(t),s=Xb(n);return o.orThunk(()=>s(t)?m.none():Yb(t,e,s))},Jb=(t,e)=>_e(t.element,e.event.target),aE={can:Ut,abort:yt,run:_},su=t=>{if(!bn(t,"can")&&!bn(t,"abort")&&!bn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return{...aE,...t}},iE=(t,e)=>(...n)=>vn(t,(o,s)=>o&&e(s).apply(void 0,n),!0),lE=(t,e)=>(...n)=>vn(t,(o,s)=>o||e(s).apply(void 0,n),!1),cE=t=>Y(t)?{can:Ut,abort:yt,run:t}:t,uE=t=>{const e=iE(t,s=>s.can),n=lE(t,s=>s.abort);return{can:e,abort:n,run:(...s)=>{Mt(t,r=>{r.run.apply(void 0,s)})}}},Uo=R,vi=Uo("touchstart"),bd=Uo("touchmove"),Ql=Uo("touchend"),Qb=Uo("touchcancel"),cr=Uo("mousedown"),Dh=Uo("mousemove"),kh=Uo("mouseout"),zf=Uo("mouseup"),Ka=Uo("mouseover"),wa=Uo("focusin"),qb=Uo("focusout"),Ca=Uo("keydown"),dE=Uo("keyup"),bi=Uo("input"),ru=Uo("change"),ql=Uo("click"),mE=Uo("transitioncancel"),yd=Uo("transitionend"),hE=Uo("transitionstart"),gE=Uo("selectstart"),Xn=t=>R("alloy."+t),fE={tap:Xn("tap")},il=Xn("focus"),xd=Xn("blur.post"),Zf=Xn("paste.post"),tc=Xn("receive"),ur=Xn("execute"),Sd=Xn("focus.item"),wd=fE.tap,pE=Xn("longpress"),Ih=Xn("sandbox.close"),Uf=Xn("typeahead.cancel"),Lh=Xn("system.init"),vE=Xn("system.touchmove"),bE=Xn("system.touchend"),_f=Xn("system.scroll"),Cd=Xn("system.resize"),Ta=Xn("system.attached"),Xa=Xn("system.detached"),ec=Xn("system.dismissRequested"),ty=Xn("system.repositionRequested"),Fh=Xn("focusmanager.shifted"),jf=Xn("slotcontainer.visibility"),ey=Xn("system.external.element.scroll"),ny=Xn("change.tab"),oy=Xn("dismiss.tab"),Wf=Xn("highlight"),Gf=Xn("dehighlight"),Ae=(t,e)=>{Xf(t,t.element,e,{})},_t=(t,e,n)=>{Xf(t,t.element,e,n)},nc=t=>{Ae(t,ur())},Kf=(t,e,n)=>{Xf(t,e,n,{})},Xf=(t,e,n,o)=>{const s={target:e,...o};t.getSystem().triggerEvent(n,e,s)},yE=(t,e,n,o)=>{const s={...o,target:e};t.getSystem().triggerEvent(n,e,s)},sy=(t,e,n,o)=>{t.getSystem().triggerEvent(n,e,o.event)},yn=t=>ou(t),ry=(t,e)=>({key:t,value:su({abort:e})}),xE=(t,e)=>({key:t,value:su({can:e})}),SE=t=>({key:t,value:su({run:(e,n)=>{n.event.prevent()}})}),at=(t,e)=>({key:t,value:su({run:e})}),Yf=(t,e,n)=>({key:t,value:su({run:(o,s)=>{e.apply(void 0,[o,s].concat(n))}})}),wE=t=>e=>at(t,e),Hh=t=>e=>({key:t,value:su({run:(n,o)=>{Jb(n,o)&&e(n,o)}})}),CE=(t,e)=>at(t,(n,o)=>{n.getSystem().getByUid(e).each(s=>{sy(s,s.element,t,o)})}),au=(t,e,n)=>{const o=e.partUids[n];return CE(t,o)},Jf=(t,e)=>at(t,(n,o)=>{const s=o.event,r=n.getSystem().getByDom(s.target).getOrThunk(()=>Ah(s.target,i=>n.getSystem().getByDom(i).toOptional(),yt).getOr(n));e(n,r,o)}),oc=t=>at(t,(e,n)=>{n.cut()}),TE=t=>at(t,(e,n)=>{n.stop()}),iu=(t,e)=>Hh(t)(e),xn=Hh(Ta()),Ya=Hh(Xa()),ay=Hh(Lh()),yi=wE(ur()),EE=(t,e,n)=>{const o=n.toString(),s=o.indexOf(")")+1,r=o.indexOf("("),a=o.substring(r+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:e,parameters:Qf(a.slice(0,1).concat(a.slice(3)))}),t},Qf=t=>mt(t,e=>Nr(e,"/*")?e.substring(0,e.length-2):e),qf=(t,e)=>{const n=t.toString(),o=n.indexOf(")")+1,s=n.indexOf("("),r=n.substring(s+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:e,parameters:Qf(r)}),t},OE=(t,e)=>{const n=e.toString(),o=n.indexOf(")")+1,s=n.indexOf("("),r=n.substring(s+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Qf(r.slice(1))}),t},Wr=t=>({classes:$(t.classes)?[]:t.classes,attributes:$(t.attributes)?{}:t.attributes,styles:$(t.styles)?{}:t.styles}),ME=(t,e)=>({...t,attributes:{...t.attributes,...e.attributes},styles:{...t.styles,...e.styles},classes:t.classes.concat(e.classes)}),AE=(t,e,n)=>yi(o=>{n(o,t,e)}),tp=(t,e,n)=>ay((o,s)=>{n(o,t,e)}),DE=(t,e,n,o,s,r)=>{const a=ar(t),i=lr(e,[Y7("config",t)]);return iy(a,i,e,n,o,s,r)},kE=(t,e,n,o,s,r)=>{const a=t,i=lr(e,[Wa("config",t)]);return iy(a,i,e,n,o,s,r)},IE=(t,e,n)=>EE((s,...r)=>{const a=[s].concat(r);return s.config({name:R(t)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)},i=>{const l=Array.prototype.slice.call(a,1);return e.apply(void 0,[s,i.config,i.state].concat(l))})},n,e),LE=t=>({key:t,value:void 0}),iy=(t,e,n,o,s,r,a)=>{const i=b=>bn(b,n)?b[n]():m.none(),l=ft(s,(b,x)=>IE(n,b,x)),g={...ft(r,(b,x)=>qf(b,x)),...l,revoke:Ft(LE,n),config:b=>{const x=ks(n+"-config",t,b);return{key:n,value:{config:x,me:g,configAsRaw:ja(()=>ks(n+"-config",t,b)),initialConfig:b,state:a}}},schema:R(e),exhibit:(b,x)=>Br(i(b),wt(o,"exhibit"),(E,A)=>A(x,E.config,E.state)).getOrThunk(()=>Wr({})),name:R(n),handlers:b=>i(b).map(x=>wt(o,"events").getOr(()=>({}))(x.config,x.state)).getOr({})};return g},Ea={init:()=>dr({readState:R("No State required")})},dr=t=>t,ht=t=>ou(t),FE=ar([ct("fields"),ct("name"),X("active",{}),X("apis",{}),X("state",Ea),X("extra",{})]),Ro=t=>{const e=ks("Creating behaviour: "+t.name,FE,t);return DE(e.fields,e.name,e.active,e.apis,e.extra,e.state)},HE=ar([ct("branchKey"),ct("branches"),ct("name"),X("active",{}),X("apis",{}),X("state",Ea),X("extra",{})]),ly=t=>{const e=ks("Creating behaviour: "+t.name,HE,t);return kE(Is(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},PE=R(void 0),ep=(t,e)=>{const n=fe(t,e);return n===void 0||n===""?[]:n.split(" ")},RE=(t,e,n)=>{const s=ep(t,e).concat([n]);return Et(t,e,s.join(" ")),!0},VE=(t,e,n)=>{const o=Ve(ep(t,e),s=>s!==n);return o.length>0?Et(t,e,o.join(" ")):nn(t,e),!1},lu=t=>t.dom.classList!==void 0,np=t=>ep(t,"class"),cy=(t,e)=>RE(t,"class",e),uy=(t,e)=>VE(t,"class",e),BE=(t,e)=>me(np(t),e)?uy(t,e):cy(t,e),Yn=(t,e)=>{lu(t)?t.dom.classList.add(e):cy(t,e)},dy=t=>{(lu(t)?t.dom.classList:np(t)).length===0&&nn(t,"class")},$n=(t,e)=>{lu(t)?t.dom.classList.remove(e):uy(t,e),dy(t)},NE=(t,e)=>{const n=lu(t)?t.dom.classList.toggle(e):BE(t,e);return dy(t),n},Ls=(t,e)=>lu(t)&&t.dom.classList.contains(e),sc=(t,e)=>{Mt(e,n=>{Yn(t,n)})},Gr=(t,e)=>{Mt(e,n=>{$n(t,n)})},$E=(t,e)=>{Mt(e,n=>{NE(t,n)})},zE=(t,e)=>wo(e,n=>Ls(t,n)),ZE=t=>{const e=t.dom.classList,n=new Array(e.length);for(let o=0;o<e.length;o++){const s=e.item(o);s!==null&&(n[o]=s)}return n},my=t=>lu(t)?ZE(t):np(t),Kr=(t,e,n,o,s)=>{const r=a=>a+"px";return{position:t,left:e.map(r),top:n.map(r),right:o.map(r),bottom:s.map(r)}},UE=t=>({...t,position:m.some(t.position)}),hy=(t,e)=>{Zl(t,UE(e))},op=t=>(eo(Zn(t,"position"),"fixed")?m.none():Vl(t)).orThunk(()=>{const o=Ct.fromTag("span");return Ke(t).bind(s=>{sr(s,o);const r=Vl(o);return ba(o),r})}),gy=t=>op(t).map(or).getOrThunk(()=>hn(0,0)),_E=(t,e)=>{const n=t.element;Yn(n,e.transitionClass),$n(n,e.fadeOutClass),Yn(n,e.fadeInClass),e.onShow(t)},jE=(t,e)=>{const n=t.element;Yn(n,e.transitionClass),$n(n,e.fadeInClass),Yn(n,e.fadeOutClass),e.onHide(t)},WE=(t,e)=>t.y<e.bottom&&t.bottom>e.y,fy=(t,e)=>t.y>=e.y,py=(t,e)=>t.bottom<=e.bottom,sp=(t,e,n)=>({location:"top",leftX:e,topY:n.bounds.y-t.y}),rp=(t,e,n)=>({location:"bottom",leftX:e,bottomY:t.bottom-n.bounds.bottom}),ap=t=>t.box.x-t.win.x,GE=(t,e,n)=>{const o=e.win,s=e.box,r=ap(e);return zn(t,a=>{switch(a){case"bottom":return py(s,n.bounds)?m.none():m.some(rp(o,r,n));case"top":return fy(s,n.bounds)?m.none():m.some(sp(o,r,n));default:return m.none()}}).getOr({location:"no-dock"})},KE=(t,e,n)=>wo(t,o=>{switch(o){case"bottom":return py(e,n.bounds);case"top":return fy(e,n.bounds)}}),XE=(t,e)=>{const n=e.optScrollEnv.fold(R(t.bounds.y),o=>o.scrollElmTop+(t.bounds.y-o.currentScrollTop));return hn(t.bounds.x,n)},YE=(t,e)=>{const n=e.optScrollEnv.fold(R(t.y),o=>t.y+o.currentScrollTop-o.scrollElmTop);return hn(t.x,n)},ip=(t,e,n)=>n.getInitialPos().map(o=>{const s=XE(o,e);return{box:vo(s.left,s.top,is(t),ro(t)),location:o.location}}),vy=(t,e,n,o,s)=>{const r=YE(e,n),a=vo(r.left,r.top,e.width,e.height);o.setInitialPos({style:td(t),position:Po(t,"position")||"static",bounds:a,location:s.location})},JE=(t,e,n,o,s)=>{o.getInitialPos().fold(()=>vy(t,e,n,o,s),()=>_)},by=(t,e,n)=>n.getInitialPos().bind(o=>{var s;switch(n.clearInitialPos(),o.position){case"static":return m.some({morph:"static"});case"absolute":const r=op(t).getOr(it()),a=ao(r),i=(s=r.dom.scrollTop)!==null&&s!==void 0?s:0;return m.some({morph:"absolute",positionCss:Kr("absolute",wt(o.style,"left").map(l=>e.x-a.x),wt(o.style,"top").map(l=>e.y-a.y+i),wt(o.style,"right").map(l=>a.right-e.right),wt(o.style,"bottom").map(l=>a.bottom-e.bottom))});default:return m.none()}}),QE=(t,e,n)=>ip(t,e,n).filter(({box:o})=>KE(n.getModes(),o,e)).bind(({box:o})=>by(t,o,n)),lp=t=>{switch(t.location){case"top":return m.some({morph:"fixed",positionCss:Kr("fixed",m.some(t.leftX),m.some(t.topY),m.none(),m.none())});case"bottom":return m.some({morph:"fixed",positionCss:Kr("fixed",m.some(t.leftX),m.none(),m.none(),m.some(t.bottomY))});default:return m.none()}},qE=(t,e,n)=>{const o=ao(t),s=zo(),r=GE(n.getModes(),{win:s,box:o},e);return r.location==="top"||r.location==="bottom"?(vy(t,o,e,n,r),lp(r)):m.none()},tO=(t,e,n)=>QE(t,e,n).orThunk(()=>e.optScrollEnv.bind(o=>ip(t,e,n)).bind(({box:o,location:s})=>{const r=zo(),a=ap({win:r,box:o}),i=s==="top"?sp(r,a,e):rp(r,a,e);return lp(i)})),eO=(t,e,n)=>{const o=t.element;return eo(Zn(o,"position"),"fixed")?tO(o,e,n):qE(o,e,n)},nO=(t,e,n)=>{const o=t.element;return ip(o,e,n).bind(({box:s})=>by(o,s,n))},oO=(t,e,n,o)=>{const s=ao(t),r=zo(),a=ap({win:r,box:s}),i=o(r,a,e);return i.location==="bottom"||i.location==="top"?(JE(t,s,e,n,i),lp(i)):m.none()},yy=(t,e,n)=>{n.setDocked(!1),Mt(["left","right","top","bottom","position"],o=>De(t.element,o)),e.onUndocked(t)},cp=(t,e,n,o)=>{const s=o.position==="fixed";n.setDocked(s),hy(t.element,o),(s?e.onDocked:e.onUndocked)(t)},xy=(t,e,n,o,s=!1)=>{e.contextual.each(r=>{r.lazyContext(t).each(a=>{const i=WE(a,o.bounds);i!==n.isVisible()&&(n.setVisible(i),s&&!i?(sc(t.element,[r.fadeOutClass]),r.onHide(t)):(i?_E:jE)(t,r))})})},Sy=(t,e,n,o,s)=>{xy(t,e,n,o,!0),cp(t,e,n,s.positionCss)},sO=(t,e,n,o,s)=>{switch(s.morph){case"static":return yy(t,e,n);case"absolute":return cp(t,e,n,s.positionCss);case"fixed":return Sy(t,e,n,o,s)}},rO=(t,e,n)=>{const o=e.lazyViewport(t);xy(t,e,n,o),eO(t,o,n).each(s=>{sO(t,e,n,o,s)})},aO=(t,e,n)=>{const o=t.element;n.setDocked(!1);const s=e.lazyViewport(t);nO(t,s,n).each(r=>{switch(r.morph){case"static":{yy(t,e,n);break}case"absolute":{cp(t,e,n,r.positionCss);break}}}),n.setVisible(!0),e.contextual.each(r=>{Gr(o,[r.fadeInClass,r.fadeOutClass,r.transitionClass]),r.onShow(t)}),Ph(t,e,n)},Ph=(t,e,n)=>{t.getSystem().isConnected()&&rO(t,e,n)},wy=(t,e,n)=>{n.isDocked()&&aO(t,e,n)},Cy=t=>(e,n,o)=>{const s=n.lazyViewport(e);oO(e.element,s,o,t).each(a=>{Sy(e,n,o,s,a)})},iO=Cy(sp),lO=Cy(rp);var cO=Object.freeze({__proto__:null,refresh:Ph,reset:wy,isDocked:(t,e,n)=>n.isDocked(),getModes:(t,e,n)=>n.getModes(),setModes:(t,e,n,o)=>n.setModes(o),forceDockToTop:iO,forceDockToBottom:lO}),uO=Object.freeze({__proto__:null,events:(t,e)=>yn([iu(yd(),(n,o)=>{t.contextual.each(s=>{Ls(n.element,s.transitionClass)&&(Gr(n.element,[s.transitionClass,s.fadeInClass]),(e.isVisible()?s.onShown:s.onHidden)(n)),o.stop()})}),at(_f(),(n,o)=>{Ph(n,t,e)}),at(ey(),(n,o)=>{Ph(n,t,e)}),at(Cd(),(n,o)=>{wy(n,t,e)})])});const dO=(t,e)=>{const o=(e||document).createElement("div");return o.innerHTML=t,po(Ct.fromDom(o))},up=t=>t.dom.innerHTML,cu=(t,e)=>{const o=bs(t).dom,s=Ct.fromDom(o.createDocumentFragment()),r=dO(e,o);dh(s,r),cd(t),sr(t,s)},mO=t=>{const e=Ct.fromTag("div"),n=Ct.fromDom(t.dom.cloneNode(!0));return sr(e,n),up(e)},Ty=(t,e)=>Ct.fromDom(t.dom.cloneNode(e)),hO=t=>Ty(t,!1),gO=t=>Ty(t,!0),fO=t=>{if(Nl(t))return"#shadow-root";{const e=hO(t);return mO(e)}},ll=t=>fO(t),Ey="unknown";var uu;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(uu||(uu={}));const dp=$t({}),pO=(t,e)=>{const n=[],o=new Date().getTime();return{logEventCut:(s,r,a)=>{n.push({outcome:"cut",target:r,purpose:a})},logEventStopped:(s,r,a)=>{n.push({outcome:"stopped",target:r,purpose:a})},logNoParent:(s,r,a)=>{n.push({outcome:"no-parent",target:r,purpose:a})},logEventNoHandlers:(s,r)=>{n.push({outcome:"no-handlers-left",target:r})},logEventResponse:(s,r,a)=>{n.push({outcome:"response",purpose:a,target:r})},write:()=>{const s=new Date().getTime();me(["mousemove","mouseover","mouseout",Lh()],t)||console.log(t,{event:t,time:s-o,target:e.dom,sequence:mt(n,r=>me(["cut","stopped","response"],r.outcome)?"{"+r.purpose+"} "+r.outcome+" at ("+ll(r.target)+")":r.outcome)})}}},vO=(t,e,n)=>{switch(wt(dp.get(),t).orThunk(()=>{const s=tt(dp.get());return zn(s,r=>t.indexOf(r)>-1?m.some(dp.get()[r]):m.none())}).getOr(uu.NORMAL)){case uu.NORMAL:return n(SO());case uu.LOGGING:{const s=pO(t,e),r=n(s);return s.write(),r}case uu.STOP:return!0}},bO=["alloy/data/Fields","alloy/debugging/Debugging"],yO=()=>{const t=new Error;if(t.stack!==void 0){const e=t.stack.split(`
`);return Me(e,n=>n.indexOf("alloy")>0&&!Ge(bO,o=>n.indexOf(o)>-1)).getOr(Ey)}else return Ey},xO={logEventCut:_,logEventStopped:_,logNoParent:_,logEventNoHandlers:_,logEventResponse:_,write:_},mp=(t,e,n)=>vO(t,e,n),SO=R(xO),Oy=R([ct("menu"),ct("selectedMenu")]),hp=R([ct("item"),ct("selectedItem")]);R(te(hp().concat(Oy())));const wO=R(te(hp())),CO=rl("initSize",[ct("numColumns"),ct("numRows")]),TO=()=>ir("markers",wO()),Rh=()=>rl("markers",[ct("backgroundMenu")].concat(Oy()).concat(hp())),rc=t=>rl("markers",mt(t,ct)),Vh=(t,e,n)=>(yO(),Zo(e,e,n,pd(o=>Ce.value((...s)=>o.apply(void 0,s))))),He=t=>Vh("onHandler",t,qc(_)),_s=t=>Vh("onKeyboardHandler",t,qc(m.none)),ac=t=>Vh("onHandler",t,Er()),gp=t=>Vh("onKeyboardHandler",t,Er()),wn=(t,e)=>Ss(t,R(e)),My=t=>Ss(t,Ot),Ay=R(CO);var EO=[lr("contextual",[Eo("fadeInClass"),Eo("fadeOutClass"),Eo("transitionClass"),_r("lazyContext"),He("onShow"),He("onShown"),He("onHide"),He("onHidden")]),gn("lazyViewport",()=>({bounds:zo(),optScrollEnv:m.none()})),Yl("modes",["top","bottom"],bo),He("onDocked"),He("onUndocked")],OO=Object.freeze({__proto__:null,init:t=>{const e=$t(!1),n=$t(!0),o=qe(),s=$t(t.modes),r=()=>`docked:  ${e.get()}, visible: ${n.get()}, modes: ${s.get().join(",")}`;return dr({isDocked:e.get,setDocked:e.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:s.get,setModes:s.set,readState:r})}});const An=Ro({fields:EO,name:"docking",active:uO,apis:cO,state:OO}),MO=(t,e,n)=>_e(e,t.element)&&!_e(e,n),AO=yn([xE(il(),(t,e)=>{const n=e.event,o=n.originator,s=n.target;return MO(t,o,s)?(console.warn(il()+` did not get interpreted by the desired target. 
Originator: `+ll(o)+`
Target: `+ll(s)+`
Check the `+il()+" event handlers"),!1):!0})]);var DO=Object.freeze({__proto__:null,events:AO});const du=(t,e,n,o)=>{const s=t+e;return s>o?n:s<n?o:s},Xr=(t,e,n)=>Math.min(Math.max(t,e),n),kO=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Dy=0;const Lt=t=>{const n=new Date().getTime(),o=Math.floor(kO()*1e9);return Dy++,t+"_"+o+Dy+String(n)},IO=R("alloy-id-"),LO=R("data-alloy-id"),FO=IO(),ky=LO(),HO=(t,e)=>{const n=Lt(FO+t);return fp(e,n),n},fp=(t,e)=>{Object.defineProperty(t.dom,ky,{value:e,writable:!0})},Td=t=>{const e=so(t)?t.dom[ky]:null;return m.from(e)},mu=t=>Lt(t),PO=Ot,Bh=t=>{const e=s=>`The component must be in a context to execute: ${s}`+(t?`
`+ll(t().element)+" is not in context.":""),n=s=>()=>{throw new Error(e(s))},o=s=>()=>{console.warn(e(s))};return{debugInfo:R("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:yt}},RO=Bh(),Nh=Lt("alloy-premade"),Iy=t=>(Object.defineProperty(t.element.dom,Nh,{value:t.uid,writable:!0}),Jl(Nh,t)),VO=t=>jt(t.dom,Nh),Ly=t=>wt(t,Nh),$h=t=>OE((e,...n)=>t(e.getApis(),e,...n),t),BO=(t,e)=>{const n=mt(e,s=>lr(s.name(),[ct("config"),X("state",Ea)])),o=Nn("component.behaviours",te(n),t.behaviours).fold(s=>{throw new Error(nu(s)+`
Complete spec:
`+JSON.stringify(t,null,2))},Ot);return{list:e,data:ft(o,s=>{const r=s.map(a=>({config:a.config,state:a.state.init(a.config)}));return R(r)})}},NO=t=>t.list,$O=t=>t.data,Fy=(t,e)=>{const n={};return lt(t,(o,s)=>{lt(o,(r,a)=>{const i=wt(n,a).getOr([]);n[a]=i.concat([e(s,r)])})}),n},zO=(t,e,n,o)=>{const s={...e};Mt(n,g=>{s[g.name()]=g.exhibit(t,o)});const r=Fy(s,(g,b)=>({name:g,modification:b})),a=g=>cn(g,(b,x)=>({...x.modification,...b}),{}),i=cn(r.classes,(g,b)=>b.modification.concat(g),[]),l=a(r.attributes),u=a(r.styles);return Wr({classes:i,attributes:l,styles:u})},ZO=(t,e,n,o)=>{try{const s=Yo(n,(r,a)=>{const i=r[e],l=a[e],u=o.indexOf(i),g=o.indexOf(l);if(u===-1)throw new Error("The ordering for "+t+" does not have an entry for "+i+`.
Order specified: `+JSON.stringify(o,null,2));if(g===-1)throw new Error("The ordering for "+t+" does not have an entry for "+l+`.
Order specified: `+JSON.stringify(o,null,2));return u<g?-1:g<u?1:0});return Ce.value(s)}catch(s){return Ce.error([s])}},UO=(t,e)=>({handler:t,purpose:e}),_O=(t,e)=>({cHandler:t,purpose:e}),jO=(t,e)=>_O(Ft.apply(void 0,[t.handler].concat(e)),t.purpose),pp=t=>t.cHandler,WO=(t,e)=>({name:t,handler:e}),GO=(t,e)=>{const n={};return Mt(t,o=>{n[o.name()]=o.handlers(e)}),n},KO=(t,e,n)=>{const o={...n,...GO(e,t)};return Fy(o,WO)},XO=(t,e,n,o)=>{const s=KO(t,n,o);return qO(s,e)},YO=t=>{const e=cE(t);return(n,o,...s)=>{const r=[n,o].concat(s);e.abort.apply(void 0,r)?o.stop():e.can.apply(void 0,r)&&e.run.apply(void 0,r)}},JO=(t,e)=>Ce.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(mt(e,n=>n.name),null,2)]),QO=(t,e,n)=>{const o=e[n];return o?ZO("Event: "+n,"name",t,o).map(s=>{const r=mt(s,a=>a.handler);return uE(r)}):JO(n,t)},qO=(t,e)=>{const n=qt(t,(o,s)=>(o.length===1?Ce.value(o[0].handler):QO(o,e,s)).map(a=>{const i=YO(a),l=o.length>1?Ve(e[s],u=>Ge(o,g=>g.name===u)).join(" > "):o[0].name;return Jl(s,UO(i,l))}));return rE(n,{})},ic="alloy.base.behaviour",tM=te([Zo("dom","dom",Er(),te([ct("tag"),X("styles",{}),X("classes",[]),X("attributes",{}),$e("value"),$e("innerHtml")])),ct("components"),ct("uid"),X("events",{}),X("apis",{}),Zo("eventOrder","eventOrder",v({[ur()]:["disabling",ic,"toggling","typeaheadevents"],[il()]:[ic,"focusing","keying"],[Lh()]:[ic,"disabling","toggling","representing","tooltipping"],[bi()]:[ic,"representing","streaming","invalidating"],[Xa()]:[ic,"representing","item-events","toolbar-button-events","tooltipping"],[cr()]:["focusing",ic,"item-type-events"],[vi()]:["focusing",ic,"item-type-events"],[Ka()]:["item-type-events","tooltipping"],[tc()]:["receiving","reflecting","tooltipping"]}),xa()),$e("domModification")]),eM=t=>Nn("custom.definition",tM,t),nM=t=>({...t.dom,uid:t.uid,domChildren:mt(t.components,e=>e.element)}),oM=t=>t.domModification.fold(()=>Wr({}),Wr),sM=t=>t.events,xi=t=>t.dom.value,lc=(t,e)=>{if(e===void 0)throw new Error("Value.set was undefined");t.dom.value=e},rM=(t,e,n)=>Cr(t,e).map(s=>{if(n.exists(a=>!_e(a,s))){const a=n.map(oo).getOr("span"),i=Ct.fromTag(a);return fi(s,i),i}else return s}),Hy=(t,e,n)=>{n.fold(()=>sr(t,e),o=>{_e(o,e)||(fi(o,e),ba(o))})},Py=(t,e,n)=>{const o=mt(e,n),s=po(t);return Mt(s.slice(o.length),ba),o},Ry=(t,e,n,o)=>{const s=Cr(t,e),r=o(n,s),a=rM(t,e,s);return Hy(t,r.element,a),r},aM=(t,e,n)=>Py(t,e,(o,s)=>Ry(t,s,o,n)),iM=(t,e)=>Py(t,e,(n,o)=>{const s=Cr(t,o);return Hy(t,n,s),n}),Vy=(t,e)=>{const n=tt(t),o=tt(e),s=Gn(o,n),r=Qe(t,(a,i)=>!jt(e,i)||a!==e[i]).t;return{toRemove:s,toSet:r}},lM=(t,e)=>{const{class:n,style:o,...s}=qu(e),{toSet:r,toRemove:a}=Vy(t.attributes,s),i=()=>{Mt(a,z=>nn(e,z)),Ln(e,r)},l=td(e),{toSet:u,toRemove:g}=Vy(t.styles,l),b=()=>{Mt(g,z=>De(e,z)),Tr(e,u)},x=my(e),E=Gn(x,t.classes),A=Gn(t.classes,x),k=()=>{sc(e,A),Gr(e,E)},U=z=>{cu(e,z)},I=()=>{const z=t.domChildren;iM(e,z)},N=()=>{const z=e,J=t.value.getOrUndefined();J!==xi(z)&&lc(z,J??"")};return i(),k(),b(),t.innerHtml.fold(I,U),N(),e},cM=t=>{const e=Ct.fromTag(t.tag);Ln(e,t.attributes),sc(e,t.classes),Tr(e,t.styles),t.innerHtml.each(o=>cu(e,o));const n=t.domChildren;return dh(e,n),t.value.each(o=>{lc(e,o)}),e},uM=(t,e)=>{try{const n=lM(t,e);return m.some(n)}catch{return m.none()}},dM=t=>t.innerHtml.isSome()&&t.domChildren.length>0,mM=(t,e)=>{const n=s=>oo(s)===t.tag&&!dM(t)&&!VO(s),o=e.filter(n).bind(s=>uM(t,s)).getOrThunk(()=>cM(t));return fp(o,t.uid),o},hM=t=>{const e=wt(t,"behaviours").getOr({});return ae(tt(e),n=>{const o=e[n];return W(o)?[o.me]:[]})},gM=(t,e)=>BO(t,e),fM=t=>{const e=hM(t);return gM(t,e)},pM=(t,e,n)=>{const o=nM(t),s=oM(t),r={"alloy.base.modification":s},a=e.length>0?zO(n,r,e,o):s;return ME(o,a)},vM=(t,e,n)=>{const o={"alloy.base.behaviour":sM(t)};return XO(n,t.eventOrder,e,o).getOrDie()},bM=(t,e)=>{const n=()=>z,o=$t(RO),s=Sa(eM(t)),r=fM(t),a=NO(r),i=$O(r),l=pM(s,a,i),u=mM(l,e),g=vM(s,a,i),b=$t(s.components),x=J=>{o.set(J)},E=()=>{o.set(Bh(n))},A=()=>{const J=po(u),Q=ae(J,gt=>o.get().getByDom(gt).fold(()=>[],fs));b.set(Q)},k=J=>{const Q=i;return(Y(Q[J.name()])?Q[J.name()]:()=>{throw new Error("Could not find "+J.name()+" in "+JSON.stringify(t,null,2))})()},U=J=>Y(i[J.name()]),I=()=>s.apis,N=J=>i[J]().map(Q=>Q.state.readState()).getOr("not enabled"),z={uid:t.uid,getSystem:o.get,config:k,hasConfigured:U,spec:t,readState:N,getApis:I,connect:x,disconnect:E,element:u,syncComponents:A,components:b.get,events:g};return z},yM=(t,e)=>{const n=wt(t,"components").getOr([]);return e.fold(()=>mt(n,ts),o=>mt(n,(s,r)=>vp(s,Cr(o,r))))},xM=(t,e)=>{const{events:n,...o}=PO(t),s=yM(o,e),r={...o,events:{...DO,...n},components:s};return Ce.value(bM(r,e))},Tn=t=>{const e=Ct.fromText(t);return By({element:e})},By=t=>{const e=ks("external.component",ar([ct("element"),$e("uid")]),t),n=$t(Bh()),o=i=>{n.set(i)},s=()=>{n.set(Bh(()=>a))},r=e.uid.getOrThunk(()=>mu("external"));fp(e.element,r);const a={uid:r,getSystem:n.get,config:m.none,hasConfigured:yt,connect:o,disconnect:s,getApis:()=>({}),element:e.element,spec:t,readState:R("No state"),syncComponents:_,components:R([]),events:{}};return Iy(a)},SM=mu,wM=t=>jt(t,"uid"),vp=(t,e)=>Ly(t).getOrThunk(()=>{const n=wM(t)?t:{uid:SM(""),...t};return xM(n,e).getOrDie()}),ts=t=>vp(t,m.none()),mr=Iy;var Ny=(t,e,n,o,s)=>t(n,o)?m.some(n):Y(s)&&s(n)?m.none():e(n,o,s);const $y=(t,e,n)=>{let o=t.dom;const s=Y(n)?n:yt;for(;o.parentNode;){o=o.parentNode;const r=Ct.fromDom(o);if(e(r))return m.some(r);if(s(r))break}return m.none()},zy=(t,e,n)=>Ny((s,r)=>r(s),$y,t,e,n),CM=(t,e)=>{const n=t.dom;return n.parentNode?Zy(Ct.fromDom(n.parentNode),o=>!_e(t,o)&&e(o)):m.none()},Zy=(t,e)=>{const n=s=>e(Ct.fromDom(s));return Me(t.dom.childNodes,n).map(Ct.fromDom)},TM=(t,e)=>{const n=o=>{for(let s=0;s<o.childNodes.length;s++){const r=Ct.fromDom(o.childNodes[s]);if(e(r))return m.some(r);const a=n(o.childNodes[s]);if(a.isSome())return a}return m.none()};return n(t.dom)},Uy=(t,e,n)=>zy(t,e,n).isSome(),EM=t=>Xi(t),Si=(t,e,n)=>$y(t,o=>Sr(o,e),n),OM=(t,e)=>CM(t,n=>Sr(n,e)),bp=(t,e)=>Zy(t,n=>Sr(n,e)),Cn=(t,e)=>Xi(e,t),Ja=(t,e,n)=>Ny((s,r)=>Sr(s,r),Si,t,e,n),Ed="aria-controls",MM=t=>zy(t,n=>{if(!so(n))return!1;const o=fe(n,"id");return o!==void 0&&o.indexOf(Ed)>-1}).bind(n=>{const o=fe(n,"id"),s=$o(n);return Cn(s,`[${Ed}="${o}"]`)}),_y=()=>{const t=Lt(Ed);return{id:t,link:o=>{Et(o,Ed,t)},unlink:o=>{nn(o,Ed)}}},AM=(t,e)=>MM(e).exists(n=>cc(t,n)),cc=(t,e)=>Uy(e,n=>_e(n,t.element),yt)||AM(t,e),_o=(t,e,n,o,s,r,a,i=!1)=>({x:t,y:e,bubble:n,direction:o,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:i}),cl=jr.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),DM=(t,e,n,o,s,r,a,i,l)=>t.fold(e,n,o,s,r,a,i,l),kM=(t,e,n,o)=>t.fold(e,e,o,o,e,o,n,n),IM=(t,e,n,o)=>t.fold(e,o,e,o,n,n,e,o),zh=cl.southeast,yp=cl.southwest,xp=cl.northeast,Sp=cl.northwest,jy=cl.south,Wy=cl.north,Gy=cl.east,Ky=cl.west,LM=(t,e)=>{switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},jo=(t,e)=>Ho(["left","right","top","bottom"],n=>wt(e,n).map(o=>LM(t,o))),FM=(t,e,n)=>{const o=(l,u)=>e[l].map(g=>{const b=l==="top"||l==="bottom",x=b?n.top:n.left,A=(l==="left"||l==="top"?Math.max:Math.min)(g,u)+x;return b?Xr(A,t.y,t.bottom):Xr(A,t.x,t.right)}).getOr(u),s=o("left",t.x),r=o("top",t.y),a=o("right",t.right),i=o("bottom",t.bottom);return vo(s,r,a-s,i-r)},ul="layout",Xy=t=>t.x,Yy=(t,e)=>t.x+t.width/2-e.width/2,Jy=(t,e)=>t.x+t.width-e.width,wp=(t,e)=>t.y-e.height,Cp=t=>t.y+t.height,Qy=(t,e)=>t.y+t.height/2-e.height/2,HM=t=>t.x+t.width,PM=(t,e)=>t.x-e.width,io=(t,e,n)=>_o(Xy(t),Cp(t),n.southeast(),zh(),"southeast",jo(t,{left:1,top:3}),ul),lo=(t,e,n)=>_o(Jy(t,e),Cp(t),n.southwest(),yp(),"southwest",jo(t,{right:0,top:3}),ul),Wo=(t,e,n)=>_o(Xy(t),wp(t,e),n.northeast(),xp(),"northeast",jo(t,{left:1,bottom:2}),ul),Go=(t,e,n)=>_o(Jy(t,e),wp(t,e),n.northwest(),Sp(),"northwest",jo(t,{right:0,bottom:2}),ul),Oo=(t,e,n)=>_o(Yy(t,e),wp(t,e),n.north(),Wy(),"north",jo(t,{bottom:2}),ul),co=(t,e,n)=>_o(Yy(t,e),Cp(t),n.south(),jy(),"south",jo(t,{top:3}),ul),Tp=(t,e,n)=>_o(HM(t),Qy(t,e),n.east(),Gy(),"east",jo(t,{left:0}),ul),Ep=(t,e,n)=>_o(PM(t,e),Qy(t,e),n.west(),Ky(),"west",jo(t,{right:1}),ul),qy=()=>[io,lo,Wo,Go,co,Oo,Tp,Ep],t4=()=>[lo,io,Go,Wo,co,Oo,Tp,Ep],e4=()=>[Wo,Go,io,lo,Oo,co],n4=()=>[Go,Wo,lo,io,Oo,co],Op=()=>[io,lo,Wo,Go,co,Oo],Mp=()=>[lo,io,Go,Wo,co,Oo],RM=(t,e)=>e.universal?t:Ve(t,n=>me(e.channels,n));var VM=Object.freeze({__proto__:null,events:t=>yn([at(tc(),(e,n)=>{const o=t.channels,s=tt(o),r=n,a=RM(s,r);Mt(a,i=>{const l=o[i],u=l.schema,g=ks("channel["+i+`] data
Receiver: `+ll(e.element),u,r.data);l.onReceive(e,g)})})])}),BM=[ir("channels",_b(Ce.value,ar([ac("onReceive"),X("schema",xa())])))];const js=Ro({fields:BM,name:"receiving",active:VM});var NM=Object.freeze({__proto__:null,exhibit:(t,e)=>Wr({classes:[],styles:e.useFixed()?{}:{position:"relative"}})});const Ws=(t,e=!1)=>t.dom.focus({preventScroll:e}),Zh=t=>t.dom.blur(),hu=t=>{const e=$o(t).dom;return t.dom===e.activeElement},wi=(t=Kc())=>m.from(t.dom.activeElement).map(Ct.fromDom),cs=t=>wi($o(t)).filter(e=>t.dom.contains(e.dom)),Ap=(t,e)=>{const n=$o(e),o=wi(n).bind(r=>{const a=i=>_e(r,i);return a(e)?m.some(e):TM(e,a)}),s=t(e);return o.each(r=>{wi(n).filter(a=>_e(a,r)).fold(()=>{Ws(r)},_)}),s},Dp=jr.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),o4=(t,e,n,o,s,r)=>{const a=e.rect,i=a.x-n,l=a.y-o,u=a.width,g=a.height,b=s-(i+u),x=r-(l+g),E=m.some(i),A=m.some(l),k=m.some(b),U=m.some(x),I=m.none();return DM(e.direction,()=>Kr(t,E,A,I,I),()=>Kr(t,I,A,k,I),()=>Kr(t,E,I,I,U),()=>Kr(t,I,I,k,U),()=>Kr(t,E,A,I,I),()=>Kr(t,E,I,I,U),()=>Kr(t,E,A,I,I),()=>Kr(t,I,A,k,I))},s4=(t,e)=>t.fold(()=>{const n=e.rect;return Kr("absolute",m.some(n.x),m.some(n.y),m.none(),m.none())},(n,o,s,r)=>o4("absolute",e,n,o,s,r),(n,o,s,r)=>o4("fixed",e,n,o,s,r)),kp=(t,e)=>{const n=Ft(Xc,e),o=t.fold(n,n,()=>{const a=xs();return Xc(e).translate(-a.left,-a.top)}),s=Qi(e),r=_a(e);return vo(o.left,o.top,s,r)},$M=(t,e)=>e.fold(()=>t.fold(zo,zo,vo),n=>t.fold(R(n),R(n),()=>{const o=r4(t,n.x,n.y);return vo(o.left,o.top,n.width,n.height)})),r4=(t,e,n)=>{const o=hn(e,n),s=()=>{const r=xs();return o.translate(-r.left,-r.top)};return t.fold(R(o),R(o),s)},zM=(t,e,n,o)=>t.fold(e,n,o);Dp.none;const ZM=Dp.relative,UM=Dp.fixed,_M=(t,e)=>({anchorBox:t,origin:e}),jM=(t,e)=>_M(t,e),Ip="data-alloy-placement",WM=(t,e)=>{Et(t,Ip,e)},a4=t=>Be(t,Ip),GM=t=>nn(t,Ip),Uh=jr.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),KM=(t,e)=>{const{x:n,y:o,right:s,bottom:r}=e,{x:a,y:i,right:l,bottom:u,width:g,height:b}=t,x=a>=n&&a<=s,E=i>=o&&i<=r,A=x&&E,k=l<=s&&l>=n,U=u<=r&&u>=o,I=k&&U,N=Math.min(g,a>=n?s-a:l-n),z=Math.min(b,i>=o?r-i:u-o);return{originInBounds:A,sizeInBounds:I,visibleW:N,visibleH:z}},XM=(t,e)=>{const{x:n,y:o,right:s,bottom:r}=e,{x:a,y:i,width:l,height:u}=t,g=Math.max(n,s-l),b=Math.max(o,r-u),x=Xr(a,n,g),E=Xr(i,o,b),A=Math.min(x+l,s)-x,k=Math.min(E+u,r)-E;return vo(x,E,A,k)},YM=(t,e,n)=>{const o=R(e.bottom-n.y),s=R(n.bottom-e.y),r=kM(t,s,s,o),a=R(e.right-n.x),i=R(n.right-e.x);return{maxWidth:IM(t,i,i,a),maxHeight:r}},JM=(t,e,n,o)=>{const s=t.bubble,r=s.offset,a=FM(o,t.restriction,r),i=t.x+r.left,l=t.y+r.top,u=vo(i,l,e,n),{originInBounds:g,sizeInBounds:b,visibleW:x,visibleH:E}=KM(u,a),A=g&&b,k=A?u:XM(u,a),U=k.width>0&&k.height>0,{maxWidth:I,maxHeight:N}=YM(t.direction,k,o),z={rect:k,maxHeight:N,maxWidth:I,direction:t.direction,placement:t.placement,classes:{on:s.classesOn,off:s.classesOff},layout:t.label,testY:l};return A||t.alwaysFit?Uh.fit(z):Uh.nofit(z,x,E,U)},QM=(t,e,n,o,s,r)=>{const a=o.width,i=o.height,l=(g,b,x,E,A)=>{const k=g(n,o,s,t,r),U=JM(k,a,i,r);return U.fold(R(U),(I,N,z,J)=>(A===J?z>E||N>x:!A&&J)?U:Uh.nofit(b,x,E,A))};return vn(e,(g,b)=>{const x=Ft(l,b);return g.fold(R(g),x)},Uh.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:zh(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(Ot,Ot)},i4=Ut,ws=(t,e,n)=>nl(t,e,i4,n),Lp=(t,e,n)=>xf(t,e,i4,n),l4=lh,c4=["top","bottom","right","left"],_h="data-alloy-transition-timer",qM=(t,e)=>zE(t,e.classes),tA=(t,e,n)=>n.exists(o=>{const s=t.mode;return s==="all"?!0:o[s]!==e[s]}),eA=(t,e)=>{const n=o=>parseFloat(o).toFixed(3);return Pt(e,(o,s)=>{const r=t[s].map(n),a=o.map(n);return!ua(r,a)}).isSome()},nA=t=>{const e=r=>{const i=Po(t,r).split(/\s*,\s*/);return Ve(i,as)},n=r=>{if(S(r)&&/^[\d.]+/.test(r)){const a=parseFloat(r);return Nr(r,"ms")?a:a*1e3}else return 0},o=e("transition-delay"),s=e("transition-duration");return vn(s,(r,a,i)=>{const l=n(o[i])+n(a);return Math.max(r,l)},0)},oA=(t,e)=>{const n=ol(),o=ol();let s;const r=u=>{var g;const b=(g=u.raw.pseudoElement)!==null&&g!==void 0?g:"";return _e(u.target,t)&&ma(b)&&me(c4,u.raw.propertyName)},a=u=>{if(j(u)||r(u)){n.clear(),o.clear();const g=u==null?void 0:u.raw.type;(j(g)||g===yd())&&(clearTimeout(s),nn(t,_h),Gr(t,e.classes))}},i=ws(t,hE(),u=>{r(u)&&(i.unbind(),n.set(ws(t,yd(),a)),o.set(ws(t,mE(),a)))}),l=nA(t);requestAnimationFrame(()=>{s=setTimeout(a,l+17),Et(t,_h,s)})},sA=(t,e)=>{sc(t,e.classes),Be(t,_h).each(n=>{clearTimeout(parseInt(n,10)),nn(t,_h)}),oA(t,e)},rA=(t,e,n,o,s,r)=>{const a=tA(o,s,r);if(a||qM(t,o)){ce(t,"position",n.position);const i=kp(e,t),l=s4(e,{...s,rect:i}),u=Ho(c4,g=>l[g]);eA(n,u)&&(Zl(t,u),a&&sA(t,o),Uc(t))}else Gr(t,o.classes)},aA=t=>({width:Qi(t),height:_a(t)}),iA=(t,e,n,o)=>{De(e,"max-height"),De(e,"max-width");const s=aA(e);return QM(e,o.preference,t,s,n,o.bounds)},lA=(t,e)=>{const n=e.classes;Gr(t,n.off),sc(t,n.on)},cA=(t,e,n)=>{const o=n.maxHeightFunction;o(t,e.maxHeight)},uA=(t,e,n)=>{const o=n.maxWidthFunction;o(t,e.maxWidth)},dA=(t,e,n)=>{const o=s4(n.origin,e);n.transition.each(s=>{rA(t,n.origin,o,s,e,n.lastPlacement)}),hy(t,o)},mA=(t,e)=>{WM(t,e.placement)},u4=(t,e)=>{rf(t,Math.floor(e))},d4=R((t,e)=>{u4(t,e),Tr(t,{"overflow-x":"hidden","overflow-y":"auto"})}),gu=R((t,e)=>{u4(t,e)}),m4=(t,e,n)=>t[e]===void 0?n:t[e],hA=(t,e,n,o,s,r,a,i)=>{const l=m4(a,"maxHeightFunction",d4()),u=m4(a,"maxWidthFunction",_),g=t.anchorBox,b=t.origin,x={bounds:$M(b,r),origin:b,preference:o,maxHeightFunction:l,maxWidthFunction:u,lastPlacement:s,transition:i};return gA(g,e,n,x)},gA=(t,e,n,o)=>{const s=iA(t,e,n,o);return dA(e,s,o),mA(e,s),lA(e,s),cA(e,s,o),uA(e,s,o),{layout:s.layout,placement:s.placement}},fA=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Yr=(t,e,n,o=1)=>{const s=t*o,r=e*o,a=l=>wt(n,l).getOr([]),i=(l,u,g)=>{const b=Gn(fA,g);return{offset:hn(l,u),classesOn:ae(g,a),classesOff:ae(b,a)}};return{southeast:()=>i(-t,e,["top","alignLeft"]),southwest:()=>i(t,e,["top","alignRight"]),south:()=>i(-t/2,e,["top","alignCentre"]),northeast:()=>i(-t,-e,["bottom","alignLeft"]),northwest:()=>i(t,-e,["bottom","alignRight"]),north:()=>i(-t/2,-e,["bottom","alignCentre"]),east:()=>i(t,-e/2,["valignCentre","left"]),west:()=>i(-t,-e/2,["valignCentre","right"]),insetNortheast:()=>i(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>i(-s,r,["top","alignRight","inset"]),insetNorth:()=>i(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>i(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>i(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>i(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>i(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>i(s,-r/2,["valignCentre","left","inset"])}},jh=()=>Yr(0,0,{}),Wh=Ot,Fp=(t,e)=>n=>pA(n)==="rtl"?e:t,pA=t=>Po(t,"direction")==="rtl"?"rtl":"ltr";var Ci;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Ci||(Ci={}));const Hp="data-alloy-vertical-dir",vA=t=>Uy(t,e=>so(e)&&fe(e,"data-alloy-vertical-dir")===Ci.BottomToTop),dl=()=>lr("layouts",[ct("onLtr"),ct("onRtl"),$e("onBottomLtr"),$e("onBottomRtl")]),Gh=(t,e,n,o,s,r,a)=>{const i=a.map(vA).getOr(!1),l=e.layouts.map(E=>E.onLtr(t)),u=e.layouts.map(E=>E.onRtl(t)),g=i?e.layouts.bind(E=>E.onBottomLtr.map(A=>A(t))).or(l).getOr(s):l.getOr(n),b=i?e.layouts.bind(E=>E.onBottomRtl.map(A=>A(t))).or(u).getOr(r):u.getOr(o);return Fp(g,b)(t)},bA=(t,e,n)=>{const o=e.hotspot,s=kp(n,o.element),r=Gh(t.element,e,Op(),Mp(),e4(),n4(),m.some(e.hotspot.element));return m.some(Wh({anchorBox:s,bubble:e.bubble.getOr(jh()),overrides:e.overrides,layouts:r}))};var yA=[ct("hotspot"),$e("bubble"),X("overrides",{}),dl(),wn("placement",bA)];const xA=(t,e,n)=>{const o=r4(n,e.x,e.y),s=vo(o.left,o.top,e.width,e.height),r=Gh(t.element,e,qy(),t4(),qy(),t4(),m.none());return m.some(Wh({anchorBox:s,bubble:e.bubble,overrides:e.overrides,layouts:r}))};var SA=[ct("x"),ct("y"),X("height",0),X("width",0),X("bubble",jh()),X("overrides",{}),dl(),wn("placement",xA)];const h4=jr.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),wA=t=>t.fold(Ot,(e,n,o)=>e.translate(-n,-o)),CA=t=>t.fold(Ot,Ot),g4=t=>vn(t,(e,n)=>e.translate(n.left,n.top),hn(0,0)),TA=t=>{const e=mt(t,wA);return g4(e)},f4=t=>{const e=mt(t,CA);return g4(e)},EA=h4.screen,OA=h4.absolute,MA=(t,e,n)=>{const o=Yt(n.root).dom,s=r=>{const a=bs(r),i=bs(t.element);return _e(a,i)};return m.from(o.frameElement).map(Ct.fromDom).filter(s).map(or)},p4=(t,e,n)=>{const o=bs(t.element),s=xs(o),r=MA(t,e,n).getOr(s);return OA(r,s.left,s.top)},Pp=(t,e,n,o)=>{const s=EA(hn(t,e));return m.some(fh(s,n,o))},v4=(t,e,n,o,s)=>t.map(r=>{const a=[e,r.point],i=zM(o,()=>f4(a),()=>f4(a),()=>TA(a)),l=Ef(i.left,i.top,r.width,r.height),u=n.showAbove?e4():Op(),g=n.showAbove?n4():Mp(),b=Gh(s,n,u,g,u,g,m.none());return Wh({anchorBox:l,bubble:n.bubble.getOr(jh()),overrides:n.overrides,layouts:b})}),AA=(t,e,n)=>{const o=p4(t,n,e);return e.node.filter(Z).bind(s=>{const r=s.dom.getBoundingClientRect(),a=Pp(r.left,r.top,r.width,r.height),i=e.node.getOr(t.element);return v4(a,o,e,n,i)})};var DA=[ct("node"),ct("root"),$e("bubble"),dl(),X("overrides",{}),X("showAbove",!1),wn("placement",AA)];const kA="\uFEFF",IA="",Kh={create:(t,e,n,o)=>({start:t,soffset:e,finish:n,foffset:o})},Rp=jr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),LA=(t,e,n,o)=>t.fold(e,n,o),FA=t=>t.fold(Ot,Ot,Ot),HA=Rp.before,PA=Rp.on,RA=Rp.after,VA={before:HA,on:PA,after:RA,cata:LA,getStart:FA},Xh=jr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),BA=t=>Xh.exact(t.start,t.soffset,t.finish,t.foffset),NA=t=>t.match({domRange:e=>Ct.fromDom(e.startContainer),relative:(e,n)=>VA.getStart(e),exact:(e,n,o,s)=>e}),$A=Xh.domRange,zA=Xh.relative,ZA=Xh.exact,UA=t=>{const e=NA(t);return Yt(e)},_A=Kh.create,Od={domRange:$A,relative:zA,exact:ZA,exactFromRange:BA,getWin:UA,range:_A},jA=(t,e)=>{e.fold(n=>{t.setStartBefore(n.dom)},(n,o)=>{t.setStart(n.dom,o)},n=>{t.setStartAfter(n.dom)})},WA=(t,e)=>{e.fold(n=>{t.setEndBefore(n.dom)},(n,o)=>{t.setEnd(n.dom,o)},n=>{t.setEndAfter(n.dom)})},b4=(t,e,n)=>{const o=t.document.createRange();return jA(o,e),WA(o,n),o},y4=(t,e,n,o,s)=>{const r=t.document.createRange();return r.setStart(e.dom,n),r.setEnd(o.dom,s),r},x4=t=>({left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}),GA=t=>{const e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?m.some(n).map(x4):m.none()},KA=t=>{const e=t.getBoundingClientRect();return e.width>0||e.height>0?m.some(e).map(x4):m.none()},Md=jr.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),S4=(t,e,n)=>e(Ct.fromDom(n.startContainer),n.startOffset,Ct.fromDom(n.endContainer),n.endOffset),XA=(t,e)=>e.match({domRange:n=>({ltr:R(n),rtl:m.none}),relative:(n,o)=>({ltr:ja(()=>b4(t,n,o)),rtl:ja(()=>m.some(b4(t,o,n)))}),exact:(n,o,s,r)=>({ltr:ja(()=>y4(t,n,o,s,r)),rtl:ja(()=>m.some(y4(t,s,r,n,o)))})}),YA=(t,e)=>{const n=e.ltr();return n.collapsed?e.rtl().filter(s=>s.collapsed===!1).map(s=>Md.rtl(Ct.fromDom(s.endContainer),s.endOffset,Ct.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>S4(t,Md.ltr,n)):S4(t,Md.ltr,n)},JA=(t,e)=>{const n=XA(t,e);return YA(t,n)},w4=(t,e)=>JA(t,e).match({ltr:(o,s,r,a)=>{const i=t.document.createRange();return i.setStart(o.dom,s),i.setEnd(r.dom,a),i},rtl:(o,s,r,a)=>{const i=t.document.createRange();return i.setStart(r.dom,a),i.setEnd(o.dom,s),i}});Md.ltr,Md.rtl;const C4=(t,e,n)=>Ve(zc(t,n),e),Cs=(t,e)=>nr(e,t),QA=(t,e,n,o)=>{const r=bs(t).dom.createRange();return r.setStart(t.dom,e),r.setEnd(n.dom,o),r},qA=(t,e,n,o)=>{const s=QA(t,e,n,o),r=_e(t,n)&&e===o;return s.collapsed&&!r},tD=t=>m.from(t.getSelection()),T4=t=>{if(t.rangeCount>0){const e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return m.some(Kh.create(Ct.fromDom(e.startContainer),e.startOffset,Ct.fromDom(n.endContainer),n.endOffset))}else return m.none()},eD=t=>{if(t.anchorNode===null||t.focusNode===null)return T4(t);{const e=Ct.fromDom(t.anchorNode),n=Ct.fromDom(t.focusNode);return qA(e,t.anchorOffset,n,t.focusOffset)?m.some(Kh.create(e,t.anchorOffset,n,t.focusOffset)):T4(t)}},nD=t=>tD(t).filter(e=>e.rangeCount>0).bind(eD),E4=(t,e)=>{const n=w4(t,e);return GA(n)},oD=(t,e)=>{const n=w4(t,e);return KA(n)},sD=((t,e)=>{const n=r=>{if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return o(r).getOr("")},o=r=>t(r)?m.from(r.dom.nodeValue):m.none();return{get:n,getOption:o,set:(r,a)=>{if(!t(r))throw new Error("Can only set raw "+e+" value of a "+e+" node");r.dom.nodeValue=a}}})(Vn,"text"),rD=t=>sD.get(t),Yh=(t,e)=>({element:t,offset:e}),aD=(t,e)=>{const n=po(t);if(n.length===0)return Yh(t,e);if(e<n.length)return Yh(n[e],0);{const o=n[n.length-1],s=Vn(o)?rD(o).length:po(o).length;return Yh(o,s)}},O4=(t,e)=>Vn(t)?Yh(t,e):aD(t,e),Vp=t=>t.foffset!==void 0,M4=(t,e)=>e.getSelection.getOrThunk(()=>()=>nD(t))().map(o=>{if(Vp(o)){const s=O4(o.start,o.soffset),r=O4(o.finish,o.foffset);return Od.range(s.element,s.offset,r.element,r.offset)}else return o}),iD=(t,e,n)=>{const o=Yt(e.root).dom,s=p4(t,n,e),r=M4(o,e).bind(l=>{if(Vp(l))return oD(o,Od.exactFromRange(l)).orThunk(()=>{const g=Ct.fromText(kA);fi(l.start,g);const b=E4(o,Od.exact(g,0,g,1));return ba(g),b}).bind(g=>Pp(g.left,g.top,g.width,g.height));{const u=ft(l,b=>b.dom.getBoundingClientRect()),g={left:Math.min(u.firstCell.left,u.lastCell.left),right:Math.max(u.firstCell.right,u.lastCell.right),top:Math.min(u.firstCell.top,u.lastCell.top),bottom:Math.max(u.firstCell.bottom,u.lastCell.bottom)};return Pp(g.left,g.top,g.right-g.left,g.bottom-g.top)}}),i=M4(o,e).bind(l=>Vp(l)?so(l.start)?m.some(l.start):ys(l.start):m.some(l.firstCell)).getOr(t.element);return v4(r,s,e,n,i)};var lD=[$e("getSelection"),ct("root"),$e("bubble"),dl(),X("overrides",{}),X("showAbove",!1),wn("placement",iD)];const Jh="link-layout",A4=t=>t.x+t.width,D4=(t,e)=>t.x-e.width,k4=(t,e)=>t.y-e.height+t.height,I4=t=>t.y,L4=(t,e,n)=>_o(A4(t),I4(t),n.southeast(),zh(),"southeast",jo(t,{left:0,top:2}),Jh),F4=(t,e,n)=>_o(D4(t,e),I4(t),n.southwest(),yp(),"southwest",jo(t,{right:1,top:2}),Jh),H4=(t,e,n)=>_o(A4(t),k4(t,e),n.northeast(),xp(),"northeast",jo(t,{left:0,bottom:3}),Jh),P4=(t,e,n)=>_o(D4(t,e),k4(t,e),n.northwest(),Sp(),"northwest",jo(t,{right:1,bottom:3}),Jh),R4=()=>[L4,F4,H4,P4],V4=()=>[F4,L4,P4,H4],cD=(t,e,n)=>{const o=kp(n,e.item.element),s=Gh(t.element,e,R4(),V4(),R4(),V4(),m.none());return m.some(Wh({anchorBox:o,bubble:jh(),overrides:e.overrides,layouts:s}))};var uD=[ct("item"),dl(),X("overrides",{}),wn("placement",cD)],dD=Is("type",{selection:lD,node:DA,hotspot:yA,submenu:uD,makeshift:SA});const mD=[Us("classes",bo),Ga("mode","all",["all","layout","placement"])],hD=[X("useFixed",yt),$e("getBounds")],gD=[ir("anchor",dD),lr("transition",mD)],fD=()=>{const t=document.documentElement;return UM(0,0,t.clientWidth,t.clientHeight)},pD=t=>{const e=or(t.element),n=t.element.dom.getBoundingClientRect();return ZM(e.left,e.top,n.width,n.height)},vD=(t,e,n,o,s,r)=>{const a=jM(e.anchorBox,t);return hA(a,o.element,e.bubble,e.layouts,s,n,e.overrides,r)},bD=(t,e,n,o,s)=>{const r=m.none();B4(t,e,n,o,s,r)},B4=(t,e,n,o,s,r)=>{const a=ks("placement.info",te(gD),s),i=a.anchor,l=o.element,u=n.get(o.uid);Ap(()=>{ce(l,"position","fixed");const g=Zn(l,"visibility");ce(l,"visibility","hidden");const b=e.useFixed()?fD():pD(t);i.placement(t,i,b).each(x=>{const E=r.orThunk(()=>e.getBounds.map(Ht)),A=vD(b,x,E,o,u,a.transition);n.set(o.uid,A)}),g.fold(()=>{De(l,"visibility")},x=>{ce(l,"visibility",x)}),Zn(l,"left").isNone()&&Zn(l,"top").isNone()&&Zn(l,"right").isNone()&&Zn(l,"bottom").isNone()&&eo(Zn(l,"position"),"fixed")&&De(l,"position")},l)};var yD=Object.freeze({__proto__:null,position:bD,positionWithinBounds:B4,getMode:(t,e,n)=>e.useFixed()?"fixed":"absolute",reset:(t,e,n,o)=>{const s=o.element;Mt(["position","left","right","top","bottom"],r=>De(s,r)),GM(s),n.clear(o.uid)}}),xD=Object.freeze({__proto__:null,init:()=>{let t={};return dr({readState:()=>t,clear:s=>{W(s)?delete t[s]:t={}},set:(s,r)=>{t[s]=r},get:s=>wt(t,s)})}});const es=Ro({fields:hD,name:"positioning",active:NM,apis:yD,state:xD}),Bp=t=>t.getSystem().isConnected(),Ad=t=>{Ae(t,Xa());const e=t.components();Mt(e,Ad)},Dd=t=>{const e=t.components();Mt(e,Dd),Ae(t,Ta())},N4=(t,e)=>{t.getSystem().addToWorld(e),Z(t.element)&&Dd(e)},Np=t=>{Ad(t),t.getSystem().removeFromWorld(t)},$4=(t,e)=>{sr(t.element,e.element)},SD=t=>{Mt(t.components(),e=>ba(e.element)),cd(t.element),t.syncComponents()},wD=(t,e,n)=>{const o=t.components();SD(t);const s=n(e),r=Gn(o,s);Mt(r,a=>{Ad(a),t.getSystem().removeFromWorld(a)}),Mt(s,a=>{Bp(a)?$4(t,a):(t.getSystem().addToWorld(a),$4(t,a),Z(t.element)&&Dd(a))}),t.syncComponents()},CD=(t,e,n)=>{const o=t.components(),s=ae(e,i=>Ly(i).toArray());Mt(o,i=>{me(s,i)||Np(i)});const r=n(e),a=Gn(o,r);Mt(a,i=>{Bp(i)&&Np(i)}),Mt(r,i=>{Bp(i)||N4(t,i)}),t.syncComponents()},uc=(t,e)=>{z4(t,e,sr)},z4=(t,e,n)=>{t.getSystem().addToWorld(e),n(t.element,e.element),Z(t.element)&&Dd(e),t.syncComponents()},Z4=t=>{Ad(t),ba(t.element),t.getSystem().removeFromWorld(t)},Ti=t=>{const e=Ke(t.element).bind(n=>t.getSystem().getByDom(n).toOptional());Z4(t),e.each(n=>{n.syncComponents()})},U4=t=>{const e=t.components();Mt(e,Z4),cd(t.element),t.syncComponents()},$p=(t,e)=>{_4(t,e,sr)},Qh=(t,e)=>{_4(t,e,Sf)},_4=(t,e,n)=>{n(t,e.element);const o=po(e.element);Mt(o,s=>{e.getByDom(s).each(Dd)})},TD=t=>{const e=po(t.element);Mt(e,n=>{t.getByDom(n).each(Ad)}),ba(t.element)},j4=(t,e,n,o)=>{n.get().each(a=>{U4(t)});const s=e.getAttachPoint(t);uc(s,t);const r=t.getSystem().build(o);return uc(t,r),n.set(r),r},W4=(t,e,n,o)=>{const s=j4(t,e,n,o);return e.onOpen(t,s),s},ED=(t,e,n,o)=>n.get().map(()=>j4(t,e,n,o)),OD=(t,e,n,o,s)=>{X4(t,e),W4(t,e,n,o),s(),Y4(t,e)},G4=(t,e,n)=>{n.get().each(o=>{U4(t),Ti(t),e.onClose(t,o),n.clear()})},K4=(t,e,n)=>n.isOpen(),MD=(t,e,n,o)=>K4(t,e,n)&&n.get().exists(s=>e.isPartOf(t,s,o)),AD=(t,e,n)=>n.get(),DD=(t,e,n,o)=>{Zn(t.element,e).fold(()=>{nn(t.element,n)},s=>{Et(t.element,n,s)}),ce(t.element,e,o)},kD=(t,e,n)=>{Be(t.element,n).fold(()=>De(t.element,e),o=>ce(t.element,e,o))},X4=(t,e,n)=>{const o=e.getAttachPoint(t);ce(t.element,"position",es.getMode(o)),DD(t,"visibility",e.cloakVisibilityAttr,"hidden")},ID=t=>Ge(["top","left","right","bottom"],e=>Zn(t,e).isSome()),Y4=(t,e,n)=>{ID(t.element)||De(t.element,"position"),kD(t,"visibility",e.cloakVisibilityAttr)};var LD=Object.freeze({__proto__:null,cloak:X4,decloak:Y4,open:W4,openWhileCloaked:OD,close:G4,isOpen:K4,isPartOf:MD,getState:AD,setContent:ED}),FD=Object.freeze({__proto__:null,events:(t,e)=>yn([at(Ih(),(n,o)=>{G4(n,t,e)})])}),HD=[He("onOpen"),He("onClose"),ct("isPartOf"),ct("getAttachPoint"),X("cloakVisibilityAttr","data-precloak-visibility")],PD=Object.freeze({__proto__:null,init:()=>{const t=qe(),e=R("not-implemented");return dr({readState:e,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})}});const Pe=Ro({fields:HD,name:"sandboxing",active:FD,apis:LD,state:PD}),ml=R("dismiss.popups"),fu=R("reposition.popups"),zp=R("mouse.released"),RD=ar([X("isExtraPart",yt),lr("fireEventInstead",[X("event",ec())])]),Zp=t=>{const e=ks("Dismissal",RD,t);return{[ml()]:{schema:ar([ct("target")]),onReceive:(n,o)=>{Pe.isOpen(n)&&(Pe.isPartOf(n,o.target)||e.isExtraPart(n,o.target)||e.fireEventInstead.fold(()=>Pe.close(n),r=>Ae(n,r.event)))}}}},VD=ar([lr("fireEventInstead",[X("event",ty())]),_r("doReposition")]),Up=t=>{const e=ks("Reposition",VD,t);return{[fu()]:{onReceive:n=>{Pe.isOpen(n)&&e.fireEventInstead.fold(()=>e.doReposition(n),o=>Ae(n,o.event))}}}},_p=(t,e,n)=>{e.store.manager.onLoad(t,e,n)},J4=(t,e,n)=>{e.store.manager.onUnload(t,e,n)};var BD=Object.freeze({__proto__:null,onLoad:_p,onUnload:J4,setValue:(t,e,n,o)=>{e.store.manager.setValue(t,e,n,o)},getValue:(t,e,n)=>e.store.manager.getValue(t,e,n),getState:(t,e,n)=>n}),ND=Object.freeze({__proto__:null,events:(t,e)=>{const n=t.resetOnDom?[xn((o,s)=>{_p(o,t,e)}),Ya((o,s)=>{J4(o,t,e)})]:[tp(t,e,_p)];return yn(n)}});const Q4=()=>{const t=$t(null),e=()=>({mode:"memory",value:t.get()}),n=()=>t.get()===null,o=()=>{t.set(null)};return dr({set:t.set,get:t.get,isNotSet:n,clear:o,readState:e})},$D=()=>dr({readState:_}),q4=()=>{const t=$t({}),e=$t({});return dr({readState:()=>({mode:"dataset",dataByValue:t.get(),dataByText:e.get()}),lookup:a=>wt(t.get(),a).orThunk(()=>wt(e.get(),a)),update:a=>{const i=t.get(),l=e.get(),u={},g={};Mt(a,b=>{u[b.value]=b,wt(b,"meta").each(x=>{wt(x,"text").each(E=>{g[E]=b})})}),t.set({...i,...u}),e.set({...l,...g})},clear:()=>{t.set({}),e.set({})}})};var zD=Object.freeze({__proto__:null,memory:Q4,dataset:q4,manual:$D,init:t=>t.store.manager.state(t)});const t3=(t,e,n,o)=>{const s=e.store;n.update([o]),s.setValue(t,o),e.onSetValue(t,o)},ZD=(t,e,n)=>{const o=e.store,s=o.getDataKey(t);return n.lookup(s).getOrThunk(()=>o.getFallbackEntry(s))},UD=(t,e,n)=>{e.store.initialValue.each(s=>{t3(t,e,n,s)})},_D=(t,e,n)=>{n.clear()};var jD=[$e("initialValue"),ct("getFallbackEntry"),ct("getDataKey"),ct("setValue"),wn("manager",{setValue:t3,getValue:ZD,onLoad:UD,onUnload:_D,state:q4})];const WD=(t,e,n)=>e.store.getValue(t),GD=(t,e,n,o)=>{e.store.setValue(t,o),e.onSetValue(t,o)},KD=(t,e,n)=>{e.store.initialValue.each(o=>{e.store.setValue(t,o)})};var XD=[ct("getValue"),X("setValue",_),$e("initialValue"),wn("manager",{setValue:GD,getValue:WD,onLoad:KD,onUnload:_,state:Ea.init})];const YD=(t,e,n,o)=>{n.set(o),e.onSetValue(t,o)},JD=(t,e,n)=>n.get(),QD=(t,e,n)=>{e.store.initialValue.each(o=>{n.isNotSet()&&n.set(o)})},qD=(t,e,n)=>{n.clear()};var tk=[$e("initialValue"),wn("manager",{setValue:YD,getValue:JD,onLoad:QD,onUnload:qD,state:Q4})],ek=[Or("store",{mode:"memory"},Is("mode",{memory:tk,manual:XD,dataset:jD})),He("onSetValue"),X("resetOnDom",!1)];const At=Ro({fields:ek,name:"representing",active:ND,apis:BD,extra:{setValueFrom:(t,e)=>{const n=At.getValue(e);At.setValue(t,n)}},state:zD}),Mo=(t,e)=>$f(t,{},mt(e,n=>X7(n.name(),"Cannot configure "+n.name()+" for "+t)).concat([Ss("dump",Ot)])),qh=t=>t.dump,Vo=(t,e)=>({...ht(e),...t.dump}),Jr={field:Mo,augment:Vo,get:qh},e3="placeholder",t1=jr.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),jp=t=>jt(t,"uiType"),nk=(t,e,n,o)=>t.exists(s=>s!==n.owner)?t1.single(!0,R(n)):wt(o,n.name).fold(()=>{throw new Error("Unknown placeholder component: "+n.name+`
Known: [`+tt(o)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(n,null,2))},s=>s.replace()),ok=(t,e,n,o)=>jp(n)&&n.uiType===e3?nk(t,e,n,o):t1.single(!1,R(n)),n3=(t,e,n,o)=>ok(t,e,n,o).fold((r,a)=>{const i=jp(n)?a(e,n.config,n.validated):a(e),l=wt(i,"components").getOr([]),u=ae(l,g=>n3(t,e,g,o));return[{...i,components:u}]},(r,a)=>{if(jp(n)){const i=a(e,n.config,n.validated);return n.validated.preprocess.getOr(Ot)(i)}else return a(e)}),sk=(t,e,n,o)=>ae(n,s=>n3(t,e,s,o)),rk=(t,e)=>{let n=!1;const o=()=>n,s=()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+t);return n=!0,e},r=()=>e.fold((a,i)=>a,(a,i)=>a);return{name:R(t),required:r,used:o,replace:s}},ak=(t,e,n,o)=>{const s=ft(o,(a,i)=>rk(i,a)),r=sk(t,e,n,s);return lt(s,a=>{if(a.used()===!1&&a.required())throw new Error("Placeholder: "+a.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(e.components,null,2))}),r},o3=t1.single,ik=t1.multiple,s3=R(e3),e1=jr.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),n1=X("factory",{sketch:Ot}),Wp=X("schema",[]),o1=ct("name"),Gp=Zo("pname","pname",Qc(t=>"<alloy."+Lt(t.name)+">"),xa()),lk=Ss("schema",()=>[$e("preprocess")]),s1=X("defaults",R({})),r1=X("overrides",R({})),ck=te([n1,Wp,o1,Gp,s1,r1]),uk=te([n1,Wp,o1,s1,r1]),dk=te([n1,Wp,o1,Gp,s1,r1]),mk=te([n1,lk,o1,ct("unit"),Gp,s1,r1]),r3=t=>t.fold(m.some,m.none,m.some,m.some),a3=t=>{const e=n=>n.name;return t.fold(e,e,e,e)},hk=t=>t.fold(Ot,Ot,Ot,Ot),a1=(t,e)=>n=>{const o=ks("Converting part type",e,n);return t(o)},ns=a1(e1.required,ck),Qr=a1(e1.external,uk),Mr=a1(e1.optional,dk),i1=a1(e1.group,mk),Kp=R("entirety");var gk=Object.freeze({__proto__:null,required:ns,external:Qr,optional:Mr,group:i1,asNamedPart:r3,name:a3,asCommon:hk,original:Kp});const Xp=(t,e,n,o)=>Fn(e.defaults(t,n,o),n,{uid:t.partUids[e.name]},e.overrides(t,n,o)),fk=(t,e,n)=>{const o={},s={};return Mt(n,r=>{r.fold(a=>{o[a.pname]=o3(!0,(i,l,u)=>a.factory.sketch(Xp(i,a,l,u)))},a=>{const i=e.parts[a.name];s[a.name]=R(a.factory.sketch(Xp(e,a,i[Kp()]),i))},a=>{o[a.pname]=o3(!1,(i,l,u)=>a.factory.sketch(Xp(i,a,l,u)))},a=>{o[a.pname]=ik(!0,(i,l,u)=>{const g=i[a.name];return mt(g,b=>a.factory.sketch(Fn(a.defaults(i,b,u),b,a.overrides(i,b))))})})}),{internals:R(o),externals:R(s)}},Yp=(t,e)=>{const n={};return Mt(e,o=>{r3(o).each(s=>{const r=pk(t,s.pname);n[s.name]=a=>{const i=ks("Part: "+s.name+" in "+t,te(s.schema),a);return{...r,config:a,validated:i}}})}),n},pk=(t,e)=>({uiType:s3(),owner:t,name:e}),Jp=(t,e,n)=>({uiType:s3(),owner:t,name:e,config:n,validated:{}}),i3=t=>ae(t,e=>e.fold(m.none,m.some,m.none,m.none).map(n=>rl(n.name,n.schema.concat([My(Kp())]))).toArray()),l3=t=>mt(t,a3),Qp=(t,e,n)=>fk(t,e,n),qp=(t,e,n)=>ak(m.some(t),e,e.components,n),sn=(t,e,n)=>{const o=e.partUids[n];return t.getSystem().getByUid(o).toOptional()},hl=(t,e,n)=>sn(t,e,n).getOrDie("Could not find part: "+n),c3=(t,e,n)=>{const o={},s=e.partUids,r=t.getSystem();return Mt(n,a=>{o[a]=R(r.getByUid(s[a]))}),o},u3=(t,e)=>{const n=t.getSystem();return ft(e.partUids,(o,s)=>R(n.getByUid(o)))},d3=t=>tt(t.partUids),t0=(t,e,n)=>{const o={},s=e.partUids,r=t.getSystem();return Mt(n,a=>{o[a]=R(r.getByUid(s[a]).getOrDie())}),o},m3=(t,e)=>{const n=l3(e);return ou(mt(n,o=>({key:o,value:t+"-"+o})))},e0=t=>Zo("partUids","partUids",c(e=>m3(e.uid,t)),xa());var vk=Object.freeze({__proto__:null,generate:Yp,generateOne:Jp,schemas:i3,names:l3,substitutes:Qp,components:qp,defaultUids:m3,defaultUidsSchema:e0,getAllParts:u3,getAllPartNames:d3,getPart:sn,getPartOrDie:hl,getParts:c3,getPartsOrDie:t0});const bk=(t,e)=>(t.length>0?[rl("parts",t)]:[]).concat([ct("uid"),X("dom",{}),X("components",[]),My("originalSpec"),X("debug.sketcher",{})]).concat(e),h3=(t,e,n,o,s)=>{const r=bk(o,s);return ks(t+" [SpecSchema]",ar(r.concat(e)),n)},yk=(t,e,n,o)=>{const s=g3(o),r=h3(t,e,s,[],[]);return n(r,s)},n0=(t,e,n,o,s)=>{const r=g3(s),a=i3(n),i=e0(n),l=h3(t,e,r,a,[i]),u=Qp(t,l,n),g=qp(t,l,u.internals());return o(l,g,r,u.externals())},xk=t=>jt(t,"uid"),g3=t=>xk(t)?t:{...t,uid:mu("uid")},Sk=t=>t.uid!==void 0,wk=ar([ct("name"),ct("factory"),ct("configFields"),X("apis",{}),X("extraApis",{})]),Ck=ar([ct("name"),ct("factory"),ct("configFields"),ct("partFields"),X("apis",{}),X("extraApis",{})]),hr=t=>{const e=ks("Sketcher for "+t.name,wk,t),n=r=>yk(e.name,e.configFields,e.factory,r),o=ft(e.apis,$h),s=ft(e.extraApis,(r,a)=>qf(r,a));return{name:e.name,configFields:e.configFields,sketch:n,...o,...s}},us=t=>{const e=ks("Sketcher for "+t.name,Ck,t),n=a=>n0(e.name,e.configFields,e.partFields,e.factory,a),o=Yp(e.name,e.partFields),s=ft(e.apis,$h),r=ft(e.extraApis,(a,i)=>qf(a,i));return{name:e.name,partFields:e.partFields,configFields:e.configFields,sketch:n,parts:o,...s,...r}},pu=t=>fa("input")(t)&&fe(t,"type")!=="radio"||fa("textarea")(t);var Tk=Object.freeze({__proto__:null,getCurrent:(t,e,n)=>e.find(t)});const Ek=[ct("find")],ke=Ro({fields:Ek,name:"composing",apis:Tk}),Ok=["input","button","textarea","select"],f3=(t,e,n)=>{(e.disabled()?s0:r0)(t,e)},o0=(t,e)=>e.useNative===!0&&me(Ok,oo(t.element)),Mk=t=>Bn(t.element,"disabled"),Ak=t=>{Et(t.element,"disabled","disabled")},Dk=t=>{nn(t.element,"disabled")},kk=t=>fe(t.element,"aria-disabled")==="true",Ik=t=>{Et(t.element,"aria-disabled","true")},Lk=t=>{Et(t.element,"aria-disabled","false")},s0=(t,e,n)=>{e.disableClass.each(s=>{Yn(t.element,s)}),(o0(t,e)?Ak:Ik)(t),e.onDisabled(t)},r0=(t,e,n)=>{e.disableClass.each(s=>{$n(t.element,s)}),(o0(t,e)?Dk:Lk)(t),e.onEnabled(t)},p3=(t,e)=>o0(t,e)?Mk(t):kk(t);var Fk=Object.freeze({__proto__:null,enable:r0,disable:s0,isDisabled:p3,onLoad:f3,set:(t,e,n,o)=>{(o?s0:r0)(t,e)}}),Hk=Object.freeze({__proto__:null,exhibit:(t,e)=>Wr({classes:e.disabled()?e.disableClass.toArray():[]}),events:(t,e)=>yn([ry(ur(),(n,o)=>p3(n,t)),tp(t,e,f3)])}),Pk=[gn("disabled",yt),X("useNative",!0),$e("disableClass"),He("onDisabled"),He("onEnabled")];const Gt=Ro({fields:Pk,name:"disabling",active:Hk,apis:Fk}),v3=(t,e,n,o)=>{const s=Cs(t.element,"."+e.highlightClass);Mt(s,r=>{Ge(o,i=>_e(i.element,r))||($n(r,e.highlightClass),t.getSystem().getByDom(r).each(i=>{e.onDehighlight(t,i),Ae(i,Gf())}))})},Rk=(t,e,n)=>v3(t,e,n,[]),Vk=(t,e,n,o)=>{a0(t,e,n,o)&&($n(o.element,e.highlightClass),e.onDehighlight(t,o),Ae(o,Gf()))},kd=(t,e,n,o)=>{v3(t,e,n,[o]),a0(t,e,n,o)||(Yn(o.element,e.highlightClass),e.onHighlight(t,o),Ae(o,Wf()))},Bk=(t,e,n)=>{b3(t,e).each(o=>{kd(t,e,n,o)})},Nk=(t,e,n)=>{y3(t,e).each(o=>{kd(t,e,n,o)})},$k=(t,e,n,o)=>{Uk(t,e,n,o).fold(s=>{throw s},s=>{kd(t,e,n,s)})},zk=(t,e,n,o)=>{const s=S3(t,e);Me(s,o).each(a=>{kd(t,e,n,a)})},a0=(t,e,n,o)=>Ls(o.element,e.highlightClass),Zk=(t,e,n)=>Cn(t.element,"."+e.highlightClass).bind(o=>t.getSystem().getByDom(o).toOptional()),Uk=(t,e,n,o)=>{const s=Cs(t.element,"."+e.itemClass);return m.from(s[o]).fold(()=>Ce.error(new Error("No element found with index "+o)),t.getSystem().getByDom)},b3=(t,e,n)=>Cn(t.element,"."+e.itemClass).bind(o=>t.getSystem().getByDom(o).toOptional()),y3=(t,e,n)=>{const o=Cs(t.element,"."+e.itemClass);return(o.length>0?m.some(o[o.length-1]):m.none()).bind(r=>t.getSystem().getByDom(r).toOptional())},x3=(t,e,n,o)=>{const s=Cs(t.element,"."+e.itemClass);return Wn(s,a=>Ls(a,e.highlightClass)).bind(a=>{const i=du(a,o,0,s.length-1);return t.getSystem().getByDom(s[i]).toOptional()})},_k=(t,e,n)=>x3(t,e,n,-1),jk=(t,e,n)=>x3(t,e,n,1),S3=(t,e,n)=>{const o=Cs(t.element,"."+e.itemClass);return Qo(mt(o,s=>t.getSystem().getByDom(s).toOptional()))};var Wk=Object.freeze({__proto__:null,dehighlightAll:Rk,dehighlight:Vk,highlight:kd,highlightFirst:Bk,highlightLast:Nk,highlightAt:$k,highlightBy:zk,isHighlighted:a0,getHighlighted:Zk,getFirst:b3,getLast:y3,getPrevious:_k,getNext:jk,getCandidates:S3}),Gk=[ct("highlightClass"),ct("itemClass"),He("onHighlight"),He("onDehighlight")];const Ze=Ro({fields:Gk,name:"highlighting",apis:Wk}),Kk=[8],Ei=[9],Qa=[13],l1=[27],Gs=[32],c1=[37],Id=[38],u1=[39],vu=[40],Xk=(t,e,n)=>{const o=Fo(t.slice(0,e)),s=Fo(t.slice(e+1));return Me(o.concat(s),n)},Yk=(t,e,n)=>{const o=Fo(t.slice(0,e));return Me(o,n)},Jk=(t,e,n)=>{const o=t.slice(0,e),s=t.slice(e+1);return Me(s.concat(o),n)},Qk=(t,e,n)=>{const o=t.slice(e+1);return Me(o,n)},Fe=t=>e=>{const n=e.raw;return me(t,n.which)},Oa=t=>e=>wo(t,n=>n(e)),dc=t=>t.raw.shiftKey===!0,qk=t=>t.raw.ctrlKey===!0,Ld=Zt(dc),Ne=(t,e)=>({matches:t,classification:e}),tI=(t,e)=>Me(t,o=>o.matches(e)).map(o=>o.classification),w3=(t,e,n)=>{e.exists(s=>n.exists(r=>_e(r,s)))||_t(t,Fh(),{prevFocus:e,newFocus:n})},i0=()=>{const t=n=>cs(n.element);return{get:t,set:(n,o)=>{const s=t(n);n.getSystem().triggerFocus(o,n.element);const r=t(n);w3(n,s,r)}}},eI=()=>{const t=n=>Ze.getHighlighted(n).map(o=>o.element);return{get:t,set:(n,o)=>{const s=t(n);n.getSystem().getByDom(o).fold(_,a=>{Ze.highlight(n,a)});const r=t(n);w3(n,s,r)}}};var mc;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(mc||(mc={}));const hc=(t,e,n,o,s)=>{const r=()=>t.concat([X("focusManager",i0()),Or("focusInside","onFocus",pd(u=>me(["onFocus","onEnterOrSpace","onApi"],u)?Ce.value(u):Ce.error("Invalid value for focusInside"))),wn("handler",l),wn("state",e),wn("sendFocusIn",s)]),a=(u,g,b,x,E)=>{const A=b(u,g,x,E);return tI(A,g.event).bind(k=>k(u,g,x,E))},l={schema:r,processKey:a,toEvents:(u,g)=>{const b=u.focusInside!==mc.OnFocusMode?m.none():s(u).map(A=>at(il(),(k,U)=>{A(k,u,g),U.stop()})),x=(A,k)=>{const U=Fe(Gs.concat(Qa))(k.event);u.focusInside===mc.OnEnterOrSpaceMode&&U&&Jb(A,k)&&s(u).each(I=>{I(A,u,g),k.stop()})},E=[at(Ca(),(A,k)=>{a(A,k,n,u,g).fold(()=>{x(A,k)},U=>{k.stop()})}),at(dE(),(A,k)=>{a(A,k,o,u,g).each(U=>{k.stop()})})];return yn(b.toArray().concat(E))}};return l},C3=t=>{const e=[$e("onEscape"),$e("onEnter"),X("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),X("firstTabstop",0),X("useTabstopAt",Ut),$e("visibilitySelector")].concat([t]),n=(I,N)=>{const z=I.visibilitySelector.bind(J=>Ja(N,J)).getOr(N);return ro(z)>0},o=(I,N)=>{const z=Cs(I.element,N.selector),J=Ve(z,Q=>n(N,Q));return m.from(J[N.firstTabstop])},s=(I,N)=>N.focusManager.get(I).bind(z=>Ja(z,N.selector)),r=(I,N)=>n(I,N)&&I.useTabstopAt(N),a=(I,N,z)=>{o(I,N).each(J=>{N.focusManager.set(I,J)})},i=(I,N,z,J,Q)=>Q(N,z,gt=>r(J,gt)).fold(()=>J.cyclic?m.some(!0):m.none(),gt=>(J.focusManager.set(I,gt),m.some(!0))),l=(I,N,z,J)=>{const Q=Cs(I.element,z.selector);return s(I,z).bind(gt=>Wn(Q,Ft(_e,gt)).bind(nt=>i(I,Q,nt,z,J)))},u=(I,N,z)=>{const J=z.cyclic?Xk:Yk;return l(I,N,z,J)},g=(I,N,z)=>{const J=z.cyclic?Jk:Qk;return l(I,N,z,J)},b=I=>wr(I).bind(hi).exists(N=>_e(N,I)),x=(I,N,z)=>s(I,z).filter(J=>!z.useTabstopAt(J)).bind(J=>(b(J)?u:g)(I,N,z)),E=(I,N,z)=>z.onEnter.bind(J=>J(I,N)),A=(I,N,z)=>z.onEscape.bind(J=>J(I,N)),k=R([Ne(Oa([dc,Fe(Ei)]),u),Ne(Fe(Ei),g),Ne(Oa([Ld,Fe(Qa)]),E)]),U=R([Ne(Fe(l1),A),Ne(Fe(Ei),x)]);return hc(e,Ea.init,k,U,()=>m.some(a))};var nI=C3(Ss("cyclic",yt)),oI=C3(Ss("cyclic",Ut));const sI=(t,e,n)=>(Kf(t,n,ur()),m.some(!0)),Fd=(t,e,n)=>pu(n)&&Fe(Gs)(e.event)?m.none():sI(t,e,n),bu=(t,e)=>m.some(!0),rI=[X("execute",Fd),X("useSpace",!1),X("useEnter",!0),X("useControlEnter",!1),X("useDown",!1)],T3=(t,e,n)=>n.execute(t,e,t.element),aI=(t,e,n,o)=>{const s=n.useSpace&&!pu(t.element)?Gs:[],r=n.useEnter?Qa:[],a=n.useDown?vu:[],i=s.concat(r).concat(a);return[Ne(Fe(i),T3)].concat(n.useControlEnter?[Ne(Oa([qk,Fe(Qa)]),T3)]:[])},iI=(t,e,n,o)=>n.useSpace&&!pu(t.element)?[Ne(Fe(Gs),bu)]:[];var lI=hc(rI,Ea.init,aI,iI,()=>m.none());const E3=()=>{const t=qe();return dr({readState:()=>t.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,r)=>{t.set({numRows:s,numColumns:r})},getNumRows:()=>t.get().map(s=>s.numRows),getNumColumns:()=>t.get().map(s=>s.numColumns)})};var cI=Object.freeze({__proto__:null,flatgrid:E3,init:t=>t.state(t)});const O3=t=>(e,n,o,s)=>{const r=t(e.element);return M3(r,e,n,o,s)},l0=(t,e)=>{const n=Fp(t,e);return O3(n)},c0=(t,e)=>{const n=Fp(e,t);return O3(n)},u0=t=>(e,n,o,s)=>M3(t,e,n,o,s),M3=(t,e,n,o,s)=>o.focusManager.get(e).bind(a=>t(e.element,a,o,s)).map(a=>(o.focusManager.set(e,a),!0)),A3=u0,D3=u0,d1=u0,uI=t=>t.offsetWidth<=0&&t.offsetHeight<=0,k3=t=>!uI(t.dom),dI=(t,e)=>Wn(t,e).map(n=>({index:n,candidates:t})),I3=(t,e,n)=>{const o=a=>_e(a,e),s=Cs(t,n),r=Ve(s,k3);return dI(r,o)},L3=(t,e)=>Wn(t,n=>_e(e,n)),F3=(t,e,n,o)=>{const s=Math.floor(e/n),r=e%n;return o(s,r).bind(a=>{const i=a.row*n+a.column;return i>=0&&i<t.length?m.some(t[i]):m.none()})},H3=(t,e,n,o,s)=>F3(t,e,o,(r,a)=>{const l=r===n-1?t.length-r*o:o,u=du(a,s,0,l-1);return m.some({row:r,column:u})}),P3=(t,e,n,o,s)=>F3(t,e,o,(r,a)=>{const i=du(r,s,0,n-1),u=i===n-1?t.length-i*o:o,g=Xr(a,0,u-1);return m.some({row:i,column:g})}),mI=(t,e,n,o)=>H3(t,e,n,o,1),hI=(t,e,n,o)=>H3(t,e,n,o,-1),gI=(t,e,n,o)=>P3(t,e,n,o,-1),fI=(t,e,n,o)=>P3(t,e,n,o,1),pI=[ct("selector"),X("execute",Fd),_s("onEscape"),X("captureTab",!1),Ay()],vI=(t,e,n)=>{Cn(t.element,e.selector).each(o=>{e.focusManager.set(t,o)})},bI=(t,e)=>e.focusManager.get(t).bind(n=>Ja(n,e.selector)),yI=(t,e,n,o)=>bI(t,n).bind(s=>n.execute(t,e,s)),m1=t=>(e,n,o,s)=>I3(e,n,o.selector).bind(r=>t(r.candidates,r.index,s.getNumRows().getOr(o.initSize.numRows),s.getNumColumns().getOr(o.initSize.numColumns))),R3=(t,e,n)=>n.captureTab?m.some(!0):m.none(),xI=(t,e,n)=>n.onEscape(t,e),V3=m1(hI),B3=m1(mI),SI=m1(gI),wI=m1(fI),CI=R([Ne(Fe(c1),l0(V3,B3)),Ne(Fe(u1),c0(V3,B3)),Ne(Fe(Id),A3(SI)),Ne(Fe(vu),D3(wI)),Ne(Oa([dc,Fe(Ei)]),R3),Ne(Oa([Ld,Fe(Ei)]),R3),Ne(Fe(Gs.concat(Qa)),yI)]),TI=R([Ne(Fe(l1),xI),Ne(Fe(Gs),bu)]);var EI=hc(pI,E3,CI,TI,()=>m.some(vI));const N3=(t,e,n,o,s)=>{const r=i=>oo(i)==="button"&&fe(i,"disabled")==="disabled",a=(i,l,u)=>s(i,l,o,0,u.length-1,u[l],g=>r(u[g])?a(i,g,u):m.from(u[g]));return I3(t,n,e).bind(i=>{const l=i.index,u=i.candidates;return a(l,l,u)})},$3=(t,e,n,o)=>N3(t,e,n,o,(s,r,a,i,l,u,g)=>{const b=Xr(r+a,i,l);return b===s?m.from(u):g(b)}),h1=(t,e,n,o)=>N3(t,e,n,o,(s,r,a,i,l,u,g)=>{const b=du(r,a,i,l);return b===s?m.none():g(b)}),OI=[ct("selector"),X("getInitial",m.none),X("execute",Fd),_s("onEscape"),X("executeOnMove",!1),X("allowVertical",!0),X("allowHorizontal",!0),X("cycles",!0)],MI=(t,e)=>e.focusManager.get(t).bind(n=>Ja(n,e.selector)),d0=(t,e,n)=>MI(t,n).bind(o=>n.execute(t,e,o)),AI=(t,e,n)=>{e.getInitial(t).orThunk(()=>Cn(t.element,e.selector)).each(o=>{e.focusManager.set(t,o)})},z3=(t,e,n)=>(n.cycles?h1:$3)(t,n.selector,e,-1),Z3=(t,e,n)=>(n.cycles?h1:$3)(t,n.selector,e,1),U3=t=>(e,n,o,s)=>t(e,n,o,s).bind(()=>o.executeOnMove?d0(e,n,o):m.some(!0)),DI=(t,e,n)=>n.onEscape(t,e),kI=(t,e,n,o)=>{const s=[...n.allowHorizontal?c1:[]].concat(n.allowVertical?Id:[]),r=[...n.allowHorizontal?u1:[]].concat(n.allowVertical?vu:[]);return[Ne(Fe(s),U3(l0(z3,Z3))),Ne(Fe(r),U3(c0(z3,Z3))),Ne(Fe(Qa),d0),Ne(Fe(Gs),d0)]},II=R([Ne(Fe(Gs),bu),Ne(Fe(l1),DI)]);var LI=hc(OI,Ea.init,kI,II,()=>m.some(AI));const g1=(t,e,n)=>m.from(t[e]).bind(o=>m.from(o[n]).map(s=>({rowIndex:e,columnIndex:n,cell:s}))),_3=(t,e,n,o)=>{const r=t[e].length,a=du(n,o,0,r-1);return g1(t,e,a)},j3=(t,e,n,o)=>{const s=du(n,o,0,t.length-1),r=t[s].length,a=Xr(e,0,r-1);return g1(t,s,a)},W3=(t,e,n,o)=>{const r=t[e].length,a=Xr(n+o,0,r-1);return g1(t,e,a)},G3=(t,e,n,o)=>{const s=Xr(n+o,0,t.length-1),r=t[s].length,a=Xr(e,0,r-1);return g1(t,s,a)},FI=(t,e,n)=>_3(t,e,n,1),HI=(t,e,n)=>_3(t,e,n,-1),PI=(t,e,n)=>j3(t,n,e,-1),RI=(t,e,n)=>j3(t,n,e,1),VI=(t,e,n)=>W3(t,e,n,-1),BI=(t,e,n)=>W3(t,e,n,1),NI=(t,e,n)=>G3(t,n,e,-1),$I=(t,e,n)=>G3(t,n,e,1),zI=[rl("selectors",[ct("row"),ct("cell")]),X("cycles",!0),X("previousSelector",m.none),X("execute",Fd)],ZI=(t,e,n)=>{e.previousSelector(t).orThunk(()=>{const s=e.selectors;return Cn(t.element,s.cell)}).each(s=>{e.focusManager.set(t,s)})},UI=(t,e,n)=>cs(t.element).bind(o=>n.execute(t,e,o)),_I=(t,e)=>mt(t,n=>Cs(n,e.selectors.cell)),f1=(t,e)=>(n,o,s)=>{const r=s.cycles?t:e;return Ja(o,s.selectors.row).bind(a=>{const i=Cs(a,s.selectors.cell);return L3(i,o).bind(l=>{const u=Cs(n,s.selectors.row);return L3(u,a).bind(g=>{const b=_I(u,s);return r(b,g,l).map(x=>x.cell)})})})},K3=f1(HI,VI),X3=f1(FI,BI),jI=f1(PI,NI),WI=f1(RI,$I),GI=R([Ne(Fe(c1),l0(K3,X3)),Ne(Fe(u1),c0(K3,X3)),Ne(Fe(Id),A3(jI)),Ne(Fe(vu),D3(WI)),Ne(Fe(Gs.concat(Qa)),UI)]),KI=R([Ne(Fe(Gs),bu)]);var XI=hc(zI,Ea.init,GI,KI,()=>m.some(ZI));const YI=[ct("selector"),X("execute",Fd),X("moveOnTab",!1)],Y3=(t,e,n)=>n.focusManager.get(t).bind(o=>n.execute(t,e,o)),JI=(t,e,n)=>{Cn(t.element,e.selector).each(o=>{e.focusManager.set(t,o)})},J3=(t,e,n)=>h1(t,n.selector,e,-1),Q3=(t,e,n)=>h1(t,n.selector,e,1),QI=(t,e,n,o)=>n.moveOnTab?d1(J3)(t,e,n,o):m.none(),qI=(t,e,n,o)=>n.moveOnTab?d1(Q3)(t,e,n,o):m.none(),t9=R([Ne(Fe(Id),d1(J3)),Ne(Fe(vu),d1(Q3)),Ne(Oa([dc,Fe(Ei)]),QI),Ne(Oa([Ld,Fe(Ei)]),qI),Ne(Fe(Qa),Y3),Ne(Fe(Gs),Y3)]),e9=R([Ne(Fe(Gs),bu)]);var n9=hc(YI,Ea.init,t9,e9,()=>m.some(JI));const o9=[_s("onSpace"),_s("onEnter"),_s("onShiftEnter"),_s("onLeft"),_s("onRight"),_s("onTab"),_s("onShiftTab"),_s("onUp"),_s("onDown"),_s("onEscape"),X("stopSpaceKeyup",!1),$e("focusIn")],s9=(t,e,n)=>[Ne(Fe(Gs),n.onSpace),Ne(Oa([Ld,Fe(Qa)]),n.onEnter),Ne(Oa([dc,Fe(Qa)]),n.onShiftEnter),Ne(Oa([dc,Fe(Ei)]),n.onShiftTab),Ne(Oa([Ld,Fe(Ei)]),n.onTab),Ne(Fe(Id),n.onUp),Ne(Fe(vu),n.onDown),Ne(Fe(c1),n.onLeft),Ne(Fe(u1),n.onRight),Ne(Fe(Gs),n.onSpace)],r9=(t,e,n)=>[...n.stopSpaceKeyup?[Ne(Fe(Gs),bu)]:[],Ne(Fe(l1),n.onEscape)];var a9=hc(o9,Ea.init,s9,r9,t=>t.focusIn);const i9=nI.schema(),l9=oI.schema(),c9=LI.schema(),u9=EI.schema(),d9=XI.schema(),m9=lI.schema(),h9=n9.schema(),g9=a9.schema();var f9=Object.freeze({__proto__:null,acyclic:i9,cyclic:l9,flow:c9,flatgrid:u9,matrix:d9,execution:m9,menu:h9,special:g9});const p9=t=>bn(t,"setGridSize"),Bt=ly({branchKey:"mode",branches:f9,name:"keying",active:{events:(t,e)=>t.handler.toEvents(t,e)},apis:{focusIn:(t,e,n)=>{e.sendFocusIn(e).fold(()=>{t.getSystem().triggerFocus(t.element,t.element)},o=>{o(t,e,n)})},setGridSize:(t,e,n,o,s)=>{p9(n)?n.setGridSize(o,s):console.error("Layout does not support setGridSize")}},state:cI}),q3=(t,e)=>{Ap(()=>{wD(t,e,()=>mt(e,t.getSystem().build))},t.element)},tx=(t,e)=>{Ap(()=>{CD(t,e,()=>aM(t.element,e,t.getSystem().buildOrPatch))},t.element)},v9=(t,e,n,o)=>{Np(e);const s=Ry(t.element,n,o,t.getSystem().buildOrPatch);N4(t,s),t.syncComponents()},m0=(t,e,n)=>{const o=t.getSystem().build(n);z4(t,o,e)},b9=(t,e,n,o)=>{Ti(e),m0(t,(s,r)=>ld(s,r,n),o)},y9=(t,e,n,o)=>(e.reuseDom?tx:q3)(t,o),x9=(t,e,n,o)=>{m0(t,sr,o)},S9=(t,e,n,o)=>{m0(t,wf,o)},w9=(t,e,n,o)=>{const s=p1(t);Me(s,a=>_e(o.element,a.element)).each(Ti)},p1=(t,e)=>t.components(),ex=(t,e,n,o,s)=>{const r=p1(t);return m.from(r[o]).map(a=>(s.fold(()=>Ti(a),i=>{(e.reuseDom?v9:b9)(t,a,o,i)}),a))};var C9=Object.freeze({__proto__:null,append:x9,prepend:S9,remove:w9,replaceAt:ex,replaceBy:(t,e,n,o,s)=>{const r=p1(t);return Wn(r,o).bind(a=>ex(t,e,n,a,s))},set:y9,contents:p1});const se=Ro({fields:[qo("reuseDom",!0)],name:"replacing",apis:C9}),T9=(t,e)=>{const n=yn(e);return Ro({fields:[ct("enabled")],name:t,active:{events:R(n)}})},le=(t,e)=>{const n=T9(t,e);return{key:t,value:{config:{},me:n,configAsRaw:R({}),initialConfig:{},state:Ea}}},nx=(t,e)=>{e.ignore||(Ws(t.element),e.onFocus(t))};var E9=Object.freeze({__proto__:null,focus:nx,blur:(t,e)=>{e.ignore||Zh(t.element)},isFocused:t=>hu(t.element)}),O9=Object.freeze({__proto__:null,exhibit:(t,e)=>{const n=e.ignore?{}:{attributes:{tabindex:"-1"}};return Wr(n)},events:t=>yn([at(il(),(e,n)=>{nx(e,t),n.stop()})].concat(t.stopMousedown?[at(cr(),(e,n)=>{n.event.prevent()})]:[]))}),M9=[He("onFocus"),X("stopMousedown",!1),X("ignore",!1)];const Qt=Ro({fields:M9,name:"focusing",active:O9,apis:E9}),A9=t=>({init:()=>{const n=$t(t);return{get:()=>n.get(),set:i=>n.set(i),clear:()=>n.set(t),readState:()=>n.get()}}}),D9=(t,e,n)=>{const o=e.aria;o.update(t,o,n.get())},k9=(t,e,n)=>{e.toggleClass.each(o=>{n.get()?Yn(t.element,o):$n(t.element,o)})},Hd=(t,e,n,o)=>{const s=n.get();n.set(o),k9(t,e,n),D9(t,e,n),s!==o&&e.onToggled(t,o)},ox=(t,e,n)=>{Hd(t,e,n,!n.get())},I9=(t,e,n)=>{Hd(t,e,n,!0)},L9=(t,e,n)=>{Hd(t,e,n,!1)},F9=(t,e,n)=>n.get(),sx=(t,e,n)=>{Hd(t,e,n,e.selected)};var H9=Object.freeze({__proto__:null,onLoad:sx,toggle:ox,isOn:F9,on:I9,off:L9,set:Hd}),P9=Object.freeze({__proto__:null,exhibit:()=>Wr({}),events:(t,e)=>{const n=AE(t,e,ox),o=tp(t,e,sx);return yn(en([t.toggleOnExecute?[n]:[],[o]]))}});const R9=(t,e,n)=>{Et(t.element,"aria-pressed",n),e.syncWithExpanded&&rx(t,e,n)},V9=(t,e,n)=>{Et(t.element,"aria-selected",n)},B9=(t,e,n)=>{Et(t.element,"aria-checked",n)},rx=(t,e,n)=>{Et(t.element,"aria-expanded",n)};var N9=[X("selected",!1),$e("toggleClass"),X("toggleOnExecute",!0),He("onToggled"),Or("aria",{mode:"none"},Is("mode",{pressed:[X("syncWithExpanded",!1),wn("update",R9)],checked:[wn("update",B9)],expanded:[wn("update",rx)],selected:[wn("update",V9)],none:[wn("update",_)]}))];const be=Ro({fields:N9,name:"toggling",active:P9,apis:H9,state:A9(!1)}),ax=()=>{const t=(e,n)=>{n.stop(),nc(e)};return[at(ql(),t),at(wd(),t),oc(vi()),oc(cr())]},v1=t=>{const e=n=>yi((o,s)=>{n(o),s.stop()});return yn(en([t.map(e).toArray(),ax()]))},ix="alloy.item-hover",lx="alloy.item-focus",cx="alloy.item-toggled",ux=t=>{(cs(t.element).isNone()||Qt.isFocused(t))&&(Qt.isFocused(t)||Qt.focus(t),_t(t,ix,{item:t}))},dx=t=>{_t(t,lx,{item:t})},$9=(t,e)=>{_t(t,cx,{item:t,state:e})},mx=R(ix),z9=R(lx),Z9=R(cx),U9=t=>t.role.fold(()=>t.toggling.map(e=>e.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ot),_9=(t,e)=>({aria:{mode:e?"selected":"checked"},...In(t,(n,o)=>o!=="exclusive"),onToggled:(n,o)=>{Y(t.onToggled)&&t.onToggled(n,o),$9(n,o)}}),j9=t=>({dom:t.dom,domModification:{...t.domModification,attributes:{role:U9(t),...t.domModification.attributes,"aria-haspopup":t.hasSubmenu,...t.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:Jr.augment(t.itemBehaviours,[t.toggling.fold(be.revoke,e=>be.config(_9(e,t.role.exists(n=>n==="option")))),Qt.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:e=>{dx(e)}}),Bt.config({mode:"execution"}),At.config({store:{mode:"memory",initialValue:t.data}}),le("item-type-events",[...ax(),at(Ka(),ux),at(Sd(),Qt.focus)])]),components:t.components,eventOrder:t.eventOrder}),W9=[ct("data"),ct("components"),ct("dom"),X("hasSubmenu",!1),$e("toggling"),$e("role"),Jr.field("itemBehaviours",[be,Qt,Bt,At]),X("ignoreFocus",!1),X("domModification",{}),wn("builder",j9),X("eventOrder",{})],G9=t=>({dom:t.dom,components:t.components,events:yn([TE(Sd())])}),K9=[ct("dom"),ct("components"),wn("builder",G9)],h0=R("item-widget"),g0=R([ns({name:"widget",overrides:t=>({behaviours:ht([At.config({store:{mode:"manual",getValue:e=>t.data,setValue:_}})])})})]),X9=t=>{const e=Qp(h0(),t,g0()),n=qp(h0(),t,e.internals()),o=r=>sn(r,t,"widget").map(a=>(Bt.focusIn(a),a)),s=(r,a)=>pu(a.event.target)?m.none():(t.autofocus&&a.setSource(r.element),m.none());return{dom:t.dom,components:n,domModification:t.domModification,events:yn([yi((r,a)=>{o(r).each(i=>{a.stop()})}),at(Ka(),ux),at(Sd(),(r,a)=>{t.autofocus?o(r):Qt.focus(r)})]),behaviours:Jr.augment(t.widgetBehaviours,[At.config({store:{mode:"memory",initialValue:t.data}}),Qt.config({ignore:t.ignoreFocus,onFocus:r=>{dx(r)}}),Bt.config({mode:"special",focusIn:t.autofocus?r=>{o(r)}:PE(),onLeft:s,onRight:s,onEscape:(r,a)=>!Qt.isFocused(r)&&!t.autofocus?(Qt.focus(r),m.some(!0)):(t.autofocus&&a.setSource(r.element),m.none())})])}},Y9=[ct("uid"),ct("data"),ct("components"),ct("dom"),X("autofocus",!1),X("ignoreFocus",!1),Jr.field("widgetBehaviours",[At,Qt,Bt]),X("domModification",{}),e0(g0()),wn("builder",X9)],J9=Is("type",{widget:Y9,item:W9,separator:K9}),Q9=(t,e)=>({mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}),q9=(t,e)=>({mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},previousSelector:e.previousSelector,focusManager:t.focusManager}),tL=(t,e)=>({mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}),eL=R([i1({factory:{sketch:t=>{const e=ks("menu.spec item",J9,t);return e.builder(e)}},name:"items",unit:"item",defaults:(t,e)=>jt(e,"uid")?e:{...e,uid:mu("item")},overrides:(t,e)=>({type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}})})]),nL=R([Kn("role"),ct("value"),ct("items"),ct("dom"),ct("components"),X("eventOrder",{}),Mo("menuBehaviours",[Ze,At,ke,Bt]),Or("movement",{mode:"menu",moveOnTab:!0},Is("mode",{grid:[Ay(),wn("config",Q9)],matrix:[wn("config",q9),ct("rowSelector"),X("previousSelector",m.none)],menu:[X("moveOnTab",!0),wn("config",tL)]})),TO(),X("fakeFocus",!1),X("focusManager",i0()),He("onHighlight"),He("onDehighlight"),X("showMenuRole",!0)]),hx=R("alloy.menu-focus"),oL=(t,e)=>{const n=Cs(t.element,'[role="menuitemradio"][aria-checked="true"]');Mt(n,o=>{_e(o,e.element)||t.getSystem().getByDom(o).each(s=>{be.off(s)})})},sL=(t,e,n,o)=>({uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Vo(t.menuBehaviours,[Ze.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight,onDehighlight:t.onDehighlight}),At.config({store:{mode:"memory",initialValue:t.value}}),ke.config({find:m.some}),Bt.config(t.movement.config(t,t.movement))]),events:yn([at(z9(),(s,r)=>{const a=r.event;s.getSystem().getByDom(a.target).each(i=>{Ze.highlight(s,i),r.stop(),_t(s,hx(),{menu:s,item:i})})}),at(mx(),(s,r)=>{const a=r.event.item;Ze.highlight(s,a)}),at(Z9(),(s,r)=>{const{item:a,state:i}=r.event;i&&fe(a.element,"role")==="menuitemradio"&&oL(s,a)})]),components:e,eventOrder:t.eventOrder,...t.showMenuRole?{domModification:{attributes:{role:t.role.getOr("menu")}}}:{}}),gc=us({name:"Menu",configFields:nL(),partFields:eL(),factory:sL}),rL=t=>oe(t,(e,n)=>({k:e,v:n})),gx=(t,e,n,o)=>wt(n,o).bind(s=>wt(t,s).bind(r=>{const a=gx(t,e,n,r);return m.some([r].concat(a))})).getOr([]),aL=(t,e)=>{const n={};lt(t,(a,i)=>{Mt(a,l=>{n[l]=i})});const o=e,s=rL(e),r=ft(s,(a,i)=>[i].concat(gx(n,o,s,i)));return ft(n,a=>wt(r,a).getOr([a]))},iL=()=>{const t=$t({}),e=$t({}),n=$t({}),o=qe(),s=$t({}),r=()=>{t.set({}),e.set({}),n.set({}),o.clear()},a=()=>o.get().isNone(),i=(Q,gt)=>{e.set({...e.get(),[Q]:{type:"prepared",menu:gt}})},l=(Q,gt,Dt,nt)=>{o.set(Q),t.set(Dt),e.set(gt),s.set(nt);const kt=aL(nt,Dt);n.set(kt)},u=Q=>Pt(t.get(),(gt,Dt)=>gt===Q),g=(Q,gt,Dt)=>k(Q).bind(nt=>u(Q).bind(kt=>gt(kt).map(bt=>({triggeredMenu:nt,triggeringItem:bt,triggeringPath:Dt})))),b=(Q,gt)=>{const Dt=Ve(I(Q).toArray(),nt=>k(nt).isSome());return wt(n.get(),Q).bind(nt=>{const kt=Fo(Dt.concat(nt)),bt=ae(kt,(It,ye)=>g(It,gt,kt.slice(0,ye+1)).fold(()=>eo(o.get(),It)?[]:[m.none()],tn=>[m.some(tn)]));return Na(bt)})},x=Q=>wt(t.get(),Q).map(gt=>{const Dt=wt(n.get(),Q).getOr([]);return[gt].concat(Dt)}),E=Q=>wt(n.get(),Q).bind(gt=>gt.length>1?m.some(gt.slice(1)):m.none()),A=Q=>wt(n.get(),Q),k=Q=>U(Q).bind(fx),U=Q=>wt(e.get(),Q),I=Q=>wt(t.get(),Q);return{setMenuBuilt:i,setContents:l,expand:x,refresh:A,collapse:E,lookupMenu:U,lookupItem:I,otherMenus:Q=>{const gt=s.get();return Gn(tt(gt),Q)},getPrimary:()=>o.get().bind(k),getMenus:()=>e.get(),clear:r,isClear:a,getTriggeringPath:b}},fx=t=>t.type==="prepared"?m.some(t.menu):m.none(),px={init:iL,extractPreparedMenu:fx},vx=Lt("tiered-menu-item-highlight"),bx=Lt("tiered-menu-item-dehighlight");var Ts;(function(t){t[t.HighlightMenuAndItem=0]="HighlightMenuAndItem",t[t.HighlightJustMenu=1]="HighlightJustMenu",t[t.HighlightNone=2]="HighlightNone"})(Ts||(Ts={}));const lL=(t,e)=>{const n=qe(),o=(ut,St,Jt)=>ft(Jt,(de,Nt)=>{const ee=()=>gc.sketch({...de,value:Nt,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:(Xe,Ue)=>{_t(Xe,vx,{menuComp:Xe,itemComp:Ue})},onDehighlight:(Xe,Ue)=>{_t(Xe,bx,{menuComp:Xe,itemComp:Ue})},focusManager:t.fakeFocus?eI():i0()});return Nt===St?{type:"prepared",menu:ut.getSystem().build(ee())}:{type:"notbuilt",nbMenu:ee}}),s=px.init(),r=ut=>{const St=o(ut,t.data.primary,t.data.menus),Jt=l();return s.setContents(t.data.primary,St,t.data.expansions,Jt),s.getPrimary()},a=ut=>At.getValue(ut).value,i=(ut,St,Jt)=>zn(St,de=>{if(!de.getSystem().isConnected())return m.none();const Nt=Ze.getCandidates(de);return Me(Nt,ee=>a(ee)===Jt)}),l=ut=>ft(t.data.menus,(St,Jt)=>ae(St.items,de=>de.type==="separator"?[]:[de.data.value])),u=Ze.highlight,g=(ut,St)=>{u(ut,St),Ze.getHighlighted(St).orThunk(()=>Ze.getFirst(St)).each(Jt=>{t.fakeFocus?Ze.highlight(St,Jt):Kf(ut,Jt.element,Sd())})},b=(ut,St)=>Qo(mt(St,Jt=>ut.lookupMenu(Jt).bind(de=>de.type==="prepared"?m.some(de.menu):m.none()))),x=(ut,St,Jt)=>{const de=b(St,St.otherMenus(Jt));Mt(de,Nt=>{Gr(Nt.element,[t.markers.backgroundMenu]),t.stayInDom||se.remove(ut,Nt)})},E=ut=>n.get().getOrThunk(()=>{const St={},Jt=Cs(ut.element,`.${t.markers.item}`),de=Ve(Jt,Nt=>fe(Nt,"aria-haspopup")==="true");return Mt(de,Nt=>{ut.getSystem().getByDom(Nt).each(ee=>{const Xe=a(ee);St[Xe]=ee})}),n.set(St),St}),A=(ut,St)=>{const Jt=E(ut);lt(Jt,(de,Nt)=>{const ee=me(St,Nt);Et(de.element,"aria-expanded",ee)})},k=(ut,St,Jt)=>m.from(Jt[0]).bind(de=>St.lookupMenu(de).bind(Nt=>{if(Nt.type==="notbuilt")return m.none();{const ee=Nt.menu,Xe=b(St,Jt.slice(1));return Mt(Xe,Ue=>{Yn(Ue.element,t.markers.backgroundMenu)}),Z(ee.element)||se.append(ut,mr(ee)),Gr(ee.element,[t.markers.backgroundMenu]),g(ut,ee),x(ut,St,Jt),m.some(ee)}}));let U;(function(ut){ut[ut.HighlightSubmenu=0]="HighlightSubmenu",ut[ut.HighlightParent=1]="HighlightParent"})(U||(U={}));const I=(ut,St,Jt)=>{if(Jt.type==="notbuilt"){const de=ut.getSystem().build(Jt.nbMenu());return s.setMenuBuilt(St,de),de}else return Jt.menu},N=(ut,St,Jt=U.HighlightSubmenu)=>{if(St.hasConfigured(Gt)&&Gt.isDisabled(St))return m.some(St);{const de=a(St);return s.expand(de).bind(Nt=>(A(ut,Nt),m.from(Nt[0]).bind(ee=>s.lookupMenu(ee).bind(Xe=>{const Ue=I(ut,ee,Xe);return Z(Ue.element)||se.append(ut,mr(Ue)),t.onOpenSubmenu(ut,St,Ue,Fo(Nt)),Jt===U.HighlightSubmenu?(Ze.highlightFirst(Ue),k(ut,s,Nt)):(Ze.dehighlightAll(Ue),m.some(St))}))))}},z=(ut,St)=>{const Jt=a(St);return s.collapse(Jt).bind(de=>(A(ut,de),k(ut,s,de).map(Nt=>(t.onCollapseMenu(ut,St,Nt),Nt))))},J=(ut,St)=>{const Jt=a(St);return s.refresh(Jt).bind(de=>(A(ut,de),k(ut,s,de)))},Q=(ut,St)=>pu(St.element)?m.none():N(ut,St,U.HighlightSubmenu),gt=(ut,St)=>pu(St.element)?m.none():z(ut,St),Dt=(ut,St)=>z(ut,St).orThunk(()=>t.onEscape(ut,St).map(()=>ut)),nt=ut=>(St,Jt)=>Ja(Jt.getSource(),`.${t.markers.item}`).bind(de=>St.getSystem().getByDom(de).toOptional().bind(Nt=>ut(St,Nt).map(Ut))),kt=yn([at(hx(),(ut,St)=>{const Jt=St.event.item;s.lookupItem(a(Jt)).each(()=>{const de=St.event.menu;Ze.highlight(ut,de);const Nt=a(St.event.item);s.refresh(Nt).each(ee=>x(ut,s,ee))})}),yi((ut,St)=>{const Jt=St.event.target;ut.getSystem().getByDom(Jt).each(de=>{a(de).indexOf("collapse-item")===0&&z(ut,de),N(ut,de,U.HighlightSubmenu).fold(()=>{t.onExecute(ut,de)},_)})}),xn((ut,St)=>{r(ut).each(Jt=>{se.append(ut,mr(Jt)),t.onOpenMenu(ut,Jt),t.highlightOnOpen===Ts.HighlightMenuAndItem?g(ut,Jt):t.highlightOnOpen===Ts.HighlightJustMenu&&u(ut,Jt)})}),at(vx,(ut,St)=>{t.onHighlightItem(ut,St.event.menuComp,St.event.itemComp)}),at(bx,(ut,St)=>{t.onDehighlightItem(ut,St.event.menuComp,St.event.itemComp)}),...t.navigateOnHover?[at(mx(),(ut,St)=>{const Jt=St.event.item;J(ut,Jt),N(ut,Jt,U.HighlightParent),t.onHover(ut,Jt)})]:[]]),bt=ut=>Ze.getHighlighted(ut).bind(Ze.getHighlighted),It=ut=>{bt(ut).each(St=>{z(ut,St)})},ye=ut=>{s.getPrimary().each(St=>{g(ut,St)})},tn=ut=>m.from(ut.components()[0]).filter(St=>fe(St.element,"role")==="menu"),Rt={collapseMenu:It,highlightPrimary:ye,repositionMenus:ut=>{s.getPrimary().bind(Jt=>bt(ut).bind(de=>{const Nt=a(de),ee=ve(s.getMenus()),Xe=Qo(mt(ee,px.extractPreparedMenu));return s.getTriggeringPath(Nt,Ue=>i(ut,Xe,Ue))}).map(de=>({primary:Jt,triggeringPath:de}))).fold(()=>{tn(ut).each(Jt=>{t.onRepositionMenu(ut,Jt,[])})},({primary:Jt,triggeringPath:de})=>{t.onRepositionMenu(ut,Jt,de)})}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Vo(t.tmenuBehaviours,[Bt.config({mode:"special",onRight:nt(Q),onLeft:nt(gt),onEscape:nt(Dt),focusIn:(ut,St)=>{s.getPrimary().each(Jt=>{Kf(ut,Jt.element,Sd())})}}),Ze.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ke.config({find:ut=>Ze.getHighlighted(ut)}),se.config({})]),eventOrder:t.eventOrder,apis:Rt,events:kt}},cL=R("collapse-item"),uL=(t,e,n)=>({primary:t,menus:e,expansions:n}),dL=(t,e)=>({primary:t,menus:Jl(t,e),expansions:{}}),mL=t=>({value:Lt(cL()),meta:{text:t}}),fc=hr({name:"TieredMenu",configFields:[gp("onExecute"),gp("onEscape"),ac("onOpenMenu"),ac("onOpenSubmenu"),He("onRepositionMenu"),He("onCollapseMenu"),X("highlightOnOpen",Ts.HighlightMenuAndItem),rl("data",[ct("primary"),ct("menus"),ct("expansions")]),X("fakeFocus",!1),He("onHighlightItem"),He("onDehighlightItem"),He("onHover"),Rh(),ct("dom"),X("navigateOnHover",!0),X("stayInDom",!1),Mo("tmenuBehaviours",[Bt,Ze,ke,se]),X("eventOrder",{})],apis:{collapseMenu:(t,e)=>{t.collapseMenu(e)},highlightPrimary:(t,e)=>{t.highlightPrimary(e)},repositionMenus:(t,e)=>{t.repositionMenus(e)}},factory:lL,extraApis:{tieredData:uL,singleData:dL,collapseItem:mL}}),hL=(t,e,n,o,s)=>{const r=()=>t.lazySink(e),a=o.type==="horizontal"?{layouts:{onLtr:()=>Op(),onRtl:()=>Mp()}}:{},i=u=>u.length===2,l=u=>i(u)?a:{};return fc.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Pe.close(e),t.onEscape.map(u=>u(e)),m.some(!0)),onExecute:()=>m.some(!0),onOpenMenu:(u,g)=>{es.positionWithinBounds(r().getOrDie(),g,n,s())},onOpenSubmenu:(u,g,b,x)=>{const E=r().getOrDie();es.position(E,b,{anchor:{type:"submenu",item:g,...l(x)}})},onRepositionMenu:(u,g,b)=>{const x=r().getOrDie();es.positionWithinBounds(x,g,n,s()),Mt(b,E=>{const A=l(E.triggeringPath);es.position(x,E.triggeredMenu,{anchor:{type:"submenu",item:E.triggeringItem,...A}})})}})},gL=(t,e)=>{const n=(x,E)=>t.getRelated(x).exists(k=>cc(k,E)),o=(x,E)=>{Pe.setContent(x,E)},s=(x,E,A)=>{const k=m.none;r(x,E,A,k)},r=(x,E,A,k)=>{const U=t.lazySink(x).getOrDie();Pe.openWhileCloaked(x,E,()=>es.positionWithinBounds(U,x,A,k())),At.setValue(x,m.some({mode:"position",config:A,getBounds:k}))},a=(x,E,A)=>{i(x,E,A,m.none)},i=(x,E,A,k)=>{const U=hL(t,x,E,A,k);Pe.open(x,U),At.setValue(x,m.some({mode:"menu",menu:U}))},l=x=>{Pe.isOpen(x)&&(At.setValue(x,m.none()),Pe.close(x))},u=x=>Pe.getState(x),g=x=>{Pe.isOpen(x)&&At.getValue(x).each(E=>{switch(E.mode){case"menu":Pe.getState(x).each(fc.repositionMenus);break;case"position":const A=t.lazySink(x).getOrDie();es.positionWithinBounds(A,x,E.config,E.getBounds());break}})},b={setContent:o,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:i,hide:l,getContent:u,reposition:g,isOpen:Pe.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Vo(t.inlineBehaviours,[Pe.config({isPartOf:(x,E,A)=>cc(E,A)||n(x,A),getAttachPoint:x=>t.lazySink(x).getOrDie(),onOpen:x=>{t.onShow(x)},onClose:x=>{t.onHide(x)}}),At.config({store:{mode:"memory",initialValue:m.none()}}),js.config({channels:{...Zp({isExtraPart:e.isExtraPart,...t.fireDismissalEventInstead.map(x=>({fireEventInstead:{event:x.event}})).getOr({})}),...Up({...t.fireRepositionEventInstead.map(x=>({fireEventInstead:{event:x.event}})).getOr({}),doReposition:g})}})]),eventOrder:t.eventOrder,apis:b}},En=hr({name:"InlineView",configFields:[ct("lazySink"),He("onShow"),He("onHide"),al("onEscape"),Mo("inlineBehaviours",[Pe,At,js]),lr("fireDismissalEventInstead",[X("event",ec())]),lr("fireRepositionEventInstead",[X("event",ty())]),X("getRelated",m.none),X("isExtraPart",yt),X("eventOrder",m.none)],factory:gL,apis:{showAt:(t,e,n,o)=>{t.showAt(e,n,o)},showWithinBounds:(t,e,n,o,s)=>{t.showWithinBounds(e,n,o,s)},showMenuAt:(t,e,n,o)=>{t.showMenuAt(e,n,o)},showMenuWithinBounds:(t,e,n,o,s)=>{t.showMenuWithinBounds(e,n,o,s)},hide:(t,e)=>{t.hide(e)},isOpen:(t,e)=>t.isOpen(e),getContent:(t,e)=>t.getContent(e),setContent:(t,e,n)=>{t.setContent(e,n)},reposition:(t,e)=>{t.reposition(e)}}});var b1=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pd=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),fL=tinymce.util.Tools.resolve("tinymce.EditorManager"),yu=tinymce.util.Tools.resolve("tinymce.Env"),Ar;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ar||(Ar={}));var Rd;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Rd||(Rd={}));const Je=t=>e=>e.options.get(t),Vd=t=>e=>m.from(t(e)),yx=t=>{const e=yu.deviceType.isPhone(),n=yu.deviceType.isTablet()||e,o=t.options.register,s=a=>S(a)||a===!1,r=a=>S(a)||rt(a);o("skin",{processor:a=>S(a)||a===!1,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:r,default:Math.max(t.getElement().offsetHeight,400)}),o("width",{processor:r,default:Pd.DOM.getStyle(t.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:a=>S(a)||V(a),default:!e}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:a=>V(a)||S(a)||L(a)?{value:a,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),On(9,a=>{o("toolbar"+(a+1),{processor:"string"})}),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:Rd.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:t.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:s,default:"#top"}),o("anchor_bottom",{processor:s,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:a=>a==="both"||V(a),default:!yu.deviceType.isTouch()}),o("sidebar_show",{processor:"string"}),o("help_accessibility",{processor:"boolean",default:t.hasPlugin("help")}),o("default_font_stack",{processor:"string[]",default:[]})},xx=Je("readonly"),y1=Je("disabled"),f0=Je("height"),p0=Je("width"),v0=Vd(Je("min_width")),b0=Vd(Je("min_height")),x1=Vd(Je("max_width")),y0=Vd(Je("max_height")),Sx=Vd(Je("style_formats")),wx=Je("style_formats_merge"),Cx=Je("style_formats_autohide"),Tx=Je("content_langs"),Ex=Je("removed_menuitems"),xu=Je("toolbar_mode"),Ox=Je("toolbar_groups"),x0=Je("toolbar_location"),pL=Je("fixed_toolbar_container"),vL=Je("fixed_toolbar_container_target"),Mx=Je("toolbar_persist"),Ax=Je("toolbar_sticky_offset"),Dx=Je("menubar"),S1=Je("toolbar"),kx=Je("file_picker_callback"),Ix=Je("file_picker_validator_handler"),Lx=Je("font_size_input_default_unit"),Fx=Je("file_picker_types"),Hx=Je("typeahead_urls"),Px=Je("anchor_top"),Rx=Je("anchor_bottom"),Vx=Je("draggable_modal"),Bx=Je("statusbar"),Nx=Je("elementpath"),S0=Je("branding"),$x=Je("resize"),zx=Je("paste_as_text"),Zx=Je("sidebar_show"),Ux=Je("promotion"),_x=Je("help_accessibility"),jx=Je("default_font_stack"),Wx=Je("skin"),w0=t=>t.options.get("skin")===!1,w1=t=>t.options.get("menubar")!==!1,Gx=t=>{const e=t.options.get("skin_url");if(w0(t))return e;if(e)return t.documentBaseURI.toAbsolute(e);{const n=t.options.get("skin");return fL.baseURL+"/skins/ui/"+n}},bL=t=>m.from(t.options.get("skin_url")),Kx=t=>t.options.get("line_height_formats").split(" "),C1=t=>{const e=S1(t),n=S(e),o=L(e)&&e.length>0;return!Bd(t)&&(o||n||e===!0)},C0=t=>{const e=On(9,o=>t.options.get("toolbar"+(o+1))),n=Ve(e,S);return No(n.length>0,n)},Bd=t=>C0(t).fold(()=>{const e=S1(t);return K(e,S)&&e.length>0},Ut),T0=t=>x0(t)===Rd.bottom,Xx=t=>{var e;if(!t.inline)return m.none();const n=(e=pL(t))!==null&&e!==void 0?e:"";if(n.length>0)return Cn(it(),n);const o=vL(t);return W(o)?m.some(Ct.fromDom(o)):m.none()},Su=t=>t.inline&&Xx(t).isSome(),E0=t=>Xx(t).getOrThunk(()=>pa($o(Ct.fromDom(t.getElement())))),O0=t=>t.inline&&!w1(t)&&!C1(t)&&!Bd(t),wu=t=>(t.options.get("toolbar_sticky")||t.inline)&&!Su(t)&&!O0(t),gl=t=>!Su(t)&&t.options.get("ui_mode")==="split",Yx=t=>{const e=t.options.get("menu");return ft(e,n=>({...n,items:n.items}))};var yL=Object.freeze({__proto__:null,get ToolbarMode(){return Ar},get ToolbarLocation(){return Rd},register:yx,getSkinUrl:Gx,getSkinUrlOption:bL,isReadOnly:xx,isDisabled:y1,getSkin:Wx,isSkinDisabled:w0,getHeightOption:f0,getWidthOption:p0,getMinWidthOption:v0,getMinHeightOption:b0,getMaxWidthOption:x1,getMaxHeightOption:y0,getUserStyleFormats:Sx,shouldMergeStyleFormats:wx,shouldAutoHideStyleFormats:Cx,getLineHeightFormats:Kx,getContentLanguages:Tx,getRemovedMenuItems:Ex,isMenubarEnabled:w1,isMultipleToolbars:Bd,isToolbarEnabled:C1,isToolbarPersist:Mx,getMultipleToolbarsOption:C0,getUiContainer:E0,useFixedContainer:Su,isSplitUiMode:gl,getToolbarMode:xu,isDraggableModal:Vx,isDistractionFree:O0,isStickyToolbar:wu,getStickyToolbarOffset:Ax,getToolbarLocation:x0,isToolbarLocationBottom:T0,getToolbarGroups:Ox,getMenus:Yx,getMenubar:Dx,getToolbar:S1,getFilePickerCallback:kx,getFilePickerTypes:Fx,useTypeaheadUrls:Hx,getAnchorTop:Px,getAnchorBottom:Rx,getFilePickerValidatorHandler:Ix,getFontSizeInputDefaultUnit:Lx,useStatusBar:Bx,useElementPath:Nx,promotionEnabled:Ux,useBranding:S0,getResize:$x,getPasteAsText:zx,getSidebarShow:Zx,useHelpAccessibility:_x,getDefaultFontStack:jx});const xL=["visible","hidden","clip"],Jx=t=>ci(t).length>0&&!me(xL,t),Qx=t=>{if(un(t)){const e=Po(t,"overflow-x"),n=Po(t,"overflow-y");return Jx(e)||Jx(n)}else return!1},qx=t=>t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen(),SL=(t,e)=>{const n=C4(e,Qx),o=n.length===0?Ji(e).map($l).map(s=>C4(s,Qx)).getOr([]):n;return no(o).map(s=>({element:s,others:o.slice(1),isFullscreen:()=>qx(t)}))},fl=(t,e)=>gl(t)?SL(t,e):m.none(),pc=t=>{const e=[...mt(t.others,ao),zo()];return t.isFullscreen()?zo():Of(ao(t.element),e)},Bo=hr({name:"Button",factory:t=>{const e=v1(t.action),n=t.dom.tag,o=r=>wt(t.dom,"attributes").bind(a=>wt(a,r)),s=()=>{if(n==="button"){const r=o("type").getOr("button"),a=o("role").map(i=>({role:i})).getOr({});return{type:r,...a}}else return{role:t.role.getOr(o("role").getOr("button"))}};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:Jr.augment(t.buttonBehaviours,[Qt.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s()},eventOrder:t.eventOrder}},configFields:[X("uid",void 0),ct("dom"),X("components",[]),Jr.field("buttonBehaviours",[Qt,Bt]),$e("action"),$e("role"),X("eventOrder",{})]}),wL=t=>{const e=t.dom.attributes!==void 0?t.dom.attributes:[];return vn(e,(n,o)=>o.name==="class"?n:{...n,[o.name]:o.value},{})},CL=t=>Array.prototype.slice.call(t.dom.classList,0),Oi=t=>{const e=Ct.fromHtml(t),n=po(e),o=wL(e),s=CL(e),r=n.length===0?{}:{innerHtml:up(e)};return{tag:oo(e),classes:s,attributes:o,...r}},ze=t=>{const e=Sk(t)&&bn(t,"uid")?t.uid:mu("memento");return{get:r=>r.getSystem().getByUid(e).getOrDie(),getOpt:r=>r.getSystem().getByUid(e).toOptional(),asSpec:()=>({...t,uid:e})}};var TL=Object.freeze({__proto__:null,exhibit:(t,e)=>Wr({attributes:ou([{key:e.tabAttr,value:"true"}])})}),EL=[X("tabAttr","data-alloy-tabstop")];const fn=Ro({fields:EL,name:"tabstopping",active:TL}),tS=Lt("tooltip.exclusive"),Nd=Lt("tooltip.show"),$d=Lt("tooltip.hide"),zd=Lt("tooltip.immediateHide"),Zd=Lt("tooltip.immediateShow"),eS=(t,e,n)=>{t.getSystem().broadcastOn([tS],{})};var OL=Object.freeze({__proto__:null,hideAllExclusive:eS,immediateOpenClose:(t,e,n,o)=>Ae(t,o?Zd:zd),isEnabled:(t,e,n)=>n.isEnabled(),setComponents:(t,e,n,o)=>{n.getTooltip().each(s=>{s.getSystem().isConnected()&&se.set(s,o)})},setEnabled:(t,e,n,o)=>n.setEnabled(o)}),ML=Object.freeze({__proto__:null,events:(t,e)=>{const n=a=>{e.getTooltip().each(i=>{i.getSystem().isConnected()&&(Ti(i),t.onHide(a,i),e.clearTooltip())}),e.clearTimer()},o=a=>{if(!e.isShowing()&&e.isEnabled()){eS(a);const i=t.lazySink(a).getOrDie(),l=a.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:yn(t.mode==="normal"?[at(Ka(),u=>{Ae(a,Nd)}),at(kh(),u=>{Ae(a,$d)})]:[]),behaviours:ht([se.config({})])});e.setTooltip(l),uc(i,l),t.onShow(a,l),es.position(i,l,{anchor:t.anchor(a)})}},s=a=>{e.getTooltip().each(i=>{const l=t.lazySink(a).getOrDie();es.position(l,i,{anchor:t.anchor(a)})})},r=()=>{switch(t.mode){case"normal":return[at(wa(),a=>{Ae(a,Zd)}),at(xd(),a=>{Ae(a,zd)}),at(Ka(),a=>{Ae(a,Nd)}),at(kh(),a=>{Ae(a,$d)})];case"follow-highlight":return[at(Wf(),(a,i)=>{Ae(a,Nd)}),at(Gf(),a=>{Ae(a,$d)})];case"children-normal":return[at(wa(),(a,i)=>{cs(a.element).each(l=>{Sr(i.event.target,"[data-mce-tooltip]")&&e.getTooltip().fold(()=>{Ae(a,Zd)},u=>{e.isShowing()&&(t.onShow(a,u),s(a))})})}),at(xd(),a=>{cs(a.element).fold(()=>{Ae(a,zd)},_)}),at(Ka(),a=>{Cn(a.element,"[data-mce-tooltip]:hover").each(i=>{e.getTooltip().fold(()=>{Ae(a,Nd)},l=>{e.isShowing()&&(t.onShow(a,l),s(a))})})}),at(kh(),a=>{Cn(a.element,"[data-mce-tooltip]:hover").fold(()=>{Ae(a,$d)},_)})];default:return[at(wa(),(a,i)=>{cs(a.element).each(l=>{Sr(i.event.target,"[data-mce-tooltip]")&&e.getTooltip().fold(()=>{Ae(a,Zd)},u=>{e.isShowing()&&(t.onShow(a,u),s(a))})})}),at(xd(),a=>{cs(a.element).fold(()=>{Ae(a,zd)},_)})]}};return yn(en([[ay(a=>{t.onSetup(a)}),at(Nd,a=>{e.resetTimer(()=>{o(a)},t.delayForShow())}),at($d,a=>{e.resetTimer(()=>{n(a)},t.delayForHide())}),at(Zd,a=>{e.resetTimer(()=>{o(a)},0)}),at(zd,a=>{e.resetTimer(()=>{n(a)},0)}),at(tc(),(a,i)=>{const l=i;l.universal||me(l.channels,tS)&&n(a)}),Ya(a=>{n(a)})],r()]))}}),AL=[ct("lazySink"),ct("tooltipDom"),X("exclusive",!0),X("tooltipComponents",[]),gn("delayForShow",R(300)),gn("delayForHide",R(300)),gn("onSetup",_),Ga("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),X("anchor",t=>({type:"hotspot",hotspot:t,layouts:{onLtr:R([co,Oo,io,Wo,lo,Go]),onRtl:R([co,Oo,io,Wo,lo,Go])},bubble:Yr(0,-2,{})})),He("onHide"),He("onShow")],DL=Object.freeze({__proto__:null,init:()=>{const t=$t(!0),e=qe(),n=qe(),o=()=>{e.on(clearTimeout)},s=(a,i)=>{o(),e.set(setTimeout(a,i))},r=R("not-implemented");return dr({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:s,readState:r,isEnabled:()=>t.get(),setEnabled:a=>t.set(a)})}});const Dn=Ro({fields:AL,name:"tooltipping",active:ML,state:DL,apis:OL});/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:nS,setPrototypeOf:oS,isFrozen:kL,getPrototypeOf:IL,getOwnPropertyDescriptor:LL}=Object;let{freeze:Ks,seal:qr,create:sS}=Object,{apply:M0,construct:A0}=typeof Reflect<"u"&&Reflect;Ks||(Ks=function(e){return e}),qr||(qr=function(e){return e}),M0||(M0=function(e,n,o){return e.apply(n,o)}),A0||(A0=function(e,n){return new e(...n)});const T1=Dr(Array.prototype.forEach),rS=Dr(Array.prototype.pop),Ud=Dr(Array.prototype.push),E1=Dr(String.prototype.toLowerCase),D0=Dr(String.prototype.toString),aS=Dr(String.prototype.match),_d=Dr(String.prototype.replace),FL=Dr(String.prototype.indexOf),HL=Dr(String.prototype.trim),Ma=Dr(Object.prototype.hasOwnProperty),Xs=Dr(RegExp.prototype.test),jd=PL(TypeError);function Dr(t){return function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return M0(t,e,o)}}function PL(t){return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return A0(t,n)}}function rn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E1;oS&&oS(t,null);let o=e.length;for(;o--;){let s=e[o];if(typeof s=="string"){const r=n(s);r!==s&&(kL(e)||(e[o]=r),s=r)}t[s]=!0}return t}function RL(t){for(let e=0;e<t.length;e++)Ma(t,e)||(t[e]=null);return t}function vc(t){const e=sS(null);for(const[n,o]of nS(t))Ma(t,n)&&(Array.isArray(o)?e[n]=RL(o):o&&typeof o=="object"&&o.constructor===Object?e[n]=vc(o):e[n]=o);return e}function Wd(t,e){for(;t!==null;){const o=LL(t,e);if(o){if(o.get)return Dr(o.get);if(typeof o.value=="function")return Dr(o.value)}t=IL(t)}function n(){return null}return n}const iS=Ks(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),k0=Ks(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I0=Ks(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),VL=Ks(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L0=Ks(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),BL=Ks(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lS=Ks(["#text"]),cS=Ks(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F0=Ks(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),uS=Ks(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),O1=Ks(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),NL=qr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$L=qr(/<%[\w\W]*|[\w\W]*%>/gm),zL=qr(/\${[\w\W]*}/gm),ZL=qr(/^data-[\-\w.\u00B7-\uFFFF]/),UL=qr(/^aria-[\-\w]+$/),dS=qr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_L=qr(/^(?:\w+script|data):/i),jL=qr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mS=qr(/^html$/i),WL=qr(/^[a-z][.\w]*(-[.\w]+)+$/i);var hS=Object.freeze({__proto__:null,MUSTACHE_EXPR:NL,ERB_EXPR:$L,TMPLIT_EXPR:zL,DATA_ATTR:ZL,ARIA_ATTR:UL,IS_ALLOWED_URI:dS,IS_SCRIPT_OR_DATA:_L,ATTR_WHITESPACE:jL,DOCTYPE_NAME:mS,CUSTOM_ELEMENT:WL});const Gd={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},GL=function(){return typeof window>"u"?null:window},KL=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let o=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(o=n.getAttribute(s));const r="dompurify"+(o?"#"+o:"");try{return e.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}};function gS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:GL();const e=Te=>gS(Te);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Gd.document)return e.isSupported=!1,e;let{document:n}=t;const o=n,s=o.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:i,Element:l,NodeFilter:u,NamedNodeMap:g=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:b,DOMParser:x,trustedTypes:E}=t,A=l.prototype,k=Wd(A,"cloneNode"),U=Wd(A,"remove"),I=Wd(A,"nextSibling"),N=Wd(A,"childNodes"),z=Wd(A,"parentNode");if(typeof a=="function"){const Te=n.createElement("template");Te.content&&Te.content.ownerDocument&&(n=Te.content.ownerDocument)}let J,Q="";const{implementation:gt,createNodeIterator:Dt,createDocumentFragment:nt,getElementsByTagName:kt}=n,{importNode:bt}=o;let It={};e.isSupported=typeof nS=="function"&&typeof z=="function"&&gt&&gt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:tn,TMPLIT_EXPR:Le,DATA_ATTR:Rt,ARIA_ATTR:ut,IS_SCRIPT_OR_DATA:St,ATTR_WHITESPACE:Jt,CUSTOM_ELEMENT:de}=hS;let{IS_ALLOWED_URI:Nt}=hS,ee=null;const Xe=rn({},[...iS,...k0,...I0,...L0,...lS]);let Ue=null;const ms=rn({},[...cS,...F0,...uS,...O1]);let Sn=Object.seal(sS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ps=null,Ao=null,Rs=!0,Vs=!0,pr=!1,Hc=!0,ia=!1,wm=!0,Hi=!1,Cm=!1,ib=!1,zu=!1,Vg=!1,Bg=!1,B8=!0,N8=!1;const wX="user-content-";let lb=!0,Tm=!1,Zu={},Uu=null;const $8=rn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let z8=null;const Z8=rn({},["audio","video","img","source","image","track"]);let cb=null;const U8=rn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ng="http://www.w3.org/1998/Math/MathML",$g="http://www.w3.org/2000/svg",Pi="http://www.w3.org/1999/xhtml";let _u=Pi,ub=!1,db=null;const CX=rn({},[Ng,$g,Pi],D0);let Em=null;const TX=["application/xhtml+xml","text/html"],EX="text/html";let hs=null,ju=null;const OX=n.createElement("form"),_8=function(q){return q instanceof RegExp||q instanceof Function},mb=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ju&&ju===q)){if((!q||typeof q!="object")&&(q={}),q=vc(q),Em=TX.indexOf(q.PARSER_MEDIA_TYPE)===-1?EX:q.PARSER_MEDIA_TYPE,hs=Em==="application/xhtml+xml"?D0:E1,ee=Ma(q,"ALLOWED_TAGS")?rn({},q.ALLOWED_TAGS,hs):Xe,Ue=Ma(q,"ALLOWED_ATTR")?rn({},q.ALLOWED_ATTR,hs):ms,db=Ma(q,"ALLOWED_NAMESPACES")?rn({},q.ALLOWED_NAMESPACES,D0):CX,cb=Ma(q,"ADD_URI_SAFE_ATTR")?rn(vc(U8),q.ADD_URI_SAFE_ATTR,hs):U8,z8=Ma(q,"ADD_DATA_URI_TAGS")?rn(vc(Z8),q.ADD_DATA_URI_TAGS,hs):Z8,Uu=Ma(q,"FORBID_CONTENTS")?rn({},q.FORBID_CONTENTS,hs):$8,Ps=Ma(q,"FORBID_TAGS")?rn({},q.FORBID_TAGS,hs):{},Ao=Ma(q,"FORBID_ATTR")?rn({},q.FORBID_ATTR,hs):{},Zu=Ma(q,"USE_PROFILES")?q.USE_PROFILES:!1,Rs=q.ALLOW_ARIA_ATTR!==!1,Vs=q.ALLOW_DATA_ATTR!==!1,pr=q.ALLOW_UNKNOWN_PROTOCOLS||!1,Hc=q.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ia=q.SAFE_FOR_TEMPLATES||!1,wm=q.SAFE_FOR_XML!==!1,Hi=q.WHOLE_DOCUMENT||!1,zu=q.RETURN_DOM||!1,Vg=q.RETURN_DOM_FRAGMENT||!1,Bg=q.RETURN_TRUSTED_TYPE||!1,ib=q.FORCE_BODY||!1,B8=q.SANITIZE_DOM!==!1,N8=q.SANITIZE_NAMED_PROPS||!1,lb=q.KEEP_CONTENT!==!1,Tm=q.IN_PLACE||!1,Nt=q.ALLOWED_URI_REGEXP||dS,_u=q.NAMESPACE||Pi,Sn=q.CUSTOM_ELEMENT_HANDLING||{},q.CUSTOM_ELEMENT_HANDLING&&_8(q.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Sn.tagNameCheck=q.CUSTOM_ELEMENT_HANDLING.tagNameCheck),q.CUSTOM_ELEMENT_HANDLING&&_8(q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Sn.attributeNameCheck=q.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),q.CUSTOM_ELEMENT_HANDLING&&typeof q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Sn.allowCustomizedBuiltInElements=q.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ia&&(Vs=!1),Vg&&(zu=!0),Zu&&(ee=rn({},lS),Ue=[],Zu.html===!0&&(rn(ee,iS),rn(Ue,cS)),Zu.svg===!0&&(rn(ee,k0),rn(Ue,F0),rn(Ue,O1)),Zu.svgFilters===!0&&(rn(ee,I0),rn(Ue,F0),rn(Ue,O1)),Zu.mathMl===!0&&(rn(ee,L0),rn(Ue,uS),rn(Ue,O1))),q.ADD_TAGS&&(ee===Xe&&(ee=vc(ee)),rn(ee,q.ADD_TAGS,hs)),q.ADD_ATTR&&(Ue===ms&&(Ue=vc(Ue)),rn(Ue,q.ADD_ATTR,hs)),q.ADD_URI_SAFE_ATTR&&rn(cb,q.ADD_URI_SAFE_ATTR,hs),q.FORBID_CONTENTS&&(Uu===$8&&(Uu=vc(Uu)),rn(Uu,q.FORBID_CONTENTS,hs)),lb&&(ee["#text"]=!0),Hi&&rn(ee,["html","head","body"]),ee.table&&(rn(ee,["tbody"]),delete Ps.tbody),q.TRUSTED_TYPES_POLICY){if(typeof q.TRUSTED_TYPES_POLICY.createHTML!="function")throw jd('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof q.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw jd('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');J=q.TRUSTED_TYPES_POLICY,Q=J.createHTML("")}else J===void 0&&(J=KL(E,s)),J!==null&&typeof Q=="string"&&(Q=J.createHTML(""));Ks&&Ks(q),ju=q}},j8=rn({},["mi","mo","mn","ms","mtext"]),W8=rn({},["annotation-xml"]),MX=rn({},["title","style","font","a","script"]),G8=rn({},[...k0,...I0,...VL]),K8=rn({},[...L0,...BL]),AX=function(q){let zt=z(q);(!zt||!zt.tagName)&&(zt={namespaceURI:_u,tagName:"template"});const xe=E1(q.tagName),Jn=E1(zt.tagName);return db[q.namespaceURI]?q.namespaceURI===$g?zt.namespaceURI===Pi?xe==="svg":zt.namespaceURI===Ng?xe==="svg"&&(Jn==="annotation-xml"||j8[Jn]):!!G8[xe]:q.namespaceURI===Ng?zt.namespaceURI===Pi?xe==="math":zt.namespaceURI===$g?xe==="math"&&W8[Jn]:!!K8[xe]:q.namespaceURI===Pi?zt.namespaceURI===$g&&!W8[Jn]||zt.namespaceURI===Ng&&!j8[Jn]?!1:!K8[xe]&&(MX[xe]||!G8[xe]):!!(Em==="application/xhtml+xml"&&db[q.namespaceURI]):!1},si=function(q){Ud(e.removed,{element:q});try{z(q).removeChild(q)}catch{U(q)}},Om=function(q,zt){try{Ud(e.removed,{attribute:zt.getAttributeNode(q),from:zt})}catch{Ud(e.removed,{attribute:null,from:zt})}if(zt.removeAttribute(q),q==="is"&&!Ue[q])if(zu||Vg)try{si(zt)}catch{}else try{zt.setAttribute(q,"")}catch{}},X8=function(q){let zt=null,xe=null;if(ib)q="<remove></remove>"+q;else{const gs=aS(q,/^[\r\n\t ]+/);xe=gs&&gs[0]}Em==="application/xhtml+xml"&&_u===Pi&&(q='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+q+"</body></html>");const Jn=J?J.createHTML(q):q;if(_u===Pi)try{zt=new x().parseFromString(Jn,Em)}catch{}if(!zt||!zt.documentElement){zt=gt.createDocument(_u,"template",null);try{zt.documentElement.innerHTML=ub?Q:Jn}catch{}}const Bs=zt.body||zt.documentElement;return q&&xe&&Bs.insertBefore(n.createTextNode(xe),Bs.childNodes[0]||null),_u===Pi?kt.call(zt,Hi?"html":"body")[0]:Hi?zt.documentElement:Bs},Y8=function(q){return Dt.call(q.ownerDocument||q,q,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},J8=function(q){return q instanceof b&&(typeof q.nodeName!="string"||typeof q.textContent!="string"||typeof q.removeChild!="function"||!(q.attributes instanceof g)||typeof q.removeAttribute!="function"||typeof q.setAttribute!="function"||typeof q.namespaceURI!="string"||typeof q.insertBefore!="function"||typeof q.hasChildNodes!="function")},Q8=function(q){return typeof i=="function"&&q instanceof i},Ri=function(q,zt,xe){It[q]&&T1(It[q],Jn=>{Jn.call(e,zt,xe,ju)})},q8=function(q){let zt=null;if(Ri("beforeSanitizeElements",q,null),J8(q))return si(q),!0;const xe=hs(q.nodeName);if(Ri("uponSanitizeElement",q,{tagName:xe,allowedTags:ee}),q.hasChildNodes()&&!Q8(q.firstElementChild)&&Xs(/<[/\w]/g,q.innerHTML)&&Xs(/<[/\w]/g,q.textContent)||q.nodeType===Gd.progressingInstruction||wm&&q.nodeType===Gd.comment&&Xs(/<[/\w]/g,q.data))return si(q),!0;if(!ee[xe]||Ps[xe]){if(!Ps[xe]&&e7(xe)&&(Sn.tagNameCheck instanceof RegExp&&Xs(Sn.tagNameCheck,xe)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(xe)))return!1;if(lb&&!Uu[xe]){const Jn=z(q)||q.parentNode,Bs=N(q)||q.childNodes;if(Bs&&Jn){const gs=Bs.length;for(let vr=gs-1;vr>=0;--vr){const ri=k(Bs[vr],!0);ri.__removalCount=(q.__removalCount||0)+1,Jn.insertBefore(ri,I(q))}}}return si(q),!0}return q instanceof l&&!AX(q)||(xe==="noscript"||xe==="noembed"||xe==="noframes")&&Xs(/<\/no(script|embed|frames)/i,q.innerHTML)?(si(q),!0):(ia&&q.nodeType===Gd.text&&(zt=q.textContent,T1([ye,tn,Le],Jn=>{zt=_d(zt,Jn," ")}),q.textContent!==zt&&(Ud(e.removed,{element:q.cloneNode()}),q.textContent=zt)),Ri("afterSanitizeElements",q,null),!1)},t7=function(q,zt,xe){if(B8&&(zt==="id"||zt==="name")&&(xe in n||xe in OX))return!1;if(!(Vs&&!Ao[zt]&&Xs(Rt,zt))){if(!(Rs&&Xs(ut,zt))){if(!Ue[zt]||Ao[zt]){if(!(e7(q)&&(Sn.tagNameCheck instanceof RegExp&&Xs(Sn.tagNameCheck,q)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(q))&&(Sn.attributeNameCheck instanceof RegExp&&Xs(Sn.attributeNameCheck,zt)||Sn.attributeNameCheck instanceof Function&&Sn.attributeNameCheck(zt))||zt==="is"&&Sn.allowCustomizedBuiltInElements&&(Sn.tagNameCheck instanceof RegExp&&Xs(Sn.tagNameCheck,xe)||Sn.tagNameCheck instanceof Function&&Sn.tagNameCheck(xe))))return!1}else if(!cb[zt]){if(!Xs(Nt,_d(xe,Jt,""))){if(!((zt==="src"||zt==="xlink:href"||zt==="href")&&q!=="script"&&FL(xe,"data:")===0&&z8[q])){if(!(pr&&!Xs(St,_d(xe,Jt,"")))){if(xe)return!1}}}}}}return!0},e7=function(q){return q!=="annotation-xml"&&aS(q,de)},n7=function(q){Ri("beforeSanitizeAttributes",q,null);const{attributes:zt}=q;if(!zt)return;const xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ue};let Jn=zt.length;for(;Jn--;){const Bs=zt[Jn],{name:gs,namespaceURI:vr,value:ri}=Bs,Mm=hs(gs);let Es=gs==="value"?ri:HL(ri);const kX=Es;if(xe.attrName=Mm,xe.attrValue=Es,xe.keepAttr=!0,xe.forceKeepAttr=void 0,Ri("uponSanitizeAttribute",q,xe),Es=xe.attrValue,xe.forceKeepAttr)continue;if(!xe.keepAttr){Om(gs,q);continue}if(!Hc&&Xs(/\/>/i,Es)){Om(gs,q);continue}ia&&T1([ye,tn,Le],s7=>{Es=_d(Es,s7," ")});const o7=hs(q.nodeName);if(!t7(o7,Mm,Es)){Om(gs,q);continue}if(N8&&(Mm==="id"||Mm==="name")&&(Om(gs,q),Es=wX+Es),wm&&Xs(/((--!?|])>)|<\/(style|title)/i,Es)){Om(gs,q);continue}if(J&&typeof E=="object"&&typeof E.getAttributeType=="function"&&!vr)switch(E.getAttributeType(o7,Mm)){case"TrustedHTML":{Es=J.createHTML(Es);break}case"TrustedScriptURL":{Es=J.createScriptURL(Es);break}}if(Es!==kX)try{vr?q.setAttributeNS(vr,gs,Es):q.setAttribute(gs,Es),J8(q)?si(q):rS(e.removed)}catch{}}Ri("afterSanitizeAttributes",q,null)},DX=function Te(q){let zt=null;const xe=Y8(q);for(Ri("beforeSanitizeShadowDOM",q,null);zt=xe.nextNode();)Ri("uponSanitizeShadowNode",zt,null),!q8(zt)&&(zt.content instanceof r&&Te(zt.content),n7(zt));Ri("afterSanitizeShadowDOM",q,null)};return e.sanitize=function(Te){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},zt=null,xe=null,Jn=null,Bs=null;if(ub=!Te,ub&&(Te="<!-->"),typeof Te!="string"&&!Q8(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw jd("dirty is not a string, aborting")}else throw jd("toString is not a function");if(!e.isSupported)return Te;if(Cm||mb(q),e.removed=[],typeof Te=="string"&&(Tm=!1),Tm){if(Te.nodeName){const ri=hs(Te.nodeName);if(!ee[ri]||Ps[ri])throw jd("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof i)zt=X8("<!---->"),xe=zt.ownerDocument.importNode(Te,!0),xe.nodeType===Gd.element&&xe.nodeName==="BODY"||xe.nodeName==="HTML"?zt=xe:zt.appendChild(xe);else{if(!zu&&!ia&&!Hi&&Te.indexOf("<")===-1)return J&&Bg?J.createHTML(Te):Te;if(zt=X8(Te),!zt)return zu?null:Bg?Q:""}zt&&ib&&si(zt.firstChild);const gs=Y8(Tm?Te:zt);for(;Jn=gs.nextNode();)q8(Jn)||(Jn.content instanceof r&&DX(Jn.content),n7(Jn));if(Tm)return Te;if(zu){if(Vg)for(Bs=nt.call(zt.ownerDocument);zt.firstChild;)Bs.appendChild(zt.firstChild);else Bs=zt;return(Ue.shadowroot||Ue.shadowrootmode)&&(Bs=bt.call(o,Bs,!0)),Bs}let vr=Hi?zt.outerHTML:zt.innerHTML;return Hi&&ee["!doctype"]&&zt.ownerDocument&&zt.ownerDocument.doctype&&zt.ownerDocument.doctype.name&&Xs(mS,zt.ownerDocument.doctype.name)&&(vr="<!DOCTYPE "+zt.ownerDocument.doctype.name+`>
`+vr),ia&&T1([ye,tn,Le],ri=>{vr=_d(vr,ri," ")}),J&&Bg?J.createHTML(vr):vr},e.setConfig=function(){let Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mb(Te),Cm=!0},e.clearConfig=function(){ju=null,Cm=!1},e.isValidAttribute=function(Te,q,zt){ju||mb({});const xe=hs(Te),Jn=hs(q);return t7(xe,Jn,zt)},e.addHook=function(Te,q){typeof q=="function"&&(It[Te]=It[Te]||[],Ud(It[Te],q))},e.removeHook=function(Te){if(It[Te])return rS(It[Te])},e.removeHooks=function(Te){It[Te]&&(It[Te]=[])},e.removeAllHooks=function(){It={}},e}var XL=gS();const fS=t=>XL().sanitize(t);var kr=tinymce.util.Tools.resolve("tinymce.util.I18n");const YL={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},pS="temporary-placeholder",H0=t=>()=>wt(t,pS).getOr("!not found!"),P0=(t,e)=>{const n=t.toLowerCase();if(kr.isRtl()){const o=vs(n,"-rtl");return jt(e,o)?o:n}else return n},vS=(t,e)=>wt(e,P0(t,e)),bS=(t,e)=>{const n=e();return vS(t,n).getOrThunk(H0(n))},JL=(t,e,n)=>{const o=e();return vS(t,o).or(n).getOrThunk(H0(o))},QL=t=>kr.isRtl()?jt(YL,t):!1,yS=()=>le("add-focusable",[xn(t=>{bp(t.element,"svg").each(e=>Et(e,"focusable","false"))})]),xS=(t,e,n,o)=>{var s,r;const a=QL(e)?["tox-icon--flip"]:[],i=wt(n,P0(e,n)).or(o).getOrThunk(H0(n));return{dom:{tag:t.tag,attributes:(s=t.attributes)!==null&&s!==void 0?s:{},classes:t.classes.concat(a),innerHtml:i},behaviours:ht([...(r=t.behaviours)!==null&&r!==void 0?r:[],yS()])}},Ir=(t,e,n,o=m.none())=>xS(e,t,n(),o),qL=(t,e,n)=>{const o=n(),s=Me(t,r=>jt(o,P0(r,o)));return xS(e,s.getOr(pS),o,m.none())},tF={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},R0=hr({name:"Notification",factory:t=>{const e=Lt("notification-text"),n=ze({dom:Oi(`<p id=${e}>${fS(t.backstageProvider.translate(t.text))}</p>`),behaviours:ht([se.config({})])}),o=A=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${A}%`}}}),s=A=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${A}%`}}),r=ze({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:ht([se.config({})])}),l={updateProgress:(A,k)=>{A.getSystem().isConnected()&&r.getOpt(A).each(U=>{se.set(U,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(k)]},s(k)])})},updateText:(A,k)=>{if(A.getSystem().isConnected()){const U=n.get(A);se.set(U,[Tn(k)])}}},u=en([t.icon.toArray(),t.level.toArray(),t.level.bind(A=>m.from(tF[A])).toArray()]),g=ze(Bo.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":t.backstageProvider.translate("Close")}},components:[Ir("close",{tag:"span",classes:["tox-icon"]},t.iconProvider)],buttonBehaviours:ht([fn.config({}),Dn.config({...t.backstageProvider.tooltips.getConfig({tooltipText:t.backstageProvider.translate("Close")})})]),action:A=>{t.onAction(A)}})),b=qL(u,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),x={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:ht([se.config({})])},E=[b,x];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":e},classes:t.level.map(A=>["tox-notification","tox-notification--in",`tox-notification--${A}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ht([fn.config({}),Qt.config({}),Bt.config({mode:"special",onEscape:A=>(t.onAction(A),m.some(!0))})]),components:E.concat(t.progress?[r.asSpec()]:[]).concat([g.asSpec()]),apis:l}},configFields:[$e("level"),ct("progress"),$e("icon"),ct("onAction"),ct("text"),ct("iconProvider"),ct("backstageProvider")],apis:{updateProgress:(t,e,n)=>{t.updateProgress(e,n)},updateText:(t,e,n)=>{t.updateText(e,n)}}});var eF=(t,e,n,o)=>{const s=e.backstage.shared,r=()=>Ct.fromDom(t.queryCommandValue("ToggleView")===""?t.getContentAreaContainer():t.getContainer()),a=()=>{const b=ao(r());return m.some(b)},i=b=>{a().each(x=>{Mt(b,E=>{De(E.element,"width"),is(E.element)>x.width&&ce(E.element,"width",x.width+"px")})})};return{open:(b,x,E)=>{const A=()=>{const N=gt=>{se.remove(gt,k),U()},z=(gt,Dt)=>{po(gt.element).length===0?J(gt,Dt):Q(gt,Dt)},J=(gt,Dt)=>{En.hide(gt),o.clear(),Dt&&t.focus()},Q=(gt,Dt)=>{Dt&&Bt.focusIn(gt)};o.on(gt=>{x();const Dt=E();N(gt),z(gt,Dt)})},k=ts(R0.sketch({text:b.text,level:me(["success","error","warning","warn","info"],b.type)?b.type:void 0,progress:b.progressBar===!0,icon:b.icon,onAction:A,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(o.isSet()){const N=mr(k);o.on(z=>{se.append(z,N),En.reposition(z),An.refresh(z),i(z.components())})}else{const N=ts(En.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([Bt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),se.config({}),...wu(t)&&!s.header.isPositionedAtTop()?[]:[An.config({contextual:{lazyContext:()=>m.some(ao(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:gt=>fl(t,gt.element).map(nt=>({bounds:pc(nt),optScrollEnv:m.some({currentScrollTop:nt.element.dom.scrollTop,scrollElmTop:or(nt.element).top})})).getOrThunk(()=>({bounds:zo(),optScrollEnv:m.none()}))})]])})),z=mr(k),J={maxHeightFunction:gu()},Q={...s.anchors.banner(),overrides:J};o.set(N),n.add(N),En.showWithinBounds(N,z,{anchor:Q},a)}rt(b.timeout)&&b.timeout>0&&b1.setEditorTimeout(t,()=>{A()},b.timeout);const U=()=>{o.on(N=>{En.reposition(N),An.refresh(N),i(N.components())})};return{close:A,reposition:U,text:N=>{R0.updateText(k,N)},settings:b,getEl:()=>k.element.dom,progressBar:{value:N=>{R0.updateProgress(k,N)}}}},close:b=>{b.close()},getArgs:b=>b.settings}};const nF={setup:(t,e)=>{const n=(s,r)=>{_t(s,Ca(),{raw:r})},o=()=>t.getMenu().bind(Ze.getHighlighted);e.on("keydown",s=>{const r=s.which;t.isActive()&&(t.isMenuOpen()?r===13?(o().each(nc),s.preventDefault()):r===40?(o().fold(()=>{t.getMenu().each(Ze.highlightFirst)},a=>{n(a,s)}),s.preventDefault(),s.stopImmediatePropagation()):(r===37||r===38||r===39)&&o().each(a=>{n(a,s),s.preventDefault(),s.stopImmediatePropagation()}):(r===13||r===38||r===40)&&t.cancelIfNecessary())}),e.on("NodeChange",()=>{t.isActive()&&!t.isProcessingAction()&&!e.queryCommandState("mceAutoCompleterInRange")&&t.cancelIfNecessary()})}};var V0;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(V0||(V0={}));var Aa=V0;const B0="tox-menu-nav__js",M1="tox-collection__item",N0="tox-swatch",oF={normal:B0,color:N0},SS="tox-collection__item--enabled",sF="tox-collection__group-heading",wS="tox-collection__item-icon",$0="tox-collection__item-label",rF="tox-collection__item-accessory",CS="tox-collection__item-caret",aF="tox-collection__item-checkmark",bc="tox-collection__item--active",TS="tox-collection__item-container",iF="tox-collection__item-container--column",ES="tox-collection__item-container--row",lF="tox-collection__item-container--align-right",cF="tox-collection__item-container--align-left",uF="tox-collection__item-container--valign-top",dF="tox-collection__item-container--valign-middle",mF="tox-collection__item-container--valign-bottom",OS=t=>wt(oF,t).getOr(B0),hF=t=>t==="color"?"tox-swatches":"tox-menu",z0=t=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:hF(t),tieredMenu:"tox-tiered-menu"}),yc=t=>{const e=z0(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:OS(t)}},gF=(t,e,n)=>{const o=z0(n);return{tag:"div",classes:en([[o.menu,`tox-menu-${e}-column`],t?[o.hasIcons]:[]])}},fF=[gc.parts.items({})],A1=(t,e,n)=>{const o=z0(n);return{dom:{tag:"div",classes:en([[o.tieredMenu]])},markers:yc(n)}},MS=R([Pn("type","text"),$e("data"),X("inputAttributes",{}),X("inputStyles",{}),X("tag","input"),X("inputClasses",[]),He("onSetValue"),gn("fromInputValue",Ot),gn("toInputValue",Ot),X("styles",{}),X("eventOrder",{}),Mo("inputBehaviours",[At,Qt]),X("selectOnFocus",!0)]),AS=t=>ht([Qt.config({onFocus:t.selectOnFocus?e=>{const n=e.element,o=xi(n);t.type!=="range"&&n.dom.setSelectionRange(0,o.length)}:_})]),pF=t=>({...AS(t),...Vo(t.inputBehaviours,[At.config({store:{mode:"manual",...t.data.map(e=>({initialValue:e})).getOr({}),getValue:e=>t.fromInputValue(xi(e.element)),setValue:(e,n)=>{xi(e.element)!==n&&lc(e.element,t.toInputValue(n))}},onSetValue:t.onSetValue})])}),DS=t=>({tag:t.tag,attributes:{type:t.type,...t.inputAttributes},styles:t.inputStyles,classes:t.inputClasses}),vF=(t,e)=>({uid:t.uid,dom:DS(t),components:[],behaviours:pF(t),eventOrder:t.eventOrder}),pl=hr({name:"Input",configFields:MS(),factory:vF}),kS=Lt("refetch-trigger-event"),IS=Lt("redirect-menu-item-interaction"),LS="tox-menu__searcher",D1=t=>Cn(t.element,`.${LS}`).bind(e=>t.getSystem().getByDom(e).toOptional()),FS=D1,bF=(t,e)=>{At.setValue(t,e.fetchPattern),t.element.dom.selectionStart=e.selectionStart,t.element.dom.selectionEnd=e.selectionEnd},HS=t=>{const e=At.getValue(t),n=t.element.dom.selectionStart,o=t.element.dom.selectionEnd;return{fetchPattern:e,selectionStart:n,selectionEnd:o}},yF=(t,e)=>{Be(e.element,"id").each(n=>Et(t.element,"aria-activedescendant",n))},xF=t=>{const e=(s,r)=>(r.cut(),m.none()),n=(s,r)=>{const a={interactionEvent:r.event,eventType:r.event.raw.type};return _t(s,IS,a),m.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[M1]},components:[pl.sketch({inputClasses:[LS,"tox-textfield"],inputAttributes:{...t.placeholder.map(s=>({placeholder:t.i18n(s)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ht([le(o,[at(bi(),s=>{Ae(s,kS)}),at(Ca(),(s,r)=>{r.event.raw.key==="Escape"&&r.stop()})]),Bt.config({mode:"special",onLeft:e,onRight:e,onSpace:e,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,Bt.name()]}})]}},k1="tox-collection--results__js",PS=t=>{var e;return t.dom?{...t,dom:{...t.dom,attributes:{...(e=t.dom.attributes)!==null&&e!==void 0?e:{},id:Lt("aria-item-search-result-id"),"aria-selected":"false"}}}:t},Z0=(t,e)=>n=>{const o=kn(n,e);return mt(o,s=>({dom:t,components:s}))},SF=t=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[gc.parts.items({preprocess:t!=="auto"?Z0({tag:"div",classes:["tox-swatches__row"]},t):Ot})]}]}),wF=t=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[gc.parts.items({preprocess:Z0({tag:"div",classes:["tox-collection__group"]},t)})]}),RS=(t,e)=>{const n=[];let o=[];return Mt(t,(s,r)=>{e(s,r)?(o.length>0&&n.push(o),o=[],(jt(s.dom,"innerHtml")||s.components&&s.components.length>0)&&o.push(s)):o.push(s)}),o.length>0&&n.push(o),mt(n,s=>({dom:{tag:"div",classes:["tox-collection__group"]},components:s}))},U0=(t,e,n)=>gc.parts.items({preprocess:o=>{const s=mt(o,n);return t!=="auto"&&t>1?Z0({tag:"div",classes:["tox-collection__group"]},t)(s):RS(s,(r,a)=>e[a].type==="separator")}}),VS=(t,e,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[U0(t,e,Ot)]}),CF=(t,e,n=!0)=>{const o=Lt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",k1].concat(t===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[U0(t,e,PS)]}},TF=(t,e,n)=>{const o=Lt("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[xF({i18n:kr.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...t===1?["tox-collection--list"]:["tox-collection--grid"],k1],attributes:{id:o}},components:[U0(t,e,PS)]}]}},EF=(t,e=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[gc.parts.items({preprocess:n=>RS(n,(o,s)=>t[s].type==="separator")})]}),I1=t=>Ge(t,e=>"icon"in e&&e.icon!==void 0),Mi=t=>(console.error(nu(t)),console.log(t),m.none()),OF=(t,e,n,o,s)=>{const r=EF(n);return{value:t,dom:r.dom,components:r.components,items:n}},_0=(t,e,n,o,s)=>{const r=()=>s.menuType!=="searchable"?VS(o,n):s.searchMode.searchMode==="search-with-field"?TF(o,n,s.searchMode):CF(o,n);if(s.menuType==="color"){const a=SF(o);return{value:t,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="normal"&&o==="auto"){const a=VS(o,n);return{value:t,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="normal"||s.menuType==="searchable"){const a=r();return{value:t,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="listpreview"&&o!=="auto"){const a=wF(o);return{value:t,dom:a.dom,components:a.components,items:n}}else return{value:t,dom:gF(e,o,s.menuType),components:fF,items:n}},_n=Eo("type"),j0=Eo("name"),W0=Eo("label"),Ai=Eo("text"),BS=Eo("title"),NS=Eo("icon"),Kd=Eo("value"),MF=_r("fetch"),AF=_r("getSubmenuItems"),Cu=_r("onAction"),DF=_r("onItemAction"),xc=gn("onSetup",()=>_),kF=Kn("name"),vl=Kn("text"),IF=Kn("role"),Lr=Kn("icon"),Xd=Kn("tooltip"),G0=Kn("label"),K0=Kn("shortcut"),LF=al("select"),L1=qo("active",!1),FF=qo("borderless",!1),ta=qo("enabled",!0),F1=qo("primary",!1),$S=t=>X("columns",t),X0=X("meta",{}),Y0=gn("onAction",_),Tu=t=>Pn("type",t),J0=t=>Zo("name","name",Qc(()=>Lt(`${t}-name`)),bo),HF=t=>Zo("value","value",Qc(()=>Lt(`${t}-value`)),xa()),zS=te([_n,vl]),PF=t=>Nn("separatormenuitem",zS,t),RF=te([Tu("autocompleteitem"),L1,ta,X0,Kd,vl,Lr]),VF=t=>Nn("Autocompleter.Separator",zS,t),BF=t=>Nn("Autocompleter.Item",RF,t),Yd=[ta,Xd,Lr,vl,xc,Pn("context","mode:design")],NF=te([_n,Cu,K0].concat(Yd)),ZS=t=>Nn("toolbarbutton",NF,t),Q0=[L1].concat(Yd),$F=te(Q0.concat([_n,Cu,K0])),US=t=>Nn("ToggleButton",$F,t),H1=[gn("predicate",yt),Ga("scope","node",["node","editor"]),Ga("position","selection",["node","selection","line"])],zF=Yd.concat([Tu("contextformbutton"),Pn("align","end"),F1,Cu,Ss("original",Ot)]),ZF=Q0.concat([Tu("contextformbutton"),Pn("align","end"),F1,Cu,Ss("original",Ot)]),UF=Yd.concat([Tu("contextformbutton")]),_F=Q0.concat([Tu("contextformtogglebutton")]),jF=Is("type",{contextformbutton:zF,contextformtogglebutton:ZF}),q0=[G0,Us("commands",jF),Wa("launch",Is("type",{contextformbutton:UF,contextformtogglebutton:_F})),gn("onInput",_),gn("onSetup",_)],WF=[...H1,...q0,Ur("type",["contextform"]),gn("initValue",R("")),Kn("placeholder")],GF=[...H1,...q0,Ur("type",["contextsliderform"]),gn("initValue",R(0)),gn("min",R(0)),gn("max",R(100))],KF=[...H1,...q0,Ur("type",["contextsizeinputform"]),gn("initValue",R({width:"",height:""}))],XF=Is("type",{contextform:WF,contextsliderform:GF,contextsizeinputform:KF}),YF=t=>Nn("ContextForm",XF,t),JF=te([Tu("contexttoolbar"),ir("items",Ch([bo,Th([Kn("name"),Kn("label"),Us("items",bo)])]))].concat(H1)),QF=t=>({name:t.name.getOrUndefined(),label:t.label.getOrUndefined(),items:t.items}),qF=t=>({...t,items:S(t.items)?t.items:mt(t.items,QF)}),tH=t=>Nn("ContextToolbar",JF,t),eH=[_n,Eo("src"),Kn("alt"),Yl("classes",[],bo)],nH=te(eH),oH=[_n,Ai,kF,Yl("classes",["tox-collection__item-label"],bo)],sH=te(oH),_S=Zb(()=>eu("type",{cardimage:nH,cardtext:sH,cardcontainer:rH})),rH=te([_n,Pn("direction","horizontal"),Pn("align","left"),Pn("valign","middle"),Us("items",_S)]),Eu=[ta,vl,IF,K0,HF("menuitem"),X0,Pn("context","mode:design")],aH=te([_n,G0,Us("items",_S),xc,Y0].concat(Eu)),iH=t=>Nn("cardmenuitem",aH,t),lH=te([_n,L1,Lr].concat(Eu)),cH=t=>Nn("choicemenuitem",lH,t),jS=[_n,Eo("fancytype"),Y0],uH=[X("initData",{})].concat(jS),dH=[al("select"),$f("initData",{},[qo("allowCustomColors",!0),Pn("storageKey","default"),Kb("colors",xa())])].concat(jS),mH=Is("fancytype",{inserttable:uH,colorswatch:dH}),hH=t=>Nn("fancymenuitem",mH,t),gH=te([_n,xc,Y0,Lr].concat(Eu)),fH=t=>Nn("menuitem",gH,t),pH=te([_n,AF,xc,Lr].concat(Eu)),vH=t=>Nn("nestedmenuitem",pH,t),bH=te([_n,Lr,L1,xc,Cu].concat(Eu)),yH=t=>Nn("togglemenuitem",bH,t),tv=(t,e,n)=>{const o=Cs(t.element,"."+n);if(o.length>0){const s=Wn(o,r=>{const a=r.dom.getBoundingClientRect().top,i=o[0].dom.getBoundingClientRect().top;return Math.abs(a-i)>e}).getOr(o.length);return m.some({numColumns:s,numRows:Math.ceil(o.length/s)})}else return m.none()},WS=(t,e)=>ht([le(t,e)]),Jd={namedEvents:WS,unnamedEvents:t=>WS(Lt("unnamed-events"),t)},xH=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Fr={item:t=>Gt.config({disabled:t,disableClass:"tox-collection__item--state-disabled"}),button:t=>Gt.config({disabled:t}),splitButton:t=>Gt.config({disabled:t,disableClass:"tox-tbtn--disabled"}),toolbarButton:t=>Gt.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},P1=(t,e)=>{const n=t.getApi(e);return o=>{o(n)}},Da=(t,e)=>xn(n=>{Y(t.onBeforeSetup)&&t.onBeforeSetup(n),P1(t,n)(s=>{const r=t.onSetup(s);Y(r)&&e.set(r)})}),ka=(t,e)=>Ya(n=>P1(t,n)(e.get())),GS="silver.uistate",Qd="setDisabled",SH="setEnabled",KS="init",wH=["switchmode",KS],qd=(t,e)=>{const n=t.mainUi.outerContainer,o=[t.mainUi.mothership,...t.uiMotherships];e===Qd&&Mt(o,s=>{s.broadcastOn([ml()],{target:n.element})}),Mt(o,s=>{s.broadcastOn([GS],e)})},XS=(t,e)=>{t.on("init SwitchMode",n=>{qd(e,n.type)}),t.on("DisabledStateChange",n=>{if(!n.isDefaultPrevented()){const o=n.state?Qd:KS;qd(e,o),n.state||t.nodeChanged()}}),t.on("NodeChange",n=>{const o=t.ui.isEnabled()?n.type:Qd;qd(e,o)}),xx(t)&&t.mode.set("readonly")},jn=t=>js.config({channels:{[GS]:{onReceive:(e,n)=>{if(n===Qd||n===SH){Gt.set(e,n===Qd);return}const{contextType:o,shouldDisable:s}=t();o==="mode"&&!me(wH,n)||Gt.set(e,s)}}}}),CH=(t,e)=>yi((n,o)=>{P1(t,n)(t.onAction),!t.triggersSubmenu&&e===Aa.CLOSE_ON_EXECUTE&&(n.getSystem().isConnected()&&Ae(n,Ih()),o.stop())}),TH={[ur()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Ou=Qo,Mu=(t,e,n,o)=>{const s=$t(_);return{type:"item",dom:e.dom,components:Ou(e.optComponents),data:t.data,eventOrder:TH,hasSubmenu:t.triggersSubmenu,itemBehaviours:ht([le("item-events",[CH(t,n),Da(t,s),ka(t,s)]),Fr.item(()=>!t.enabled||o.checkUiComponentContext(t.context).shouldDisable),jn(()=>o.checkUiComponentContext(t.context)),se.config({})].concat(t.itemBehaviours))}},Au=t=>({value:t.value,meta:{text:t.text.getOr(""),...t.meta}}),ev=t=>{const e=yu.os.isMacOS()||yu.os.isiOS(),s=e?{alt:"",ctrl:"",shift:"",meta:"",access:""}:{meta:"Ctrl",access:"Shift+Alt"},r=t.split("+"),a=mt(r,i=>{const l=i.toLowerCase().trim();return jt(s,l)?s[l]:i});return e?a.join(""):a.join("+")},nv=(t,e,n=[wS])=>Ir(t,{tag:"div",classes:n},e),YS=t=>({dom:{tag:"div",classes:[$0]},components:[Tn(kr.translate(t))]}),JS=(t,e)=>({dom:{tag:"div",classes:e,innerHtml:t}}),EH=(t,e)=>({dom:{tag:"div",classes:[$0]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Tn(kr.translate(e))]}]}),OH=t=>({dom:{tag:"div",classes:[rF]},components:[Tn(ev(t))]}),QS=t=>nv("checkmark",t,[aF]),MH=t=>nv("chevron-right",t,[CS]),AH=t=>nv("chevron-down",t,[CS]),DH=(t,e)=>{const n=t.direction==="vertical"?iF:ES,o=t.align==="left"?cF:lF;return{dom:{tag:"div",classes:[TS,n,o,(()=>{switch(t.valign){case"top":return uF;case"middle":return dF;case"bottom":return mF}})()]},components:e}},kH=(t,e,n)=>({dom:{tag:"img",classes:e,attributes:{src:t,alt:n.getOr("")}}}),IH=(t,e,n)=>{const o="custom",s="remove",r=t.value,a=t.iconContent.map(u=>JL(u,e.icons,n)),i=t.ariaLabel.map(u=>({"aria-label":e.translate(u),"data-mce-name":u})).getOr({});return{dom:(()=>{const u=N0,g=a.getOr(""),b={tag:"div",attributes:i,classes:[u]};return r===o?{...b,tag:"button",classes:[...b.classes,"tox-swatches__picker-btn"],innerHtml:g}:r===s?{...b,classes:[...b.classes,"tox-swatch--remove"],innerHtml:g}:W(r)?{...b,attributes:{...b.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:g}:b})(),optComponents:[]}},qS=t=>{const e=t.map(n=>({attributes:{id:Lt("menu-item"),"aria-label":kr.translate(n)}})).getOr({});return{tag:"div",classes:[B0,M1],...e}},LH=(t,e,n,o)=>{const s={tag:"div",classes:[wS]},r=x=>Ir(x,s,e.icons,o),a=()=>m.some({dom:s}),i=n?t.iconContent.map(r).orThunk(a):m.none(),l=t.checkMark,u=m.from(t.meta).fold(()=>YS,x=>jt(x,"style")?Ft(EH,x.style):YS),g=t.htmlContent.fold(()=>t.textContent.map(u),x=>m.some(JS(x,[$0])));return{dom:qS(t.ariaLabel),optComponents:[i,g,t.shortcutContent.map(OH),l,t.caret]}},tm=(t,e,n,o=m.none())=>t.presets==="color"?IH(t,e,o):LH(t,e,n,o),t5=(t,e,n)=>wt(t,"tooltipWorker").map(o=>[Dn.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:s=>({type:"submenu",item:s,overrides:{maxHeightFunction:gu}}),mode:"follow-highlight",onShow:(s,r)=>{o(a=>{Dn.setComponents(s,[By({element:Ct.fromDom(a)})])})}})]).getOrThunk(()=>n.map(o=>[Dn.config({...e.providers.tooltips.getConfig({tooltipText:o}),mode:"follow-highlight"})]).getOr([])),FH=t=>Pd.DOM.encode(t),e5=(t,e)=>{const n=kr.translate(t),o=FH(n);if(e.length>0){const s=new RegExp(xH(e),"gi");return o.replace(s,r=>`<span class="tox-autocompleter-highlight">${r}</span>`)}else return o},HH=(t,e,n,o,s,r,a,i=!0)=>{const l=tm({presets:o,textContent:m.none(),htmlContent:n?t.text.map(g=>e5(g,e)):m.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:m.none(),checkMark:m.none(),caret:m.none(),value:t.value},a.providers,i,t.icon),u=t.text.filter(g=>!n&&g!=="");return Mu({context:"mode:design",data:Au(t),enabled:t.enabled,getApi:R({}),onAction:g=>s(t.value,t.meta),onSetup:R(_),triggersSubmenu:!1,itemBehaviours:t5(t,a,u)},l,r,a.providers)},n5=(t,e)=>mt(t,n=>{switch(n.type){case"cardcontainer":return DH(n,n5(n.items,e));case"cardimage":return kH(n.src,n.classes,n.alt);case"cardtext":const s=n.name.exists(r=>me(e.cardText.highlightOn,r))?m.from(e.cardText.matchText).getOr(""):"";return JS(e5(n.text,s),n.classes)}}),PH=(t,e,n,o)=>{const s=a=>({isEnabled:()=>!Gt.isDisabled(a),setEnabled:i=>{Gt.set(a,!i),Mt(Cs(a.element,"*"),l=>{a.getSystem().getByDom(l).each(u=>{u.hasConfigured(Gt)&&Gt.set(u,!i)})})}}),r={dom:qS(t.label),optComponents:[m.some({dom:{tag:"div",classes:[TS,ES]},components:n5(t.items,o)})]};return Mu({context:"mode:design",data:Au({text:m.none(),...t}),enabled:t.enabled,getApi:s,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:m.from(o.itemBehaviours).getOr([])},r,e,n.providers)},RH=(t,e,n,o,s,r,a,i=!0)=>{const l=b=>({setActive:x=>{be.set(b,x)},isActive:()=>be.isOn(b),isEnabled:()=>!Gt.isDisabled(b),setEnabled:x=>Gt.set(b,!x)}),u=tm({presets:n,textContent:e?t.text:m.none(),htmlContent:m.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:m.none(),checkMark:e?m.some(QS(a.icons)):m.none(),caret:m.none(),value:t.value},a,i),g=t.text.filter(R(!e)).map(b=>Dn.config(a.tooltips.getConfig({tooltipText:a.translate(b)})));return Fn(Mu({context:t.context,data:Au(t),enabled:t.enabled,getApi:l,onAction:b=>o(t.value),onSetup:b=>(b.setActive(s),_),triggersSubmenu:!1,itemBehaviours:[...g.toArray()]},u,r,a),{toggling:{toggleClass:SS,toggleOnExecute:!1,selected:t.active,exclusive:!0}})},o5=Yp(h0(),g0()),s5=t=>({value:l5(t)}),r5=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,a5=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,i5=t=>r5.test(t)||a5.test(t),l5=t=>zi(t,"#").toUpperCase(),VH=t=>i5(t)?m.some({value:l5(t)}):m.none(),BH=t=>({value:t.value.replace(r5,(n,o,s,r)=>o+o+s+s+r+r)}),NH=t=>{const e=BH(t),n=a5.exec(e.value);return n===null?["FFFFFF","FF","FF","FF"]:n},ov=t=>{const e=t.toString(16);return(e.length===1?"0"+e:e).toUpperCase()},em=t=>{const e=ov(t.red)+ov(t.green)+ov(t.blue);return s5(e)},c5=Math.min,u5=Math.max,R1=Math.round,$H=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,zH=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Sc=(t,e,n,o)=>({red:t,green:e,blue:n,alpha:o}),sv=t=>{const e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},d5=t=>{let e,n,o;const s=(t.hue||0)%360;let r=t.saturation/100,a=t.value/100;if(r=u5(0,c5(r,1)),a=u5(0,c5(a,1)),r===0)return e=n=o=R1(255*a),Sc(e,n,o,1);const i=s/60,l=a*r,u=l*(1-Math.abs(i%2-1)),g=a-l;switch(Math.floor(i)){case 0:e=l,n=u,o=0;break;case 1:e=u,n=l,o=0;break;case 2:e=0,n=l,o=u;break;case 3:e=0,n=u,o=l;break;case 4:e=u,n=0,o=l;break;case 5:e=l,n=0,o=u;break;default:e=n=o=0}return e=R1(255*(e+g)),n=R1(255*(n+g)),o=R1(255*(o+g)),Sc(e,n,o,1)},nm=t=>{const e=NH(t),n=parseInt(e[1],16),o=parseInt(e[2],16),s=parseInt(e[3],16);return Sc(n,o,s,1)},m5=(t,e,n,o)=>{const s=parseInt(t,10),r=parseInt(e,10),a=parseInt(n,10),i=parseFloat(o);return Sc(s,r,a,i)},rv=t=>{const e=$H.exec(t);if(e!==null)return m.some(m5(e[1],e[2],e[3],"1"));const n=zH.exec(t);return n!==null?m.some(m5(n[1],n[2],n[3],n[4])):m.none()},h5=t=>`rgba(${t.red},${t.green},${t.blue},${t.alpha})`,g5=Sc(255,0,0,1),ZH=t=>{t.dispatch("SkinLoaded")},UH=(t,e)=>{t.dispatch("SkinLoadError",e)},_H=t=>{t.dispatch("ResizeEditor")},av=(t,e)=>{t.dispatch("ResizeContent",e)},jH=(t,e)=>{t.dispatch("ScrollContent",e)},f5=(t,e)=>{t.dispatch("TextColorChange",e)},WH=(t,e)=>{t.dispatch("AfterProgressState",{state:e})},GH=(t,e)=>t.dispatch("ResolveName",{name:e.nodeName.toLowerCase(),target:e}),KH=(t,e)=>{t.dispatch("ToggleToolbarDrawer",{state:e})},XH=(t,e)=>{t.dispatch("StylesTextUpdate",e)},YH=(t,e)=>{t.dispatch("AlignTextUpdate",e)},JH=(t,e)=>{t.dispatch("FontSizeTextUpdate",e)},QH=(t,e)=>{t.dispatch("FontSizeInputTextUpdate",e)},qH=(t,e)=>{t.dispatch("BlocksTextUpdate",e)},tP=(t,e)=>{t.dispatch("FontFamilyTextUpdate",e)},eP=t=>{t.dispatch("ToggleSidebar")},nP=t=>{t.dispatch("ToggleView")},p5=t=>{t.dispatch("ContextToolbarClose")},oP=t=>{t.dispatch("ContextFormSlideBack")},V1=(t,e)=>()=>{t(),e()},ds=t=>wc(t,"NodeChange",e=>{e.setEnabled(t.selection.isEditable())}),sP=(t,e)=>n=>{const o=ol(),s=()=>{n.setActive(t.formatter.match(e));const r=t.formatter.formatChanged(e,n.setActive);o.set(r)};return t.initialized?s():t.once("init",s),()=>{t.off("init",s),o.clear()}},B1=(t,e)=>n=>{const o=ds(t)(n),s=sP(t,e)(n);return()=>{o(),s()}},wc=(t,e,n)=>o=>{const s=()=>n(o),r=()=>{n(o),t.on(e,s)};return t.initialized?r():t.once("init",r),()=>{t.off("init",r),t.off(e,s)}},v5=t=>e=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("mceToggleFormat",!1,e.format)})},Ys=(t,e)=>()=>t.execCommand(e);var Cc=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const b5={},rP=(t,e=10)=>{const n=Cc.getItem(t),o=S(n)?JSON.parse(n):[],r=(u=>e-u.length<0?u.slice(0,e):u)(o),a=u=>{ln(r,u).each(i),r.unshift(u),r.length>e&&r.pop(),Cc.setItem(t,JSON.stringify(r))},i=u=>{r.splice(u,1)};return{add:a,state:()=>r.slice(0)}},y5=t=>wt(b5,t).getOrThunk(()=>{const e=`tinymce-custom-colors-${t}`,n=Cc.getItem(e);if(j(n)){const s=Cc.getItem("tinymce-custom-colors");Cc.setItem(e,W(s)?s:"[]")}const o=rP(e,10);return b5[t]=o,o}),aP=t=>mt(y5(t).state(),e=>({type:"choiceitem",text:e,icon:"checkmark",value:e})),x5=(t,e)=>{y5(t).add(e)},om=(t,e,n)=>({hue:t,saturation:e,value:n}),iv=t=>{let e=0,n=0,o=0;const s=t.red/255,r=t.green/255,a=t.blue/255,i=Math.min(s,Math.min(r,a)),l=Math.max(s,Math.max(r,a));if(i===l)return o=i,om(0,0,o*100);const u=s===i?r-a:a===i?s-r:a-s;return e=s===i?3:a===i?1:5,e=60*(e-u/(l-i)),n=(l-i)/l,o=l,om(Math.round(e),Math.round(n*100),Math.round(o*100))},iP=t=>iv(nm(t)),S5=t=>em(d5(t)),lP=t=>VH(t).orThunk(()=>rv(t).map(em)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,s=o[0],r=o[1],a=o[2],i=o[3];return em(Sc(s,r,a,i))}),lv="forecolor",cv="hilitecolor",cP=5,uP=t=>w5(t.map((e,n)=>n%2===0?"#"+lP(e).value:e)),w5=t=>{const e=[];for(let n=0;n<t.length;n+=2)e.push({text:t[n+1],value:t[n],icon:"checkmark",type:"choiceitem"});return e},Ia=t=>e=>e.options.get(t),uv="#000000",dP=t=>{const e=t.options.register,n=r=>K(r,S)?{value:uP(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},o=r=>K(r,S)?{value:w5(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},s=r=>rt(r)&&r>0?{value:r,valid:!0}:{valid:!1,message:"Must be a positive number."};e("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),e("color_map_raw",{processor:o}),e("color_map_background",{processor:n}),e("color_map_foreground",{processor:n}),e("color_cols",{processor:s,default:dv(t)}),e("color_cols_foreground",{processor:s,default:C5(t,lv)}),e("color_cols_background",{processor:s,default:C5(t,cv)}),e("custom_colors",{processor:"boolean",default:!0}),e("color_default_foreground",{processor:"string",default:uv}),e("color_default_background",{processor:"string",default:uv})},N1=(t,e)=>e===lv&&t.options.isSet("color_map_foreground")?Ia("color_map_foreground")(t):e===cv&&t.options.isSet("color_map_background")?Ia("color_map_background")(t):t.options.isSet("color_map_raw")?Ia("color_map_raw")(t):Ia("color_map")(t),dv=(t,e="default")=>Math.max(cP,Math.ceil(Math.sqrt(N1(t,e).length))),C5=(t,e)=>{const n=Ia("color_cols")(t),o=dv(t,e);return n===dv(t)?o:n},T5=(t,e="default")=>Math.round(e===lv?Ia("color_cols_foreground")(t):e===cv?Ia("color_cols_background")(t):Ia("color_cols")(t)),E5=Ia("custom_colors"),mP=Ia("color_default_foreground"),hP=Ia("color_default_background"),gP="rgba(0, 0, 0, 0)",fP=t=>rv(t).exists(e=>e.alpha!==0),pP=t=>Ah(t,e=>{if(so(e)){const n=Po(e,"background-color");return No(fP(n),n)}else return m.none()}).getOr(gP),O5=(t,e)=>{const n=Ct.fromDom(t.selection.getStart()),o=e==="hilitecolor"?pP(n):Po(n,"color");return rv(o).map(s=>"#"+em(s).value)},vP=(t,e,n)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()})},bP=(t,e)=>{t.undoManager.transact(()=>{t.focus(),t.formatter.remove(e,{value:null},void 0,!0),t.nodeChanged()})},yP=t=>{t.addCommand("mceApplyTextcolor",(e,n)=>{vP(t,e,n)}),t.addCommand("mceRemoveTextcolor",e=>{bP(t,e)})},M5=t=>{const e="choiceitem",n={type:e,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[n,{type:e,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},mv=(t,e,n,o)=>{n==="custom"?F5(t)(r=>{r.each(a=>{x5(e,a),t.execCommand("mceApplyTextcolor",e,a),o(a)})},O5(t,e).getOr(uv)):n==="remove"?(o(""),t.execCommand("mceRemoveTextcolor",e)):(o(n),t.execCommand("mceApplyTextcolor",e,n))},hv=(t,e,n)=>t.concat(aP(e).concat(M5(n))),A5=(t,e,n)=>o=>{o(hv(t,e,n))},gv=(t,e,n)=>{const o=e==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(o,n)},D5=(t,e)=>{t.setTooltip(e)},k5=(t,e)=>n=>{const o=O5(t,e);return eo(o,n.toUpperCase())},fv=(t,e,n)=>{if(ma(n))return e==="forecolor"?"Text color":"Background color";const o=e==="forecolor"?"Text color {0}":"Background color {0}",s=hv(N1(t,e),e,!1),r=Me(s,a=>a.value===n).getOr({text:""}).text;return t.translate([o,t.translate(r)])},I5=(t,e,n,o)=>{t.ui.registry.addSplitButton(e,{tooltip:fv(t,n,o.get()),presets:"color",icon:e==="forecolor"?"text-color":"highlight-bg-color",select:k5(t,n),columns:T5(t,n),fetch:A5(N1(t,n),n,E5(t)),onAction:s=>{mv(t,n,o.get(),_)},onItemAction:(s,r)=>{mv(t,n,r,a=>{o.set(a),f5(t,{name:e,color:a})})},onSetup:s=>{gv(s,e,o.get());const r=a=>{a.name===e&&(gv(s,a.name,a.color),D5(s,fv(t,n,a.color)))};return t.on("TextColorChange",r),V1(ds(t)(s),()=>{t.off("TextColorChange",r)})}})},L5=(t,e,n,o,s)=>{t.ui.registry.addNestedMenuItem(e,{text:o,icon:e==="forecolor"?"text-color":"highlight-bg-color",onSetup:r=>(D5(r,fv(t,n,s.get())),gv(r,e,s.get()),ds(t)(r)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:k5(t,n),initData:{storageKey:n},onAction:r=>{mv(t,n,r.value,a=>{s.set(a),f5(t,{name:e,color:a})})}}]})},F5=t=>(e,n)=>{let o=!1;const s=i=>{const u=i.getData().colorpicker;o?(e(m.from(u)),i.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",u]))},r=(i,l)=>{l.name==="hex-valid"&&(o=l.value)},a={colorpicker:n};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:r,onSubmit:s,onClose:_,onCancel:()=>{e(m.none())}})},xP=t=>{yP(t);const e=mP(t),n=hP(t),o=$t(e),s=$t(n);I5(t,"forecolor","forecolor",o),I5(t,"backcolor","hilitecolor",s),L5(t,"forecolor","forecolor","Text color",o),L5(t,"backcolor","hilitecolor","Background color",s)},pv=(t,e,n,o,s,r,a,i)=>{const l=I1(e),g=SP(e,n,o,s!=="color"?"normal":"color",r,a,i);return _0(t,l,g,o,{menuType:s})},SP=(t,e,n,o,s,r,a)=>Qo(mt(t,i=>i.type==="choiceitem"?cH(i).fold(Mi,l=>m.some(RH(l,n===1,o,e,r(l.value),s,a,I1(t)))):m.none())),$1=(t,e)=>{const n=yc(e);return t===1?{mode:"menu",moveOnTab:!0}:t==="auto"?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(e==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:s=>e==="color"?Cn(s.element,"[aria-checked=true]"):m.none()}},wP=(t,e)=>t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:e==="color"?".tox-swatches__row":".tox-collection__group",cell:e==="color"?`.${N0}`:`.${M1}`}},CP=(t,e)=>{const n=TP(t,e),o=e.colorinput.getColorCols(t.initData.storageKey),s="color",a={...pv(Lt("menu-value"),n,i=>{t.onAction({value:i})},o,s,Aa.CLOSE_ON_EXECUTE,t.select.getOr(yt),e.shared.providers),markers:yc(s),movement:$1(o,s),showMenuRole:!1};return{type:"widget",data:{value:Lt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[o5.widget(gc.sketch(a))]}},TP=(t,e)=>{const n=t.initData.allowCustomColors&&e.colorinput.hasCustomColors();return t.initData.colors.fold(()=>hv(e.colorinput.getColors(t.initData.storageKey),t.initData.storageKey,n),o=>o.concat(M5(n)))},H5=Lt("cell-over"),P5=Lt("cell-execute"),EP=t=>(e,n)=>t.shared.providers.translate(["{0} columns, {1} rows",n,e]),OP=(t,e,n)=>{const o=a=>_t(a,H5,{row:t,col:e}),s=a=>_t(a,P5,{row:t,col:e}),r=(a,i)=>{i.stop(),s(a)};return ts({dom:{tag:"div",attributes:{role:"button","aria-label":n}},behaviours:ht([le("insert-table-picker-cell",[at(Ka(),Qt.focus),at(ur(),s),at(ql(),r),at(wd(),r)]),be.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Qt.config({onFocus:o})])})},MP=(t,e,n)=>{const o=[];for(let s=0;s<e;s++){const r=[];for(let a=0;a<n;a++){const i=t(s+1,a+1);r.push(OP(s,a,i))}o.push(r)}return o},AP=(t,e,n,o,s)=>{for(let r=0;r<o;r++)for(let a=0;a<s;a++)be.set(t[r][a],r<=e&&a<=n)},DP=t=>ae(t,e=>mt(e,mr)),R5=(t,e)=>Tn(`${e}x${t}`),kP={inserttable:(t,e)=>{const s=EP(e),r=MP(s,10,10),a=R5(0,0),i=ze({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:ht([se.config({})])});return{type:"widget",data:{value:Lt("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[o5.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:DP(r).concat(i.asSpec()),behaviours:ht([le("insert-table-picker",[xn(l=>{se.set(i.get(l),[a])}),Jf(H5,(l,u,g)=>{const{row:b,col:x}=g.event;AP(r,b,x,10,10),se.set(i.get(l),[R5(b+1,x+1)])}),Jf(P5,(l,u,g)=>{const{row:b,col:x}=g.event;Ae(l,Ih()),t.onAction({numRows:b+1,numColumns:x+1})})]),Bt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:CP},IP=(t,e)=>wt(kP,t.fancytype).map(n=>n(t,e)),LP=(t,e,n,o=!0,s=!1)=>{const r=s?AH(n.icons):MH(n.icons),a=l=>({isEnabled:()=>!Gt.isDisabled(l),setEnabled:u=>Gt.set(l,!u),setIconFill:(u,g)=>{Cn(l.element,`svg path[class="${u}"], rect[class="${u}"]`).each(b=>{Et(b,"fill",g)})},setTooltip:u=>{const g=n.translate(u);Et(l.element,"aria-label",g)}}),i=tm({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:m.none(),ariaLabel:t.text,caret:m.some(r),checkMark:m.none(),shortcutContent:t.shortcut},n,o);return Mu({context:t.context,data:Au(t),getApi:a,enabled:t.enabled,onAction:_,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},i,e,n)},FP=(t,e,n,o=!0)=>{const s=a=>({isEnabled:()=>!Gt.isDisabled(a),setEnabled:i=>Gt.set(a,!i)}),r=tm({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:m.none(),ariaLabel:t.text,caret:m.none(),checkMark:m.none(),shortcutContent:t.shortcut},n,o);return Mu({context:t.context,data:Au(t),getApi:s,enabled:t.enabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e,n)},HP=t=>({type:"separator",dom:{tag:"div",classes:[M1,sF]},components:t.text.map(Tn).toArray()}),PP=(t,e,n,o=!0)=>{const s=a=>({setActive:i=>{be.set(a,i)},isActive:()=>be.isOn(a),isEnabled:()=>!Gt.isDisabled(a),setEnabled:i=>Gt.set(a,!i)}),r=tm({iconContent:t.icon,textContent:t.text,htmlContent:m.none(),ariaLabel:t.text,checkMark:m.some(QS(n.icons)),caret:m.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,o);return Fn(Mu({context:t.context,data:Au(t),enabled:t.enabled,getApi:s,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,e,n),{toggling:{toggleClass:SS,toggleOnExecute:!1,selected:t.active},role:t.role.getOrUndefined()})},RP=HH,V5=HP,VP=FP,BP=LP,NP=PP,$P=IP,zP=PH;var ZP=Object.freeze({__proto__:null,getCoupled:(t,e,n,o)=>n.getOrCreate(t,e,o),getExistingCoupled:(t,e,n,o)=>n.getExisting(t,e,o)}),UP=[ir("others",_b(Ce.value,xa()))],_P=Object.freeze({__proto__:null,init:()=>{const t={},e=(r,a)=>{if(tt(r.others).length===0)throw new Error("Cannot find any known coupled components");return wt(t,a)},n=(r,a,i)=>e(a,i).getOrThunk(()=>{const u=wt(a.others,i).getOrDie("No information found for coupled component: "+i)(r),g=r.getSystem().build(u);return t[i]=g,g}),o=(r,a,i)=>e(a,i).orThunk(()=>(wt(a.others,i).getOrDie("No information found for coupled component: "+i),m.none())),s=R({});return dr({readState:s,getExisting:o,getOrCreate:n})}});const Rn=Ro({fields:UP,name:"coupling",apis:ZP,state:_P}),vv=t=>{let e=m.none(),n=[];const o=u=>vv(g=>{s(b=>{g(u(b))})}),s=u=>{a()?l(u):n.push(u)},r=u=>{a()||(e=m.some(u),i(n),n=[])},a=()=>e.isSome(),i=u=>{Mt(u,l)},l=u=>{e.each(g=>{setTimeout(()=>{u(g)},0)})};return t(r),{get:s,map:o,isReady:a}},jP={nu:vv,pure:t=>vv(e=>{e(t)})},WP=t=>{setTimeout(()=>{throw t},0)},Du=t=>{const e=l=>{t().then(l,WP)};return{map:l=>Du(()=>t().then(l)),bind:l=>Du(()=>t().then(u=>l(u).toPromise())),anonBind:l=>Du(()=>t().then(()=>l.toPromise())),toLazy:()=>jP.nu(e),toCached:()=>{let l=null;return Du(()=>(l===null&&(l=t()),l))},toPromise:t,get:e}},Ko={nu:t=>Du(()=>new Promise(t)),pure:t=>Du(()=>Promise.resolve(t))},B5=R("sink"),N5=R(Mr({name:B5(),overrides:R({dom:{tag:"div"},behaviours:ht([es.config({useFixed:Ut})]),events:yn([oc(Ca()),oc(cr()),oc(ql())])})})),$5=(t,e)=>{const n=t.getHotspot(e).getOr(e),o="hotspot",s=t.getAnchorOverrides();return t.layouts.fold(()=>({type:o,hotspot:n,overrides:s}),r=>({type:o,hotspot:n,overrides:s,layouts:r}))},GP=(t,e,n)=>{const o=t.fetch;return o(n).map(e)},KP=(t,e,n,o,s,r,a)=>{const i=GP(t,e,o),l=z5(o,t);return i.map(u=>u.bind(g=>{const b=g.menus[g.primary];return m.from(b).each(x=>{t.listRole.each(E=>{x.role=E})}),m.from(fc.sketch({...r.menu(),uid:mu(""),data:g,highlightOnOpen:a,onOpenMenu:(x,E)=>{const A=l().getOrDie();es.position(A,E,{anchor:n}),Pe.decloak(s)},onOpenSubmenu:(x,E,A)=>{const k=l().getOrDie();es.position(k,A,{anchor:{type:"submenu",item:E}}),Pe.decloak(s)},onRepositionMenu:(x,E,A)=>{const k=l().getOrDie();es.position(k,E,{anchor:n}),Mt(A,U=>{es.position(k,U.triggeredMenu,{anchor:{type:"submenu",item:U.triggeringItem}})})},onEscape:()=>(Qt.focus(o),Pe.close(s),m.some(!0))}))}))},z1=(t,e,n,o,s,r,a)=>{const i=$5(t,n);return KP(t,e,i,n,o,s,a).map(u=>(u.fold(()=>{Pe.isOpen(o)&&Pe.close(o)},g=>{Pe.cloak(o),Pe.open(o,g),r(o)}),o))},XP=(t,e,n,o,s,r,a)=>(Pe.close(o),Ko.pure(o)),bv=(t,e,n,o,s,r)=>{const a=Rn.getCoupled(n,"sandbox");return(Pe.isOpen(a)?XP:z1)(t,e,n,a,o,s,r)},YP=(t,e,n)=>{const o=ke.getCurrent(e).getOr(e),s=is(t.element);n?ce(o.element,"min-width",s+"px"):lf(o.element,s)},z5=(t,e)=>t.getSystem().getByUid(e.uid+"-"+B5()).map(n=>()=>Ce.value(n)).getOrThunk(()=>e.lazySink.fold(()=>()=>Ce.error(new Error("No internal sink is specified, nor could an external sink be found")),n=>()=>n(t))),Z5=t=>{Pe.getState(t).each(e=>{fc.repositionMenus(e)})},yv=(t,e,n)=>{const o=_y(),s=(i,l)=>{const u=$5(t,e);o.link(e.element),t.matchWidth&&YP(u.hotspot,l,t.useMinWidth),t.onOpen(u,i,l),n!==void 0&&n.onOpen!==void 0&&n.onOpen(i,l)},r=(i,l)=>{o.unlink(e.element),a().getOr(l).element.dom.dispatchEvent(new window.FocusEvent("focusout")),n!==void 0&&n.onClose!==void 0&&n.onClose(i,l)},a=z5(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:o.id}},behaviours:Jr.augment(t.sandboxBehaviours,[At.config({store:{mode:"memory",initialValue:e}}),Pe.config({onOpen:s,onClose:r,isPartOf:(i,l,u)=>cc(l,u)||cc(e,u),getAttachPoint:()=>a().getOrDie()}),ke.config({find:i=>Pe.getState(i).bind(l=>ke.getCurrent(l))}),js.config({channels:{...Zp({isExtraPart:yt}),...Up({doReposition:Z5})}})])}},U5=t=>{const e=Rn.getCoupled(t,"sandbox");Z5(e)},xv=()=>[X("sandboxClasses",[]),Jr.field("sandboxBehaviours",[ke,js,Pe,At])],JP=R([ct("dom"),ct("fetch"),He("onOpen"),_s("onExecute"),X("getHotspot",m.some),X("getAnchorOverrides",R({})),dl(),Mo("dropdownBehaviours",[be,Rn,Bt,Qt]),ct("toggleClass"),X("eventOrder",{}),$e("lazySink"),X("matchWidth",!1),X("useMinWidth",!1),$e("role"),$e("listRole")].concat(xv())),QP=R([Qr({schema:[Rh(),X("fakeFocus",!1)],name:"menu",defaults:t=>({onExecute:t.onExecute})}),N5()]),qP=(t,e,n,o)=>{const s=g=>wt(t.dom,"attributes").bind(b=>wt(b,g)),r=g=>{Pe.getState(g).each(b=>{fc.highlightPrimary(b)})},a=(g,b,x)=>bv(t,Ot,g,o,b,x),i=g=>{a(g,r,Ts.HighlightMenuAndItem).get(_)},l={expand:g=>{be.isOn(g)||a(g,_,Ts.HighlightNone).get(_)},open:g=>{be.isOn(g)||a(g,_,Ts.HighlightMenuAndItem).get(_)},refetch:g=>Rn.getExistingCoupled(g,"sandbox").fold(()=>a(g,_,Ts.HighlightMenuAndItem).map(_),x=>z1(t,Ot,g,x,o,_,Ts.HighlightMenuAndItem).map(_)),isOpen:be.isOn,close:g=>{be.isOn(g)&&a(g,_,Ts.HighlightMenuAndItem).get(_)},repositionMenus:g=>{be.isOn(g)&&U5(g)}},u=(g,b)=>(nc(g),m.some(!0));return{uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.dropdownBehaviours,[be.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Rn.config({others:{sandbox:g=>yv(t,g,{onOpen:()=>be.on(g),onClose:()=>be.off(g)})}}),Bt.config({mode:"special",onSpace:u,onEnter:u,onDown:(g,b)=>{if(gr.isOpen(g)){const x=Rn.getCoupled(g,"sandbox");r(x)}else gr.open(g);return m.some(!0)},onEscape:(g,b)=>gr.isOpen(g)?(gr.close(g),m.some(!0)):m.none()}),Qt.config({})]),events:v1(m.some(i)),eventOrder:{...t.eventOrder,[ur()]:["disabling","toggling","alloy.base.behaviour"]},apis:l,domModification:{attributes:{"aria-haspopup":t.listRole.getOr("true"),...t.role.fold(()=>({}),g=>({role:g})),...t.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}},gr=us({name:"Dropdown",configFields:JP(),partFields:QP(),factory:qP,apis:{open:(t,e)=>t.open(e),refetch:(t,e)=>t.refetch(e),expand:(t,e)=>t.expand(e),close:(t,e)=>t.close(e),isOpen:(t,e)=>t.isOpen(e),repositionMenus:(t,e)=>t.repositionMenus(e)}}),tR=t=>{switch(t.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:t}}},eR=t=>{const e=At.getValue(t),n=D1(t).map(HS);gr.refetch(e).get(()=>{const o=Rn.getCoupled(e,"sandbox");n.each(s=>D1(o).each(r=>bF(r,s)))})},nR=(t,e)=>{oR(t).each(n=>{yE(t,n.element,e.event.eventType,e.event.interactionEvent)})},oR=t=>Pe.getState(t).bind(Ze.getHighlighted).bind(Ze.getHighlighted),sR=t=>Ls(t.element,k1)?m.some(t.element):Cn(t.element,"."+k1),_5=(t,e,n)=>{FS(t).each(o=>{yF(o,n),sR(e).each(r=>{Be(r,"id").each(a=>Et(o.element,"aria-controls",a))})}),Et(n.element,"aria-selected","true")},rR=(t,e,n)=>{Et(n.element,"aria-selected","false")},aR=t=>{FS(t).each(e=>Qt.focus(e))},iR=t=>Rn.getExistingCoupled(t,"sandbox").bind(D1).map(HS).map(n=>n.fetchPattern).getOr("");var Z1;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Z1||(Z1={}));const lR=(t,e,n,o,s)=>{const r=n.shared.providers,a=i=>s?{...i,shortcut:m.none(),icon:i.text.isSome()?m.none():i.icon}:i;switch(t.type){case"menuitem":return fH(t).fold(Mi,i=>m.some(VP(a(i),e,r,o)));case"nestedmenuitem":return vH(t).fold(Mi,i=>m.some(BP(a(i),e,r,o,s)));case"togglemenuitem":return yH(t).fold(Mi,i=>m.some(NP(a(i),e,r,o)));case"separator":return PF(t).fold(Mi,i=>m.some(V5(i)));case"fancymenuitem":return hH(t).fold(Mi,i=>$P(i,n));default:return console.error("Unknown item in general menu",t),m.none()}},cR=(t,e,n,o,s,r,a)=>{const i=o===1,l=!i||I1(t);return Qo(mt(t,u=>{switch(u.type){case"separator":return VF(u).fold(Mi,g=>m.some(V5(g)));case"cardmenuitem":return iH(u).fold(Mi,g=>m.some(zP({...g,onAction:b=>{g.onAction(b),n(g.value,g.meta)}},s,r,{itemBehaviours:t5(g.meta,r,m.none()),cardText:{matchText:e,highlightOn:a}})));case"autocompleteitem":default:return BF(u).fold(Mi,g=>m.some(RP(g,e,i,"normal",n,s,r,l)))}}))},j5=(t,e,n,o,s,r)=>{const a=I1(e),i=Qo(mt(e,g=>{const b=E=>s?!jt(E,"text"):a,x=E=>lR(E,n,o,b(E),s);return g.type==="nestedmenuitem"&&g.getSubmenuItems().length<=0?x({...g,enabled:!1}):x(g)})),l=tR(r);return(s?OF:_0)(t,a,i,1,l)},Sv=t=>fc.singleData(t.value,t),uR=(t,e,n,o)=>{const s=$1(e,o),r=yc(o);return{data:Sv({...t,movement:s,menuBehaviours:Jd.unnamedEvents(e!=="auto"?[]:[xn((a,i)=>{tv(a,4,r.item).each(({numColumns:l,numRows:u})=>{Bt.setGridSize(a,u,l)})})])}),menu:{markers:yc(o),fakeFocus:n===Z1.ContentFocus}}},dR=t=>Kh.create(Ct.fromDom(t.startContainer),t.startOffset,Ct.fromDom(t.endContainer),t.endOffset),mR={register:(t,e)=>{const n=Lt("autocompleter"),o=$t(!1),s=$t(!1),r=qe(),a=ts(En.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:ht([le("dismissAutocompleter",[at(ec(),()=>b()),at(Wf(),(I,N)=>{Be(N.event.target,"id").each(z=>Et(Ct.fromDom(t.getBody()),"aria-activedescendant",z))})])]),lazySink:e.getSink})),i=()=>En.isOpen(a),l=s.get,u=()=>{if(i()){En.hide(a),t.dom.remove(n,!1);const I=Ct.fromDom(t.getBody());Be(I,"aria-owns").filter(N=>N===n).each(()=>{nn(I,"aria-owns"),nn(I,"aria-activedescendant")})}},g=()=>En.getContent(a).bind(I=>Jo(I.components(),0)),b=()=>t.execCommand("mceAutocompleterClose"),x=I=>{const N=zn(I,z=>m.from(z.columns)).getOr(1);return ae(I,z=>{const J=z.items;return cR(J,z.matchText,(Q,gt)=>{const Dt={hide:()=>b(),reload:nt=>{u(),t.execCommand("mceAutocompleterReload",!1,{fetchOptions:nt})}};t.execCommand("mceAutocompleterRefreshActiveRange"),r.get().each(nt=>{o.set(!0),z.onAction(Dt,nt,Q,gt),o.set(!1)})},N,Aa.BUBBLE_TO_SANDBOX,e,z.highlightOn)})},E=(I,N)=>{const z=zn(I,J=>m.from(J.columns)).getOr(1);En.showMenuAt(a,{anchor:{type:"selection",getSelection:()=>r.get().map(dR),root:Ct.fromDom(t.getBody())}},uR(_0("autocompleter-value",!0,N,z,{menuType:"normal"}),z,Z1.ContentFocus,"normal")),g().each(Ze.highlightFirst)},A=I=>{const N=x(I);N.length>0?(E(I,N),Et(Ct.fromDom(t.getBody()),"aria-owns",n),t.inline||k()):u()},k=()=>{t.dom.get(n)&&t.dom.remove(n,!1);const I=t.getDoc().documentElement,N=t.selection.getNode(),z=gO(a.element);Tr(z,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${N.offsetTop}px`,left:`${N.offsetLeft}px`}),t.dom.add(I,z.dom),Cn(z,'[role="menu"]').each(J=>{De(J,"position"),De(J,"max-height")})};t.on("AutocompleterStart",({lookupData:I})=>{s.set(!0),o.set(!1),A(I)}),t.on("AutocompleterUpdate",({lookupData:I})=>A(I)),t.on("AutocompleterUpdateActiveRange",({range:I})=>r.set(I)),t.on("AutocompleterEnd",()=>{u(),s.set(!1),o.set(!1),r.clear()});const U={cancelIfNecessary:b,isMenuOpen:i,isActive:l,isProcessingAction:o.get,getMenu:g};nF.setup(U,t)}},sm=(t,e,n)=>Ja(t,e,n).isSome(),W5=(t,e)=>{let n=null;return{cancel:()=>{n!==null&&(clearTimeout(n),n=null)},schedule:(...r)=>{n=setTimeout(()=>{t.apply(null,r),n=null},e)}}},G5=5,hR=400,K5=t=>{const e=t.raw;return e.touches===void 0||e.touches.length!==1?m.none():m.some(e.touches[0])},gR=(t,e)=>{const n=Math.abs(t.clientX-e.x),o=Math.abs(t.clientY-e.y);return n>G5||o>G5},fR=t=>{const e=qe(),n=$t(!1),o=W5(u=>{t.triggerEvent(pE(),u),n.set(!0)},hR),s=u=>(K5(u).each(g=>{o.cancel();const b={x:g.clientX,y:g.clientY,target:u.target};o.schedule(u),n.set(!1),e.set(b)}),m.none()),r=u=>(o.cancel(),K5(u).each(g=>{e.on(b=>{gR(g,b)&&e.clear()})}),m.none()),a=u=>{o.cancel();const g=b=>_e(b.target,u.target);return e.get().filter(g).map(b=>n.get()?(u.prevent(),!1):t.triggerEvent(wd(),u))},i=ou([{key:vi(),value:s},{key:bd(),value:r},{key:Ql(),value:a}]);return{fireIfReady:(u,g)=>wt(i,g).bind(b=>b(u))}},pR=t=>t.raw.which===Kk[0]&&!me(["input","textarea"],oo(t.target))&&!sm(t.target,'[contenteditable="true"]'),vR=(t,e)=>{const n={stopBackspace:!0,...e},o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],s=fR(n),r=mt(o.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),E=>ws(t,E,A=>{s.fireIfReady(A,E).each(U=>{U&&A.kill()}),n.triggerEvent(E,A)&&A.kill()})),a=qe(),i=ws(t,"paste",E=>{s.fireIfReady(E,"paste").each(k=>{k&&E.kill()}),n.triggerEvent("paste",E)&&E.kill(),a.set(setTimeout(()=>{n.triggerEvent(Zf(),E)},0))}),l=ws(t,"keydown",E=>{n.triggerEvent("keydown",E)?E.kill():n.stopBackspace&&pR(E)&&E.prevent()}),u=ws(t,"focusin",E=>{n.triggerEvent("focusin",E)&&E.kill()}),g=qe(),b=ws(t,"focusout",E=>{n.triggerEvent("focusout",E)&&E.kill(),g.set(setTimeout(()=>{n.triggerEvent(xd(),E)},0))});return{unbind:()=>{Mt(r,E=>{E.unbind()}),l.unbind(),u.unbind(),b.unbind(),i.unbind(),a.on(clearTimeout),g.on(clearTimeout)}}},X5=(t,e)=>{const n=wt(t,"target").getOr(e);return $t(n)},bR=(t,e)=>{const n=$t(!1),o=$t(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:t,setSource:e.set,getSource:e.get}},yR=t=>{const e=$t(!1);return{stop:()=>{e.set(!0)},cut:_,isStopped:e.get,isCut:yt,event:t,setSource:re("Cannot set source of a broadcasted event"),getSource:re("Cannot get source of a broadcasted event")}},rm=jr.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),Y5=(t,e,n,o,s,r)=>{const a=t(e,o),i=bR(n,s);return a.fold(()=>(r.logEventNoHandlers(e,o),rm.complete()),l=>{const u=l.descHandler;return pp(u)(i),i.isStopped()?(r.logEventStopped(e,l.element,u.purpose),rm.stopped()):i.isCut()?(r.logEventCut(e,l.element,u.purpose),rm.complete()):Ke(l.element).fold(()=>(r.logNoParent(e,l.element,u.purpose),rm.complete()),b=>(r.logEventResponse(e,l.element,u.purpose),rm.resume(b)))})},J5=(t,e,n,o,s,r)=>Y5(t,e,n,o,s,r).fold(Ut,a=>J5(t,e,n,a,s,r),yt),xR=(t,e,n,o,s)=>{const r=X5(n,o);return Y5(t,e,n,o,r,s)},SR=(t,e,n)=>{const o=yR(e);return Mt(t,s=>{const r=s.descHandler;pp(r)(o)}),o.isStopped()},wR=(t,e,n,o)=>Q5(t,e,n,n.target,o),Q5=(t,e,n,o,s)=>{const r=X5(n,o);return J5(t,e,n,o,r,s)},CR=(t,e)=>({element:t,descHandler:e}),TR=(t,e)=>({id:t,descHandler:e}),ER=()=>{const t={},e=(a,i,l)=>{lt(l,(u,g)=>{const b=t[g]!==void 0?t[g]:{};b[i]=jO(u,a),t[g]=b})},n=(a,i)=>Td(i).bind(l=>wt(a,l)).map(l=>CR(i,l));return{registerId:e,unregisterId:a=>{lt(t,(i,l)=>{jt(i,a)&&delete i[a]})},filterByType:a=>wt(t,a).map(i=>qt(i,(l,u)=>TR(u,l))).getOr([]),find:(a,i,l)=>wt(t,i).bind(u=>Ah(l,g=>n(u,g),a))}},OR=()=>{const t=ER(),e={},n=u=>{const g=u.element;return Td(g).getOrThunk(()=>HO("uid-",u.element))},o=(u,g)=>{const b=e[g];if(b===u)r(u);else throw new Error('The tagId "'+g+'" is already used by: '+ll(b.element)+`
Cannot use it for: `+ll(u.element)+`
The conflicting element is`+(Z(b.element)?" ":" not ")+"already in the DOM")},s=u=>{const g=n(u);bn(e,g)&&o(u,g);const b=[u];t.registerId(b,g,u.events),e[g]=u},r=u=>{Td(u.element).each(g=>{delete e[g],t.unregisterId(g)})};return{find:(u,g,b)=>t.find(u,g,b),filter:u=>t.filterByType(u),register:s,unregister:r,getById:u=>wt(e,u)}},La=hr({name:"Container",factory:t=>{const{attributes:e,...n}=t.dom;return{uid:t.uid,dom:{tag:"div",attributes:{role:"presentation",...e},...n},components:t.components,behaviours:qh(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[X("components",[]),Mo("containerBehaviours",[]),X("events",{}),X("domModification",{}),X("eventOrder",{})]}),wv=t=>{const e=I=>Ke(t.element).fold(Ut,N=>_e(I,N)),n=OR(),o=(I,N)=>n.find(e,I,N),s=vR(t.element,{triggerEvent:(I,N)=>mp(I,N.target,z=>wR(o,I,N,z))}),r={debugInfo:R("real"),triggerEvent:(I,N,z)=>{mp(I,N,J=>Q5(o,I,z,N,J))},triggerFocus:(I,N)=>{Td(I).fold(()=>{Ws(I)},z=>{mp(il(),I,J=>(xR(o,il(),{originator:N,kill:_,prevent:_,target:I},I,J),!1))})},triggerEscape:(I,N)=>{r.triggerEvent("keydown",I.element,N.event)},getByUid:I=>k(I),getByDom:I=>U(I),build:ts,buildOrPatch:vp,addToGui:I=>{l(I)},removeFromGui:I=>{u(I)},addToWorld:I=>{a(I)},removeFromWorld:I=>{i(I)},broadcast:I=>{x(I)},broadcastOn:(I,N)=>{E(I,N)},broadcastEvent:(I,N)=>{A(I,N)},isConnected:Ut},a=I=>{I.connect(r),Vn(I.element)||(n.register(I),Mt(I.components(),a),r.triggerEvent(Lh(),I.element,{target:I.element}))},i=I=>{Vn(I.element)||(Mt(I.components(),i),n.unregister(I)),I.disconnect()},l=I=>{uc(t,I)},u=I=>{Ti(I)},g=()=>{s.unbind(),ba(t.element)},b=I=>{const N=n.filter(tc());Mt(N,z=>{const J=z.descHandler;pp(J)(I)})},x=I=>{b({universal:!0,data:I})},E=(I,N)=>{b({universal:!1,channels:I,data:N})},A=(I,N)=>{const z=n.filter(I);return SR(z,N)},k=I=>n.getById(I).fold(()=>Ce.error(new Error('Could not find component with uid: "'+I+'" in system.')),Ce.value),U=I=>{const N=Td(I).getOr("not found");return k(N)};return a(t),{root:t,element:t.element,destroy:g,add:l,remove:u,getByUid:k,getByDom:U,addToWorld:a,removeFromWorld:i,broadcast:x,broadcastOn:E,broadcastEvent:A}},MR=(t,e)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:mt(t.items,e.interpreter)}),AR=R([X("prefix","form-field"),Mo("fieldBehaviours",[ke,At])]),DR=R([Mr({schema:[ct("dom")],name:"label"}),Mr({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[ct("text")],name:"aria-descriptor"}),ns({factory:{sketch:t=>{const e=nE(t,["factory"]);return t.factory.sketch(e)}},schema:[ct("factory")],name:"field"})]),kR=(t,e,n,o)=>{const s=Vo(t.fieldBehaviours,[ke.config({find:i=>sn(i,t,"field")}),At.config({store:{mode:"manual",getValue:i=>ke.getCurrent(i).bind(At.getValue),setValue:(i,l)=>{ke.getCurrent(i).each(u=>{At.setValue(u,l)})}}})]),r=yn([xn((i,l)=>{const u=c3(i,t,["label","field","aria-descriptor"]);u.field().each(g=>{const b=Lt(t.prefix);u.label().each(x=>{Et(x.element,"for",b),Et(g.element,"id",b)}),u["aria-descriptor"]().each(x=>{const E=Lt(t.prefix);Et(x.element,"id",E),Et(g.element,"aria-describedby",E)})})})]),a={getField:i=>sn(i,t,"field"),getLabel:i=>sn(i,t,"label")};return{uid:t.uid,dom:t.dom,components:e,behaviours:s,events:r,apis:a}},Ie=us({name:"FormField",configFields:AR(),partFields:DR(),factory:kR,apis:{getField:(t,e)=>t.getField(e),getLabel:(t,e)=>t.getLabel(e)}});var IR=tinymce.util.Tools.resolve("tinymce.html.Entities");const am=(t,e,n,o)=>{const s=FR(t,e,n,o);return Ie.sketch(s)},LR=(t,e)=>am(t,e,[],[]),FR=(t,e,n,o)=>({dom:q5(n),components:t.toArray().concat([e]),fieldBehaviours:ht(o)}),HR=()=>q5([]),q5=t=>({tag:"div",classes:["tox-form__group"].concat(t)}),bl=(t,e)=>Ie.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tn(e.translate(t))]}),Fs=Lt("form-component-change"),tw=Lt("form-component-input"),im=Lt("form-close"),yl=Lt("form-cancel"),qa=Lt("form-action"),lm=Lt("form-submit"),Cv=Lt("form-block"),Tv=Lt("form-unblock"),ew=Lt("form-tabchange"),nw=Lt("form-resize"),PR=(t,e,n)=>{const o=t.label.map(E=>bl(E,e)),s=e.icons(),r=E=>{var A;return(A=s[E])!==null&&A!==void 0?A:E},a=E=>(A,k)=>{Ja(k.event.target,"[data-collection-item-value]").each(U=>{E(A,k,U,fe(U,"data-collection-item-value"))})},i=(E,A)=>{const U=e.checkUiComponentContext("mode:design").shouldDisable||e.isDisabled()?" tox-collection__item--state-disabled":"",I=mt(A,J=>{const Q=kr.translate(J.text),gt=t.columns===1?`<div class="tox-collection__item-label">${Q}</div>`:"",Dt=`<div class="tox-collection__item-icon">${r(J.icon)}</div>`,nt={_:" "," - ":" ","-":" "},kt=Q.replace(/\_| \- |\-/g,bt=>nt[bt]);return`<div data-mce-tooltip="${kt}" class="tox-collection__item${U}" tabindex="-1" data-collection-item-value="${IR.encodeAllRaw(J.value)}" aria-label="${kt}">${Dt}${gt}</div>`}),N=t.columns!=="auto"&&t.columns>1?kn(I,t.columns):[I],z=mt(N,J=>`<div class="tox-collection__group">${J.join("")}</div>`);cu(E.element,z.join(""))},l=a((E,A,k,U)=>{A.stop(),e.checkUiComponentContext("mode:design").shouldDisable||e.isDisabled()||_t(E,qa,{name:t.name,value:U})}),u=[at(Ka(),a((E,A,k)=>{Ws(k,!0)})),at(ql(),l),at(wd(),l),at(wa(),a((E,A,k)=>{Cn(E.element,"."+bc).each(U=>{$n(U,bc)}),Yn(k,bc)})),at(qb(),a(E=>{Cn(E.element,"."+bc).each(A=>{$n(A,bc),Zh(A)})})),yi(a((E,A,k,U)=>{_t(E,qa,{name:t.name,value:U})}))],g=(E,A)=>mt(Cs(E.element,".tox-collection__item"),A),b=Ie.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ot},behaviours:ht([Gt.config({disabled:()=>e.checkUiComponentContext(t.context).shouldDisable,onDisabled:E=>{g(E,A=>{Yn(A,"tox-collection__item--state-disabled"),Et(A,"aria-disabled",!0)})},onEnabled:E=>{g(E,A=>{$n(A,"tox-collection__item--state-disabled"),nn(A,"aria-disabled")})}}),jn(()=>e.checkUiComponentContext(t.context)),se.config({}),Dn.config({...e.tooltips.getConfig({tooltipText:"",onShow:E=>{Cn(E.element,"."+bc+"[data-mce-tooltip]").each(A=>{Be(A,"data-mce-tooltip").each(k=>{Dn.setComponents(E,e.tooltips.getComponents({tooltipText:k}))})})}}),mode:"children-keyboard-focus",anchor:E=>({type:"node",node:Cn(E.element,"."+bc).orThunk(()=>EM(".tox-collection__item")),root:E.element,layouts:{onLtr:R([co,Oo,io,Wo,lo,Go]),onRtl:R([co,Oo,io,Wo,lo,Go])},bubble:Yr(0,-2,{})})}),At.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(E,A)=>{i(E,A),t.columns==="auto"&&tv(E,5,"tox-collection__item").each(({numRows:k,numColumns:U})=>{Bt.setGridSize(E,k,U)}),Ae(E,nw)}}),fn.config({}),Bt.config(wP(t.columns,"normal")),le("collection-events",u)]),eventOrder:{[ur()]:["disabling","alloy.base.behaviour","collection-events"],[wa()]:["collection-events","tooltipping"]}});return am(o,b,["tox-form__group--collection"],[])},RR=["input","textarea"],ow=t=>{const e=oo(t);return me(RR,e)},sw=(t,e)=>{const n=e.getRoot(t).getOr(t.element);$n(n,e.invalidClass),e.notify.each(o=>{ow(t.element)&&Et(t.element,"aria-invalid",!1),o.getContainer(t).each(s=>{cu(s,o.validHtml)}),o.onValid(t)})},rw=(t,e,n,o)=>{const s=e.getRoot(t).getOr(t.element);Yn(s,e.invalidClass),e.notify.each(r=>{ow(t.element)&&Et(t.element,"aria-invalid",!0),r.getContainer(t).each(a=>{cu(a,o)}),r.onInvalid(t,o)})},aw=(t,e,n)=>e.validator.fold(()=>Ko.pure(Ce.value(!0)),o=>o.validate(t)),Ev=(t,e,n)=>(e.notify.each(o=>{o.onValidate(t)}),aw(t,e).map(o=>t.getSystem().isConnected()?o.fold(s=>(rw(t,e,n,s),Ce.error(s)),s=>(sw(t,e),Ce.value(s))):Ce.error("No longer in system")));var VR=Object.freeze({__proto__:null,markValid:sw,markInvalid:rw,query:aw,run:Ev,isInvalid:(t,e)=>{const n=e.getRoot(t).getOr(t.element);return Ls(n,e.invalidClass)}}),BR=Object.freeze({__proto__:null,events:(t,e)=>t.validator.map(n=>yn([at(n.onEvent,o=>{Ev(o,t,e).get(Ot)})].concat(n.validateOnLoad?[xn(o=>{Ev(o,t,e).get(_)})]:[]))).getOr({})}),NR=[ct("invalidClass"),X("getRoot",m.none),lr("notify",[X("aria","alert"),X("getContainer",m.none),X("validHtml",""),He("onValid"),He("onInvalid"),He("onValidate")]),lr("validator",[ct("validate"),X("onEvent","input"),X("validateOnLoad",!0)])];const ti=Ro({fields:NR,name:"invalidating",active:BR,apis:VR,extra:{validation:t=>e=>{const n=At.getValue(e);return Ko.pure(t(n))}}});var $R=Object.freeze({__proto__:null,events:()=>yn([ry(gE(),Ut)]),exhibit:()=>Wr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const cm=Ro({fields:[],name:"unselecting",active:$R}),zR=(t,e)=>gr.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:ht([Fr.button(()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable),jn(()=>e.providers.checkUiComponentContext(t.context)),cm.config({}),fn.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:n=>Ko.nu(o=>t.fetch(o)).map(o=>m.from(Sv(Fn(pv(Lt("menu-value"),o,s=>{t.onItemAction(n,s)},t.columns,t.presets,Aa.CLOSE_ON_EXECUTE,yt,e.providers),{movement:$1(t.columns,t.presets)})))),parts:{menu:A1(!1,1,t.presets)}}),iw=Lt("color-input-change"),lw=Lt("color-swatch-change"),cw=Lt("color-picker-cancel"),ZR=(t,e,n,o)=>{const s=Ie.parts.field({factory:pl,inputClasses:["tox-textfield"],data:o,onSetValue:u=>ti.run(u).get(_),inputBehaviours:ht([Gt.config({disabled:()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable}),jn(()=>e.providers.checkUiComponentContext(t.context)),fn.config({}),ti.config({invalidClass:"tox-textbox-field-invalid",getRoot:u=>ys(u.element),notify:{onValid:u=>{const g=At.getValue(u);_t(u,iw,{color:g})}},validator:{validateOnLoad:!1,validate:u=>{const g=At.getValue(u);if(g.length===0)return Ko.pure(Ce.value(!0));{const b=Ct.fromTag("span");ce(b,"background-color",g);const x=Zn(b,"background-color").fold(()=>Ce.error("blah"),E=>Ce.value(g));return Ko.pure(x)}}}})]),selectOnFocus:!1}),r=t.label.map(u=>bl(u,e.providers)),a=(u,g)=>{_t(u,lw,{value:g})},i=(u,g)=>{l.getOpt(u).each(b=>{g==="custom"?n.colorPicker(x=>{x.fold(()=>Ae(b,cw),E=>{a(b,E),x5(t.storageKey,E)})},"#ffffff"):g==="remove"?a(b,""):a(b,g)})},l=ze(zR({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:()=>[lo,io,co],onLtr:()=>[io,lo,co]},components:[],fetch:A5(n.getColors(t.storageKey),t.storageKey,n.hasCustomColors()),columns:n.getColorCols(t.storageKey),presets:"color",onItemAction:i,context:t.context},e));return Ie.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,l.asSpec()]}]),fieldBehaviours:ht([le("form-field-events",[at(iw,(u,g)=>{l.getOpt(u).each(b=>{ce(b.element,"background-color",g.event.color)}),_t(u,Fs,{name:t.name})}),at(lw,(u,g)=>{Ie.getField(u).each(b=>{At.setValue(b,g.event.value),ke.getCurrent(u).each(Qt.focus)})}),at(cw,(u,g)=>{Ie.getField(u).each(b=>{ke.getCurrent(u).each(Qt.focus)})})])])})},UR=Mr({schema:[ct("dom")],name:"label"}),xl=t=>Mr({name:""+t+"-edge",overrides:e=>e.model.manager.edgeActions[t].fold(()=>({}),o=>({events:yn([Yf(vi(),(s,r,a)=>o(s,a),[e]),Yf(cr(),(s,r,a)=>o(s,a),[e]),Yf(Dh(),(s,r,a)=>{a.mouseIsDown.get()&&o(s,a)},[e])])}))}),_R=xl("top-left"),jR=xl("top"),WR=xl("top-right"),GR=xl("right"),KR=xl("bottom-right"),XR=xl("bottom"),YR=xl("bottom-left"),JR=xl("left"),QR=ns({name:"thumb",defaults:R({dom:{styles:{position:"absolute"}}}),overrides:t=>({events:yn([au(vi(),t,"spectrum"),au(bd(),t,"spectrum"),au(Ql(),t,"spectrum"),au(cr(),t,"spectrum"),au(Dh(),t,"spectrum"),au(zf(),t,"spectrum")])})}),U1=t=>dc(t.event),qR=ns({schema:[Ss("mouseIsDown",()=>$t(!1))],name:"spectrum",overrides:t=>{const n=t.model.manager,o=(s,r)=>n.getValueFromEvent(r).map(a=>n.setValueFrom(s,t,a));return{behaviours:ht([Bt.config({mode:"special",onLeft:(s,r)=>n.onLeft(s,t,U1(r)),onRight:(s,r)=>n.onRight(s,t,U1(r)),onUp:(s,r)=>n.onUp(s,t,U1(r)),onDown:(s,r)=>n.onDown(s,t,U1(r))}),fn.config({}),Qt.config({})]),events:yn([at(vi(),o),at(bd(),o),at(cr(),o),at(Dh(),(s,r)=>{t.mouseIsDown.get()&&o(s,r)})])}}});var tV=[UR,JR,GR,jR,XR,_R,WR,YR,KR,QR,qR];const um=R("slider.change.value"),eV=t=>t.type.indexOf("touch")!==-1,Ov=t=>{const e=t.event.raw;if(eV(e)){const n=e;return n.touches!==void 0&&n.touches.length===1?m.some(n.touches[0]).map(o=>hn(o.clientX,o.clientY)):m.none()}else{const n=e;return n.clientX!==void 0?m.some(n).map(o=>hn(o.clientX,o.clientY)):m.none()}},nV="top",oV="right",sV="bottom",rV="left",Tc=t=>t.model.minX,Ec=t=>t.model.minY,_1=t=>t.model.minX-1,j1=t=>t.model.minY-1,Oc=t=>t.model.maxX,Mc=t=>t.model.maxY,W1=t=>t.model.maxX+1,G1=t=>t.model.maxY+1,uw=(t,e,n)=>e(t)-n(t),Mv=t=>uw(t,Oc,Tc),Av=t=>uw(t,Mc,Ec),dw=t=>Mv(t)/2,mw=t=>Av(t)/2,ku=(t,e)=>e?t.stepSize*t.speedMultiplier:t.stepSize,hw=t=>t.snapToGrid,gw=t=>t.snapStart,fw=t=>t.rounded,K1=(t,e)=>t[e+"-edge"]!==void 0,pw=t=>K1(t,rV),vw=t=>K1(t,oV),bw=t=>K1(t,nV),yw=t=>K1(t,sV),Di=t=>t.model.value.get(),Sl=(t,e)=>({x:t,y:e}),ea=(t,e)=>{_t(t,um(),{value:e})},aV=(t,e)=>{ea(t,Sl(_1(e),j1(e)))},iV=(t,e)=>{ea(t,j1(e))},lV=(t,e)=>{ea(t,Sl(dw(e),j1(e)))},cV=(t,e)=>{ea(t,Sl(W1(e),j1(e)))},uV=(t,e)=>{ea(t,W1(e))},dV=(t,e)=>{ea(t,Sl(W1(e),mw(e)))},mV=(t,e)=>{ea(t,Sl(W1(e),G1(e)))},hV=(t,e)=>{ea(t,G1(e))},gV=(t,e)=>{ea(t,Sl(dw(e),G1(e)))},fV=(t,e)=>{ea(t,Sl(_1(e),G1(e)))},pV=(t,e)=>{ea(t,_1(e))},vV=(t,e)=>{ea(t,Sl(_1(e),mw(e)))},Dv=(t,e,n,o)=>t<e?t:t>n?n:t===e?e-1:Math.max(e,t-o),kv=(t,e,n,o)=>t>n?t:t<e?e:t===n?n+1:Math.min(n,t+o),xw=(t,e,n)=>Math.max(e,Math.min(n,t)),bV=(t,e,n,o,s)=>s.fold(()=>{const r=t-e,a=Math.round(r/o)*o;return xw(e+a,e-1,n+1)},r=>{const a=(t-r)%o,i=Math.round(a/o),l=Math.floor((t-r)/o),u=Math.floor((n-r)/o),g=Math.min(u,l+i),b=r+g*o;return Math.max(r,b)}),yV=(t,e,n)=>Math.min(n,Math.max(t,e))-e,Sw=t=>{const{min:e,max:n,range:o,value:s,step:r,snap:a,snapStart:i,rounded:l,hasMinEdge:u,hasMaxEdge:g,minBound:b,maxBound:x,screenRange:E}=t,A=u?e-1:e,k=g?n+1:n;if(s<b)return A;if(s>x)return k;{const U=yV(s,b,x),I=xw(U/E*o+e,A,k);return a&&I>=e&&I<=n?bV(I,e,n,r,i):l?Math.round(I):I}},ww=t=>{const{min:e,max:n,range:o,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:i,maxOffset:l,centerMinEdge:u,centerMaxEdge:g}=t;return s<e?r?0:u:s>n?a?i:g:(s-e)/o*l},Iv="top",Cw="right",Tw="bottom",Lv="left",xV="width",SV="height",ei=t=>t.element.dom.getBoundingClientRect(),na=(t,e)=>t[e],X1=t=>{const e=ei(t);return na(e,Lv)},Ew=t=>{const e=ei(t);return na(e,Cw)},Y1=t=>{const e=ei(t);return na(e,Iv)},Ow=t=>{const e=ei(t);return na(e,Tw)},Mw=t=>{const e=ei(t);return na(e,xV)},Aw=t=>{const e=ei(t);return na(e,SV)},Dw=(t,e,n)=>(t+e)/2-n,kw=(t,e)=>{const n=ei(t),o=ei(e),s=na(n,Lv),r=na(n,Cw),a=na(o,Lv);return Dw(s,r,a)},Iw=(t,e)=>{const n=ei(t),o=ei(e),s=na(n,Iv),r=na(n,Tw),a=na(o,Iv);return Dw(s,r,a)},J1=(t,e)=>{_t(t,um(),{value:e})},Fv=(t,e,n)=>{const o={min:Tc(e),max:Oc(e),range:Mv(e),value:n,step:ku(e),snap:hw(e),snapStart:gw(e),rounded:fw(e),hasMinEdge:pw(e),hasMaxEdge:vw(e),minBound:X1(t),maxBound:Ew(t),screenRange:Mw(t)};return Sw(o)},wV=(t,e,n)=>{const o=Fv(t,e,n);return J1(t,o),o},CV=(t,e)=>{const n=Tc(e);J1(t,n)},TV=(t,e)=>{const n=Oc(e);J1(t,n)},EV=(t,e,n,o)=>{const r=(t>0?kv:Dv)(Di(n),Tc(n),Oc(n),ku(n,o));return J1(e,r),m.some(r)},Lw=t=>(e,n,o)=>EV(t,e,n,o).map(Ut),OV=t=>Ov(t).map(n=>n.left),MV=(t,e,n,o,s)=>{const a=Mw(t),i=o.bind(g=>m.some(kw(g,t))).getOr(0),l=s.bind(g=>m.some(kw(g,t))).getOr(a),u={min:Tc(e),max:Oc(e),range:Mv(e),value:n,hasMinEdge:pw(e),hasMaxEdge:vw(e),minBound:X1(t),minOffset:0,maxBound:Ew(t),maxOffset:a,centerMinEdge:i,centerMaxEdge:l};return ww(u)},Hv=(t,e,n,o,s,r)=>{const a=MV(e,r,n,o,s);return X1(e)-X1(t)+a},AV=(t,e,n,o)=>{const s=Di(n),r=Hv(t,o.getSpectrum(t),s,o.getLeftEdge(t),o.getRightEdge(t),n),a=is(e.element)/2;ce(e.element,"left",r-a+"px")},DV=Lw(-1),kV=Lw(1),IV=m.none,LV=m.none,FV={"top-left":m.none(),top:m.none(),"top-right":m.none(),right:m.some(uV),"bottom-right":m.none(),bottom:m.none(),"bottom-left":m.none(),left:m.some(pV)};var HV=Object.freeze({__proto__:null,setValueFrom:wV,setToMin:CV,setToMax:TV,findValueOfOffset:Fv,getValueFromEvent:OV,findPositionOfValue:Hv,setPositionFromValue:AV,onLeft:DV,onRight:kV,onUp:IV,onDown:LV,edgeActions:FV});const Q1=(t,e)=>{_t(t,um(),{value:e})},Pv=(t,e,n)=>{const o={min:Ec(e),max:Mc(e),range:Av(e),value:n,step:ku(e),snap:hw(e),snapStart:gw(e),rounded:fw(e),hasMinEdge:bw(e),hasMaxEdge:yw(e),minBound:Y1(t),maxBound:Ow(t),screenRange:Aw(t)};return Sw(o)},PV=(t,e,n)=>{const o=Pv(t,e,n);return Q1(t,o),o},RV=(t,e)=>{const n=Ec(e);Q1(t,n)},VV=(t,e)=>{const n=Mc(e);Q1(t,n)},BV=(t,e,n,o)=>{const r=(t>0?kv:Dv)(Di(n),Ec(n),Mc(n),ku(n,o));return Q1(e,r),m.some(r)},Fw=t=>(e,n,o)=>BV(t,e,n,o).map(Ut),NV=t=>Ov(t).map(n=>n.top),$V=(t,e,n,o,s)=>{const a=Aw(t),i=o.bind(g=>m.some(Iw(g,t))).getOr(0),l=s.bind(g=>m.some(Iw(g,t))).getOr(a),u={min:Ec(e),max:Mc(e),range:Av(e),value:n,hasMinEdge:bw(e),hasMaxEdge:yw(e),minBound:Y1(t),minOffset:0,maxBound:Ow(t),maxOffset:a,centerMinEdge:i,centerMaxEdge:l};return ww(u)},Rv=(t,e,n,o,s,r)=>{const a=$V(e,r,n,o,s);return Y1(e)-Y1(t)+a},zV=(t,e,n,o)=>{const s=Di(n),r=Rv(t,o.getSpectrum(t),s,o.getTopEdge(t),o.getBottomEdge(t),n),a=ro(e.element)/2;ce(e.element,"top",r-a+"px")},ZV=m.none,UV=m.none,_V=Fw(-1),jV=Fw(1),WV={"top-left":m.none(),top:m.some(iV),"top-right":m.none(),right:m.none(),"bottom-right":m.none(),bottom:m.some(hV),"bottom-left":m.none(),left:m.none()};var GV=Object.freeze({__proto__:null,setValueFrom:PV,setToMin:RV,setToMax:VV,findValueOfOffset:Pv,getValueFromEvent:NV,findPositionOfValue:Rv,setPositionFromValue:zV,onLeft:ZV,onRight:UV,onUp:_V,onDown:jV,edgeActions:WV});const q1=(t,e)=>{_t(t,um(),{value:e})},tg=(t,e)=>({x:t,y:e}),KV=(t,e,n)=>{const o=Fv(t,e,n.left),s=Pv(t,e,n.top),r=tg(o,s);return q1(t,r),r},XV=(t,e,n,o,s)=>{const r=t>0?kv:Dv,a=e?Di(o).x:r(Di(o).x,Tc(o),Oc(o),ku(o,s)),i=e?r(Di(o).y,Ec(o),Mc(o),ku(o,s)):Di(o).y;return q1(n,tg(a,i)),m.some(a)},eg=(t,e)=>(n,o,s)=>XV(t,e,n,o,s).map(Ut),YV=(t,e)=>{const n=Tc(e),o=Ec(e);q1(t,tg(n,o))},JV=(t,e)=>{const n=Oc(e),o=Mc(e);q1(t,tg(n,o))},QV=t=>Ov(t),qV=(t,e,n,o)=>{const s=Di(n),r=Hv(t,o.getSpectrum(t),s.x,o.getLeftEdge(t),o.getRightEdge(t),n),a=Rv(t,o.getSpectrum(t),s.y,o.getTopEdge(t),o.getBottomEdge(t),n),i=is(e.element)/2,l=ro(e.element)/2;ce(e.element,"left",r-i+"px"),ce(e.element,"top",a-l+"px")},tB=eg(-1,!1),eB=eg(1,!1),nB=eg(-1,!0),oB=eg(1,!0),sB={"top-left":m.some(aV),top:m.some(lV),"top-right":m.some(cV),right:m.some(dV),"bottom-right":m.some(mV),bottom:m.some(gV),"bottom-left":m.some(fV),left:m.some(vV)};var rB=Object.freeze({__proto__:null,setValueFrom:KV,setToMin:YV,setToMax:JV,getValueFromEvent:QV,setPositionFromValue:qV,onLeft:tB,onRight:eB,onUp:nB,onDown:oB,edgeActions:sB});const aB=[X("stepSize",1),X("speedMultiplier",10),X("onChange",_),X("onChoose",_),X("onInit",_),X("onDragStart",_),X("onDragEnd",_),X("snapToGrid",!1),X("rounded",!0),$e("snapStart"),ir("model",Is("mode",{x:[X("minX",0),X("maxX",100),Ss("value",t=>$t(t.mode.minX)),ct("getInitialValue"),wn("manager",HV)],y:[X("minY",0),X("maxY",100),Ss("value",t=>$t(t.mode.minY)),ct("getInitialValue"),wn("manager",GV)],xy:[X("minX",0),X("maxX",100),X("minY",0),X("maxY",100),Ss("value",t=>$t({x:t.mode.minX,y:t.mode.minY})),ct("getInitialValue"),wn("manager",rB)]})),Mo("sliderBehaviours",[Bt,At]),Ss("mouseIsDown",()=>$t(!1))],oa=us({name:"Slider",configFields:aB,partFields:tV,factory:(t,e,n,o)=>{const s=Q=>hl(Q,t,"thumb"),r=Q=>hl(Q,t,"spectrum"),a=Q=>sn(Q,t,"left-edge"),i=Q=>sn(Q,t,"right-edge"),l=Q=>sn(Q,t,"top-edge"),u=Q=>sn(Q,t,"bottom-edge"),g=t.model,b=g.manager,x=(Q,gt)=>{b.setPositionFromValue(Q,gt,t,{getLeftEdge:a,getRightEdge:i,getTopEdge:l,getBottomEdge:u,getSpectrum:r})},E=(Q,gt)=>{g.value.set(gt);const Dt=s(Q);x(Q,Dt)},A=(Q,gt)=>{E(Q,gt);const Dt=s(Q);return t.onChange(Q,Dt,gt),m.some(!0)},k=Q=>{b.setToMin(Q,t)},U=Q=>{b.setToMax(Q,t)},I=Q=>{const gt=()=>{sn(Q,t,"thumb").each(nt=>{const kt=g.value.get();t.onChoose(Q,nt,kt)})},Dt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Dt&&gt()},N=(Q,gt)=>{gt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Q,s(Q))},z=(Q,gt)=>{gt.stop(),t.onDragEnd(Q,s(Q)),I(Q)},J=Q=>{sn(Q,t,"spectrum").map(Bt.focusIn)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.sliderBehaviours,[Bt.config({mode:"special",focusIn:J}),At.config({store:{mode:"manual",getValue:Q=>g.value.get(),setValue:E}}),js.config({channels:{[zp()]:{onReceive:I}}})]),events:yn([at(um(),(Q,gt)=>{A(Q,gt.event.value)}),xn((Q,gt)=>{const Dt=g.getInitialValue();g.value.set(Dt);const nt=s(Q);x(Q,nt);const kt=r(Q);t.onInit(Q,nt,kt,g.value.get())}),at(vi(),N),at(Ql(),z),at(cr(),(Q,gt)=>{J(Q),N(Q,gt)}),at(zf(),z)]),apis:{resetToMin:k,resetToMax:U,setValue:E,refresh:x},domModification:{styles:{position:"relative"}}}},apis:{setValue:(t,e,n)=>{t.setValue(e,n)},resetToMin:(t,e)=>{t.resetToMin(e)},resetToMax:(t,e)=>{t.resetToMax(e)},refresh:(t,e)=>{t.refresh(e)}}}),Vv=Lt("rgb-hex-update"),Hw=Lt("slider-update"),Pw=Lt("palette-update"),iB=(t,e)=>{const n=oa.parts.spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=oa.parts.thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return oa.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:R(0)},components:[n,o],sliderBehaviours:ht([Qt.config({})]),onChange:(s,r,a)=>{Et(s.element,"aria-valuenow",Math.floor(360-a*3.6)),_t(s,Hw,{value:a})}})},Rw="form",lB=[Mo("formBehaviours",[At])],Vw=t=>"<alloy.field."+t+">",cB=t=>{const e=(()=>{const r=[];return{field:(i,l)=>(r.push(i),Jp(Rw,Vw(i),l)),record:R(r)}})(),n=t(e),o=e.record(),s=mt(o,r=>ns({name:r,pname:Vw(r)}));return n0(Rw,lB,s,dB,n)},uB=(t,e)=>t.fold(()=>Ce.error(e),Ce.value),dB=(t,e)=>({uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.formBehaviours,[At.config({store:{mode:"manual",getValue:n=>{const o=u3(n,t);return ft(o,(s,r)=>s().bind(a=>{const i=ke.getCurrent(a);return uB(i,new Error(`Cannot find a current component to extract the value from for form part '${r}': `+ll(a.element)))}).map(At.getValue))},setValue:(n,o)=>{lt(o,(s,r)=>{sn(n,t,r).each(a=>{ke.getCurrent(a).each(i=>{At.setValue(i,s)})})})}}})]),apis:{getField:(n,o)=>sn(n,t,o).bind(ke.getCurrent)}}),Iu={getField:$h((t,e,n)=>t.getField(e,n)),sketch:cB},Bw=Lt("valid-input"),Nw=Lt("invalid-input"),$w=Lt("validating-input"),Bv="colorcustom.rgb.",mB={isEnabled:Ut,setEnabled:_,immediatelyShow:_,immediatelyHide:_},hB=(t,e,n,o,s,r)=>{const a=(k,U)=>{const I=U.get();k!==I.isEnabled()&&(I.setEnabled(k),k?I.immediatelyShow():I.immediatelyHide())},i=(k,U,I)=>ti.config({invalidClass:e("invalid"),notify:{onValidate:N=>{_t(N,$w,{type:k})},onValid:N=>{a(!1,I),_t(N,Bw,{type:k,value:At.getValue(N)})},onInvalid:N=>{a(!0,I),_t(N,Nw,{type:k,value:At.getValue(N)})}},validator:{validate:N=>{const z=At.getValue(N),J=U(z)?Ce.value(!0):Ce.error(t("aria.input.invalid"));return Ko.pure(J)},validateOnLoad:!1}}),l=(k,U,I,N,z)=>{const J=$t(mB),Q=t(Bv+"range"),gt=Ie.parts.label({dom:{tag:"label"},components:[Tn(I)]}),Dt=Ie.parts.field({data:z,factory:pl,inputAttributes:{type:"text","aria-label":N,...U==="hex"?{"aria-live":"polite"}:{}},inputClasses:[e("textfield")],inputBehaviours:ht([i(U,k,J),fn.config({}),Dn.config({...s({tooltipText:"",onSetup:Le=>{J.set({isEnabled:()=>Dn.isEnabled(Le),setEnabled:Rt=>Dn.setEnabled(Le,Rt),immediatelyShow:()=>Dn.immediateOpenClose(Le,!0),immediatelyHide:()=>Dn.immediateOpenClose(Le,!1)}),Dn.setEnabled(Le,!1)},onShow:(Le,Rt)=>{Dn.setComponents(Le,[{dom:{tag:"p",classes:[e("rgb-warning-note")]},components:[Tn(t(U==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Le=>{ti.isInvalid(Le)&&ti.run(Le).get(_)}}),nt=Lt("aria-invalid"),kt=ze(r("invalid",m.some(nt),"warning")),bt=ze({dom:{tag:"div",classes:[e("invalid-icon")]},components:[kt.asSpec()]}),It=[gt,Dt,bt.asSpec()],ye=U!=="hex"?[Ie.parts["aria-descriptor"]({text:Q})]:[],tn=It.concat(ye);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[e("rgb-container")]},components:tn}},u=(k,U)=>{const I=em(U);return Iu.getField(k,"hex").each(N=>{Qt.isFocused(N)||At.setValue(k,{hex:I.value})}),I},g=(k,U)=>{const I=U.red,N=U.green,z=U.blue;At.setValue(k,{red:I,green:N,blue:z})},b=ze({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),x=(k,U)=>{b.getOpt(k).each(I=>{ce(I.element,"background-color","#"+U.value)})};return hr({factory:()=>{const k={red:$t(m.some(255)),green:$t(m.some(255)),blue:$t(m.some(255)),hex:$t(m.some("ffffff"))},U=(Rt,ut)=>{const St=nm(ut);g(Rt,St),J(St)},I=Rt=>k[Rt].get(),N=(Rt,ut)=>{k[Rt].set(ut)},z=()=>I("red").bind(Rt=>I("green").bind(ut=>I("blue").map(St=>Sc(Rt,ut,St,1)))),J=Rt=>{const ut=Rt.red,St=Rt.green,Jt=Rt.blue;N("red",m.some(ut)),N("green",m.some(St)),N("blue",m.some(Jt))},Q=(Rt,ut)=>{const St=ut.event;St.type!=="hex"?N(St.type,m.none()):o(Rt)},gt=(Rt,ut)=>{n(Rt);const St=s5(ut);N("hex",m.some(St.value));const Jt=nm(St);g(Rt,Jt),J(Jt),_t(Rt,Vv,{hex:St}),x(Rt,St)},Dt=(Rt,ut,St)=>{const Jt=parseInt(St,10);N(ut,m.some(Jt)),z().each(de=>{const Nt=u(Rt,de);_t(Rt,Vv,{hex:Nt}),x(Rt,Nt)})},nt=Rt=>Rt.type==="hex",kt=(Rt,ut)=>{const St=ut.event;nt(St)?gt(Rt,St.value):Dt(Rt,St.type,St.value)},bt=Rt=>({label:t(Bv+Rt+".label"),description:t(Bv+Rt+".description")}),It=bt("red"),ye=bt("green"),tn=bt("blue"),Le=bt("hex");return Fn(Iu.sketch(Rt=>({dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Rt.field("red",Ie.sketch(l(sv,"red",It.label,It.description,255))),Rt.field("green",Ie.sketch(l(sv,"green",ye.label,ye.description,255))),Rt.field("blue",Ie.sketch(l(sv,"blue",tn.label,tn.description,255))),Rt.field("hex",Ie.sketch(l(i5,"hex",Le.label,Le.description,"ffffff"))),b.asSpec()],formBehaviours:ht([ti.config({invalidClass:e("form-invalid")}),le("rgb-form-events",[at(Bw,kt),at(Nw,Q),at($w,Q)])])})),{apis:{updateHex:(Rt,ut)=>{At.setValue(Rt,{hex:ut.value}),U(Rt,ut),x(Rt,ut)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(k,U,I)=>{k.updateHex(U,I)}},extraApis:{}})},gB=(t,e)=>{const n=oa.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),o=oa.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:`<div class=${e("sv-palette-inner-thumb")} role="presentation"></div>`}}),s=(u,g)=>{const{width:b,height:x}=u,E=u.getContext("2d");if(E===null)return;E.fillStyle=g,E.fillRect(0,0,b,x);const A=E.createLinearGradient(0,0,b,0);A.addColorStop(0,"rgba(255,255,255,1)"),A.addColorStop(1,"rgba(255,255,255,0)"),E.fillStyle=A,E.fillRect(0,0,b,x);const k=E.createLinearGradient(0,0,0,x);k.addColorStop(0,"rgba(0,0,0,0)"),k.addColorStop(1,"rgba(0,0,0,1)"),E.fillStyle=k,E.fillRect(0,0,b,x)},r=(u,g)=>{const b=u.components()[0].element.dom,x=om(g,100,100),E=d5(x);s(b,h5(E))},a=(u,g)=>{const b=iv(nm(g));oa.setValue(u,{x:b.saturation,y:100-b.value}),Et(u.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",b.saturation,b.value]))};return hr({factory:u=>{const g=R({x:0,y:0}),b=(A,k,U)=>{rt(U)||Et(A.element,"aria-valuetext",t(["Saturation {0}%, Brightness {1}%",Math.floor(U.x),Math.floor(100-U.y)])),_t(A,Pw,{value:U})},x=(A,k,U,I)=>{s(U.element.dom,h5(g5))},E=ht([ke.config({find:m.some}),Qt.config({})]);return oa.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":t(["Saturation {0}%, Brightness {1}%",0,0])},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:g},rounded:!1,components:[n,o],onChange:b,onInit:x,sliderBehaviours:E})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(u,g,b)=>{r(g,b)},setThumb:(u,g,b)=>{a(g,b)}},extraApis:{}})},fB=(t,e,n,o)=>{const s=a=>{const i=hB(t,e,a.onValidHex,a.onInvalidHex,n,o),l=gB(t,e),u=nt=>(100-nt)/100*360,g=nt=>100-nt/360*100,b={paletteRgba:$t(g5),paletteHue:$t(0)},x=ze(iB(t,e)),E=ze(l.sketch({})),A=ze(i.sketch({})),k=(nt,kt,bt)=>{E.getOpt(nt).each(It=>{l.setHue(It,bt)})},U=(nt,kt)=>{A.getOpt(nt).each(bt=>{i.updateHex(bt,kt)})},I=(nt,kt,bt)=>{x.getOpt(nt).each(It=>{oa.setValue(It,g(bt))})},N=(nt,kt)=>{E.getOpt(nt).each(bt=>{l.setThumb(bt,kt)})},z=(nt,kt)=>{const bt=nm(nt);b.paletteRgba.set(bt),b.paletteHue.set(kt)},J=(nt,kt,bt,It)=>{z(kt,bt),Mt(It,ye=>{ye(nt,kt,bt)})},Q=()=>{const nt=[U];return(kt,bt)=>{const It=bt.event.value,ye=b.paletteHue.get(),tn=om(ye,It.x,100-It.y),Le=S5(tn);J(kt,Le,ye,nt)}},gt=()=>{const nt=[k,U];return(kt,bt)=>{const It=u(bt.event.value),ye=b.paletteRgba.get(),tn=iv(ye),Le=om(It,tn.saturation,tn.value),Rt=S5(Le);J(kt,Rt,It,nt)}},Dt=()=>{const nt=[k,I,N];return(kt,bt)=>{const It=bt.event.hex,ye=iP(It);J(kt,It,ye.hue,nt)}};return{uid:a.uid,dom:a.dom,components:[E.asSpec(),x.asSpec(),A.asSpec()],behaviours:ht([le("colour-picker-events",[at(Vv,Dt()),at(Pw,Q()),at(Hw,gt())]),ke.config({find:nt=>A.getOpt(nt)}),Bt.config({mode:"acyclic"})])}};return hr({name:"ColourPicker",configFields:[ct("dom"),X("onValidHex",_),X("onInvalidHex",_)],factory:s})},sa={self:()=>ke.config({find:m.some}),memento:t=>ke.config({find:t.getOpt}),childAt:t=>ke.config({find:e=>Cr(e.element,t).bind(n=>e.getSystem().getByDom(n).toOptional())})},pB=te([X("preprocess",Ot),X("postprocess",Ot)]),vB=(t,e)=>{const n=ks("RepresentingConfigs.memento processors",pB,e);return At.config({store:{mode:"manual",getValue:o=>{const s=t.get(o),r=At.getValue(s);return n.postprocess(r)},setValue:(o,s)=>{const r=n.preprocess(s),a=t.get(o);At.setValue(a,r)}}})},Ac=(t,e,n)=>At.config({store:{mode:"manual",...t.map(o=>({initialValue:o})).getOr({}),getValue:e,setValue:n}}),zw=(t,e,n)=>Ac(t,o=>e(o.element),(o,s)=>n(o.element,s)),bB=t=>zw(t,up,cu),ng=t=>At.config({store:{mode:"memory",initialValue:t}}),yB={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},xB=t=>e=>S(e)?t.translate(yB[e]):t.translate(e),SB=(t,e,n)=>{const o=u=>"tox-"+u,s=(u,g,b=u,x=u)=>Ir(b,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+u],attributes:{title:e.translate(x),"aria-live":"polite",...g.fold(()=>({}),E=>({id:E}))}},e.icons),r=fB(xB(e),o,e.tooltips.getConfig,s),a=u=>{_t(u,qa,{name:"hex-valid",value:!0})},i=u=>{_t(u,qa,{name:"hex-valid",value:!1})},l=ze(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:i}));return{dom:{tag:"div"},components:[l.asSpec()],behaviours:ht([Ac(n,u=>{const g=l.get(u);return ke.getCurrent(g).bind(E=>At.getValue(E).hex).map(E=>"#"+zi(E,"#")).getOr("")},(u,g)=>{const b=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,x=m.from(b.exec(g)).bind(k=>Jo(k,1)),E=l.get(u);ke.getCurrent(E).fold(()=>{console.log("Can not find form")},k=>{At.setValue(k,{hex:x.getOr("")}),Iu.getField(k,"hex").each(U=>{Ae(U,bi())})})}),sa.self()])}};var wB=tinymce.util.Tools.resolve("tinymce.Resource");const Zw=t=>jt(t,"init"),CB=t=>{const e=qe(),n=ze({dom:{tag:t.tag}}),o=qe(),s=!Zw(t)&&t.onFocus.isSome()?[Qt.config({onFocus:r=>{t.onFocus.each(a=>{a(r.element.dom)})}}),fn.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ht([le("custom-editor-events",[xn(r=>{n.getOpt(r).each(a=>{(Zw(t)?t.init(a.element.dom):wB.load(t.scriptId,t.scriptUrl).then(i=>i(a.element.dom,t.settings))).then(i=>{o.on(l=>{i.setValue(l)}),o.clear(),e.set(i)})})})]),Ac(m.none(),()=>e.get().fold(()=>o.get().getOr(""),r=>r.getValue()),(r,a)=>{e.get().fold(()=>o.set(a),i=>i.setValue(a))}),sa.self()].concat(s)),components:[n.asSpec()]}};var ki=tinymce.util.Tools.resolve("tinymce.util.Tools");const Nv=Lt("browse.files.event"),TB=(t,e)=>{const n=ki.explode(e.getOption("images_file_types")),o=s=>Ge(n,r=>Nr(s.name.toLowerCase(),`.${r.toLowerCase()}`));return Ve(rs(t),o)},EB=(t,e,n)=>{const o=(x,E)=>{E.stop()},s=x=>(E,A)=>{Mt(x,k=>{k(E,A)})},r=(x,E)=>{var A;if(!Gt.isDisabled(x)){const k=E.event.raw;_t(x,Nv,{files:(A=k.dataTransfer)===null||A===void 0?void 0:A.files})}},a=(x,E)=>{const A=E.event.raw.target;_t(x,Nv,{files:A.files})},i=(x,E)=>{E&&(At.setValue(x,TB(E,e)),_t(x,Fs,{name:t.name}))},l=ze({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ht([le("input-file-events",[oc(ql()),oc(wd())])])}),u=t.label.map(x=>bl(x,e)),g=Ie.parts.field({factory:Bo,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Tn(e.translate("Browse for an image")),l.asSpec()],action:x=>{l.get(x).element.dom.click()},buttonBehaviours:ht([sa.self(),ng(n.getOr([])),fn.config({}),Fr.button(()=>e.checkUiComponentContext(t.context).shouldDisable),jn(()=>e.checkUiComponentContext(t.context))])}),b={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ht([Gt.config({disabled:()=>e.checkUiComponentContext(t.context).shouldDisable}),jn(()=>e.checkUiComponentContext(t.context)),be.config({toggleClass:"dragenter",toggleOnExecute:!1}),le("dropzone-events",[at("dragenter",s([o,be.toggle])),at("dragleave",s([o,be.toggle])),at("dragover",o),at("drop",s([o,r])),at(ru(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Tn(e.translate("Drop an image here"))]},g]}]};return am(u,b,["tox-form__group--stretched"],[le("handle-files",[at(Nv,(x,E)=>{Ie.getField(x).each(A=>{i(A,E.event.files)})})])])},OB=(t,e)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${t.columns}col`]},components:mt(t.items,e.interpreter)}),MB=(t,e)=>{let n=null,o=null;return{cancel:()=>{F(n)||(clearTimeout(n),n=null,o=null)},throttle:(...a)=>{o=a,F(n)&&(n=setTimeout(()=>{const i=o;n=null,o=null,t.apply(null,i)},e))}}},AB=(t,e)=>{let n=null;return{cancel:()=>{F(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{F(n)&&(n=setTimeout(()=>{n=null,t.apply(null,r)},e))}}},$v=(t,e)=>{let n=null;const o=()=>{F(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout(()=>{n=null,t.apply(null,r)},e)}}},zv=Lt("alloy-fake-before-tabstop"),Zv=Lt("alloy-fake-after-tabstop"),Uw=t=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:ht([Qt.config({ignore:!0}),fn.config({})])}),_w=(t,e)=>({dom:{tag:"div",classes:["tox-navobj",...t.getOr([])]},components:[Uw([zv]),e,Uw([Zv])],behaviours:ht([sa.childAt(1)])}),jw=(t,e)=>{_t(t,Ca(),{raw:{which:9,shiftKey:e}})},DB=(t,e)=>{const n=e.element;Ls(n,zv)?jw(t,!0):Ls(n,Zv)&&jw(t,!1)},dm=t=>sm(t,["."+zv,"."+Zv].join(","),yt),og=Lt("update-dialog"),Ww=Lt("update-title"),Gw=Lt("update-body"),Kw=Lt("update-footer"),Xw=Lt("body-send-message"),sg=Lt("dialog-focus-shifted"),Uv=ls().browser,mm=Uv.isSafari(),kB=Uv.isFirefox(),Yw=mm||kB,IB=Uv.isChromium(),LB=({scrollTop:t,scrollHeight:e,clientHeight:n})=>Math.ceil(t)+n>=e,Jw=(t,e)=>t.scrollTo(0,e==="bottom"?99999999:e),FB=(t,e)=>{const n=t.body;return m.from(!/^<!DOCTYPE (html|HTML)/.test(e)&&(!IB&&!mm||W(n)&&(n.scrollTop!==0||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:t.documentElement)},Qw=(t,e,n)=>{const o=t.dom;m.from(o.contentDocument).fold(n,s=>{let r=0;const a=FB(s,e).map(l=>(r=l.scrollTop,l)).forall(LB),i=()=>{const l=o.contentWindow;W(l)&&(a?Jw(l,"bottom"):!a&&Yw&&r!==0&&Jw(l,r))};mm&&o.addEventListener("load",i,{once:!0}),s.open(),s.write(e),s.close(),mm||i()})},HB=No(Yw,mm?500:200).map(t=>MB(Qw,t)),PB=(t,e)=>{const n=$t(t.getOr(""));return{getValue:o=>n.get(),setValue:(o,s)=>{if(n.get()!==s){const r=o.element,a=()=>Et(r,"srcdoc",s);e?HB.fold(R(Qw),i=>i.throttle)(r,s,a):a()}n.set(s)}}},RB=(t,e,n)=>{const o="tox-dialog__iframe",s=t.transparent?[]:[`${o}--opaque`],r=t.border?["tox-navobj-bordered"]:[],a={...t.label.map(b=>({title:b})).getOr({}),...n.map(b=>({srcdoc:b})).getOr({}),...t.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},i=PB(n,t.streamContent),l=t.label.map(b=>bl(b,e)),u=b=>_w(m.from(r),{uid:b.uid,dom:{tag:"iframe",attributes:a,classes:[o,...s]},behaviours:ht([fn.config({}),Qt.config({}),Ac(n,i.getValue,i.setValue),js.config({channels:{[sg]:{onReceive:(x,E)=>{E.newFocus.each(A=>{ys(x.element).each(k=>{(_e(x.element,A)?Yn:$n)(k,"tox-navobj-bordered-focus")})})}}}})])}),g=Ie.parts.field({factory:{sketch:u}});return am(l,g,["tox-form__group--stretched"],[])},VB=t=>new Promise((e,n)=>{const o=()=>{r(),e(t)},s=[ws(t,"load",o),ws(t,"error",()=>{r(),n("Unable to load data from image: "+t.dom.src)})],r=()=>Mt(s,a=>a.unbind());t.dom.complete&&o()}),BB=(t,e,n,o,s)=>{const r=n*s,a=o*s,i=Math.max(0,t/2-r/2),l=Math.max(0,e/2-a/2);return{left:i.toString()+"px",top:l.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}},NB=(t,e,n)=>{const o=is(t),s=ro(t);return Math.min(o/e,s/n,1)},$B=(t,e)=>{const n=$t(e.getOr({url:""})),o=ze({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:e.map(l=>({src:l.url})).getOr({})}}),s=ze({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),r=(l,u)=>{const g={url:u.url};u.zoom.each(x=>g.zoom=x),u.cachedWidth.each(x=>g.cachedWidth=x),u.cachedHeight.each(x=>g.cachedHeight=x),n.set(g);const b=()=>{const{cachedWidth:x,cachedHeight:E,zoom:A}=g;if(!$(x)&&!$(E)){if($(A)){const U=NB(l.element,x,E);g.zoom=U}const k=BB(is(l.element),ro(l.element),x,E,g.zoom);s.getOpt(l).each(U=>{Tr(U.element,k)})}};o.getOpt(l).each(x=>{const E=x.element;u.url!==fe(E,"src")&&(Et(E,"src",u.url),$n(l.element,"tox-imagepreview__loaded")),b(),VB(E).then(A=>{l.getSystem().isConnected()&&(Yn(l.element,"tox-imagepreview__loaded"),g.cachedWidth=A.dom.naturalWidth,g.cachedHeight=A.dom.naturalHeight,b())})})},a={};t.height.each(l=>a.height=l);const i=e.map(l=>({url:l.url,zoom:m.from(l.zoom),cachedWidth:m.from(l.cachedWidth),cachedHeight:m.from(l.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:ht([sa.self(),Ac(i,()=>n.get(),r)])}},zB=(t,e,n)=>{const o="tox-label",s=t.align==="center"?[`${o}--center`]:[],r=t.align==="end"?[`${o}--end`]:[],a=ze({dom:{tag:"label",classes:[o,...s,...r]},components:[Tn(e.providers.translate(t.label))]}),i=mt(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a.asSpec(),...i],behaviours:ht([sa.self(),se.config({}),bB(m.none()),Bt.config({mode:"acyclic"}),le("label",[xn(l=>{t.for.each(u=>{n(u).each(g=>{a.getOpt(l).each(b=>{var x;const E=(x=fe(g.element,"id"))!==null&&x!==void 0?x:Lt("form-field");Et(g.element,"id",E),Et(b.element,"for",E)})})})})])])}},qw=Lt("toolbar.button.execute"),ZB=t=>yi((e,n)=>{P1(t,e)(o=>{_t(e,qw,{buttonApi:o}),t.onAction(o)})}),wl=Lt("common-button-display-events"),tC={[ur()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Ta()]:["toolbar-button-events",wl],[Xa()]:["toolbar-button-events","dropdown-events","tooltipping"],[cr()]:["focusing","alloy.base.behaviour",wl]},_v=t=>ce(t.element,"width",Po(t.element,"width")),eC=(t,e,n)=>Ir(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},e),jv=(t,e)=>eC(t,e,[]),Cl=(t,e)=>eC(t,e,[se.config({})]),nC=(t,e,n)=>({dom:{tag:"span",classes:[`${e}__select-label`]},components:[Tn(n.translate(t))],behaviours:ht([se.config({})])}),Hr=Lt("update-menu-text"),Dc=Lt("update-menu-icon"),Wv=(t,e,n,o)=>{const s=$t(_),r=t.text.map(k=>ze(nC(k,e,n.providers))),a=t.icon.map(k=>ze(Cl(k,n.providers.icons))),i=(k,U)=>{const I=At.getValue(k);return Qt.focus(I),_t(I,"keydown",{raw:U.event.raw}),gr.close(I),m.some(!0)},l=t.role.fold(()=>({}),k=>({role:k})),u=m.from(t.listRole).map(k=>({listRole:k})).getOr({}),g=t.ariaLabel.fold(()=>({}),k=>({"aria-label":n.providers.translate(k)})),b=Ir("chevron-down",{tag:"div",classes:[`${e}__select-chevron`]},n.providers.icons),x=Lt("common-button-display-events"),E="dropdown-events";return ze(gr.sketch({...t.uid?{uid:t.uid}:{},...l,...u,dom:{tag:"button",classes:[e,`${e}--select`].concat(mt(t.classes,k=>`${e}--${k}`)),attributes:{...g,...W(o)?{"data-mce-name":o}:{}}},components:Ou([a.map(k=>k.asSpec()),r.map(k=>k.asSpec()),m.some(b)]),matchWidth:!0,useMinWidth:!0,onOpen:(k,U,I)=>{t.searchable&&aR(I)},dropdownBehaviours:ht([...t.dropdownBehaviours,Fr.button(()=>t.disabled||n.providers.checkUiComponentContext(t.context).shouldDisable),jn(()=>n.providers.checkUiComponentContext(t.context)),cm.config({}),se.config({}),...t.tooltip.map(k=>Dn.config(n.providers.tooltips.getConfig({tooltipText:n.providers.translate(k)}))).toArray(),le(E,[Da(t,s),ka(t,s)]),le(x,[xn((k,U)=>{t.listRole!=="listbox"&&_v(k)})]),le("update-dropdown-width-variable",[at(Cd(),(k,U)=>gr.close(k))]),le("menubutton-update-display-text",[at(Hr,(k,U)=>{r.bind(I=>I.getOpt(k)).each(I=>{se.set(I,[Tn(n.providers.translate(U.event.text))])})}),at(Dc,(k,U)=>{a.bind(I=>I.getOpt(k)).each(I=>{se.set(I,[Cl(U.event.icon,n.providers.icons)])})})])]),eventOrder:Fn(tC,{[cr()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Ta()]:["toolbar-button-events",Dn.name(),E,x]}),sandboxBehaviours:ht([Bt.config({mode:"special",onLeft:i,onRight:i}),le("dropdown-sandbox-events",[at(kS,(k,U)=>{eR(k),U.stop()}),at(IS,(k,U)=>{nR(k,U),U.stop()})])]),lazySink:n.getSink,toggleClass:`${e}--active`,parts:{menu:{...A1(!1,t.columns,t.presets),fakeFocus:t.searchable,...t.listRole==="listbox"?{}:{onHighlightItem:_5,onCollapseMenu:(k,U,I)=>{Ze.getHighlighted(I).each(N=>{_5(k,I,N)})},onDehighlightItem:rR}}},getAnchorOverrides:()=>({maxHeightFunction:(k,U)=>{d4()(k,U-10)}}),fetch:k=>Ko.nu(Ft(t.fetch,k))})).asSpec()},UB=t=>S(t),oC=t=>t.type==="separator",_B=t=>jt(t,"getSubmenuItems"),jB={type:"separator"},WB=(t,e)=>{const n=vn(t,(o,s)=>UB(s)?s===""?o:s==="|"?o.length>0&&!oC(o[o.length-1])?o.concat([jB]):o:jt(e,s.toLowerCase())?o.concat([e[s.toLowerCase()]]):o:o.concat([s]),[]);return n.length>0&&oC(n[n.length-1])&&n.pop(),n},GB=(t,e)=>{const n=t.getSubmenuItems(),o=sC(n,e),s=Fn(o.menus,{[t.value]:o.items}),r=Fn(o.expansions,{[t.value]:t.value});return{item:t,menus:s,expansions:r}},KB=t=>{const e=wt(t,"value").getOrThunk(()=>Lt("generated-menu-item"));return Fn({value:e},t)},sC=(t,e)=>{const n=WB(S(t)?t.split(" "):t,e);return cn(n,(o,s)=>{if(_B(s)){const r=KB(s),a=GB(r,e);return{menus:Fn(o.menus,a.menus),items:[a.item,...o.items],expansions:Fn(o.expansions,a.expansions)}}else return{...o,items:[s,...o.items]}},{menus:{},expansions:{},items:[]})},XB=t=>t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-field",placeholder:e.placeholder})),YB=t=>t.search.fold(()=>({searchMode:"no-search"}),e=>({searchMode:"search-with-results"})),Lu=(t,e,n,o)=>{const s=Lt("primary-menu"),r=sC(t,n.shared.providers.menuItems());if(r.items.length===0)return m.none();const a=XB(o),i=j5(s,r.items,e,n,o.isHorizontalMenu,a),l=YB(o),u=ft(r.menus,(b,x)=>j5(x,b,e,n,!1,l)),g=Fn(u,Jl(s,i));return m.from(fc.tieredData(s,g,r.expansions))},rg=t=>!jt(t,"items"),rC="data-value",aC=(t,e,n,o,s)=>mt(n,r=>rg(r)?{type:"togglemenuitem",...s?{}:{role:"option"},text:r.text,value:r.value,active:r.value===o,onAction:()=>{At.setValue(t,r.value),_t(t,Fs,{name:e}),Qt.focus(t)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>aC(t,e,r.items,o,s)}),Gv=(t,e)=>zn(t,n=>rg(n)?No(n.value===e,n):Gv(n.items,e)),JB=(t,e,n)=>{const o=Ge(t.items,u=>!rg(u)),s=e.shared.providers,r=n.bind(u=>Gv(t.items,u)).orThunk(()=>no(t.items).filter(rg)),a=t.label.map(u=>bl(u,s)),i=Ie.parts.field({dom:{},factory:{sketch:u=>Wv({context:t.context,uid:u.uid,text:r.map(g=>g.text),icon:m.none(),tooltip:m.none(),role:No(!o,"combobox"),...o?{}:{listRole:"listbox"},ariaLabel:t.label,fetch:(g,b)=>{const x=aC(g,t.name,t.items,At.getValue(g),o);b(Lu(x,Aa.CLOSE_ON_EXECUTE,e,{isHorizontalMenu:!1,search:m.none()}))},onSetup:R(_),getApi:R({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[fn.config({}),Ac(r.map(g=>g.value),g=>fe(g.element,rC),(g,b)=>{Gv(t.items,b).each(x=>{Et(g.element,rC,x.value),_t(g,Hr,{text:x.text})})})]},"tox-listbox",e.shared)}}),l={dom:{tag:"div",classes:["tox-listboxfield"]},components:[i]};return Ie.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:en([a.toArray(),[l]]),fieldBehaviours:ht([Gt.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:u=>{Ie.getField(u).each(Gt.disable)},onEnabled:u=>{Ie.getField(u).each(Gt.enable)}})])})},QB=(t,e)=>({dom:{tag:"div",classes:t.classes},components:mt(t.items,e.shared.interpreter)}),qB=(t,e)=>{const n=mt(t.options,s=>({dom:{tag:"option",value:s.value,innerHtml:s.text}})),o=t.data.map(s=>Jl("initialValue",s)).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:Vo(t.selectBehaviours,[Qt.config({}),At.config({store:{mode:"manual",getValue:s=>xi(s.element),setValue:(s,r)=>{const a=no(t.options);Me(t.options,l=>l.value===r).isSome()?lc(s.element,r):s.element.dom.selectedIndex===-1&&r===""&&a.each(l=>lc(s.element,l.value))},...o}})])}},tN=hr({name:"HtmlSelect",configFields:[ct("options"),Mo("selectBehaviours",[Qt,At]),X("selectClasses",[]),X("selectAttributes",{}),$e("data")],factory:qB}),eN=(t,e,n)=>{const o=mt(t.items,l=>({text:e.translate(l.text),value:l.value})),s=t.label.map(l=>bl(l,e)),r=Ie.parts.field({dom:{},...n.map(l=>({data:l})).getOr({}),selectAttributes:{size:t.size},options:o,factory:tN,selectBehaviours:ht([Gt.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable}),fn.config({}),le("selectbox-change",[at(ru(),(l,u)=>{_t(l,Fs,{name:t.name})})])])}),a=t.size>1?m.none():m.some(Ir("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},e.icons)),i={dom:{tag:"div",classes:["tox-selectfield"]},components:en([[r],a.toArray()])};return Ie.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:en([s.toArray(),[i]]),fieldBehaviours:ht([Gt.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:l=>{Ie.getField(l).each(Gt.disable)},onEnabled:l=>{Ie.getField(l).each(Gt.enable)}}),jn(()=>e.checkUiComponentContext(t.context))])})},nN=R([X("field1Name","field1"),X("field2Name","field2"),ac("onLockedChange"),rc(["lockClass"]),X("locked",!1),Jr.field("coupledFieldBehaviours",[ke,At]),gn("onInput",_)]),oN=(t,e,n)=>sn(t,e,n).bind(ke.getCurrent),iC=(t,e)=>ns({factory:Ie,name:t,overrides:n=>({fieldBehaviours:ht([le("coupled-input-behaviour",[at(bi(),o=>{oN(o,n,e).each(s=>{sn(o,n,"lock").each(r=>{be.isOn(r)&&n.onLockedChange(o,s,r),n.onInput(o)})})})])])})}),sN=R([iC("field1","field2"),iC("field2","field1"),ns({factory:Bo,schema:[ct("dom")],name:"lock",overrides:t=>({buttonBehaviours:ht([be.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])})})]),rN=(t,e,n,o)=>({uid:t.uid,dom:t.dom,components:e,behaviours:Jr.augment(t.coupledFieldBehaviours,[ke.config({find:m.some}),At.config({store:{mode:"manual",getValue:s=>{const r=t0(s,t,["field1","field2"]);return{[t.field1Name]:At.getValue(r.field1()),[t.field2Name]:At.getValue(r.field2())}},setValue:(s,r)=>{const a=t0(s,t,["field1","field2"]);bn(r,t.field1Name)&&At.setValue(a.field1(),r[t.field1Name]),bn(r,t.field2Name)&&At.setValue(a.field2(),r[t.field2Name])}}})]),apis:{getField1:s=>sn(s,t,"field1"),getField2:s=>sn(s,t,"field2"),getLock:s=>sn(s,t,"lock")}}),fr=us({name:"FormCoupledInputs",configFields:nN(),partFields:sN(),factory:rN,apis:{getField1:(t,e)=>t.getField1(e),getField2:(t,e)=>t.getField2(e),getLock:(t,e)=>t.getLock(e)}}),aN=t=>{const e={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=s=>s in e?e[s]:1;let o=t.value.toFixed(n(t.unit));return o.indexOf(".")!==-1&&(o=o.replace(/\.?0*$/,"")),o+t.unit},Kv=t=>{const n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(n!==null){const o=parseFloat(n[1]),s=n[2];return Ce.value({value:o,unit:s})}else return Ce.error(t)},lC=(t,e)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=s=>jt(n,s);return t.unit===e?m.some(t.value):o(t.unit)&&o(e)?n[t.unit]===n[e]?m.some(t.value):m.some(t.value/n[t.unit]*n[e]):m.none()},Xv=t=>m.none(),iN=(t,e)=>n=>lC(n,e).map(o=>({value:o*t,unit:e})),lN=(t,e)=>{const n=Kv(t).toOptional(),o=Kv(e).toOptional();return Br(n,o,(s,r)=>lC(s,r.unit).map(a=>r.value/a).map(a=>iN(a,r.unit)).getOr(Xv)).getOr(Xv)},cC=(t,e)=>{let n=Xv;const o=Lt("ratio-event"),s=I=>Ir(I,{tag:"span",classes:["tox-icon","tox-lock-icon__"+I]},e.icons),r=()=>!t.enabled||t.context.exists(I=>e.checkUiComponentContext(I).shouldDisable),a=t.context.map(I=>jn(()=>e.checkUiComponentContext(I))),i=t.label.getOr("Constrain proportions"),l=e.translate(i),u=fr.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":l,"data-mce-name":i}},components:[s("lock"),s("unlock")],buttonBehaviours:ht([Gt.config({disabled:r}),...a.toArray(),fn.config({}),Dn.config(e.tooltips.getConfig({tooltipText:l}))])}),g=I=>({dom:{tag:"div",classes:[t.inDialog?"tox-form__group":"tox-context-form__group"]},components:I}),b=I=>Ie.parts.field({factory:pl,inputClasses:t.inDialog?["tox-textfield"]:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:I?t.width:t.height,inputBehaviours:ht([Gt.config({disabled:r}),...a.toArray(),fn.config({}),le("size-input-events",[at(wa(),(N,z)=>{_t(N,o,{isField1:I})}),at(ru(),(N,z)=>{t.name.each(J=>_t(N,Fs,{name:J}))})]),...t.onEnter.map(N=>Bt.config({mode:"special",onEnter:N})).toArray()]),selectOnFocus:!1}),x=I=>({dom:{tag:"label",classes:["tox-label"]},components:[Tn(e.translate(I))]}),E=fr.parts.field1(g([Ie.parts.label(x("Width")),b(!0)])),A=fr.parts.field2(g([Ie.parts.label(x("Height")),b(!1)])),k=$t(_),U=Br(t.onSetup,t.getApi,(I,N)=>[Da({onSetup:I,getApi:N},k),ka({getApi:N},k)]).getOr([]);return fr.sketch({dom:{tag:"div",classes:[t.inDialog?"tox-form__group":"tox-context-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[E,A,g([x(IA),u])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(I,N,z)=>{Kv(At.getValue(I)).each(J=>{n(J).each(Q=>{At.setValue(N,aN(Q))})})},onInput:I=>Ae(I,tw),coupledFieldBehaviours:ht([Gt.config({disabled:r,onDisabled:I=>{fr.getField1(I).bind(Ie.getField).each(Gt.disable),fr.getField2(I).bind(Ie.getField).each(Gt.disable),fr.getLock(I).each(Gt.disable)},onEnabled:I=>{fr.getField1(I).bind(Ie.getField).each(Gt.enable),fr.getField2(I).bind(Ie.getField).each(Gt.enable),fr.getLock(I).each(Gt.enable)}}),jn(()=>e.checkUiComponentContext("mode:design")),le("size-input-events",[at(o,(I,N)=>{const z=N.event.isField1,J=z?fr.getField1(I):fr.getField2(I),Q=z?fr.getField2(I):fr.getField1(I),gt=J.map(At.getValue).getOr(""),Dt=Q.map(At.getValue).getOr("");n=lN(gt,Dt)}),at(tw,I=>{t.onInput.each(N=>N(I))}),...U])])})},cN=(t,e)=>cC({inDialog:!0,label:t.label,enabled:t.enabled,context:m.some(t.context),name:m.some(t.name),width:"",height:"",onEnter:m.none(),onInput:m.none(),onSetup:m.none(),getApi:m.none()},e),uN=(t,e,n)=>{const o=oa.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tn(e.translate(t.label))]}),s=oa.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=oa.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return oa.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:t.min,maxX:t.max,getInitialValue:R(n.getOrThunk(()=>(Math.abs(t.max)-Math.abs(t.min))/2))},components:[o,s,r],sliderBehaviours:ht([sa.self(),Qt.config({})]),onChoose:(a,i,l)=>{_t(a,Fs,{name:t.name,value:l})},onChange:(a,i,l)=>{_t(a,Fs,{name:t.name,value:l})}})},dN=(t,e)=>{const n=i=>({dom:{tag:"th",innerHtml:e.translate(i)}}),o=i=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:mt(i,n)}]}),s=i=>({dom:{tag:"td",innerHtml:e.translate(i)}}),r=i=>({dom:{tag:"tr"},components:mt(i,s)}),a=i=>({dom:{tag:"tbody"},components:mt(i,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[o(t.header),a(t.cells)],behaviours:ht([fn.config({}),Qt.config({})])}},uC=(t,e)=>{const n=t.label.map(E=>bl(E,e)),o=[Gt.config({disabled:()=>t.disabled||e.checkUiComponentContext(t.context).shouldDisable}),jn(()=>e.checkUiComponentContext(t.context)),Bt.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:E=>(Ae(E,lm),m.some(!0))}),le("textfield-change",[at(bi(),(E,A)=>{_t(E,Fs,{name:t.name})}),at(Zf(),(E,A)=>{_t(E,Fs,{name:t.name})})]),fn.config({})],s=t.validation.map(E=>ti.config({getRoot:A=>ys(A.element),invalidClass:"tox-invalid",validator:{validate:A=>{const k=At.getValue(A),U=E.validator(k);return Ko.pure(U===!0?Ce.value(k):Ce.error(U))},validateOnLoad:E.validateOnLoad}})).toArray(),r=t.placeholder.fold(R({}),E=>({placeholder:e.translate(E)})),a=t.inputMode.fold(R({}),E=>({inputmode:E})),i={...r,...a,"data-mce-name":t.name},l=Ie.parts.field({tag:t.multiline===!0?"textarea":"input",...t.data.map(E=>({data:E})).getOr({}),inputAttributes:i,inputClasses:[t.classname],inputBehaviours:ht(en([o,s])),selectOnFocus:!1,factory:pl}),u=t.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[l]}:l,b=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),x=[Gt.config({disabled:()=>t.disabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:E=>{Ie.getField(E).each(Gt.disable)},onEnabled:E=>{Ie.getField(E).each(Gt.enable)}}),jn(()=>e.checkUiComponentContext(t.context))];return am(n,u,b,x)},mN=(t,e,n)=>uC({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:!t.enabled,classname:"tox-textfield",validation:m.none(),maximized:t.maximized,data:n,context:t.context},e),hN=(t,e,n)=>uC({name:t.name,multiline:!0,label:t.label,inputMode:m.none(),placeholder:t.placeholder,flex:!0,disabled:!t.enabled,classname:"tox-textarea",validation:m.none(),maximized:t.maximized,data:n,context:t.context},e),hm=(t,e)=>e.getAnimationRoot.fold(()=>t.element,n=>n(t)),Ii=t=>t.dimension.property,kc=(t,e)=>t.dimension.getDimension(e),ag=(t,e)=>{const n=hm(t,e);Gr(n,[e.shrinkingClass,e.growingClass])},Yv=(t,e)=>{$n(t.element,e.openClass),Yn(t.element,e.closedClass),ce(t.element,Ii(e),"0px"),Uc(t.element)},Jv=(t,e)=>{$n(t.element,e.closedClass),Yn(t.element,e.openClass),De(t.element,Ii(e))},dC=(t,e,n,o)=>{n.setCollapsed(),ce(t.element,Ii(e),kc(e,t.element)),ag(t,e),Yv(t,e),e.onStartShrink(t),e.onShrunk(t)},gN=(t,e,n,o)=>{const s=o.getOrThunk(()=>kc(e,t.element));n.setCollapsed(),ce(t.element,Ii(e),s),Uc(t.element);const r=hm(t,e);$n(r,e.growingClass),Yn(r,e.shrinkingClass),Yv(t,e),e.onStartShrink(t)},mC=(t,e,n)=>{const o=kc(e,t.element);(o==="0px"?dC:gN)(t,e,n,m.some(o))},hC=(t,e,n)=>{const o=hm(t,e),s=Ls(o,e.shrinkingClass),r=kc(e,t.element);Jv(t,e);const a=kc(e,t.element);(s?()=>{ce(t.element,Ii(e),r),Uc(t.element)}:()=>{Yv(t,e)})(),$n(o,e.shrinkingClass),Yn(o,e.growingClass),Jv(t,e),ce(t.element,Ii(e),a),n.setExpanded(),e.onStartGrow(t)},fN=(t,e,n)=>{if(n.isExpanded()){De(t.element,Ii(e));const o=kc(e,t.element);ce(t.element,Ii(e),o)}},pN=(t,e,n)=>{n.isExpanded()||hC(t,e,n)},vN=(t,e,n)=>{n.isExpanded()&&mC(t,e,n)},bN=(t,e,n)=>{n.isExpanded()&&dC(t,e,n)},yN=(t,e,n)=>n.isExpanded(),xN=(t,e,n)=>n.isCollapsed(),gC=(t,e,n)=>{const o=hm(t,e);return Ls(o,e.growingClass)===!0},fC=(t,e,n)=>{const o=hm(t,e);return Ls(o,e.shrinkingClass)===!0};var SN=Object.freeze({__proto__:null,refresh:fN,grow:pN,shrink:vN,immediateShrink:bN,hasGrown:yN,hasShrunk:xN,isGrowing:gC,isShrinking:fC,isTransitioning:(t,e,n)=>gC(t,e)||fC(t,e),toggleGrow:(t,e,n)=>{(n.isExpanded()?mC:hC)(t,e,n)},disableTransitions:ag,immediateGrow:(t,e,n)=>{n.isExpanded()||(Jv(t,e),ce(t.element,Ii(e),kc(e,t.element)),ag(t,e),n.setExpanded(),e.onStartGrow(t),e.onGrown(t))}}),wN=Object.freeze({__proto__:null,exhibit:(t,e,n)=>{const o=e.expanded;return Wr(o?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Jl(e.dimension.property,"0px")})},events:(t,e)=>yn([iu(yd(),(n,o)=>{o.event.raw.propertyName===t.dimension.property&&(ag(n,t),e.isExpanded()&&De(n.element,t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))})])}),CN=[ct("closedClass"),ct("openClass"),ct("shrinkingClass"),ct("growingClass"),$e("getAnimationRoot"),He("onShrunk"),He("onStartShrink"),He("onGrown"),He("onStartGrow"),X("expanded",!1),ir("dimension",Is("property",{width:[wn("property","width"),wn("getDimension",t=>is(t)+"px")],height:[wn("property","height"),wn("getDimension",t=>ro(t)+"px")]}))],TN=Object.freeze({__proto__:null,init:t=>{const e=$t(t.expanded),n=()=>"expanded: "+e.get();return dr({isExpanded:()=>e.get()===!0,isCollapsed:()=>e.get()===!1,setCollapsed:Ft(e.set,!1),setExpanded:Ft(e.set,!0),readState:n})}});const Hs=Ro({fields:CN,name:"sliding",active:wN,apis:SN,state:TN}),pC=t=>({isEnabled:()=>!Gt.isDisabled(t),setEnabled:e=>Gt.set(t,!e),setActive:e=>{const n=t.element;e?(Yn(n,"tox-tbtn--enabled"),Et(n,"aria-pressed",!0)):($n(n,"tox-tbtn--enabled"),nn(n,"aria-pressed"))},isActive:()=>Ls(t.element,"tox-tbtn--enabled"),setText:e=>{_t(t,Hr,{text:e})},setIcon:e=>_t(t,Dc,{icon:e})}),gm=(t,e,n,o,s=!0,r)=>Wv({text:t.text,icon:t.icon,tooltip:t.tooltip,ariaLabel:t.tooltip,searchable:t.search.isSome(),role:o,fetch:(a,i)=>{const l={pattern:t.search.isSome()?iR(a):""};t.fetch(u=>{i(Lu(u,Aa.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:t.search}))},l,pC(a))},onSetup:t.onSetup,getApi:pC,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...s?[fn.config({})]:[]],context:t.context},e,n.shared,r),EN=(t,e,n)=>{const o=r=>a=>{const i=!a.isActive();a.setActive(i),r.storage.set(i),n.shared.getSink().each(l=>{e().getOpt(l).each(u=>{Ws(u.element),_t(u,qa,{name:r.name,value:r.storage.get()})})})},s=r=>a=>{a.setActive(r.storage.get())};return r=>{r(mt(t,a=>{const i=a.text.fold(()=>({}),l=>({text:l}));return{type:a.type,active:!1,...i,context:a.context,onAction:o(a),onSetup:s(a)}}))}},vC=t=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":t}},components:[Tn(t)]}),bC=(t,e,n)=>{t.customStateIcon.each(o=>e.push(xC(o,n.shared.providers.icons,t.customStateIconTooltip.fold(()=>[],s=>[Dn.config(n.shared.providers.tooltips.getConfig({tooltipText:s}))]),["tox-icon-custom-state"])))},yC=Lt("leaf-label-event-id"),Qv=({leaf:t,onLeafAction:e,visible:n,treeId:o,selectedId:s,backstage:r})=>{const a=t.menu.map(l=>gm(l,"tox-mbtn",r,m.none(),n)),i=[vC(t.title)];return bC(t,i,r),a.each(l=>i.push(l)),Bo.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:i,role:"treeitem",action:l=>{e(t.id),l.getSystem().broadcastOn([`update-active-item-${o}`],{value:t.id})},eventOrder:{[Ca()]:[yC,"keying"]},buttonBehaviours:ht([...n?[fn.config({})]:[],be.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),js.config({channels:{[`update-active-item-${o}`]:{onReceive:(l,u)=>{(u.value===t.id?be.on:be.off)(l)}}}}),le(yC,[xn((l,u)=>{s.each(g=>{(g===t.id?be.on:be.off)(l)})}),at(Ca(),(l,u)=>{const g=u.event.raw.code==="ArrowLeft",b=u.event.raw.code==="ArrowRight";g?(Si(l.element,".tox-tree--directory").each(x=>{l.getSystem().getByDom(x).each(E=>{bp(x,".tox-tree--directory__label").each(A=>{E.getSystem().getByDom(A).each(Qt.focus)})})}),u.stop()):b&&u.stop()})])])})},xC=(t,e,n,o,s)=>Ir(t,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(o||[]),behaviours:n,attributes:s},e),ON=(t,e)=>xC(t,e,[]),SC=Lt("directory-label-event-id"),MN=({directory:t,visible:e,noChildren:n,backstage:o})=>{const s=t.menu.map(i=>gm(i,"tox-mbtn",o,m.none())),r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[ON("chevron-right",o.shared.providers.icons)]},vC(t.title)];bC(t,r,o),s.each(i=>{r.push(i)});const a=i=>{Si(i.element,".tox-tree--directory").each(l=>{i.getSystem().getByDom(l).each(u=>{const g=!be.isOn(u);be.toggle(u),_t(i,"expand-tree-node",{expanded:g,node:t.id})})})};return Bo.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(e?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[Ca()]:[SC,"keying"]},buttonBehaviours:ht([...e?[fn.config({})]:[],le(SC,[at(Ca(),(i,l)=>{const u=l.event.raw.code==="ArrowRight",g=l.event.raw.code==="ArrowLeft";u&&n&&l.stop(),(u||g)&&Si(i.element,".tox-tree--directory").each(b=>{i.getSystem().getByDom(b).each(x=>{!be.isOn(x)&&u||be.isOn(x)&&g?(a(i),l.stop()):g&&!be.isOn(x)&&(Si(x.element,".tox-tree--directory").each(E=>{bp(E,".tox-tree--directory__label").each(A=>{x.getSystem().getByDom(A).each(Qt.focus)})}),l.stop())})})})])])})},AN=({children:t,onLeafAction:e,visible:n,treeId:o,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:t.map(i=>i.type==="leaf"?Qv({leaf:i,selectedId:r,onLeafAction:e,visible:n,treeId:o,backstage:a}):qv({directory:i,expandedIds:s,selectedId:r,onLeafAction:e,labelTabstopping:n,treeId:o,backstage:a})),behaviours:ht([Hs.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),se.config({})])}),DN=Lt("directory-event-id"),qv=({directory:t,onLeafAction:e,labelTabstopping:n,treeId:o,backstage:s,expandedIds:r,selectedId:a})=>{const{children:i}=t,l=$t(r),u=b=>i.map(x=>x.type==="leaf"?Qv({leaf:x,selectedId:a,onLeafAction:e,visible:b,treeId:o,backstage:s}):qv({directory:x,expandedIds:l.get(),selectedId:a,onLeafAction:e,labelTabstopping:b,treeId:o,backstage:s})),g=r.includes(t.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[MN({directory:t,visible:n,noChildren:t.children.length===0,backstage:s}),AN({children:i,expandedIds:r,selectedId:a,onLeafAction:e,visible:g,treeId:o,backstage:s})],behaviours:ht([le(DN,[xn((b,x)=>{be.set(b,g)}),at("expand-tree-node",(b,x)=>{const{expanded:E,node:A}=x.event;l.set(E?[...l.get(),A]:l.get().filter(k=>k!==A))})]),be.config({...t.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(b,x)=>{const E=b.components()[1],A=u(x);x?Hs.grow(E):Hs.shrink(E),se.set(E,A)}})])}},kN=Lt("tree-event-id"),IN=(t,e)=>{const n=t.onLeafAction.getOr(_),o=t.onToggleExpand.getOr(_),s=t.defaultExpandedIds,r=$t(s),a=$t(t.defaultSelectedId),i=Lt("tree-id"),l=(u,g)=>t.items.map(b=>b.type==="leaf"?Qv({leaf:b,selectedId:u,onLeafAction:n,visible:!0,treeId:i,backstage:e}):qv({directory:b,selectedId:u,onLeafAction:n,expandedIds:g,labelTabstopping:!0,treeId:i,backstage:e}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:l(a.get(),r.get()),behaviours:ht([Bt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),le(kN,[at("expand-tree-node",(u,g)=>{const{expanded:b,node:x}=g.event;r.set(b?[...r.get(),x]:r.get().filter(E=>E!==x)),o(r.get(),{expanded:b,node:x})})]),js.config({channels:{[`update-active-item-${i}`]:{onReceive:(u,g)=>{a.set(m.some(g.value)),se.set(u,l(m.some(g.value),r.get()))}}}}),se.config({})])}};var LN=Object.freeze({__proto__:null,events:(t,e)=>{const o=t.stream.streams.setup(t,e);return yn([at(t.event,o),Ya(()=>e.cancel())].concat(t.cancelEvent.map(s=>[at(s,()=>e.cancel())]).getOr([])))}});const wC=t=>{const e=$t(null);return dr({readState:()=>({timer:e.get()!==null?"set":"unset"}),setTimer:r=>{e.set(r)},cancel:()=>{const r=e.get();r!==null&&r.cancel()}})};var FN=Object.freeze({__proto__:null,throttle:wC,init:t=>t.stream.streams.state(t)});const HN=(t,e)=>{const n=t.stream,o=$v(t.onStream,n.delay);return e.setTimer(o),(s,r)=>{o.throttle(s,r),n.stopEvent&&r.stop()}};var PN=[ir("stream",Is("mode",{throttle:[ct("delay"),X("stopEvent",!0),wn("streams",{setup:HN,state:wC})]})),X("event","input"),$e("cancelEvent"),ac("onStream")];const t2=Ro({fields:PN,name:"streaming",active:LN,state:FN}),ig=(t,e,n)=>{const o=At.getValue(n);At.setValue(e,o),TC(e)},CC=(t,e)=>{const n=t.element,o=xi(n),s=n.dom;fe(n,"type")!=="number"&&e(s,o)},TC=t=>{CC(t,(e,n)=>e.setSelectionRange(n.length,n.length))},RN=(t,e)=>{CC(t,(n,o)=>n.setSelectionRange(e,o.length))},VN=(t,e,n)=>{if(t.selectsOver){const o=At.getValue(e),s=t.getDisplayText(o),r=At.getValue(n);return t.getDisplayText(r).indexOf(s)===0?m.some(()=>{ig(t,e,n),RN(e,s.length)}):m.none()}else return m.none()},e2=R("alloy.typeahead.itemexecute"),BN=(t,e,n,o)=>{const s=(b,x,E)=>{t.previewing.set(!1);const A=Rn.getCoupled(b,"sandbox");if(Pe.isOpen(A))ke.getCurrent(A).each(k=>{Ze.getHighlighted(k).fold(()=>{E(k)},()=>{sy(A,k.element,"keydown",x)})});else{const k=U=>{ke.getCurrent(U).each(E)};z1(t,a(b),b,A,o,k,Ts.HighlightMenuAndItem).get(_)}},r=AS(t),a=b=>x=>x.map(E=>{const A=ve(E.menus),k=ae(A,I=>Ve(I.items,N=>N.type==="item"));return At.getState(b).update(mt(k,I=>I.data)),E}),i=b=>ke.getCurrent(b),l="typeaheadevents",u=[Qt.config({}),At.config({onSetValue:t.onSetValue,store:{mode:"dataset",getDataKey:b=>xi(b.element),getFallbackEntry:b=>({value:b,meta:{}}),setValue:(b,x)=>{lc(b.element,t.model.getDisplayText(x))},...t.initialData.map(b=>Jl("initialValue",b)).getOr({})}}),t2.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:(b,x)=>{const E=Rn.getCoupled(b,"sandbox");if(Qt.isFocused(b)&&xi(b.element).length>=t.minChars){const k=i(E).bind(I=>Ze.getHighlighted(I).map(At.getValue));t.previewing.set(!0);const U=I=>{i(E).each(N=>{k.fold(()=>{t.model.selectsOver&&Ze.highlightFirst(N)},z=>{Ze.highlightBy(N,J=>At.getValue(J).value===z.value),Ze.getHighlighted(N).orThunk(()=>(Ze.highlightFirst(N),m.none()))})})};z1(t,a(b),b,E,o,U,Ts.HighlightJustMenu).get(_)}},cancelEvent:Uf()}),Bt.config({mode:"special",onDown:(b,x)=>(s(b,x,Ze.highlightFirst),m.some(!0)),onEscape:b=>{const x=Rn.getCoupled(b,"sandbox");return Pe.isOpen(x)?(Pe.close(x),m.some(!0)):m.none()},onUp:(b,x)=>(s(b,x,Ze.highlightLast),m.some(!0)),onEnter:b=>{const x=Rn.getCoupled(b,"sandbox"),E=Pe.isOpen(x);if(E&&!t.previewing.get())return i(x).bind(A=>Ze.getHighlighted(A)).map(A=>(_t(b,e2(),{item:A}),!0));{const A=At.getValue(b);return Ae(b,Uf()),t.onExecute(x,b,A),E&&Pe.close(x),m.some(!0)}}}),be.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Rn.config({others:{sandbox:b=>yv(t,b,{onOpen:()=>be.on(b),onClose:()=>{t.lazyTypeaheadComp.get().each(x=>nn(x.element,"aria-activedescendant")),be.off(b)}})}}),le(l,[xn(b=>{t.lazyTypeaheadComp.set(m.some(b))}),Ya(b=>{t.lazyTypeaheadComp.set(m.none())}),yi(b=>{const x=_;bv(t,a(b),b,o,x,Ts.HighlightMenuAndItem).get(_)}),at(e2(),(b,x)=>{const E=Rn.getCoupled(b,"sandbox");ig(t.model,b,x.event.item),Ae(b,Uf()),t.onItemExecute(b,E,x.event.item,At.getValue(b)),Pe.close(E),TC(b)})].concat(t.dismissOnBlur?[at(xd(),b=>{const x=Rn.getCoupled(b,"sandbox");cs(x.element).isNone()&&Pe.close(x)})]:[]))],g={[Xa()]:[At.name(),t2.name(),l],...t.eventOrder};return{uid:t.uid,dom:DS(Fn(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...Vo(t.typeaheadBehaviours,u)},eventOrder:g}},NN=R([$e("lazySink"),ct("fetch"),X("minChars",5),X("responseTime",1e3),He("onOpen"),X("getHotspot",m.some),X("getAnchorOverrides",R({})),X("layouts",m.none()),X("eventOrder",{}),$f("model",{},[X("getDisplayText",t=>t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value),X("selectsOver",!0),X("populateFromBrowse",!0)]),He("onSetValue"),_s("onExecute"),He("onItemExecute"),X("inputClasses",[]),X("inputAttributes",{}),X("inputStyles",{}),X("matchWidth",!0),X("useMinWidth",!1),X("dismissOnBlur",!0),rc(["openClass"]),$e("initialData"),$e("listRole"),Mo("typeaheadBehaviours",[Qt,At,t2,Bt,be,Rn]),Ss("lazyTypeaheadComp",()=>$t(m.none)),Ss("previewing",()=>$t(!0))].concat(MS()).concat(xv())),$N=R([Qr({schema:[Rh()],name:"menu",overrides:t=>({fakeFocus:!0,onHighlightItem:(e,n,o)=>{t.previewing.get()?t.lazyTypeaheadComp.get().each(s=>{VN(t.model,s,o).fold(()=>{t.model.selectsOver?(Ze.dehighlight(n,o),t.previewing.set(!0)):t.previewing.set(!1)},r=>{r(),t.previewing.set(!1)})}):t.lazyTypeaheadComp.get().each(s=>{t.model.populateFromBrowse&&ig(t.model,s,o),Be(o.element,"id").each(r=>Et(s.element,"aria-activedescendant",r))})},onExecute:(e,n)=>t.lazyTypeaheadComp.get().map(o=>(_t(o,e2(),{item:n}),!0)),onHover:(e,n)=>{t.previewing.set(!1),t.lazyTypeaheadComp.get().each(o=>{t.model.populateFromBrowse&&ig(t.model,o,n)})}})})]),zN=us({name:"Typeahead",configFields:NN(),partFields:$N(),factory:BN}),ra=t=>({...t,toCached:()=>ra(t.toCached()),bindFuture:l=>ra(t.bind(u=>u.fold(g=>Ko.pure(Ce.error(g)),g=>l(g)))),bindResult:l=>ra(t.map(u=>u.bind(l))),mapResult:l=>ra(t.map(u=>u.map(l))),mapError:l=>ra(t.map(u=>u.mapError(l))),foldResult:(l,u)=>t.map(g=>g.fold(l,u)),withTimeout:(l,u)=>ra(Ko.nu(g=>{let b=!1;const x=setTimeout(()=>{b=!0,g(Ce.error(u()))},l);t.get(E=>{b||(clearTimeout(x),g(E))})}))}),EC=t=>ra(Ko.nu(t)),OC=t=>ra(Ko.pure(Ce.value(t))),ZN={nu:EC,wrap:ra,pure:OC,value:OC,error:t=>ra(Ko.pure(Ce.error(t))),fromResult:t=>ra(Ko.pure(t)),fromFuture:t=>ra(t.map(Ce.value)),fromPromise:t=>EC(e=>{t.then(n=>{e(Ce.value(n))},n=>{e(Ce.error(n))})})},lg=(t,e,n=[],o,s,r,a)=>{const i=e.fold(()=>({}),g=>({action:g})),l={buttonBehaviours:ht([Fr.item(()=>!t.enabled||a.checkUiComponentContext(t.context).shouldDisable),jn(()=>a.checkUiComponentContext(t.context)),fn.config({}),...r.map(g=>Dn.config(a.tooltips.getConfig({tooltipText:a.translate(g)}))).toArray(),le("button press",[SE("click")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...i},u=Fn(l,{dom:o});return Fn(u,{components:s})},UN=(t,e,n,o=[],s)=>{const r=t.tooltip.map(u=>({"aria-label":n.translate(u)})).getOr({}),a={tag:"button",classes:["tox-tbtn"],attributes:{...r,"data-mce-name":s}},i=t.icon.map(u=>jv(u,n.icons)),l=Ou([i]);return lg(t,e,o,a,l,t.tooltip,n)},n2=t=>{switch(t){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},MC=(t,e,n,o=[],s=[])=>{const r=n.translate(t.text),a=t.icon.map(E=>jv(E,n.icons)),i=[a.getOrThunk(()=>Tn(r))],l=t.buttonType.getOr(!t.primary&&!t.borderless?"secondary":"primary"),b={tag:"button",classes:[...n2(l),...a.isSome()?["tox-button--icon"]:[],...t.borderless?["tox-button--naked"]:[],...s],attributes:{"aria-label":r,"data-mce-name":t.text}},x=t.icon.map(R(r));return lg(t,e,o,b,i,x,n)},AC=(t,e,n,o=[],s=[])=>{const r=MC(t,m.some(e),n,o,s);return Bo.sketch(r)},DC=(t,e)=>n=>{e==="custom"?_t(n,qa,{name:t,value:{}}):e==="submit"?Ae(n,lm):e==="cancel"?Ae(n,yl):console.error("Unknown button type: ",e)},_N=(t,e)=>e==="menu",jN=(t,e)=>e==="custom"||e==="cancel"||e==="submit",WN=(t,e)=>e==="togglebutton",GN=(t,e,n)=>{var o,s;const r=t.icon.map(z=>Cl(z,e.icons)).map(ze),a=z=>{_t(z,qa,{name:t.name,value:{setIcon:J=>{r.map(Q=>Q.getOpt(z).each(gt=>{se.set(gt,[Cl(J,e.icons)])}))}}})},i=t.buttonType.getOr(t.primary?"primary":"secondary"),l={...t,name:(o=t.name)!==null&&o!==void 0?o:"",primary:i==="primary",tooltip:t.tooltip,enabled:(s=t.enabled)!==null&&s!==void 0?s:!1,borderless:!1},u=l.tooltip.or(t.text).map(z=>({"aria-label":e.translate(z)})).getOr({}),g=n2(i??"secondary"),b=t.icon.isSome()&&t.text.isSome(),x={tag:"button",classes:[...g.concat(t.icon.isSome()?["tox-button--icon"]:[]),...t.active?["tox-button--enabled"]:[],...b?["tox-button--icon-and-text"]:[]],attributes:{...u,...W(n)?{"data-mce-name":n}:{}}},E=[],A=e.translate(t.text.getOr("")),k=Tn(A),I=[...Ou([r.map(z=>z.asSpec())]),...t.text.isSome()?[k]:[]],N=lg(l,m.some(a),E,x,I,t.tooltip,e);return Bo.sketch(N)},cg=(t,e,n)=>{if(_N(t,e)){const o=()=>a,s=t,r={...t,type:"menubutton",search:m.none(),onSetup:i=>(i.setEnabled(t.enabled),_),fetch:EN(s.items,o,n)},a=ze(gm(r,"tox-tbtn",n,m.none(),!0,t.text.or(t.tooltip).getOrUndefined()));return a.asSpec()}else if(jN(t,e)){const o=DC(t.name,e),s={...t,context:e==="cancel"?"any":t.context,borderless:!1};return AC(s,o,n.shared.providers,[])}else{if(WN(t,e))return GN(t,n.shared.providers,t.text.or(t.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",e),new Error("Unknown footer button type")}},KN=(t,e)=>{const n=DC(t.name,"custom");return LR(m.none(),Ie.parts.field({factory:Bo,...MC(t,m.some(n),e,[ng(""),sa.self()])}))},XN={type:"separator"},YN=t=>({type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:_}),o2=(t,e)=>({type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:_}),JN=t=>mt(t,YN),QN=(t,e)=>Ve(e,n=>n.type===t),kC=(t,e)=>JN(QN(t,e)),qN=t=>kC("header",t.targets),t$=t=>kC("anchor",t.targets),e$=t=>m.from(t.anchorTop).map(e=>o2("<top>",e)).toArray(),n$=t=>m.from(t.anchorBottom).map(e=>o2("<bottom>",e)).toArray(),o$=t=>mt(t,e=>o2(e,e)),s$=t=>vn(t,(e,n)=>e.length===0||n.length===0?e.concat(n):e.concat(XN,n),[]),s2=(t,e)=>{const n=t.toLowerCase();return Ve(e,o=>{var s;const r=o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.text,a=(s=o.value)!==null&&s!==void 0?s:"";return Co(r.toLowerCase(),n)||Co(a.toLowerCase(),n)})},r$=(t,e,n)=>{var o,s;const r=At.getValue(e),a=(s=(o=r==null?void 0:r.meta)===null||o===void 0?void 0:o.text)!==null&&s!==void 0?s:r.value;return n.getLinkInformation().fold(()=>[],l=>{const u=s2(a,o$(n.getHistory(t)));return t==="file"?s$([u,s2(a,qN(l)),s2(a,en([e$(l),t$(l),n$(l)]))]):u})},IC=Lt("aria-invalid"),a$=(t,e,n,o)=>{const s=e.shared.providers,r=N=>{const z=At.getValue(N);n.addToHistory(z.value,t.filetype)},a={...o.map(N=>({initialData:N})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":IC,type:"url"},minChars:0,responseTime:0,fetch:N=>{const z=r$(t.filetype,N,n),J=Lu(z,Aa.BUBBLE_TO_SANDBOX,e,{isHorizontalMenu:!1,search:m.none()});return Ko.pure(J)},getHotspot:N=>A.getOpt(N),onSetValue:(N,z)=>{N.hasConfigured(ti)&&ti.run(N).get(_)},typeaheadBehaviours:ht([...n.getValidationHandler().map(N=>ti.config({getRoot:z=>ys(z.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(z,J)=>{g.getOpt(z).each(Q=>{Et(Q.element,"title",s.translate(J))})}},validator:{validate:z=>{const J=At.getValue(z);return ZN.nu(Q=>{N({type:t.filetype,url:J.value},gt=>{if(gt.status==="invalid"){const Dt=Ce.error(gt.message);Q(Dt)}else{const Dt=Ce.value(gt.message);Q(Dt)}})})},validateOnLoad:!1}})).toArray(),Gt.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable}),fn.config({}),le("urlinput-events",[at(bi(),N=>{const z=xi(N.element),J=z.trim();J!==z&&lc(N.element,J),t.filetype==="file"&&_t(N,Fs,{name:t.name})}),at(ru(),N=>{_t(N,Fs,{name:t.name}),r(N)}),at(Zf(),N=>{_t(N,Fs,{name:t.name}),r(N)})])]),eventOrder:{[bi()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:N=>N.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:A1(!1,1,"normal")},onExecute:(N,z,J)=>{_t(z,lm,{})},onItemExecute:(N,z,J,Q)=>{r(N),_t(N,Fs,{name:t.name})}},i=Ie.parts.field({...a,factory:zN}),l=t.label.map(N=>bl(N,s)),g=ze(((N,z,J=N,Q=N)=>Ir(J,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+N],attributes:{title:s.translate(Q),"aria-live":"polite",...z.fold(()=>({}),gt=>({id:gt}))}},s.icons))("invalid",m.some(IC),"warning")),b=ze({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[g.asSpec()]}),x=n.getUrlPicker(t.filetype),E=Lt("browser.url.event"),A=ze({dom:{tag:"div",classes:["tox-control-wrap"]},components:[i,b.asSpec()],behaviours:ht([Gt.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable})])}),k=ze(AC({context:t.context,name:t.name,icon:m.some("browse"),text:t.picker_text.or(t.label).getOr(""),enabled:t.enabled,primary:!1,buttonType:m.none(),borderless:!0},N=>Ae(N,E),s,[],["tox-browse-url"])),U=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:en([[A.asSpec()],x.map(()=>k.asSpec()).toArray()])}),I=N=>{ke.getCurrent(N).each(z=>{const J=At.getValue(z),Q={fieldname:t.name,...J};x.each(gt=>{gt(Q).get(Dt=>{At.setValue(z,Dt),_t(N,Fs,{name:t.name})})})})};return Ie.sketch({dom:HR(),components:l.toArray().concat([U()]),fieldBehaviours:ht([Gt.config({disabled:()=>!t.enabled||s.checkUiComponentContext(t.context).shouldDisable,onDisabled:N=>{Ie.getField(N).each(Gt.disable),k.getOpt(N).each(Gt.disable)},onEnabled:N=>{Ie.getField(N).each(Gt.enable),k.getOpt(N).each(Gt.enable)}}),jn(()=>s.checkUiComponentContext(t.context)),le("url-input-events",[at(E,I)])])})},i$=(t,e)=>{const n=bS(t.icon,e.icons);return La.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${t.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:t.url?void 0:n},components:t.url?[Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:n,attributes:{title:e.translate(t.iconTooltip)}},action:o=>_t(o,qa,{name:"alert-banner",value:t.url}),buttonBehaviours:ht([yS()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})},l$=(t,e)=>{t.dom.checked=e},c$=t=>t.dom.checked,u$=(t,e,n)=>{const o=l=>(l.element.dom.click(),m.some(!0)),s=Ie.parts.field({factory:{sketch:Ot},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ht([sa.self(),Gt.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable,onDisabled:l=>{ys(l.element).each(u=>Yn(u,"tox-checkbox--disabled"))},onEnabled:l=>{ys(l.element).each(u=>$n(u,"tox-checkbox--disabled"))}}),fn.config({}),Qt.config({}),zw(n,c$,l$),Bt.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),le("checkbox-events",[at(ru(),(l,u)=>{_t(l,Fs,{name:t.name})})])])}),r=Ie.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Tn(e.translate(t.label))],behaviours:ht([cm.config({})])}),a=l=>Ir(l==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+l]},e.icons),i=ze({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Ie.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,i.asSpec(),r],fieldBehaviours:ht([Gt.config({disabled:()=>!t.enabled||e.checkUiComponentContext(t.context).shouldDisable}),jn(()=>e.checkUiComponentContext(t.context))])})},d$=(t,e)=>{const n=["tox-form__group",...t.stretched?["tox-form__group--stretched"]:[]],o=le("htmlpanel",[xn(s=>{t.onInit(s.element.dom)})]);return t.presets==="presentation"?La.sketch({dom:{tag:"div",classes:n,innerHtml:t.html},containerBehaviours:ht([Dn.config({...e.tooltips.getConfig({tooltipText:"",onShow:s=>{Cn(s.element,"[data-mce-tooltip]:hover").orThunk(()=>cs(s.element)).each(r=>{Be(r,"data-mce-tooltip").each(a=>{Dn.setComponents(s,e.tooltips.getComponents({tooltipText:a}))})})}}),mode:"children-normal",anchor:s=>({type:"node",node:Cn(s.element,"[data-mce-tooltip]:hover").orThunk(()=>cs(s.element).filter(r=>Be(r,"data-mce-tooltip").isSome())),root:s.element,layouts:{onLtr:R([co,Oo,io,Wo,lo,Go]),onRtl:R([co,Oo,io,Wo,lo,Go])},bubble:Yr(0,-2,{})})}),o])}):La.sketch({dom:{tag:"div",classes:n,innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:ht([fn.config({}),Qt.config({}),o])})},uo=t=>(e,n,o,s,r)=>wt(n,"name").fold(()=>t(n,s,m.none(),r),a=>e.field(a,t(n,s,wt(o,a),r))),m$=t=>(e,n,o,s,r)=>{const a=Fn(n,{source:"dynamic"});return uo(t)(e,a,o,s,r)},h$={bar:uo((t,e)=>MR(t,e.shared)),collection:uo((t,e,n)=>PR(t,e.shared.providers,n)),alertbanner:uo((t,e)=>i$(t,e.shared.providers)),input:uo((t,e,n)=>mN(t,e.shared.providers,n)),textarea:uo((t,e,n)=>hN(t,e.shared.providers,n)),label:uo((t,e,n,o)=>zB(t,e.shared,o)),iframe:m$((t,e,n)=>RB(t,e.shared.providers,n)),button:uo((t,e)=>KN(t,e.shared.providers)),checkbox:uo((t,e,n)=>u$(t,e.shared.providers,n)),colorinput:uo((t,e,n)=>ZR(t,e.shared,e.colorinput,n)),colorpicker:uo((t,e,n)=>SB(t,e.shared.providers,n)),dropzone:uo((t,e,n)=>EB(t,e.shared.providers,n)),grid:uo((t,e)=>OB(t,e.shared)),listbox:uo((t,e,n)=>JB(t,e,n)),selectbox:uo((t,e,n)=>eN(t,e.shared.providers,n)),sizeinput:uo((t,e)=>cN(t,e.shared.providers)),slider:uo((t,e,n)=>uN(t,e.shared.providers,n)),urlinput:uo((t,e,n)=>a$(t,e,e.urlinput,n)),customeditor:uo(CB),htmlpanel:uo((t,e)=>d$(t,e.shared.providers)),imagepreview:uo((t,e,n)=>$B(t,n)),table:uo((t,e)=>dN(t,e.shared.providers)),tree:uo((t,e)=>IN(t,e)),panel:uo((t,e)=>QB(t,e))},g$={field:(t,e)=>e,record:R([])},LC=(t,e,n,o,s)=>{const r=Fn(o,{shared:{interpreter:a=>r2(t,a,n,r,s)}});return r2(t,e,n,r,s)},r2=(t,e,n,o,s)=>wt(h$,e.type).fold(()=>(console.error(`Unknown factory type "${e.type}", defaulting to container: `,e),e),r=>r(t,e,n,o,s)),FC=(t,e,n,o)=>r2(g$,t,e,n,o),Tl="layout-inset",a2=t=>t.x,HC=(t,e)=>t.x+t.width/2-e.width/2,i2=(t,e)=>t.x+t.width-e.width,l2=t=>t.y,c2=(t,e)=>t.y+t.height-e.height,PC=(t,e)=>t.y+t.height/2-e.height/2,ug=(t,e,n)=>_o(i2(t,e),c2(t,e),n.insetSouthwest(),Sp(),"southwest",jo(t,{right:0,bottom:3}),Tl),dg=(t,e,n)=>_o(a2(t),c2(t,e),n.insetSoutheast(),xp(),"southeast",jo(t,{left:1,bottom:3}),Tl),fm=(t,e,n)=>_o(i2(t,e),l2(t),n.insetNorthwest(),yp(),"northwest",jo(t,{right:0,top:2}),Tl),pm=(t,e,n)=>_o(a2(t),l2(t),n.insetNortheast(),zh(),"northeast",jo(t,{left:1,top:2}),Tl),aa=(t,e,n)=>_o(HC(t,e),l2(t),n.insetNorth(),jy(),"north",jo(t,{top:2}),Tl),vm=(t,e,n)=>_o(HC(t,e),c2(t,e),n.insetSouth(),Wy(),"south",jo(t,{bottom:3}),Tl),RC=(t,e,n)=>_o(i2(t,e),PC(t,e),n.insetEast(),Ky(),"east",jo(t,{right:0}),Tl),VC=(t,e,n)=>_o(a2(t),PC(t,e),n.insetWest(),Gy(),"west",jo(t,{left:1}),Tl),f$=t=>{switch(t){case"north":return aa;case"northeast":return pm;case"northwest":return fm;case"south":return vm;case"southeast":return dg;case"southwest":return ug;case"east":return RC;case"west":return VC}},BC=(t,e,n,o,s)=>a4(o).map(f$).getOr(aa)(t,e,n,o,s),p$=t=>{switch(t){case"north":return vm;case"northeast":return dg;case"northwest":return ug;case"south":return aa;case"southeast":return pm;case"southwest":return fm;case"east":return VC;case"west":return RC}},v$=(t,e,n,o,s)=>a4(o).map(p$).getOr(aa)(t,e,n,o,s),bm={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},b$=(t,e,n)=>{const s={maxHeightFunction:gu()},r=()=>({type:"node",root:pa($o(t())),node:m.from(t()),bubble:Yr(12,12,bm),layouts:{onRtl:()=>[pm],onLtr:()=>[fm]},overrides:s}),a=()=>({type:"hotspot",hotspot:e(),bubble:Yr(-12,12,bm),layouts:{onRtl:()=>[io,lo,co],onLtr:()=>[lo,io,co]},overrides:s});return()=>n()?r():a()},y$=(t,e,n,o)=>{const r={maxHeightFunction:gu()},a=()=>({type:"node",root:pa($o(e())),node:m.from(e()),bubble:Yr(12,12,bm),layouts:{onRtl:()=>[aa],onLtr:()=>[aa]},overrides:r}),i=()=>t?{type:"node",root:pa($o(e())),node:m.from(e()),bubble:Yr(0,-_a(e()),bm),layouts:{onRtl:()=>[Oo],onLtr:()=>[Oo]},overrides:r}:{type:"hotspot",hotspot:n(),bubble:Yr(0,0,bm),layouts:{onRtl:()=>[Oo],onLtr:()=>[Oo]},overrides:r};return()=>o()?a():i()},x$=(t,e,n)=>{const o=()=>({type:"node",root:pa($o(t())),node:m.from(t()),layouts:{onRtl:()=>[aa],onLtr:()=>[aa]}}),s=()=>({type:"hotspot",hotspot:e(),layouts:{onRtl:()=>[co],onLtr:()=>[co]}});return()=>n()?o():s()},S$=(t,e)=>()=>({type:"selection",root:e(),getSelection:()=>{const n=t.selection.getRng(),o=t.model.table.getSelectedCells();if(o.length>1){const s=o[0],r=o[o.length-1],a={firstCell:Ct.fromDom(s),lastCell:Ct.fromDom(r)};return m.some(a)}return m.some(Od.range(Ct.fromDom(n.startContainer),n.startOffset,Ct.fromDom(n.endContainer),n.endOffset))}}),w$=t=>e=>({type:"node",root:t(),node:e}),C$=(t,e,n,o)=>{const s=Su(t),r=()=>Ct.fromDom(t.getBody()),a=()=>Ct.fromDom(t.getContentAreaContainer()),i=()=>s||!o();return{inlineDialog:b$(a,e,i),inlineBottomDialog:y$(t.inline,a,n,i),banner:x$(a,e,i),cursor:S$(t,r),node:w$(r)}},T$=t=>(e,n)=>{F5(t)(e,n)},E$=t=>()=>E5(t),O$=t=>e=>N1(t,e),M$=t=>e=>T5(t,e),A$=t=>({colorPicker:T$(t),hasCustomColors:E$(t),getColors:O$(t),getColorCols:M$(t)}),D$=t=>()=>Vx(t),k$=t=>({isDraggableModal:D$(t)}),I$=t=>{const e=$t(T0(t)?"bottom":"top");return{isPositionedAtTop:()=>e.get()==="top",getDockingMode:e.get,setDockingMode:e.set}},NC=t=>bn(t,"items"),$C=t=>bn(t,"format"),zC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],L$=t=>jt(t,"items"),F$=t=>jt(t,"block"),H$=t=>jt(t,"inline"),P$=t=>jt(t,"selector"),ZC=t=>vn(t,(e,n)=>{if(L$(n)){const o=ZC(n.items);return{customFormats:e.customFormats.concat(o.customFormats),formats:e.formats.concat([{title:n.title,items:o.formats}])}}else if(H$(n)||F$(n)||P$(n)){const s=`custom-${S(n.name)?n.name:n.title.toLowerCase()}`;return{customFormats:e.customFormats.concat([{name:s,format:n}]),formats:e.formats.concat([{title:n.title,format:s,icon:n.icon}])}}else return{...e,formats:e.formats.concat(n)}},{customFormats:[],formats:[]}),R$=(t,e)=>{const n=ZC(e),o=s=>{Mt(s,r=>{t.formatter.has(r.name)||t.formatter.register(r.name,r.format)})};return t.formatter?o(n.customFormats):t.on("init",()=>{o(n.customFormats)}),n.formats},UC=t=>Sx(t).map(e=>{const n=R$(t,e);return wx(t)?zC.concat(n):n}).getOr(zC),V$=t=>{const e=tt(t);return e.length===1&&me(e,"title")},_C=(t,e,n)=>({...t,type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)}),jC=(t,e,n,o)=>{const s=l=>_C(l,n,o),r=l=>{const u=i(l.items);return{...l,type:"submenu",getStyleItems:R(u)}},a=l=>{const u=S(l.name)?l.name:Lt(l.title),g=`custom-${u}`,b={...l,type:"formatter",format:g,isSelected:n(g),getStylePreview:o(g)};return t.formatter.register(u,b),b},i=l=>mt(l,u=>NC(u)?r(u):$C(u)?s(u):V$(u)?{...u,type:"separator"}:a(u));return i(e)},B$=t=>{const e=i=>()=>t.formatter.match(i),n=i=>()=>{const l=t.formatter.get(i);return l!==void 0?m.some({tag:l.length>0&&(l[0].inline||l[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(i))}):m.none()},o=$t([]),s=$t([]),r=$t(!1);return t.on("PreInit",i=>{const l=UC(t),u=jC(t,l,e,n);o.set(u)}),t.on("addStyleModifications",i=>{const l=jC(t,i.items,e,n);s.set(l),r.set(i.replace)}),{getData:()=>{const i=r.get()?[]:o.get(),l=s.get();return i.concat(l)}}},N$=t=>{let o=0;const s=()=>o>0,r=i=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[Tn(i.tooltipText)]}];return{getConfig:i=>({delayForShow:()=>s()?60:300,delayForHide:R(300),exclusive:!0,lazySink:t,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:r(i),onShow:(l,u)=>{o++,i.onShow&&i.onShow(l,u)},onHide:(l,u)=>{o--,i.onHide&&i.onHide(l,u)},onSetup:i.onSetup}),getComponents:r}},$$=t=>W(t)&&t.nodeType===1,z$=ki.trim,WC=t=>e=>!!($$(e)&&(e.contentEditable===t||e.getAttribute("data-mce-contenteditable")===t)),Z$=WC("true"),U$=WC("false"),GC=(t,e,n,o,s)=>({type:t,title:e,url:n,level:o,attach:s}),_$=t=>{let e=t;for(;e=e.parentNode;){const n=e.contentEditable;if(n&&n!=="inherit")return Z$(e)}return!1},j$=(t,e)=>mt(Cs(Ct.fromDom(e),t),n=>n.dom),KC=t=>t.innerText||t.textContent,W$=t=>t.id?t.id:Lt("h"),G$=t=>t&&t.nodeName==="A"&&(t.id||t.name)!==void 0,K$=t=>G$(t)&&YC(t),XC=t=>t&&/^(H[1-6])$/.test(t.nodeName),YC=t=>_$(t)&&!U$(t),X$=t=>XC(t)&&YC(t),Y$=t=>XC(t)?parseInt(t.nodeName.substr(1),10):0,J$=t=>{var e;const n=W$(t),o=()=>{t.id=n};return GC("header",(e=KC(t))!==null&&e!==void 0?e:"","#"+n,Y$(t),o)},Q$=t=>{const e=t.id||t.name,n=KC(t);return GC("anchor",n||"#"+e,"#"+e,0,_)},q$=t=>mt(Ve(t,X$),J$),tz=t=>mt(Ve(t,K$),Q$),ez=t=>j$("h1,h2,h3,h4,h5,h6,a:not([href])",t),nz=t=>z$(t.title).length>0,oz={find:t=>{const e=ez(t);return Ve(q$(e).concat(tz(e)),nz)}},mg="tinymce-url-history",JC=5,QC=t=>S(t)&&/^https?/.test(t),sz=t=>L(t)&&t.length<=JC&&wo(t,QC),qC=t=>p(t)&&Pt(t,e=>!sz(e)).isNone(),t6=()=>{const t=Cc.getItem(mg);if(t===null)return{};let e;try{e=JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+mg+" was not valid JSON",n),{};throw n}return qC(e)?e:(console.log("Local storage "+mg+" was not valid format",e),{})},rz=t=>{if(!qC(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Cc.setItem(mg,JSON.stringify(t))},az=t=>{const e=t6();return wt(e,t).getOr([])},iz=(t,e)=>{if(!QC(t))return;const n=t6(),o=wt(n,e).getOr([]),s=Ve(o,r=>r!==t);n[e]=[t].concat(s).slice(0,JC),rz(n)},e6=t=>!!t,lz=t=>ft(ki.makeMap(t,/[, ]/),e6),u2=t=>m.from(kx(t)),cz=t=>{const e=m.from(Fx(t)).filter(e6).map(lz);return u2(t).fold(yt,n=>e.fold(Ut,o=>tt(o).length>0?o:!1))},uz=(t,e)=>{const n=cz(t);return V(n)?n?u2(t):m.none():n[e]?u2(t):m.none()},dz=(t,e)=>uz(t,e).map(n=>o=>Ko.nu(s=>{const r=(i,l)=>{if(!S(i))throw new Error("Expected value to be string");if(l!==void 0&&!p(l))throw new Error("Expected meta to be a object");s({value:i,meta:l})},a={filetype:e,fieldname:o.fieldname,...m.from(o.meta).getOr({})};n.call(t,r,o.value,a)})),n6=t=>m.from(t).filter(S).getOrUndefined(),mz=t=>Hx(t)?m.some({targets:oz.find(t.getBody()),anchorTop:n6(Px(t)),anchorBottom:n6(Rx(t))}):m.none(),hz=t=>m.from(Ix(t)),gz=t=>({getHistory:az,addToHistory:iz,getLinkInformation:()=>mz(t),getValidationHandler:()=>hz(t),getUrlPicker:e=>dz(t,e)}),fz=(t,e,n,o)=>{const s=$t(!1),r=I$(e),a={icons:()=>e.ui.registry.getAll().icons,menuItems:()=>e.ui.registry.getAll().menuItems,translate:kr.translate,isDisabled:()=>!e.ui.isEnabled(),getOption:e.options.get,tooltips:N$(t.dialog),checkUiComponentContext:I=>{if(y1(e))return{contextType:"disabled",shouldDisable:!0};const[N,z=""]=I.split(":"),J=e.ui.registry.getAll().contexts,Q=wt(J,N).fold(()=>wt(J,"mode").map(gt=>gt("design")).getOr(!1),gt=>z.charAt(0)==="!"?!gt(z.slice(1)):gt(z));return{contextType:N,shouldDisable:!Q}}},i=gz(e),l=B$(e),u=A$(e),g=k$(e),b=()=>s.get(),x=I=>s.set(I),E={shared:{providers:a,anchors:C$(e,n,o,r.isPositionedAtTop),header:r},urlinput:i,styles:l,colorinput:u,dialog:g,isContextMenuOpen:b,setContextMenuState:x},A=I=>m.none(),k={...E,shared:{...E.shared,interpreter:I=>FC(I,{},k,A),getSink:t.popup}},U={...E,shared:{...E.shared,interpreter:I=>FC(I,{},U,A),getSink:t.dialog}};return{popup:k,dialog:U}},pz=(t,e,n)=>{const o=(nt,kt)=>{Mt([e,...n],bt=>{bt.broadcastEvent(nt,kt)})},s=(nt,kt)=>{Mt([e,...n],bt=>{bt.broadcastOn([nt],kt)})},r=nt=>s(ml(),{target:nt.target}),a=Kc(),i=ws(a,"touchstart",r),l=ws(a,"touchmove",nt=>o(vE(),nt)),u=ws(a,"touchend",nt=>o(bE(),nt)),g=ws(a,"mousedown",r),b=ws(a,"mouseup",nt=>{nt.raw.button===0&&s(zp(),{target:nt.target})}),x=nt=>s(ml(),{target:Ct.fromDom(nt.target)}),E=nt=>{nt.button===0&&s(zp(),{target:Ct.fromDom(nt.target)})},A=()=>{Mt(t.editorManager.get(),nt=>{t!==nt&&nt.dispatch("DismissPopups",{relatedTarget:t})})},k=nt=>o(_f(),l4(nt)),U=nt=>{s(fu(),{}),o(Cd(),l4(nt))},I=$o(Ct.fromDom(t.getElement())),N=Lp(I,"scroll",nt=>{requestAnimationFrame(()=>{const kt=t.getContainer();if(kt!=null){const It=fl(t,e.element).map(ye=>[ye.element,...ye.others]).getOr([]);Ge(It,ye=>_e(ye,nt.target))&&(t.dispatch("ElementScroll",{target:nt.target.dom}),o(ey(),nt))}})}),z=()=>s(fu(),{}),J=nt=>{nt.state&&s(ml(),{target:Ct.fromDom(t.getContainer())})},Q=nt=>{s(ml(),{target:Ct.fromDom(nt.relatedTarget.getContainer())})},gt=nt=>t.dispatch("focusin",nt),Dt=nt=>t.dispatch("focusout",nt);t.on("PostRender",()=>{t.on("click",x),t.on("tap",x),t.on("mouseup",E),t.on("mousedown",A),t.on("ScrollWindow",k),t.on("ResizeWindow",U),t.on("ResizeEditor",z),t.on("AfterProgressState",J),t.on("DismissPopups",Q),Mt([e,...n],nt=>{nt.element.dom.addEventListener("focusin",gt),nt.element.dom.addEventListener("focusout",Dt)})}),t.on("remove",()=>{t.off("click",x),t.off("tap",x),t.off("mouseup",E),t.off("mousedown",A),t.off("ScrollWindow",k),t.off("ResizeWindow",U),t.off("ResizeEditor",z),t.off("AfterProgressState",J),t.off("DismissPopups",Q),Mt([e,...n],nt=>{nt.element.dom.removeEventListener("focusin",gt),nt.element.dom.removeEventListener("focusout",Dt)}),g.unbind(),i.unbind(),l.unbind(),u.unbind(),b.unbind(),N.unbind()}),t.on("detach",()=>{Mt([e,...n],TD),Mt([e,...n],nt=>nt.destroy())})},yo=vk,ni=gk,vz=R([X("shell",!1),ct("makeItem"),X("setupItem",_),Jr.field("listBehaviours",[se])]),bz=Mr({name:"items",overrides:()=>({behaviours:ht([se.config({})])})}),yz=R([bz]),xz=R("CustomList"),Sz=(t,e,n,o)=>{const s=(i,l)=>{a(i).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},u=>{const g=se.contents(u),b=l.length,x=b-g.length,E=x>0?On(x,()=>t.makeItem()):[],A=g.slice(b);Mt(A,U=>se.remove(u,U)),Mt(E,U=>se.append(u,U));const k=se.contents(u);Mt(k,(U,I)=>{t.setupItem(i,U,l[I],I)})})},r=t.shell?{behaviours:[se.config({})],components:[]}:{behaviours:[],components:e},a=i=>t.shell?m.some(i):sn(i,t,"items");return{uid:t.uid,dom:t.dom,components:r.components,behaviours:Vo(t.listBehaviours,r.behaviours),apis:{setItems:s}}},o6=us({name:xz(),configFields:vz(),partFields:yz(),factory:Sz,apis:{setItems:(t,e,n)=>{t.setItems(e,n)}}}),Fu=R([ct("dom"),X("shell",!0),Mo("toolbarBehaviours",[se])]),wz=R([Mr({name:"groups",overrides:()=>({behaviours:ht([se.config({})])})})]),Cz=(t,e,n,o)=>{const s=(i,l)=>{r(i).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},u=>{se.set(u,l)})},r=i=>t.shell?m.some(i):sn(i,t,"groups"),a=t.shell?{behaviours:[se.config({})],components:[]}:{behaviours:[],components:e};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:Vo(t.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:_},domModification:{attributes:{role:"group"}}}},Fa=us({name:"Toolbar",configFields:Fu(),partFields:wz(),factory:Cz,apis:{setGroups:(t,e,n)=>{t.setGroups(e,n)}}}),Tz=_,Ez=yt,s6=R([]);var Oz=Object.freeze({__proto__:null,setup:Tz,isDocked:Ez,getBehaviours:s6});const d2=R(Lt("toolbar-height-change")),oi={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},r6="tox-tinymce--toolbar-sticky-on",a6="tox-tinymce--toolbar-sticky-off",Mz=(t,e)=>{const n=bs(e),s=Yt(e).dom.innerHeight,r=xs(n),a=Ct.fromDom(t.elm),i=ya(a),l=ro(a),u=i.y,g=u+l,b=or(e),x=ro(e),E=b.top,A=E+x,k=Math.abs(E-r.top)<2,U=Math.abs(A-(r.top+s))<2;if(k&&u<A)Kl(r.left,u-x,n);else if(U&&g>E){const I=u-s+l+x;Kl(r.left,I,n)}},hg=(t,e)=>me(An.getModes(t),e),m2=t=>{const e=o=>_a(o)+(parseInt(Po(o,"margin-top"),10)||0)+(parseInt(Po(o,"margin-bottom"),10)||0),n=t.element;ys(n).each(o=>{const s="padding-"+An.getModes(t)[0];if(An.isDocked(t)){const r=is(o);ce(n,"width",r+"px"),ce(o,s,e(n)+"px")}else De(n,"width"),De(o,s)})},i6=(t,e)=>{e?($n(t,oi.fadeOutClass),sc(t,[oi.transitionClass,oi.fadeInClass])):($n(t,oi.fadeInClass),sc(t,[oi.fadeOutClass,oi.transitionClass]))},l6=(t,e)=>{const n=Ct.fromDom(t.getContainer());e?(Yn(n,r6),$n(n,a6)):(Yn(n,a6),$n(n,r6))},Az=(t,e)=>{const n=bs(e);wi(n).filter(o=>!_e(e,o)).filter(o=>_e(o,Ct.fromDom(n.dom.body))||zr(t,o)).each(()=>Ws(e))},Dz=(t,e)=>cs(t).orThunk(()=>e().toOptional().bind(n=>cs(n.element))),kz=(t,e,n)=>{t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",()=>{n().each(An.reset)}),t.on("ResizeWindow ResizeEditor",()=>{n().each(m2)}),t.on("SkinLoaded",()=>{n().each(o=>{An.isDocked(o)?An.reset(o):An.refresh(o)})}),t.on("FullscreenStateChanged",()=>{n().each(An.reset)})),t.on("AfterScrollIntoView",o=>{n().each(s=>{An.refresh(s);const r=s.element;k3(r)&&Mz(o,r)})}),t.on("PostRender",()=>{l6(t,!1)})},Iz=t=>t().map(An.isDocked).getOr(!1),Lz=()=>[js.config({channels:{[d2()]:{onReceive:m2}}})],c6=(t,e)=>{const n=qe(),o=e.getSink,s=i=>{o().each(l=>i(l.element))},r=i=>{t.inline||m2(i),l6(t,An.isDocked(i)),i.getSystem().broadcastOn([fu()],{}),o().each(l=>l.getSystem().broadcastOn([fu()],{}))},a=t.inline?[]:Lz();return[Qt.config({}),An.config({contextual:{lazyContext:i=>{const l=_a(i.element),u=t.inline?t.getContentAreaContainer():t.getContainer();return m.from(u).map(g=>{const b=ao(Ct.fromDom(g));return fl(t,i.element).fold(()=>{const E=b.height-l,A=b.y+(hg(i,"top")?0:l);return vo(b.x,A,b.width,E)},E=>{const A=md(b,pc(E)),k=hg(i,"top")?A.y:A.y+l;return vo(A.x,k,A.width,A.height-l)})})},onShow:()=>{s(i=>i6(i,!0))},onShown:i=>{s(l=>Gr(l,[oi.transitionClass,oi.fadeInClass])),n.get().each(l=>{Az(i.element,l),n.clear()})},onHide:i=>{Dz(i.element,o).fold(n.clear,n.set),s(l=>i6(l,!1))},onHidden:()=>{s(i=>Gr(i,[oi.transitionClass]))},...oi},lazyViewport:i=>fl(t,i.element).fold(()=>{const u=zo(),g=Ax(t),b=u.y+(hg(i,"top")&&!qx(t)?g:0),x=u.height-(hg(i,"bottom")?g:0);return{bounds:vo(u.x,b,u.width,x),optScrollEnv:m.none()}},u=>({bounds:pc(u),optScrollEnv:m.some({currentScrollTop:u.element.dom.scrollTop,scrollElmTop:or(u.element).top})})),modes:[e.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var Fz=Object.freeze({__proto__:null,setup:kz,isDocked:Iz,getBehaviours:c6});const Hz=t=>{const e=t.editor,n=t.sticky?c6:s6;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:ht(n(e,t.sharedBackstage))}},Pz=te([_n,ir("items",Ch([Th([j0,Us("items",bo)]),bo]))].concat(Yd)),Rz=t=>Nn("GroupToolbarButton",Pz,t),Vz=[Kn("text"),Kn("tooltip"),Kn("icon"),Or("search",!1,Ch([Mh,te([Kn("placeholder")])],t=>V(t)?t?m.some({placeholder:m.none()}):m.none():m.some(t))),_r("fetch"),gn("onSetup",()=>_),Pn("context","mode:design")],u6=te([_n,...Vz]),d6=t=>Nn("menubutton",u6,t),Bz=te([_n,Xd,Lr,vl,LF,MF,xc,Ga("presets","normal",["normal","color","listpreview"]),$S(1),Cu,DF,Pn("context","mode:design")]),Nz=t=>Nn("SplitButton",Bz,t);var h2=hr({factory:(t,e)=>{const n=(s,r)=>{const a=mt(r,i=>{const l={type:"menubutton",text:i.text,fetch:g=>{g(i.getItems())},context:"any"},u=d6(l).mapError(g=>nu(g)).getOrDie();return gm(u,"tox-mbtn",e.backstage,m.some("menuitem"))});se.set(s,a)},o={focus:Bt.focusIn,setMenus:n};return{uid:t.uid,dom:t.dom,components:[],behaviours:ht([se.config({}),le("menubar-events",[xn(s=>{t.onSetup(s)}),at(Ka(),(s,r)=>{Cn(s.element,".tox-mbtn--active").each(a=>{Ja(r.event.target,".tox-mbtn").each(i=>{_e(a,i)||s.getSystem().getByDom(a).each(l=>{s.getSystem().getByDom(i).each(u=>{gr.expand(u),gr.close(l),Qt.focus(u)})})})})}),at(Fh(),(s,r)=>{r.event.prevFocus.bind(a=>s.getSystem().getByDom(a).toOptional()).each(a=>{r.event.newFocus.bind(i=>s.getSystem().getByDom(i).toOptional()).each(i=>{gr.isOpen(a)&&(gr.expand(i),gr.close(a))})})})]),Bt.config({mode:"flow",selector:".tox-mbtn",onEscape:s=>(t.onEscape(s),m.some(!0))}),fn.config({})]),apis:o,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ct("dom"),ct("uid"),ct("onEscape"),ct("backstage"),X("onSetup",_)],apis:{focus:(t,e)=>{t.focus(e)},setMenus:(t,e,n)=>{t.setMenus(e,n)}}});const $z="Upgrade",zz="https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",Zz=t=>({uid:t.uid,dom:t.dom,components:[{dom:{tag:"a",attributes:{href:zz,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:$z}}]}),m6="container",Uz=[Mo("slotBehaviours",[])],h6=t=>"<alloy.field."+t+">",_z=t=>{const e=(()=>{const r=[];return{slot:(i,l)=>(r.push(i),Jp(m6,h6(i),l)),record:R(r)}})(),n=t(e),o=e.record(),s=mt(o,r=>ns({name:r,pname:h6(r)}));return n0(m6,Uz,s,jz,n)},jz=(t,e)=>{const n=k=>d3(t),o=(k,U)=>sn(k,t,U),s=(k,U)=>(I,N)=>sn(I,t,N).map(z=>k(z,N)).getOr(U),r=k=>(U,I)=>{Mt(I,N=>k(U,N))},a=(k,U)=>fe(k.element,"aria-hidden")!=="true",i=(k,U)=>{if(!a(k)){const I=k.element;De(I,"display"),nn(I,"aria-hidden"),_t(k,jf(),{name:U,visible:!0})}},l=(k,U)=>{if(a(k)){const I=k.element;ce(I,"display","none"),Et(I,"aria-hidden","true"),_t(k,jf(),{name:U,visible:!1})}},u=s(a,!1),g=s(l),b=r(g),x=k=>b(k,n()),E=s(i),A={getSlotNames:n,getSlot:o,isShowing:u,hideSlot:g,hideAllSlots:x,showSlot:E};return{uid:t.uid,dom:t.dom,components:e,behaviours:qh(t.slotBehaviours),apis:A}},os={...ft({getSlotNames:(t,e)=>t.getSlotNames(e),getSlot:(t,e,n)=>t.getSlot(e,n),isShowing:(t,e,n)=>t.isShowing(e,n),hideSlot:(t,e,n)=>t.hideSlot(e,n),hideAllSlots:(t,e)=>t.hideAllSlots(e),showSlot:(t,e,n)=>t.showSlot(e,n)},t=>$h(t)),sketch:_z},Wz=te([Lr,Xd,gn("onShow",_),gn("onHide",_),xc]),Gz=t=>Nn("sidebar",Wz,t),Kz=t=>{const{sidebars:e}=t.ui.registry.getAll();Mt(tt(e),n=>{const o=e[n],s=()=>eo(m.from(t.queryCommandValue("ToggleSidebar")),n);t.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:r=>{t.execCommand("ToggleSidebar",!1,n),r.setActive(s())},onSetup:r=>{r.setActive(s());const a=()=>r.setActive(s());return t.on("ToggleSidebar",a),()=>{t.off("ToggleSidebar",a)}},context:"any"})})},Xz=t=>({element:()=>t.element.dom}),Yz=(t,e)=>{const n=mt(tt(e),o=>{const s=e[o],r=Sa(Gz(s));return{name:o,getApi:Xz,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return mt(n,o=>{const s=$t(_);return t.slot(o.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Jd.unnamedEvents([Da(o,s),ka(o,s),at(jf(),(r,a)=>{const i=a.event;Me(n,u=>u.name===i.name).each(u=>{(i.visible?u.onShow:u.onHide)(u.getApi(r))})})])})})},Jz=t=>os.sketch(e=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:Yz(e,t),slotBehaviours:Jd.unnamedEvents([xn(n=>os.hideAllSlots(n))])})),Qz=(t,e,n)=>{ke.getCurrent(t).each(s=>{se.set(s,[Jz(e)]);const r=n==null?void 0:n.toLowerCase();S(r)&&jt(e,r)&&ke.getCurrent(s).each(a=>{os.showSlot(a,r),Hs.immediateGrow(s),De(s.element,"width"),gg(t.element,"region")})})},gg=(t,e)=>{Et(t,"role",e)},qz=(t,e)=>{ke.getCurrent(t).each(o=>{ke.getCurrent(o).each(r=>{Hs.hasGrown(o)?os.isShowing(r,e)?(Hs.shrink(o),gg(t.element,"presentation")):(os.hideAllSlots(r),os.showSlot(r,e),gg(t.element,"region")):(os.hideAllSlots(r),os.showSlot(r,e),Hs.grow(o),gg(t.element,"region"))})})},tZ=t=>ke.getCurrent(t).bind(n=>Hs.isGrowing(n)||Hs.hasGrown(n)?ke.getCurrent(n).bind(r=>Me(os.getSlotNames(r),a=>os.isShowing(r,a))):m.none()),g2=Lt("FixSizeEvent"),f2=Lt("AutoSizeEvent"),eZ=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ht([fn.config({}),Qt.config({}),Hs.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:e=>{ke.getCurrent(e).each(os.hideAllSlots),Ae(e,f2)},onGrown:e=>{Ae(e,f2)},onStartGrow:e=>{_t(e,g2,{width:Zn(e.element,"width").getOr("")})},onStartShrink:e=>{_t(e,g2,{width:is(e.element)+"px"})}}),se.config({}),ke.config({find:e=>{const n=se.contents(e);return no(n)}})])}],behaviours:ht([sa.childAt(0),le("sidebar-sliding-events",[at(g2,(e,n)=>{ce(e.element,"width",n.event.width)}),at(f2,(e,n)=>{De(e.element,"width")})])])});var nZ=Object.freeze({__proto__:null,block:(t,e,n,o)=>{Et(t.element,"aria-busy",!0);const s=e.getRoot(t).getOr(t),r=ht([Bt.config({mode:"special",onTab:()=>m.some(!0),onShiftTab:()=>m.some(!0)}),Qt.config({})]),a=o(s,r),i=s.getSystem().build(a);se.append(s,mr(i)),i.hasConfigured(Bt)&&e.focus&&Bt.focusIn(i),n.isBlocked()||e.onBlock(t),n.blockWith(()=>se.remove(s,i))},unblock:(t,e,n)=>{nn(t.element,"aria-busy"),n.isBlocked()&&e.onUnblock(t),n.clear()},isBlocked:(t,e,n)=>n.isBlocked()}),oZ=[gn("getRoot",m.none),qo("focus",!0),He("onBlock"),He("onUnblock")],sZ=Object.freeze({__proto__:null,init:()=>{const t=Mf(),e=n=>{t.set({destroy:n})};return dr({readState:t.isSet,blockWith:e,clear:t.clear,isBlocked:t.isSet})}});const Ha=Ro({fields:oZ,name:"blocking",apis:nZ,state:sZ}),rZ=t=>(e,n)=>({dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Oi('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),g6=t=>ke.getCurrent(t).each(e=>Ws(e.element,!0)),aZ=(t,e)=>{const n="tabindex",o=`data-mce-${n}`;m.from(t.iframeElement).map(Ct.fromDom).each(s=>{e?(Be(s,n).each(r=>Et(s,o,r)),Et(s,n,-1)):(nn(s,n),Be(s,o).each(r=>{Et(s,n,r),nn(s,o)}))})},iZ=(t,e,n,o)=>{const s=e.element;if(aZ(t,n),n)Ha.block(e,rZ(o)),De(s,"display"),nn(s,"aria-hidden"),t.hasFocus()&&g6(e);else{const r=ke.getCurrent(e).exists(a=>hu(a.element));Ha.unblock(e),ce(s,"display","none"),Et(s,"aria-hidden","true"),r&&t.focus()}},lZ=t=>({uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ht([se.config({}),Ha.config({focus:!1}),ke.config({find:e=>no(e.components())})]),components:[]}),cZ=t=>t.type==="focusin",uZ=t=>cZ(t)?(t.composed?no(t.composedPath()):m.from(t.target)).map(Ct.fromDom).filter(so).exists(n=>Ls(n,"mce-pastebin")):!1,dZ=(t,e,n)=>{const o=$t(!1),s=qe(),r=i=>{o.get()&&!uZ(i)&&(i.preventDefault(),g6(e()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",()=>{t.dom.bind(t.getWin(),"focusin",r),t.on("BeforeExecCommand",i=>{i.command.toLowerCase()==="mcefocus"&&i.value!==!0&&r(i)})});const a=i=>{i!==o.get()&&(o.set(i),iZ(t,e(),i,n.providers),WH(t,i))};t.on("ProgressState",i=>{if(s.on(clearTimeout),rt(i.time)){const l=b1.setEditorTimeout(t,()=>a(i.state),i.time);s.set(l)}else a(i.state),s.clear()})},mZ=(t,e)=>vn(t,(s,r)=>e(r,s.len).fold(R(s),i=>({len:i.finish,list:s.list.concat([i])})),{len:0,list:[]}).list,p2=(t,e,n)=>({within:t,extra:e,withinWidth:n}),f6=(t,e,n)=>{const o=mZ(t,(i,l)=>{const u=n(i);return m.some({element:i,start:l,finish:l+u,width:u})}),s=Ve(o,i=>i.finish<=e),r=cn(s,(i,l)=>i+l.width,0),a=o.slice(s.length);return{within:s,extra:a,withinWidth:r}},fg=t=>mt(t,e=>e.element),hZ=(t,e,n)=>{const o=fg(t.concat(e));return p2(o,[],n)},gZ=(t,e,n,o)=>{const s=fg(t).concat([n]);return p2(s,fg(e),o)},fZ=(t,e,n)=>p2(fg(t),[],n),pZ=(t,e,n)=>{const o=f6(e,t,n);return o.extra.length===0?m.some(o):m.none()},vZ=(t,e,n,o)=>{const s=pZ(t,e,n).getOrThunk(()=>f6(e,t-n(o),n)),r=s.within,a=s.extra,i=s.withinWidth;return a.length===1&&a[0].width<=n(o)?hZ(r,a,i):a.length>=1?gZ(r,a,o,i):fZ(r,a,i)},p6=(t,e)=>{const n=mt(e,o=>mr(o));Fa.setGroups(t,n)},bZ=t=>zn(t,e=>cs(e.element).bind(n=>e.getSystem().getByDom(n).toOptional())),v6=(t,e,n)=>{const o=e.builtGroups.get();if(o.length===0)return;const s=hl(t,e,"primary"),r=Rn.getCoupled(t,"overflowGroup");ce(s.element,"visibility","hidden");const a=o.concat([r]),i=bZ(a);n([]),p6(s,a);const l=is(s.element),u=vZ(l,e.builtGroups.get(),g=>Math.ceil(g.element.dom.getBoundingClientRect().width),r);u.extra.length===0?(se.remove(s,r),n([])):(p6(s,u.within),n(u.extra)),De(s.element,"visibility"),Uc(s.element),i.each(Qt.focus)},b6=R([Mo("splitToolbarBehaviours",[Rn]),Ss("builtGroups",()=>$t([]))]),yZ=R([rc(["overflowToggledClass"]),al("getOverflowBounds"),ct("lazySink"),Ss("overflowGroups",()=>$t([])),He("onOpened"),He("onClosed")].concat(b6())),xZ=R([ns({factory:Fa,schema:Fu(),name:"primary"}),Qr({schema:Fu(),name:"overflow"}),Qr({name:"overflow-button"}),Qr({name:"overflow-group"})]),v2=R((t,e)=>{cf(t,Math.floor(e))}),SZ=R([rc(["toggledClass"]),ct("lazySink"),_r("fetch"),al("getBounds"),lr("fireDismissalEventInstead",[X("event",ec())]),dl(),He("onToggled")]),wZ=R([Qr({name:"button",overrides:t=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ht([be.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:t.onToggled})])})}),Qr({factory:Fa,schema:Fu(),name:"toolbar",overrides:t=>({toolbarBehaviours:ht([Bt.config({mode:"cyclic",onEscape:e=>(sn(e,t,"button").each(Qt.focus),m.none())})])})})]),pg=qe(),CZ=(t,e)=>{pg.set(!0),b2(t,e),pg.clear()},b2=(t,e)=>{const n=Rn.getCoupled(t,"toolbarSandbox");Pe.isOpen(n)?Pe.close(n):Pe.open(n,e.toolbar())},y2=(t,e,n,o)=>{const s=n.getBounds.map(a=>a()),r=n.lazySink(t).getOrDie();es.positionWithinBounds(r,e,{anchor:{type:"hotspot",hotspot:t,layouts:o,overrides:{maxWidthFunction:v2()}}},s)},y6=(t,e,n,o,s)=>{Fa.setGroups(e,s),y2(t,e,n,o),be.on(t)},TZ=(t,e,n)=>{const o=_y(),s=(a,i)=>{const l=pg.get().getOr(!1);n.fetch().get(u=>{y6(t,i,n,e.layouts,u),o.link(t.element),l||Bt.focusIn(i)})},r=()=>{be.off(t),pg.get().getOr(!1)||Qt.focus(t),o.unlink(t.element)};return{dom:{tag:"div",attributes:{id:o.id}},behaviours:ht([Bt.config({mode:"special",onEscape:a=>(Pe.close(a),m.some(!0))}),Pe.config({onOpen:s,onClose:r,isPartOf:(a,i,l)=>cc(i,l)||cc(t,l),getAttachPoint:()=>n.lazySink(t).getOrDie()}),js.config({channels:{...Zp({isExtraPart:yt,...n.fireDismissalEventInstead.map(a=>({fireEventInstead:{event:a.event}})).getOr({})}),...Up({doReposition:()=>{Pe.getState(Rn.getCoupled(t,"toolbarSandbox")).each(a=>{y2(t,a,n,e.layouts)})}})}})])}},El=us({name:"FloatingToolbarButton",factory:(t,e,n,o)=>({...Bo.sketch({...o.button(),action:s=>{b2(s,o)},buttonBehaviours:Jr.augment({dump:o.button().buttonBehaviours},[Rn.config({others:{toolbarSandbox:s=>TZ(s,n,t)}})])}),apis:{setGroups:(s,r)=>{Pe.getState(Rn.getCoupled(s,"toolbarSandbox")).each(a=>{y6(s,a,t,n.layouts,r)})},reposition:s=>{Pe.getState(Rn.getCoupled(s,"toolbarSandbox")).each(r=>{y2(s,r,t,n.layouts)})},toggle:s=>{b2(s,o)},toggleWithoutFocusing:s=>{CZ(s,o)},getToolbar:s=>Pe.getState(Rn.getCoupled(s,"toolbarSandbox")),isOpen:s=>Pe.isOpen(Rn.getCoupled(s,"toolbarSandbox"))}}),configFields:SZ(),partFields:wZ(),apis:{setGroups:(t,e,n)=>{t.setGroups(e,n)},reposition:(t,e)=>{t.reposition(e)},toggle:(t,e)=>{t.toggle(e)},toggleWithoutFocusing:(t,e)=>{t.toggleWithoutFocusing(e)},getToolbar:(t,e)=>t.getToolbar(e),isOpen:(t,e)=>t.isOpen(e)}}),EZ=R([ct("items"),rc(["itemSelector"]),Mo("tgroupBehaviours",[Bt])]),OZ=R([i1({name:"items",unit:"item"})]),MZ=(t,e,n,o)=>({uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.tgroupBehaviours,[Bt.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),vg=us({name:"ToolbarGroup",configFields:EZ(),partFields:OZ(),factory:MZ}),x6=t=>mt(t,e=>mr(e)),S6=(t,e,n)=>{v6(t,n,o=>{n.overflowGroups.set(o),e.getOpt(t).each(s=>{El.setGroups(s,x6(o))})})},AZ=(t,e,n,o)=>{const s=ze(El.sketch({fetch:()=>Ko.nu(r=>{r(x6(t.overflowGroups.get()))}),layouts:{onLtr:()=>[lo,io],onRtl:()=>[io,lo],onBottomLtr:()=>[Go,Wo],onBottomRtl:()=>[Wo,Go]},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(r,a)=>t[a?"onOpened":"onClosed"](r)}));return{uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.splitToolbarBehaviours,[Rn.config({others:{overflowGroup:()=>vg.sketch({...o["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(r,a)=>{t.builtGroups.set(mt(a,r.getSystem().build)),S6(r,s,t)},refresh:r=>S6(r,s,t),toggle:r=>{s.getOpt(r).each(a=>{El.toggle(a)})},toggleWithoutFocusing:r=>{s.getOpt(r).each(El.toggleWithoutFocusing)},isOpen:r=>s.getOpt(r).map(El.isOpen).getOr(!1),reposition:r=>{s.getOpt(r).each(a=>{El.reposition(a)})},getOverflow:r=>s.getOpt(r).bind(El.getToolbar)},domModification:{attributes:{role:"group"}}}},w6=us({name:"SplitFloatingToolbar",configFields:yZ(),partFields:xZ(),factory:AZ,apis:{setGroups:(t,e,n)=>{t.setGroups(e,n)},refresh:(t,e)=>{t.refresh(e)},reposition:(t,e)=>{t.reposition(e)},toggle:(t,e)=>{t.toggle(e)},toggleWithoutFocusing:(t,e)=>{t.toggle(e)},isOpen:(t,e)=>t.isOpen(e),getOverflow:(t,e)=>t.getOverflow(e)}}),DZ=R([rc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),He("onOpened"),He("onClosed")].concat(b6())),kZ=R([ns({factory:Fa,schema:Fu(),name:"primary"}),ns({factory:Fa,schema:Fu(),name:"overflow",overrides:t=>({toolbarBehaviours:ht([Hs.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:e=>{sn(e,t,"overflow-button").each(n=>{be.off(n)}),t.onClosed(e)},onGrown:e=>{t.onOpened(e)},onStartGrow:e=>{sn(e,t,"overflow-button").each(be.on)}}),Bt.config({mode:"acyclic",onEscape:e=>(sn(e,t,"overflow-button").each(Qt.focus),m.some(!0))})])})}),Qr({name:"overflow-button",overrides:t=>({buttonBehaviours:ht([be.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),Qr({name:"overflow-group"})]),IZ=(t,e)=>sn(t,e,"overflow").map(Hs.hasGrown).getOr(!1),x2=(t,e,n)=>{sn(t,e,"overflow-button").each(o=>{sn(t,e,"overflow").each(s=>{if(S2(t,e),Hs.hasShrunk(s)){const r=e.onOpened;e.onOpened=a=>{n||Bt.focusIn(s),r(a),e.onOpened=r}}else{const r=e.onClosed;e.onClosed=a=>{n||Qt.focus(o),r(a),e.onClosed=r}}Hs.toggleGrow(s)})})},S2=(t,e)=>{sn(t,e,"overflow").each(n=>{v6(t,e,o=>{const s=mt(o,r=>mr(r));Fa.setGroups(n,s)}),sn(t,e,"overflow-button").each(o=>{Hs.hasGrown(n)&&be.on(o)}),Hs.refresh(n)})},LZ=(t,e,n,o)=>{const s="alloy.toolbar.toggle",r=(a,i)=>{const l=mt(i,a.getSystem().build);t.builtGroups.set(l)};return{uid:t.uid,dom:t.dom,components:e,behaviours:Vo(t.splitToolbarBehaviours,[Rn.config({others:{overflowGroup:a=>vg.sketch({...o["overflow-group"](),items:[Bo.sketch({...o["overflow-button"](),action:i=>{Ae(a,s)}})]})}}),le("toolbar-toggle-events",[at(s,a=>{x2(a,t,!1)})])]),apis:{setGroups:(a,i)=>{r(a,i),S2(a,t)},refresh:a=>S2(a,t),toggle:a=>{x2(a,t,!1)},toggleWithoutFocusing:a=>{x2(a,t,!0)},isOpen:a=>IZ(a,t)},domModification:{attributes:{role:"group"}}}},w2=us({name:"SplitSlidingToolbar",configFields:DZ(),partFields:kZ(),factory:LZ,apis:{setGroups:(t,e,n)=>{t.setGroups(e,n)},refresh:(t,e)=>{t.refresh(e)},toggle:(t,e)=>{t.toggle(e)},isOpen:(t,e)=>t.isOpen(e)}}),C6=t=>{const e=t.label.isNone()?t.title.fold(()=>({}),n=>({attributes:{title:n}})):t.label.fold(()=>({}),n=>({attributes:{"aria-label":n}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(t.label.isSome()?["tox-toolbar__group_with_label"]:[]),...e},components:[...t.label.map(n=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[Tn(n)]})).toArray(),vg.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ht([fn.config({}),Qt.config({})])}},bg=t=>vg.sketch(C6(t)),T6=(t,e)=>{const n=xn(o=>{const s=mt(t.initGroups,bg);Fa.setGroups(o,s)});return ht([Fr.toolbarButton(()=>t.providers.checkUiComponentContext("any").shouldDisable),jn(()=>t.providers.checkUiComponentContext("any")),Bt.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),le("toolbar-events",[n])])},E6=t=>{const e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":C6({title:m.none(),label:m.none(),items:[]}),"overflow-button":UN({context:"any",name:"more",icon:m.some("more-drawer"),enabled:!0,tooltip:m.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:m.none(),borderless:!1},m.none(),t.providers,[],"overflow-button")},splitToolbarBehaviours:T6(t,e)}},FZ=t=>{const e=E6(t),n=4,o=w6.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return w6.sketch({...e,lazySink:t.getSink,getOverflowBounds:()=>{const s=t.moreDrawerData.lazyHeader().element,r=ya(s),a=ot(s),i=ya(a),l=Math.max(a.dom.scrollHeight,i.height);return vo(r.x+n,i.y,r.width-n*2,l)},parts:{...e.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}},components:[o],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>t.onToggled(s,!0),onClosed:s=>t.onToggled(s,!1)})},HZ=t=>{const e=w2.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=w2.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=E6(t);return w2.sketch({...o,components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>{s.getSystem().broadcastOn([d2()],{type:"opened"}),t.onToggled(s,!0)},onClosed:s=>{s.getSystem().broadcastOn([d2()],{type:"closed"}),t.onToggled(s,!1)}})},yg=t=>{const e=t.cyclicKeying?"cyclic":"acyclic";return Fa.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ar.scrolling?["tox-toolbar--scrolling"]:[])},components:[Fa.parts.groups({})],toolbarBehaviours:T6(t,e)})},O6=[vl,Lr,Kn("tooltip"),Ga("buttonType","secondary",["primary","secondary"]),qo("borderless",!1),_r("onAction"),Pn("context","mode:design")],PZ=[...O6,Ai,Ur("type",["button"])],RZ=[...O6,qo("active",!1),Ur("type",["togglebutton"])],M6={button:PZ,togglebutton:RZ},VZ=[Ur("type",["group"]),Yl("buttons",[],Is("type",M6))],BZ=Is("type",{...M6,group:VZ}),NZ=te([Yl("buttons",[],BZ),_r("onShow"),_r("onHide")]),$Z=t=>Nn("view",NZ,t),zZ=(t,e)=>{var n,o;const s=t.type==="togglebutton",r=t.icon.map(z=>Cl(z,e.icons)).map(ze),i=z=>{const J=nt=>{r.map(kt=>kt.getOpt(z).each(bt=>{se.set(bt,[Cl(nt,e.icons)])}))},Q=nt=>{const kt=z.element;nt?(Yn(kt,"tox-button--enabled"),Et(kt,"aria-pressed",!0)):($n(kt,"tox-button--enabled"),nn(kt,"aria-pressed"))},gt=()=>Ls(z.element,"tox-button--enabled"),Dt=()=>Ws(z.element);if(s)return t.onAction({setIcon:J,setActive:Q,isActive:gt,focus:Dt});if(t.type==="button")return t.onAction({setIcon:J})},l={...t,name:s?t.text.getOr(t.icon.getOr("")):(n=t.text)!==null&&n!==void 0?n:t.icon.getOr(""),primary:t.buttonType==="primary",buttonType:m.from(t.buttonType),tooltip:t.tooltip,icon:t.icon,enabled:!0,borderless:t.borderless},u=n2((o=t.buttonType)!==null&&o!==void 0?o:"secondary"),g=s?t.text.map(e.translate):m.some(e.translate(t.text)),b=g.map(Tn),x=l.tooltip.or(g).map(z=>({"aria-label":e.translate(z)})).getOr({}),E=r.map(z=>z.asSpec()),A=Ou([E,b]),k=t.icon.isSome()&&b.isSome(),U={tag:"button",classes:u.concat(...t.icon.isSome()&&!k?["tox-button--icon"]:[]).concat(...k?["tox-button--icon-and-text"]:[]).concat(...t.borderless?["tox-button--naked"]:[]).concat(...t.type==="togglebutton"&&t.active?["tox-button--enabled"]:[]),attributes:x},I=[],N=lg(l,m.some(i),I,U,A,t.tooltip,e);return Bo.sketch(N)},A6=(t,e)=>zZ(t,e),ZZ=(t,e)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:mt(t.buttons,n=>A6(n,e))}),D6=ls().deviceType,UZ=D6.isPhone(),_Z=D6.isTablet(),jZ=t=>{let e=!1;const n=mt(t.buttons,o=>o.type==="group"?(e=!0,ZZ(o,t.providers)):A6(o,t.providers));return{uid:t.uid,dom:{tag:"div",classes:[e?"tox-view__toolbar":"tox-view__header",...UZ||_Z?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ht([Qt.config({}),Bt.config({mode:"flow",selector:"button, .tox-button",focusInside:mc.OnEnterOrSpaceMode})]),components:e?n:[La.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),La.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}},WZ=t=>({uid:t.uid,behaviours:ht([Qt.config({}),fn.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),GZ=(t,e,n,o)=>{const s={getPane:r=>yo.getPart(r,t,"pane"),getOnShow:r=>t.viewConfig.onShow,getOnHide:r=>t.viewConfig.onHide};return{uid:t.uid,dom:t.dom,components:e,behaviours:ht([Qt.config({}),Bt.config({mode:"cyclic",focusInside:mc.OnEnterOrSpaceMode})]),apis:s}};var Hu=us({name:"silver.View",configFields:[ct("viewConfig")],partFields:[Mr({factory:{sketch:jZ},schema:[ct("buttons"),ct("providers")],name:"header"}),Mr({factory:{sketch:WZ},schema:[],name:"pane"})],factory:GZ,apis:{getPane:(t,e)=>t.getPane(e),getOnShow:(t,e)=>t.getOnShow(e),getOnHide:(t,e)=>t.getOnHide(e)}});const KZ=(t,e,n)=>qt(e,(o,s)=>{const r=Sa($Z(o));return t.slot(s,Hu.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[Hu.parts.header({buttons:r.buttons,providers:n})]:[],Hu.parts.pane({})]}))}),XZ=(t,e)=>os.sketch(n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:KZ(n,t,e),slotBehaviours:Jd.unnamedEvents([xn(o=>os.hideAllSlots(o))])})),k6=t=>Me(os.getSlotNames(t),e=>os.isShowing(t,e)),YZ=t=>{const e=t.element;ce(e,"display","none"),Et(e,"aria-hidden","true")},JZ=t=>{const e=t.element;De(e,"display"),nn(e,"aria-hidden")},QZ=t=>({getContainer:R(t)}),I6=(t,e,n)=>{os.getSlot(t,e).each(o=>{Hu.getPane(o).each(s=>{n(o)(QZ(s.element.dom))})})},qZ=(t,e)=>I6(t,e,Hu.getOnShow),tU=(t,e)=>I6(t,e,Hu.getOnHide);var xg=hr({factory:(t,e)=>{const r={setViews:(a,i)=>{se.set(a,[XZ(i,e.backstage.shared.providers)])},whichView:a=>ke.getCurrent(a).bind(k6),toggleView:(a,i,l,u)=>ke.getCurrent(a).exists(g=>{const b=k6(g),x=b.exists(A=>u===A),E=os.getSlot(g,u).isSome();return E&&(os.hideAllSlots(g),x?(YZ(a),i()):(l(),JZ(a),os.showSlot(g,u),qZ(g,u)),b.each(A=>tU(g,A))),E})};return{uid:t.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ht([se.config({}),ke.config({find:a=>{const i=se.contents(a);return no(i)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[ct("backstage")],apis:{setViews:(t,e,n)=>t.setViews(e,n),toggleView:(t,e,n,o,s)=>t.toggleView(e,n,o,s),whichView:(t,e)=>t.whichView(e)}});const eU=(t,e,n)=>{let o=!1;const s=a=>{OM(a,".tox-statusbar").each(i=>{Po(i,"display")==="none"&&fe(i,"aria-hidden")==="true"?(De(i,"display"),nn(i,"aria-hidden")):(ce(i,"display","none"),Et(i,"aria-hidden","true"))})},r={getSocket:a=>yo.getPart(a,t,"socket"),setSidebar:(a,i,l)=>{yo.getPart(a,t,"sidebar").each(u=>Qz(u,i,l))},toggleSidebar:(a,i)=>{yo.getPart(a,t,"sidebar").each(l=>qz(l,i))},whichSidebar:a=>yo.getPart(a,t,"sidebar").bind(tZ).getOrNull(),getHeader:a=>yo.getPart(a,t,"header"),getToolbar:a=>yo.getPart(a,t,"toolbar"),setToolbar:(a,i)=>{yo.getPart(a,t,"toolbar").each(l=>{const u=mt(i,bg);l.getApis().setGroups(l,u)})},setToolbars:(a,i)=>{yo.getPart(a,t,"multiple-toolbar").each(l=>{const u=mt(i,g=>mt(g,bg));o6.setItems(l,u)})},refreshToolbar:a=>{yo.getPart(a,t,"toolbar").each(l=>l.getApis().refresh(l))},toggleToolbarDrawer:a=>{yo.getPart(a,t,"toolbar").each(i=>{da(i.getApis().toggle,l=>l(i))})},toggleToolbarDrawerWithoutFocusing:a=>{yo.getPart(a,t,"toolbar").each(i=>{da(i.getApis().toggleWithoutFocusing,l=>l(i))})},isToolbarDrawerToggled:a=>yo.getPart(a,t,"toolbar").bind(i=>m.from(i.getApis().isOpen).map(l=>l(i))).getOr(!1),getThrobber:a=>yo.getPart(a,t,"throbber"),focusToolbar:a=>{yo.getPart(a,t,"toolbar").orThunk(()=>yo.getPart(a,t,"multiple-toolbar")).each(l=>{Bt.focusIn(l)})},setMenubar:(a,i)=>{yo.getPart(a,t,"menubar").each(l=>{h2.setMenus(l,i)})},focusMenubar:a=>{yo.getPart(a,t,"menubar").each(i=>{h2.focus(i)})},setViews:(a,i)=>{yo.getPart(a,t,"viewWrapper").each(l=>{xg.setViews(l,i)})},toggleView:(a,i)=>yo.getPart(a,t,"viewWrapper").exists(l=>xg.toggleView(l,()=>r.showMainView(a),()=>r.hideMainView(a),i)),whichView:a=>yo.getPart(a,t,"viewWrapper").bind(xg.whichView).getOrNull(),hideMainView:a=>{o=r.isToolbarDrawerToggled(a),o&&r.toggleToolbarDrawer(a),yo.getPart(a,t,"editorContainer").each(i=>{const l=i.element;s(l),ce(l,"display","none"),Et(l,"aria-hidden","true")})},showMainView:a=>{o&&r.toggleToolbarDrawer(a),yo.getPart(a,t,"editorContainer").each(i=>{const l=i.element;s(l),De(l,"display"),nn(l,"aria-hidden")})}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},nU=ni.optional({factory:h2,name:"menubar",schema:[ct("backstage")]}),oU=t=>t.type===Ar.sliding?HZ:t.type===Ar.floating?FZ:yg,sU=ni.optional({factory:{sketch:t=>o6.sketch({uid:t.uid,dom:t.dom,listBehaviours:ht([Bt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>yg({type:t.type,uid:Lt("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:()=>(t.onEscape(),m.some(!0))}),setupItem:(e,n,o,s)=>{Fa.setGroups(n,o)},shell:!0})},name:"multiple-toolbar",schema:[ct("dom"),ct("onEscape")]}),rU=ni.optional({factory:{sketch:t=>{const e=oU(t),n={type:t.type,uid:t.uid,onEscape:()=>(t.onEscape(),m.some(!0)),onToggled:(o,s)=>t.onToolbarToggled(s),cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return e(n)}},name:"toolbar",schema:[ct("dom"),ct("onEscape"),ct("getSink")]}),aU=ni.optional({factory:{sketch:Hz},name:"header",schema:[ct("dom")]}),iU=ni.optional({factory:{sketch:Zz},name:"promotion",schema:[ct("dom")]}),lU=ni.optional({name:"socket",schema:[ct("dom")]}),cU=ni.optional({factory:{sketch:eZ},name:"sidebar",schema:[ct("dom")]}),uU=ni.optional({factory:{sketch:lZ},name:"throbber",schema:[ct("dom")]}),dU=ni.optional({factory:xg,name:"viewWrapper",schema:[ct("backstage")]}),mU=t=>({uid:t.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:t.components}),hU=ni.optional({factory:{sketch:mU},name:"editorContainer",schema:[]});var an=us({name:"OuterContainer",factory:eU,configFields:[ct("dom"),ct("behaviours")],partFields:[aU,nU,rU,sU,lU,cU,iU,uU,dU,hU],apis:{getSocket:(t,e)=>t.getSocket(e),setSidebar:(t,e,n,o)=>{t.setSidebar(e,n,o)},toggleSidebar:(t,e,n)=>{t.toggleSidebar(e,n)},whichSidebar:(t,e)=>t.whichSidebar(e),getHeader:(t,e)=>t.getHeader(e),getToolbar:(t,e)=>t.getToolbar(e),setToolbar:(t,e,n)=>{t.setToolbar(e,n)},setToolbars:(t,e,n)=>{t.setToolbars(e,n)},refreshToolbar:(t,e)=>t.refreshToolbar(e),toggleToolbarDrawer:(t,e)=>{t.toggleToolbarDrawer(e)},toggleToolbarDrawerWithoutFocusing:(t,e)=>{t.toggleToolbarDrawerWithoutFocusing(e)},isToolbarDrawerToggled:(t,e)=>t.isToolbarDrawerToggled(e),getThrobber:(t,e)=>t.getThrobber(e),setMenubar:(t,e,n)=>{t.setMenubar(e,n)},focusMenubar:(t,e)=>{t.focusMenubar(e)},focusToolbar:(t,e)=>{t.focusToolbar(e)},setViews:(t,e,n)=>{t.setViews(e,n)},toggleView:(t,e,n)=>t.toggleView(e,n),whichView:(t,e)=>t.whichView(e)}});const gU="file edit view insert format tools table help",L6={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},fU=(t,e,n)=>{const o=Ex(n).split(/[ ,]/);return{text:t.title,getItems:()=>ae(t.items,s=>{const r=s.toLowerCase();return r.trim().length===0?[]:Ge(o,a=>a===r)?[]:r==="separator"||r==="|"?[{type:"separator"}]:e.menuItems[r]?[e.menuItems[r]]:[]})}},C2=t=>t.split(" "),F6=(t,e)=>{const n={...L6,...e.menus},o=tt(e.menus).length>0,s=e.menubar===void 0||e.menubar===!0?C2(gU):C2(e.menubar===!1?"":e.menubar),r=Ve(s,i=>{const l=jt(L6,i);return o?l||wt(e.menus,i).exists(u=>jt(u,"items")):l}),a=mt(r,i=>{const l=n[i];return fU({title:l.title,items:C2(l.items)},e,t)});return Ve(a,i=>{const l=u=>S(u)||u.type!=="separator";return i.getItems().length>0&&Ge(i.getItems(),l)})},pU=t=>{const e=()=>{t._skinLoaded=!0,ZH(t)};return()=>{t.initialized?e():t.on("init",e)}},vU=(t,e)=>()=>UH(t,{message:e}),bU=t=>{const e=Wx(t);return e?m.from(e):m.none()},H6=(t,e,n)=>(t.on("remove",()=>n.unload(e)),n.load(e)),Sg=(t,e,n,o)=>(t.on("remove",()=>o.unloadRawCss(e)),o.loadRawCss(e,n)),yU=(t,e)=>"ui/"+t+"/"+e,xU=t=>m.from(tinymce.Resource.get(t)).filter(S),T2=(t,e,n="")=>{const o=bU(t).map(r=>yU(r,`${e}.css`)),s=o.bind(xU);return Br(o,s,(r,a)=>({_kind:"load-raw",key:r,css:a})).getOrThunk(()=>{const r=t.editorManager.suffix;return{_kind:"load-stylesheet",url:n+`/${e}${r}.css`}})},SU=(t,e)=>{const n=t.ui.styleSheetLoader,o=T2(t,"skin",e);switch(o._kind){case"load-raw":const{key:s,css:r}=o;return Sg(t,s,r,n),Promise.resolve();case"load-stylesheet":const{url:a}=o;return H6(t,a,n);default:return Promise.resolve()}},wU=(t,e)=>{if(Yi(Ct.fromDom(t.getElement()))){const o=Pd.DOM.styleSheetLoader,s=T2(t,"skin.shadowdom",e);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return Sg(t,r,a,o),Promise.resolve();case"load-stylesheet":const{url:i}=s;return H6(t,i,o);default:return Promise.resolve()}}else return Promise.resolve()},CU=(t,e,n)=>{const s=T2(t,e?"content.inline":"content",n);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return e?Sg(t,r,a,t.ui.styleSheetLoader):t.on("PostRender",()=>{Sg(t,r,a,t.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:i}=s;return n&&t.contentCSS.push(i),Promise.resolve();default:return Promise.resolve()}},TU=async(t,e)=>{const n=Gx(e);if(await CU(e,t,n),!w0(e)&&S(n))return Promise.all([SU(e,n),wU(e,n)]).then()},P6=(t,e)=>TU(t,e).then(pU(e),vU(e,"Skin could not be loaded")),EU=Ft(P6,!1),OU=Ft(P6,!0),Pu=(t,e,n)=>ma(n)?t.translate(e):t.translate([e,t.translate(n)]),MU=(t,e)=>{const n=(a,i,l,u)=>{const g=t.shared.providers.translate(a.title);if(a.type==="separator")return m.some({type:"separator",text:g});if(a.type==="submenu"){const b=ae(a.getStyleItems(),x=>o(x,i,u));return i===0&&b.length<=0?m.none():m.some({type:"nestedmenuitem",text:g,enabled:b.length>0,getSubmenuItems:()=>ae(a.getStyleItems(),x=>o(x,i,u))})}else return m.some({type:"togglemenuitem",text:g,icon:a.icon,active:a.isSelected(u),enabled:!l,onAction:e.onAction(a),...a.getStylePreview().fold(()=>({}),b=>({meta:{style:b}}))})},o=(a,i,l)=>{const u=a.type==="formatter"&&e.isInvalid(a);return i===0?u?[]:n(a,i,!1,l).toArray():n(a,i,u,l).toArray()},s=a=>{const i=e.getCurrentValue(),l=e.shouldHide?0:1;return ae(a,u=>o(u,l,i))};return{validateItems:s,getFetch:(a,i)=>(l,u)=>{const g=i(),b=s(g),x=Lu(b,Aa.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:m.none()});u(x)}}},Ru=(t,e)=>{const n=e.dataset,o=n.type==="basic"?()=>mt(n.data,s=>_C(s,e.isSelectedFor,e.getPreviewFor)):n.getData;return{items:MU(t,e),getStyleItems:o}},ym=(t,e,n,o,s,r)=>{const{items:a,getStyleItems:i}=Ru(e,n),l=$t(n.tooltip),u=b=>({getComponent:R(b),setTooltip:x=>{const E=e.shared.providers.translate(x);Et(b.element,"aria-label",E),l.set(x)}}),g=b=>{const x=E=>b.setTooltip(Pu(t,o(E.value),E.value));return t.on(s,x),V1(wc(t,"NodeChange",E=>{const A=E.getComponent();n.updateText(A),Gt.set(E.getComponent(),!t.selection.isEditable())})(b),()=>t.off(s,x))};return Wv({context:"mode:design",text:n.icon.isSome()?m.none():n.text,icon:n.icon,ariaLabel:m.some(n.tooltip),tooltip:m.none(),role:m.none(),fetch:a.getFetch(e,i),onSetup:g,getApi:u,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[Dn.config({...e.shared.providers.tooltips.getConfig({tooltipText:e.shared.providers.translate(n.tooltip),onShow:b=>{if(n.tooltip!==l.get()){const x=e.shared.providers.translate(l.get());Dn.setComponents(b,e.shared.providers.tooltips.getComponents({tooltipText:x}))}}})})]},"tox-tbtn",e.shared,r)},AU=t=>mt(t,e=>{let n=e,o=e;const s=e.split("=");return s.length>1&&(n=s[0],o=s[1]),{title:n,format:o}}),DU=t=>({type:"basic",data:t});var Vu;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(Vu||(Vu={}));const kU=(t,e)=>e===Vu.SemiColon?t.replace(/;$/,"").split(";"):t.split(" "),E2=(t,e,n)=>{const o=t.options.get(e);return{type:"basic",data:AU(kU(o,n))}},IU="Align",R6=R("Alignment {0}"),V6="left",O2=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],B6=t=>{const e=()=>Me(O2,i=>t.formatter.match(i.format)),n=i=>()=>t.formatter.match(i),o=i=>m.none,s=i=>{const u=e().fold(R(V6),g=>g.title.toLowerCase());_t(i,Dc,{icon:`align-${u}`}),YH(t,{value:u})},r=DU(O2),a=i=>()=>Me(O2,l=>l.format===i.format).each(l=>t.execCommand(l.command));return{tooltip:Pu(t,R6(),V6),text:m.none(),icon:m.some("align-left"),isSelectedFor:n,getCurrentValue:m.none,getPreviewFor:o,onAction:a,updateText:s,dataset:r,shouldHide:!1,isInvalid:i=>!t.formatter.canApply(i.format)}},LU=(t,e)=>ym(t,e,B6(t),R6,"AlignTextUpdate","align"),FU=(t,e)=>{const n=Ru(e,B6(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate(IU),onSetup:ds(t),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},N6=(t,e)=>{const n=e(),o=mt(n,s=>s.format);return m.from(t.formatter.closest(o)).bind(s=>Me(n,r=>r.format===s))},HU="Blocks",$6=R("Block {0}"),M2="Paragraph",z6=t=>{const e=r=>()=>t.formatter.match(r),n=r=>()=>{const a=t.formatter.get(r);return a?m.some({tag:a.length>0&&(a[0].inline||a[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(r))}):m.none()},o=r=>{const i=N6(t,()=>s.data).fold(R(M2),l=>l.title);_t(r,Hr,{text:i}),qH(t,{value:i})},s=E2(t,"block_formats",Vu.SemiColon);return{tooltip:Pu(t,$6(),M2),text:m.some(M2),icon:m.none(),isSelectedFor:e,getCurrentValue:m.none,getPreviewFor:n,onAction:v5(t),updateText:o,dataset:s,shouldHide:!1,isInvalid:r=>!t.formatter.canApply(r.format)}},PU=(t,e)=>ym(t,e,z6(t),$6,"BlocksTextUpdate","blocks"),RU=(t,e)=>{const n=Ru(e,z6(t));t.ui.registry.addNestedMenuItem("blocks",{text:HU,onSetup:ds(t),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},VU="Fonts",Z6=R("Font {0}"),A2="System Font",BU=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],U6=t=>{const e=t.split(/\s*,\s*/);return mt(e,n=>n.replace(/^['"]+|['"]+$/g,""))},_6=(t,e)=>e.length>0&&wo(e,n=>t.indexOf(n.toLowerCase())>-1),NU=(t,e)=>{if(t.indexOf("-apple-system")===0||e.length>0){const n=U6(t.toLowerCase());return _6(n,BU)||_6(n,e)}else return!1},j6=t=>{const e=()=>{const l=A=>A?U6(A)[0]:"",u=t.queryCommandValue("FontName"),g=i.data,b=u?u.toLowerCase():"",x=jx(t);return{matchOpt:Me(g,A=>{const k=A.format;return k.toLowerCase()===b||l(k).toLowerCase()===l(b).toLowerCase()}).orThunk(()=>No(NU(b,x),{title:A2,format:b})),font:u}},n=l=>u=>u.exists(g=>g.format===l),o=()=>{const{matchOpt:l}=e();return l},s=l=>()=>m.some({tag:"div",styles:l.indexOf("dings")===-1?{"font-family":l}:{}}),r=l=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontName",!1,l.format)})},a=l=>{const{matchOpt:u,font:g}=e(),b=u.fold(R(g),x=>x.title);_t(l,Hr,{text:b}),tP(t,{value:b})},i=E2(t,"font_family_formats",Vu.SemiColon);return{tooltip:Pu(t,Z6(),A2),text:m.some(A2),icon:m.none(),isSelectedFor:n,getCurrentValue:o,getPreviewFor:s,onAction:r,updateText:a,dataset:i,shouldHide:!1,isInvalid:yt}},$U=(t,e)=>ym(t,e,j6(t),Z6,"FontFamilyTextUpdate","fontfamily"),zU=(t,e)=>{const n=Ru(e,j6(t));t.ui.registry.addNestedMenuItem("fontfamily",{text:e.shared.providers.translate(VU),onSetup:ds(t),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},ZU={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},UU=(()=>{const t="[0-9]+",n="[eE]"+("[+-]?"+t),o="\\.",s=i=>`(?:${i})?`,a=`[+-]?(?:${["Infinity",t+o+s(t)+s(n),o+t+s(n),t+s(n)].join("|")})`;return new RegExp(`^(${a})(.*)$`)})(),_U=(t,e)=>Ge(e,n=>Ge(ZU[n],o=>t===o)),wg=(t,e)=>m.from(UU.exec(t)).bind(o=>{const s=Number(o[1]),r=o[2];return _U(r,e)?m.some({value:s,unit:r}):m.none()}),jU=(t,e)=>wg(t,e).map(({value:n,unit:o})=>n+o),W6={tab:R(9),escape:R(27),enter:R(13),backspace:R(8),delete:R(46),left:R(37),up:R(38),right:R(39),down:R(40),space:R(32),home:R(36),end:R(35),pageUp:R(33),pageDown:R(34)},WU=(t,e,n,o)=>{let s=m.none();const r=z=>z.map(J=>At.getValue(J)).getOr(""),a=wc(t,"NodeChange SwitchMode DisabledStateChange",z=>{const J=z.getComponent();s=m.some(J),n.updateInputValue(J),Gt.set(J,!t.selection.isEditable()||y1(t))}),i=z=>({getComponent:R(z)}),l=$t(_),u=Lt("custom-number-input-events"),g=(z,J,Q)=>{const gt=r(s),Dt=n.getNewValue(gt,z),nt=gt.length-`${Dt}`.length,kt=s.map(It=>It.element.dom.selectionStart-nt),bt=s.map(It=>It.element.dom.selectionEnd-nt);n.onAction(Dt,Q),s.each(It=>{At.setValue(It,Dt),J&&(kt.each(ye=>It.element.dom.selectionStart=ye),bt.each(ye=>It.element.dom.selectionEnd=ye))})},b=(z,J)=>g((Q,gt)=>Q-gt,z,J),x=(z,J)=>g((Q,gt)=>Q+gt,z,J),E=z=>ys(z.element).fold(m.none,J=>(Ws(J),m.some(!0))),A=z=>hu(z.element)?(hi(z.element).each(J=>Ws(J)),m.some(!0)):m.none(),k=(z,J,Q,gt)=>{const Dt=$t(_),nt=e.shared.providers.translate(Q),kt=Lt("altExecuting"),bt=wc(t,"NodeChange SwitchMode DisabledStateChange",ye=>{Gt.set(ye.getComponent(),!t.selection.isEditable()||y1(t))}),It=ye=>{Gt.isDisabled(ye)||z(!0)};return Bo.sketch({dom:{tag:"button",attributes:{"aria-label":nt,"data-mce-name":J},classes:gt.concat(J)},components:[jv(J,e.shared.providers.icons)],buttonBehaviours:ht([Gt.config({}),Dn.config(e.shared.providers.tooltips.getConfig({tooltipText:nt})),le(kt,[Da({onSetup:bt,getApi:i},Dt),ka({getApi:i},Dt),at(Ca(),(ye,tn)=>{(tn.event.raw.keyCode===W6.space()||tn.event.raw.keyCode===W6.enter())&&(Gt.isDisabled(ye)||z(!1))}),at(ql(),It),at(Ql(),It)])]),eventOrder:{[Ca()]:[kt,"keying"],[ql()]:[kt,"alloy.base.behaviour"],[Ql()]:[kt,"alloy.base.behaviour"],[Ta()]:["alloy.base.behaviour",kt,"tooltipping"],[Xa()]:[kt,"tooltipping"]}})},U=ze(k(z=>b(!1,z),"minus","Decrease font size",[])),I=ze(k(z=>x(!1,z),"plus","Increase font size",[])),N=ze({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[pl.sketch({inputBehaviours:ht([Gt.config({}),le(u,[Da({onSetup:a,getApi:i},l),ka({getApi:i},l)]),le("input-update-display-text",[at(Hr,(z,J)=>{At.setValue(z,J.event.text)}),at(qb(),z=>{n.onAction(At.getValue(z))}),at(ru(),z=>{n.onAction(At.getValue(z))})]),Bt.config({mode:"special",onEnter:z=>(g(Ot,!0,!0),m.some(!0)),onEscape:E,onUp:z=>(x(!0,!1),m.some(!0)),onDown:z=>(b(!0,!1),m.some(!0)),onLeft:(z,J)=>(J.cut(),m.none()),onRight:(z,J)=>(J.cut(),m.none())})])})],behaviours:ht([Qt.config({}),Bt.config({mode:"special",onEnter:A,onSpace:A,onEscape:E}),le("input-wrapper-events",[at(Ka(),z=>{Mt([U,I],J=>{const Q=Ct.fromDom(J.get(z).element.dom);hu(Q)&&Zh(Q)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...W(o)?{"data-mce-name":o}:{}}},components:[U.asSpec(),N.asSpec(),I.asSpec()],behaviours:ht([Qt.config({}),Bt.config({mode:"flow",focusInside:mc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:z=>hu(z.element)?m.none():(Ws(z.element),m.some(!0))})])}},GU="Font sizes",G6=R("Font size {0}"),K6="12pt",KU={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},XU={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},YU=(t,e)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},JU=(t,e)=>/[0-9.]+px$/.test(t)?YU(parseInt(t,10)*72/96,e||0)+"pt":wt(XU,t).getOr(t),QU=t=>wt(KU,t).getOr(""),X6=t=>{const e=()=>{let l=m.none();const u=i.data,g=t.queryCommandValue("FontSize");if(g)for(let b=3;l.isNone()&&b>=0;b--){const x=JU(g,b),E=QU(x);l=Me(u,A=>A.format===g||A.format===x||A.format===E)}return{matchOpt:l,size:g}},n=l=>u=>u.exists(g=>g.format===l),o=()=>{const{matchOpt:l}=e();return l},s=R(m.none),r=l=>()=>{t.undoManager.transact(()=>{t.focus(),t.execCommand("FontSize",!1,l.format)})},a=l=>{const{matchOpt:u,size:g}=e(),b=u.fold(R(g),x=>x.title);_t(l,Hr,{text:b}),JH(t,{value:b})},i=E2(t,"font_size_formats",Vu.Space);return{tooltip:Pu(t,G6(),K6),text:m.some(K6),icon:m.none(),isSelectedFor:n,getPreviewFor:s,getCurrentValue:o,onAction:r,updateText:a,dataset:i,shouldHide:!1,isInvalid:yt}},qU=(t,e)=>ym(t,e,X6(t),G6,"FontSizeTextUpdate","fontsize"),t_=t=>{var e;const n={step:1};return(e={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[t])!==null&&e!==void 0?e:n},e_=16,n_=t=>t>=0,o_=t=>{const e=()=>t.queryCommandValue("FontSize");return{updateInputValue:o=>_t(o,Hr,{text:e()}),onAction:(o,s)=>t.execCommand("FontSize",!1,o,{skip_focus:!s}),getNewValue:(o,s)=>{wg(o,["unsupportedLength","empty"]);const r=e(),a=wg(o,["unsupportedLength","empty"]).or(wg(r,["unsupportedLength","empty"])),i=a.map(x=>x.value).getOr(e_),l=Lx(t),u=a.map(x=>x.unit).filter(x=>x!=="").getOr(l),g=s(i,t_(u).step),b=`${n_(g)?g:i}${u}`;return b!==r&&QH(t,{value:b}),b}}},s_=(t,e)=>WU(t,e,o_(t),"fontsizeinput"),r_=(t,e)=>{const n=Ru(e,X6(t));t.ui.registry.addNestedMenuItem("fontsize",{text:GU,onSetup:ds(t),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},a_="Formats",Y6=t=>ma(t)?"Formats":"Format {0}",J6=(t,e)=>{const n="Formats",o=a=>()=>t.formatter.match(a),s=a=>()=>{const i=t.formatter.get(a);return i!==void 0?m.some({tag:i.length>0&&(i[0].inline||i[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(a))}):m.none()},r=a=>{const i=b=>NC(b)?ae(b.items,i):$C(b)?[{title:b.title,format:b.format}]:[],l=ae(UC(t),i),g=N6(t,R(l)).fold(R({title:n,tooltipLabel:""}),b=>({title:b.title,tooltipLabel:b.title}));_t(a,Hr,{text:g.title}),XH(t,{value:g.tooltipLabel})};return{tooltip:Pu(t,Y6(""),""),text:m.some(n),icon:m.none(),isSelectedFor:o,getCurrentValue:m.none,getPreviewFor:s,onAction:v5(t),updateText:r,shouldHide:Cx(t),isInvalid:a=>!t.formatter.canApply(a.format),dataset:e}},i_=(t,e)=>{const n={type:"advanced",...e.styles};return ym(t,e,J6(t,n),Y6,"StylesTextUpdate","styles")},l_=(t,e)=>{const n={type:"advanced",...e.styles},o=Ru(e,J6(t,n));t.ui.registry.addNestedMenuItem("styles",{text:a_,onSetup:ds(t),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},c_=R([ct("toggleClass"),ct("fetch"),ac("onExecute"),X("getHotspot",m.some),X("getAnchorOverrides",R({})),dl(),ac("onItemExecute"),$e("lazySink"),ct("dom"),He("onOpen"),Mo("splitDropdownBehaviours",[Rn,Bt,Qt]),X("matchWidth",!1),X("useMinWidth",!1),X("eventOrder",{}),$e("role"),$e("listRole")].concat(xv())),u_=ns({factory:Bo,schema:[ct("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ht([Qt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(nc)},buttonBehaviours:ht([be.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])})}),d_=ns({factory:Bo,schema:[ct("dom")],name:"button",defaults:()=>({buttonBehaviours:ht([Qt.revoke()])}),overrides:t=>({dom:{tag:"span",attributes:{role:"presentation"}},action:e=>{e.getSystem().getByUid(t.uid).each(n=>{t.onExecute(n,e)})}})}),m_=R([u_,d_,Mr({factory:{sketch:t=>({uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}})},schema:[ct("text")],name:"aria-descriptor"}),Qr({schema:[Rh()],name:"menu",defaults:t=>({onExecute:(e,n)=>{e.getSystem().getByUid(t.uid).each(o=>{t.onItemExecute(o,e,n)})}})}),N5()]),h_=(t,e,n,o)=>{const s=g=>{ke.getCurrent(g).each(b=>{Ze.highlightFirst(b),Bt.focusIn(b)})},r=g=>{bv(t,Ot,g,o,s,Ts.HighlightMenuAndItem).get(_)},a=g=>(r(g),m.some(!0)),i=g=>{const b=hl(g,t,"button");return nc(b),m.some(!0)},l={...yn([xn((g,b)=>{sn(g,t,"aria-descriptor").each(E=>{const A=Lt("aria");Et(E.element,"id",A),Et(g.element,"aria-describedby",A)})})]),...v1(m.some(r))},u={repositionMenus:g=>{be.isOn(g)&&U5(g)}};return{uid:t.uid,dom:t.dom,components:e,apis:u,eventOrder:{...t.eventOrder,[ur()]:["disabling","toggling","alloy.base.behaviour"]},events:l,behaviours:Vo(t.splitDropdownBehaviours,[Rn.config({others:{sandbox:g=>{const b=hl(g,t,"arrow");return yv(t,g,{onOpen:()=>{be.on(b),be.on(g)},onClose:()=>{be.off(b),be.off(g)}})}}}),Bt.config({mode:"special",onSpace:i,onEnter:i,onDown:a}),Qt.config({}),be.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},Cg=us({name:"SplitDropdown",configFields:c_(),partFields:m_(),factory:h_,apis:{repositionMenus:(t,e)=>t.repositionMenus(e)}}),Q6=t=>({isEnabled:()=>!Gt.isDisabled(t),setEnabled:e=>Gt.set(t,!e),setText:e=>_t(t,Hr,{text:e}),setIcon:e=>_t(t,Dc,{icon:e})}),g_=t=>({setActive:e=>{be.set(t,e)},isActive:()=>be.isOn(t),isEnabled:()=>!Gt.isDisabled(t),setEnabled:e=>Gt.set(t,!e),setText:e=>_t(t,Hr,{text:e}),setIcon:e=>_t(t,Dc,{icon:e})}),q6=(t,e)=>t.map(n=>({"aria-label":e.translate(n)})).getOr({}),tT=Lt("focus-button"),D2=(t,e,n,o,s,r,a)=>{const i=e.map(u=>ze(nC(u,"tox-tbtn",s))),l=t.map(u=>ze(Cl(u,s.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]),attributes:{...q6(n,s),...W(a)?{"data-mce-name":a}:{}}},components:Ou([l.map(u=>u.asSpec()),i.map(u=>u.asSpec())]),eventOrder:{[cr()]:["focusing","alloy.base.behaviour",wl],[Ta()]:[wl,"toolbar-group-button-events"],[Xa()]:[wl,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:ht([Fr.toolbarButton(()=>s.checkUiComponentContext(r).shouldDisable),jn(()=>s.checkUiComponentContext(r)),le(wl,[xn((u,g)=>_v(u)),at(Hr,(u,g)=>{i.bind(b=>b.getOpt(u)).each(b=>{se.set(b,[Tn(s.translate(g.event.text))])})}),at(Dc,(u,g)=>{l.bind(b=>b.getOpt(u)).each(b=>{se.set(b,[Cl(g.event.icon,s.icons)])})}),at(cr(),(u,g)=>{g.event.prevent(),Ae(u,tT)})])].concat(o.getOr([])))}},f_=(t,e,n,o,s)=>{const r=e.shared,a=$t(_),i={toolbarButtonBehaviours:[],getApi:Q6,onSetup:t.onSetup},l=[le("toolbar-group-button-events",[Da(i,a),ka(i,a)]),...t.tooltip.map(u=>Dn.config(e.shared.providers.tooltips.getConfig({tooltipText:e.shared.providers.translate(u)}))).toArray()];return El.sketch({lazySink:r.getSink,fetch:()=>Ko.nu(u=>{u(mt(n(t.items),bg))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:D2(t.icon,t.text,t.tooltip,m.some(l),r.providers,t.context,s),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})},eT=(t,e,n,o)=>{var s;const r=$t(_),a=D2(t.icon,t.text,t.tooltip,m.none(),n,t.context,o);return Bo.sketch({dom:a.dom,components:a.components,eventOrder:tC,buttonBehaviours:{...ht([le("toolbar-button-events",[ZB({onAction:t.onAction,getApi:e.getApi}),Da(e,r),ka(e,r)]),...t.tooltip.map(i=>Dn.config(n.tooltips.getConfig({tooltipText:n.translate(i)+t.shortcut.map(l=>` (${ev(l)})`).getOr("")}))).toArray(),Fr.toolbarButton(()=>!t.enabled||n.checkUiComponentContext(t.context).shouldDisable),jn(()=>n.checkUiComponentContext(t.context))].concat(e.toolbarButtonBehaviours)),[wl]:(s=a.buttonBehaviours)===null||s===void 0?void 0:s[wl]}})},p_=(t,e,n)=>nT(t,e,[],n),nT=(t,e,n,o)=>eT(t,{toolbarButtonBehaviours:n.length>0?[le("toolbarButtonWith",n)]:[],getApi:Q6,onSetup:t.onSetup},e,o),v_=(t,e,n)=>oT(t,e,[],n),oT=(t,e,n,o)=>eT(t,{toolbarButtonBehaviours:[se.config({}),be.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[le("toolbarToggleButtonWith",n)]:[]),getApi:g_,onSetup:t.onSetup},e,o),b_=(t,e,n)=>o=>Ko.nu(s=>e.fetch(s)).map(s=>m.from(Sv(Fn(pv(Lt("menu-value"),s,r=>{e.onItemAction(t(o),r)},e.columns,e.presets,Aa.CLOSE_ON_EXECUTE,e.select.getOr(yt),n),{movement:$1(e.columns,e.presets),menuBehaviours:Jd.unnamedEvents(e.columns!=="auto"?[]:[xn((r,a)=>{tv(r,4,OS(e.presets)).each(({numRows:i,numColumns:l})=>{Bt.setGridSize(r,i,l)})})])})))),y_=(t,e,n)=>{const o=$t(t.tooltip.getOr("")),s=i=>({isEnabled:()=>!Gt.isDisabled(i),setEnabled:l=>Gt.set(i,!l),setIconFill:(l,u)=>{Cn(i.element,`svg path[class="${l}"], rect[class="${l}"]`).each(g=>{Et(g,"fill",u)})},setActive:l=>{Et(i.element,"aria-pressed",l),Cn(i.element,"span").each(u=>{i.getSystem().getByDom(u).each(g=>be.set(g,l))})},isActive:()=>Cn(i.element,"span").exists(l=>i.getSystem().getByDom(l).exists(be.isOn)),setText:l=>Cn(i.element,"span").each(u=>i.getSystem().getByDom(u).each(g=>_t(g,Hr,{text:l}))),setIcon:l=>Cn(i.element,"span").each(u=>i.getSystem().getByDom(u).each(g=>_t(g,Dc,{icon:l}))),setTooltip:l=>{const u=e.providers.translate(l);Et(i.element,"aria-label",u),o.set(l)}}),r=$t(_),a={getApi:s,onSetup:t.onSetup};return Cg.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...q6(t.tooltip,e.providers),...W(n)?{"data-mce-name":n}:{}}},onExecute:i=>{const l=s(i);l.isEnabled()&&t.onAction(l)},onItemExecute:(i,l,u)=>{},splitDropdownBehaviours:ht([le("split-dropdown-events",[xn((i,l)=>_v(i)),at(tT,Qt.focus),Da(a,r),ka(a,r)]),Fr.splitButton(()=>e.providers.isDisabled()||e.providers.checkUiComponentContext(t.context).shouldDisable),jn(()=>e.providers.checkUiComponentContext(t.context)),cm.config({}),...t.tooltip.map(i=>Dn.config({...e.providers.tooltips.getConfig({tooltipText:e.providers.translate(i),onShow:l=>{if(o.get()!==i){const u=e.providers.translate(o.get());Dn.setComponents(l,e.providers.tooltips.getComponents({tooltipText:u}))}}})})).toArray()]),eventOrder:{[Ta()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[Xa()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:b_(s,t,e.providers),parts:{menu:A1(!1,t.columns,t.presets)},components:[Cg.parts.button(D2(t.icon,t.text,m.none(),m.some([be.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),Fr.toolbarButton(yt),jn(R({contextType:"any",shouldDisable:!1}))]),e.providers,t.context)),Cg.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:bS("chevron-down",e.providers.icons)},buttonBehaviours:ht([Fr.splitButton(yt),jn(R({contextType:"any",shouldDisable:!1}))])}),Cg.parts["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})},x_=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],xm=(t,e)=>(n,o,s,r)=>{const a=t(n).mapError(i=>nu(i)).getOrDie();return e(a,o,s,r)},S_={button:xm(ZS,(t,e,n,o)=>p_(t,e.shared.providers,o)),togglebutton:xm(US,(t,e,n,o)=>v_(t,e.shared.providers,o)),menubutton:xm(d6,(t,e,n,o)=>gm(t,"tox-tbtn",e,m.none(),!1,o)),splitbutton:xm(Nz,(t,e,n,o)=>y_(t,e.shared,o)),grouptoolbarbutton:xm(Rz,(t,e,n,o)=>{const s=n.ui.registry.getAll().buttons,r=i=>Tg(n,{buttons:s,toolbar:i,allowToolbarGroups:!1},e,m.none()),a={[Hp]:e.shared.header.isPositionedAtTop()?Ci.TopToBottom:Ci.BottomToTop};switch(xu(n)){case Ar.floating:return f_(t,e,r,a,o);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},w_=(t,e,n,o)=>wt(S_,t.type).fold(()=>(console.error("skipping button defined by",t),m.none()),s=>m.some(s(t,e,n,o))),sT={styles:i_,fontsize:qU,fontsizeinput:s_,fontfamily:$U,blocks:PU,align:LU},C_=t=>{const e=mt(x_,n=>{const o=Ve(n.items,s=>jt(t,s)||jt(sT,s));return{name:n.name,items:o}});return Ve(e,n=>n.items.length>0)},T_=t=>{const e=t.split("|");return mt(e,n=>({items:n.trim().split(" ")}))},E_=t=>K(t,e=>(jt(e,"name")||jt(e,"label"))&&jt(e,"items")),O_=t=>{const e=t.toolbar,n=t.buttons;return e===!1?[]:e===void 0||e===!0?C_(n):S(e)?T_(e):E_(e)?e:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},M_=(t,e,n,o,s,r)=>wt(e,n.toLowerCase()).orThunk(()=>r.bind(a=>zn(a,i=>wt(e,i+n.toLowerCase())))).fold(()=>wt(sT,n.toLowerCase()).map(a=>a(t,s)),a=>a.type==="grouptoolbarbutton"&&!o?(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),m.none()):w_(a,s,t,n.toLowerCase())),Tg=(t,e,n,o)=>{const s=O_(e),r=mt(s,a=>{const i=ae(a.items,l=>l.trim().length===0?[]:M_(t,e.buttons,l,e.allowToolbarGroups,n,o).toArray());return{title:m.from(t.translate(a.name)),label:No(a.label!==void 0,t.translate(a.label)),items:i}});return Ve(r,a=>a.items.length>0)},rT=(t,e,n,o)=>{const s=e.mainUi.outerContainer,r=n.toolbar,a=n.buttons;if(K(r,S)){const i=r.map(l=>{const u={toolbar:l,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return Tg(t,u,o,m.none())});an.setToolbars(s,i)}else an.setToolbar(s,Tg(t,n,o,m.none()))},aT=ls(),A_=aT.os.isiOS()&&aT.os.version.major<=12,D_=(t,e)=>{const{uiMotherships:n}=e,o=t.dom;let s=t.getWin();const r=t.getDoc().documentElement,a=$t(hn(s.innerWidth,s.innerHeight)),i=$t(hn(r.offsetWidth,r.offsetHeight)),l=()=>{const x=a.get();(x.left!==s.innerWidth||x.top!==s.innerHeight)&&(a.set(hn(s.innerWidth,s.innerHeight)),av(t))},u=()=>{const x=t.getDoc().documentElement,E=i.get();(E.left!==x.offsetWidth||E.top!==x.offsetHeight)&&(i.set(hn(x.offsetWidth,x.offsetHeight)),av(t))},g=x=>{jH(t,x)};o.bind(s,"resize",l),o.bind(s,"scroll",g);const b=Lp(Ct.fromDom(t.getBody()),"load",u);t.on("hide",()=>{Mt(n,x=>{ce(x.element,"display","none")})}),t.on("show",()=>{Mt(n,x=>{De(x.element,"display")})}),t.on("NodeChange",u),t.on("remove",()=>{b.unbind(),o.unbind(s,"resize",l),o.unbind(s,"scroll",g),s=null})},k_=(t,e,n)=>{gl(t)&&Qh(n.mainUi.mothership.element,n.popupUi.mothership),$p(e,n.dialogUi.mothership)};var I_=Object.freeze({__proto__:null,render:(t,e,n,o,s)=>{const{mainUi:r,uiMotherships:a}=e,i=$t(0),l=r.outerContainer;EU(t);const u=Ct.fromDom(s.targetNode),g=pa($o(u));Qh(u,r.mothership),k_(t,g,e),t.on("PostRender",()=>{an.setSidebar(l,n.sidebar,Zx(t))}),t.on("SkinLoaded",()=>{rT(t,e,n,o),i.set(t.getWin().innerWidth),an.setMenubar(l,F6(t,n)),an.setViews(l,n.views),D_(t,e)});const b=an.getSocket(l).getOrDie("Could not find expected socket element");if(A_){Tr(b.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const k=AB(()=>{t.dispatch("ScrollContent")},20),U=ws(b.element,"scroll",k.throttle);t.on("remove",U.unbind)}XS(t,e),t.addCommand("ToggleSidebar",(k,U)=>{an.toggleSidebar(l,U),eP(t)}),t.addQueryValueHandler("ToggleSidebar",()=>{var k;return(k=an.whichSidebar(l))!==null&&k!==void 0?k:""}),t.addCommand("ToggleView",(k,U)=>{if(an.toggleView(l,U)){const I=l.element;r.mothership.broadcastOn([ml()],{target:I}),Mt(a,N=>{N.broadcastOn([ml()],{target:I})}),F(an.whichView(l))&&(t.focus(),t.nodeChanged(),an.refreshToolbar(l)),nP(t)}}),t.addQueryValueHandler("ToggleView",()=>{var k;return(k=an.whichView(l))!==null&&k!==void 0?k:""});const x=xu(t),E=()=>{an.refreshToolbar(e.mainUi.outerContainer)};(x===Ar.sliding||x===Ar.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",()=>{const k=t.getWin().innerWidth;k!==i.get()&&(E(),i.set(k))});const A={setEnabled:k=>{qd(e,k?"setEnabled":"setDisabled")},isEnabled:()=>!Gt.isDisabled(l)};return{iframeContainer:b.element.dom,editorContainer:l.element.dom,api:A}}});const iT=t=>/^[0-9\.]+(|px)$/i.test(""+t)?m.some(parseInt(""+t,10)):m.none(),k2=t=>rt(t)?t+"px":t,Eg=(t,e,n)=>{const o=e.filter(r=>t<r),s=n.filter(r=>t>r);return o.or(s).getOr(t)},L_=t=>{const e=f0(t),n=b0(t),o=y0(t);return iT(e).map(s=>Eg(s,n,o))},F_=t=>L_(t).getOr(f0(t)),lT=t=>{const e=p0(t),n=v0(t),o=x1(t);return iT(e).map(s=>Eg(s,n,o))},H_=t=>lT(t).getOr(p0(t)),{ToolbarLocation:I2,ToolbarMode:cT}=yL,P_=40,R_=(t,e,n,o,s)=>{const{mainUi:r,uiMotherships:a}=n,i=Pd.DOM,l=Su(t),u=wu(t),g=x1(t).or(lT(t)),b=o.shared.header,x=b.isPositionedAtTop,E=150,A=xu(t),k=A===cT.sliding||A===cT.floating,U=$t(!1),I=()=>U.get()&&!t.removed,N=Rt=>k?Rt.fold(R(0),ut=>ut.components().length>1?ro(ut.components()[1].element):0):0,z=Rt=>{switch(x0(t)){case I2.auto:const ut=an.getToolbar(r.outerContainer),St=N(ut),Jt=ro(Rt.element)-St,de=ao(e);if(de.y>Jt)return"top";{const ee=ot(e),Xe=Math.max(ee.dom.scrollHeight,ro(ee));return de.bottom<Xe-Jt||zo().bottom<de.bottom-Jt?"bottom":"top"}case I2.bottom:return"bottom";case I2.top:default:return"top"}},J=Rt=>{s.on(ut=>{An.setModes(ut,[Rt]),b.setDockingMode(Rt);const St=x()?Ci.TopToBottom:Ci.BottomToTop;Et(ut.element,Hp,St)})},Q=()=>{s.on(Rt=>{const ut=g.getOrThunk(()=>ud().width-Zr(e).left-10);ce(Rt.element,"max-width",ut+"px")})},gt=(Rt,ut)=>{s.on(St=>{const Jt=an.getToolbar(r.outerContainer),de=N(Jt),Nt=ao(e),ee=Dt(t,r.outerContainer.element),Xe=()=>ee.fold(()=>Nt.x,Ao=>{const Rs=ao(Ao);return _e(Ao,it())?Nt.x:Nt.x-Rs.x}),Ue=()=>ee.fold(()=>x()?Math.max(Nt.y-ro(St.element)+de,0):Nt.bottom,Ao=>{var Rs;const Vs=ao(Ao),pr=(Rs=Ao.dom.scrollTop)!==null&&Rs!==void 0?Rs:0,ia=_e(Ao,it())?Math.max(Nt.y-ro(St.element)+de,0):Nt.y-Vs.y+pr-ro(St.element)+de;return x()?ia:Nt.bottom}),ms=Xe(),Sn=No(Rt,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter(Ao=>Ao>E).map(Ao=>{const Rs=ut.getOr(xs()),Vs=window.innerWidth-(ms-Rs.left),pr=Math.max(Math.min(Ao,Vs),E);return Vs<Ao&&ce(r.outerContainer.element,"width",pr+"px"),{width:pr+"px"}}).getOr({width:"max-content"}),Ps={position:"absolute",left:Math.round(ms)+"px",top:Ue()+"px"};Tr(r.outerContainer.element,{...Ps,...Sn})})},Dt=(Rt,ut)=>gl(Rt)?op(ut):m.none(),nt=()=>{Mt(a,Rt=>{Rt.broadcastOn([fu()],{})})},kt=()=>!l&&(or(r.outerContainer.element).left+Qi(r.outerContainer.element)>=window.innerWidth-P_||Zn(r.outerContainer.element,"width").isSome())?(ce(r.outerContainer.element,"position","absolute"),ce(r.outerContainer.element,"left","0px"),De(r.outerContainer.element,"width"),!0):!1,bt=Rt=>{if(!I())return;l||Q();const ut=xs(),St=l?!1:kt();if(k&&an.refreshToolbar(r.outerContainer),!l){const Jt=xs(),de=No(ut.left!==Jt.left,ut);gt(St,de),de.each(Nt=>{Kl(Nt.left,Jt.top)})}u&&s.on(Rt),nt()},It=()=>l||!u||!I()?!1:s.get().exists(Rt=>{const ut=b.getDockingMode(),St=z(Rt);return St!==ut?(J(St),!0):!1});return{isVisible:I,isPositionedAtTop:x,show:()=>{U.set(!0),ce(r.outerContainer.element,"display","flex"),i.addClass(t.getBody(),"mce-edit-focus"),Mt(a,Rt=>{De(Rt.element,"display")}),It(),gl(t)?bt(Rt=>An.isDocked(Rt)?An.reset(Rt):An.refresh(Rt)):bt(An.refresh)},hide:()=>{U.set(!1),ce(r.outerContainer.element,"display","none"),i.removeClass(t.getBody(),"mce-edit-focus"),Mt(a,Rt=>{ce(Rt.element,"display","none")})},update:bt,updateMode:()=>{It()&&bt(An.reset)},repositionPopups:nt}},uT=(t,e)=>{const n=ao(t);return{pos:e?n.y:n.bottom,bounds:n}},V_=(t,e,n,o)=>{const s=$t(uT(e,n.isPositionedAtTop())),r=u=>{const{pos:g,bounds:b}=uT(e,n.isPositionedAtTop()),{pos:x,bounds:E}=s.get(),A=b.height!==E.height||b.width!==E.width;s.set({pos:g,bounds:b}),A&&av(t,u),n.isVisible()&&(x!==g?n.update(An.reset):A&&(n.updateMode(),n.repositionPopups()))};o||(t.on("activate",n.show),t.on("deactivate",n.hide)),t.on("SkinLoaded ResizeWindow",()=>n.update(An.reset)),t.on("NodeChange keydown",u=>{requestAnimationFrame(()=>r(u))});let a=0;const i=$v(()=>n.update(An.refresh),33);t.on("ScrollWindow",()=>{const u=xs().left;u!==a&&(a=u,i.throttle()),n.updateMode()}),gl(t)&&t.on("ElementScroll",u=>{n.update(An.refresh)});const l=ol();l.set(Lp(Ct.fromDom(t.getBody()),"load",u=>r(u.raw))),t.on("remove",()=>{l.clear()})};var B_=Object.freeze({__proto__:null,render:(t,e,n,o,s)=>{const{mainUi:r}=e,a=qe(),i=Ct.fromDom(s.targetNode),l=R_(t,i,e,o,a),u=Mx(t);OU(t);const g=()=>{if(a.isSet()){l.show();return}a.set(an.getHeader(r.outerContainer).getOrDie());const x=E0(t);gl(t)?(Qh(i,r.mothership),Qh(i,e.popupUi.mothership)):$p(x,r.mothership),$p(x,e.dialogUi.mothership);const E=()=>{rT(t,e,n,o),an.setMenubar(r.outerContainer,F6(t,n)),l.show(),V_(t,i,l,u),t.nodeChanged()};u?t.once("SkinLoaded",E):E()};t.on("show",g),t.on("hide",l.hide),u||(t.on("focus",g),t.on("blur",l.hide)),t.on("init",()=>{(t.hasFocus()||u)&&g()}),XS(t,e);const b={show:g,hide:l.hide,setEnabled:x=>{qd(e,x?"setEnabled":"setDisabled")},isEnabled:()=>!Gt.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:b}}});const N_=()=>{const t=qe(),e=qe(),n=qe();return{dialogUi:t,popupUi:e,mainUi:n,getUiMotherships:()=>{const r=t.get().map(i=>i.mothership),a=e.get().map(i=>i.mothership);return r.fold(()=>a.toArray(),i=>a.fold(()=>[i],l=>_e(i.element,l.element)?[i]:[i,l]))},lazyGetInOuterOrDie:(r,a)=>()=>n.get().bind(i=>a(i.outerContainer)).getOrDie(`Could not find ${r} element in OuterContainer`)}},$_="contexttoolbar-show",dT="contexttoolbar-hide",z_=".tox-toolbar-slider__input,.tox-toolbar-textfield",L2=t=>{En.getContent(t).each(e=>{Cn(e.element,z_).fold(()=>Bt.focusIn(e),Ws)})},mT=t=>cs(t.element).each(e=>{Si(e,'[tabindex="-1"]').each(n=>{Ws(n)})}),hT=Lt("forward-slide"),F2=Lt("backward-slide"),H2=Lt("change-slide-event"),P2="tox-pop--resizing",Z_=t=>{const e=$t([]);return En.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:n=>{e.set([]),En.getContent(n).each(o=>{De(o.element,"visibility")}),$n(n.element,P2),De(n.element,"width")},onHide:()=>{t.onHide()},inlineBehaviours:ht([le("context-toolbar-events",[iu(yd(),(n,o)=>{o.event.raw.propertyName==="width"&&($n(n.element,P2),De(n.element,"width"))}),at(H2,(n,o)=>{const s=n.element;De(s,"width");const r=is(s);De(s,"left"),De(s,"right"),De(s,"max-width"),En.setContent(n,o.event.contents),Yn(s,P2);const a=is(s);ce(s,"transition","none"),En.reposition(n),De(s,"transition"),ce(s,"width",r+"px"),o.event.focus.fold(()=>L2(n),i=>{Ws(i),cs(s).isNone()&&L2(n)}),setTimeout(()=>{ce(n.element,"width",a+"px")},0)}),at(hT,(n,o)=>{En.getContent(n).each(s=>{e.set(e.get().concat([{bar:s,focus:wi($o(n.element))}]))}),_t(n,H2,{contents:o.event.forwardContents,focus:m.none()})}),at(F2,(n,o)=>{t.onBack(),ps(e.get()).each(s=>{e.set(e.get().slice(0,e.get().length-1)),_t(n,H2,{contents:mr(s.bar),focus:s.focus})})})]),Bt.config({mode:"special",onEscape:n=>ps(e.get()).fold(()=>t.onEscape(),o=>(Ae(n,F2),m.some(!0)))})]),lazySink:()=>Ce.value(t.sink)})},Li=t=>{const e=qe();return{setInputEnabled:n=>{n||mT(t),Gt.set(t,!n)},isInputEnabled:()=>!Gt.isDisabled(t),hide:()=>{e.isSet()||e.set(At.getValue(t)),Ae(t,Ih())},back:()=>{e.isSet()||e.set(At.getValue(t)),Ae(t,F2)},getValue:()=>e.get().getOrThunk(()=>At.getValue(t)),setValue:n=>{e.isSet()?e.set(n):At.setValue(t,n)}}},gT=(t,e)=>at(qw,(n,o)=>{const s=t.get(n),r=Li(s);e.onAction(r,o.event.buttonApi)}),U_=(t,e,n)=>{const{primary:o,...s}=e.original,r=Sa(ZS({...s,type:"button",onAction:_}));return nT(r,n,[gT(t,e)])},__=(t,e,n)=>{const{primary:o,...s}=e.original,r=Sa(US({...s,type:"togglebutton",onAction:_}));return oT(r,n,[gT(t,e)])},j_=t=>t.type==="contextformtogglebutton",W_=(t,e,n)=>j_(e)?__(t,e,n):U_(t,e,n),fT=(t,e,n)=>{const o=mt(e,a=>ze(W_(t,a,n)));return{asSpecs:()=>mt(o,a=>a.asSpec()),findPrimary:a=>zn(e,(i,l)=>i.primary?m.from(o[l]).bind(u=>u.getOpt(a)).filter(Zt(Gt.isDisabled)):m.none())}},G_=(t,e,n)=>{const{width:o,height:s}=t.initValue();return cC({inDialog:!1,label:t.label,enabled:!0,context:m.none(),name:m.none(),width:o,height:s,onEnter:m.some(n),onInput:m.some(r=>t.onInput(Li(r))),onSetup:m.some(t.onSetup),getApi:m.some(Li)},e)},pT=(t,e,n)=>Ie.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...t.toArray(),e],fieldBehaviours:ht([Gt.config({disabled:()=>n.checkUiComponentContext("mode:design").shouldDisable,onDisabled:o=>{mT(o),Ie.getField(o).each(Gt.disable)},onEnabled:o=>{Ie.getField(o).each(Gt.enable)}})])}),K_=(t,e,n)=>{const o=$t(_),s=t.label.map(a=>Ie.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tn(e.translate(a))]})),r=Ie.parts.field({factory:pl,type:"range",inputClasses:["tox-toolbar-slider__input"],inputAttributes:{min:String(t.min()),max:String(t.max())},data:t.initValue().toString(),fromInputValue:a=>za(a).getOr(t.min()),toInputValue:a=>String(a),inputBehaviours:ht([Gt.config({disabled:()=>e.checkUiComponentContext("mode:design").shouldDisable}),jn(()=>e.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:n,onLeft:(a,i)=>(i.cut(),m.none()),onRight:(a,i)=>(i.cut(),m.none())}),le("slider-events",[Da({onSetup:t.onSetup,getApi:Li,onBeforeSetup:Bt.focusIn},o),ka({getApi:Li},o),at(bi(),a=>{t.onInput(Li(a))})])])});return pT(s,r,e)},X_=(t,e,n)=>{const o=$t(_),s=t.label.map(l=>Ie.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Tn(e.translate(l))]})),a={...t.placeholder.map(l=>({placeholder:e.translate(l)})).getOr({})},i=Ie.parts.field({factory:pl,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],inputAttributes:a,data:t.initValue(),selectOnFocus:!0,inputBehaviours:ht([Gt.config({disabled:()=>e.checkUiComponentContext("mode:design").shouldDisable}),jn(()=>e.checkUiComponentContext("mode:design")),Bt.config({mode:"special",onEnter:n,onLeft:(l,u)=>(u.cut(),m.none()),onRight:(l,u)=>(u.cut(),m.none())}),le("input-events",[Da({onSetup:t.onSetup,getApi:Li,onBeforeSetup:Bt.focusIn},o),ka({getApi:Li},o),at(bi(),l=>{t.onInput(Li(l))})])])});return pT(s,i,e)},R2=(t,e,n)=>{const s=ze(t(n,l=>a.findPrimary(l).orThunk(()=>i.findPrimary(l)).map(u=>(nc(u),!0)))),r=qn(e.commands,l=>l.align==="start"),a=fT(s,r.pass,n),i=fT(s,r.fail,n);return Ve([{title:m.none(),label:m.none(),items:a.asSpecs()},{title:m.none(),label:m.none(),items:[s.asSpec()]},{title:m.none(),label:m.none(),items:i.asSpecs()}],l=>l.items.length>0)},vT=(t,e)=>{switch(t.type){case"contextform":return R2(Ft(X_,t),t,e);case"contextsliderform":return R2(Ft(K_,t),t,e);case"contextsizeinputform":return R2(Ft(G_,t),t,e)}},Y_={renderContextForm:(t,e,n)=>yg({type:t,uid:Lt("context-toolbar"),initGroups:vT(e,n),onEscape:m.none,cyclicKeying:!0,providers:n}),buildInitGroups:vT},bT=(t,e,n)=>e.bottom-t.y>=n&&t.bottom-e.y>=n,J_=t=>{const e=t.getBoundingClientRect();if(e.height<=0&&e.width<=0){const n=gi(Ct.fromDom(t.startContainer),t.startOffset).element;return(Vn(n)?Ke(n):m.some(n)).filter(so).map(s=>s.dom.getBoundingClientRect()).getOr(e)}else return e},V2=t=>{const e=t.selection.getRng(),n=J_(e);if(t.inline){const o=xs();return vo(o.left+n.left,o.top+n.top,n.width,n.height)}else{const o=ya(Ct.fromDom(t.getBody()));return vo(o.x+n.left,o.y+n.top,n.width,n.height)}},Q_=(t,e)=>e.filter(n=>Z(n)&&un(n)).map(ya).getOrThunk(()=>V2(t)),q_=(t,e,n)=>{const o=Math.max(t.x+n,e.x),s=Math.min(t.right-n,e.right);return{x:o,width:s-o}},tj=(t,e,n,o,s,r)=>{const a=Ct.fromDom(t.getContainer()),i=Cn(a,".tox-editor-header").getOr(a),l=ao(i),u=l.y>=e.bottom,g=o&&!u;if(t.inline&&g)return{y:Math.max(l.bottom+r,n.y),bottom:n.bottom};if(t.inline&&!g)return{y:n.y,bottom:Math.min(l.y-r,n.bottom)};const b=s==="line"?ao(a):e;return g?{y:Math.max(l.bottom+r,n.y),bottom:Math.min(b.bottom-r,n.bottom)}:{y:Math.max(b.y+r,n.y),bottom:Math.min(l.y-r,n.bottom)}},yT=(t,e,n,o=0)=>{const s=ud(window),r=ao(Ct.fromDom(t.getContentAreaContainer())),a=w1(t)||C1(t)||Bd(t),{x:i,width:l}=q_(r,s,o);if(t.inline&&!a)return vo(i,s.y,l,s.height);{const u=e.header.isPositionedAtTop(),{y:g,bottom:b}=tj(t,r,s,u,n,o);return vo(i,g,l,b-g)}},Og=12,xT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},ST={maxHeightFunction:gu(),maxWidthFunction:v2()},ej=(t,e)=>{const n=t.selection.getRng(),o=gi(Ct.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&_e(o.element,e)},nj=(t,e,n)=>{const o=Zn(t,"position");ce(t,"position",e);const s=n(t);return o.each(r=>ce(t,"position",r)),s},wT=t=>t==="node",oj=(t,e,n,o,s)=>{const r=V2(t),a=o.lastElement().exists(i=>_e(n,i));if(ej(t,n))return a?BC:aa;if(a)return nj(e,o.getMode(),()=>bT(r,ao(e),-20)&&!o.isReposition()?v$:BC);{const i=o.getMode()==="fixed"?s.y+xs().top:s.y,l=ro(e)+Og;return i+l<=r.y?aa:vm}},sj=(t,e,n,o)=>{const s=l=>(u,g,b,x,E)=>{const A=oj(t,x,l,n,E),k={...u,y:E.y,height:E.height};return{...A(k,g,b,x,E),alwaysFit:!0}},r=l=>wT(o)?[s(l)]:[];return e?{onLtr:l=>[co,io,lo,Wo,Go,Oo].concat(r(l)),onRtl:l=>[co,lo,io,Go,Wo,Oo].concat(r(l))}:{onLtr:l=>[Oo,co,Wo,io,Go,lo].concat(r(l)),onRtl:l=>[Oo,co,Go,lo,Wo,io].concat(r(l))}},rj=(t,e,n,o)=>e==="line"?{bubble:Yr(Og,0,xT),layouts:{onLtr:()=>[Tp],onRtl:()=>[Ep]},overrides:ST}:{bubble:Yr(0,Og,xT,1/Og),layouts:sj(t,n,o,e),overrides:ST},B2=(t,e)=>{const n=Ve(e,r=>r.predicate(t.dom)),{pass:o,fail:s}=qn(n,r=>r.type==="contexttoolbar");return{contextToolbars:o,contextForms:s}},aj=t=>{if(t.length<=1)return t;{const e=r=>Ge(t,a=>a.position===r),n=r=>Ve(t,a=>a.position===r),o=e("selection"),s=e("node");if(o||s)if(s&&o){const r=n("node"),a=mt(n("selection"),i=>({...i,position:"node"}));return r.concat(a)}else return n(o?"selection":"node");else return n("line")}},ij=t=>{if(t.length<=1)return t;{const e=o=>Me(t,s=>s.position===o);return e("selection").orThunk(()=>e("node")).orThunk(()=>e("line")).map(o=>o.position).fold(()=>[],o=>Ve(t,s=>s.position===o))}},lj=(t,e,n)=>{const o=B2(t,e);if(o.contextForms.length>0)return m.some({elem:t,toolbars:[o.contextForms[0]]});{const s=B2(t,n);if(s.contextForms.length>0)return m.some({elem:t,toolbars:[s.contextForms[0]]});if(o.contextToolbars.length>0||s.contextToolbars.length>0){const r=aj(o.contextToolbars.concat(s.contextToolbars));return m.some({elem:t,toolbars:r})}else return m.none()}},cj=(t,e,n)=>t(e)?m.none():Yb(e,o=>{if(so(o)){const{contextToolbars:s,contextForms:r}=B2(o,n.inNodeScope),a=r.length>0?r:ij(s);return a.length>0?m.some({elem:o,toolbars:a}):m.none()}else return m.none()},t),uj=(t,e)=>{const n=Ct.fromDom(e.getBody()),o=a=>_e(a,n),s=a=>!o(a)&&!zr(n,a),r=Ct.fromDom(e.selection.getNode());return s(r)?m.none():lj(r,t.inNodeScope,t.inEditorScope).orThunk(()=>cj(o,r,t))},dj=(t,e)=>{const n={},o=[],s=[],r={},a={},i=(g,b)=>{const x=Sa(YF(b));n[g]=x,x.launch.map(E=>{r["form:"+g]={...b.launch,type:E.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{e(x)}}}),x.scope==="editor"?s.push(x):o.push(x),a[g]=x},l=(g,b)=>{tH(b).each(x=>{b.scope==="editor"?s.push(x):o.push(x),a[g]=x})},u=tt(t);return Mt(u,g=>{const b=t[g];b.type==="contextform"||b.type==="contextsliderform"||b.type==="contextsizeinputform"?i(g,b):b.type==="contexttoolbar"&&l(g,b)}),{forms:n,inNodeScope:o,inEditorScope:s,lookupTable:a,formNavigators:r}},N2="tox-pop--transition",mj=(t,e,n,o)=>{const s=o.backstage,r=s.shared,a=ls().deviceType.isTouch,i=qe(),l=qe(),u=qe(),g=ts(Z_({sink:n,onEscape:()=>(t.focus(),p5(t),m.some(!0)),onHide:()=>{p5(t)},onBack:()=>{oP(t)}})),b=()=>{const bt=u.get().getOr("node"),It=wT(bt)?1:0;return yT(t,r,bt,It)},x=()=>!t.removed&&!(a()&&s.isContextMenuOpen()),E=bt=>eo(Br(bt,i.get(),_e),!0),A=()=>{if(x()){const bt=b(),It=eo(u.get(),"node")?Q_(t,i.get()):V2(t);return bt.height<=0||!bT(It,bt,.01)}else return!0},k=()=>{i.clear(),l.clear(),u.clear(),En.hide(g)},U=()=>{if(En.isOpen(g)){const bt=g.element;De(bt,"display"),A()?ce(bt,"display","none"):(l.set(0),En.reposition(g))}},I=bt=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[bt],behaviours:ht([Bt.config({mode:"acyclic"}),le("pop-dialog-wrap-events",[xn(It=>{t.shortcuts.add("ctrl+F9","focus statusbar",()=>Bt.focusIn(It))}),Ya(It=>{t.shortcuts.remove("ctrl+F9")})])])}),N=ja(()=>dj(e,bt=>{const It=Q([bt]);_t(g,hT,{forwardContents:I(It)})})),z=(bt,It)=>Tg(t,{buttons:bt,toolbar:It.items,allowToolbarGroups:!1},o.backstage,m.some(["form:"])),J=(bt,It)=>Y_.buildInitGroups(bt,It),Q=bt=>{const{buttons:It}=t.ui.registry.getAll(),ye=N(),tn={...It,...ye.formNavigators},Le=xu(t)===Ar.scrolling?Ar.scrolling:Ar.default,Rt=en(mt(bt,ut=>ut.type==="contexttoolbar"?z(tn,qF(ut)):J(ut,r.providers)));return yg({type:Le,uid:Lt("context-toolbar"),initGroups:Rt,onEscape:m.none,cyclicKeying:!0,providers:r.providers})},gt=(bt,It)=>{const ye=bt==="node"?r.anchors.node(It):r.anchors.cursor(),tn=rj(t,bt,a(),{lastElement:i.get,isReposition:()=>eo(l.get(),0),getMode:()=>es.getMode(n)});return Fn(ye,tn)},Dt=(bt,It)=>{if(kt.cancel(),!x())return;const ye=Q(bt),tn=bt[0].position,Le=gt(tn,It);u.set(tn),l.set(1);const Rt=g.element;De(Rt,"display"),E(It)||($n(Rt,N2),es.reset(n,g)),En.showWithinBounds(g,I(ye),{anchor:Le,transition:{classes:[N2],mode:"placement"}},()=>m.some(b())),It.fold(i.clear,i.set),A()&&ce(Rt,"display","none")};let nt=!1;const kt=$v(()=>{if(!(!t.hasFocus()||t.removed||nt))if(Ls(g.element,N2))kt.throttle();else{const bt=N();uj(bt,t).fold(k,It=>{Dt(It.toolbars,m.some(It.elem))})}},17);t.on("init",()=>{t.on("remove",k),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",U),t.on("click keyup focus SetContent",kt.throttle),t.on(dT,k),t.on($_,bt=>{const It=N();wt(It.lookupTable,bt.toolbarKey).each(ye=>{Dt([ye],No(bt.target!==t,bt.target)),L2(g)})}),t.on("focusout",bt=>{b1.setEditorTimeout(t,()=>{cs(n.element).isNone()&&cs(g.element).isNone()&&k()},0)}),t.on("SwitchMode",()=>{t.mode.isReadOnly()&&k()}),t.on("DisabledStateChange",bt=>{bt.state&&k()}),t.on("ExecCommand",({command:bt})=>{bt.toLowerCase()==="toggleview"&&k()}),t.on("AfterProgressState",bt=>{bt.state?k():t.hasFocus()&&kt.throttle()}),t.on("dragstart",()=>{nt=!0}),t.on("dragend drop",()=>{nt=!1}),t.on("NodeChange",bt=>{cs(g.element).fold(kt.throttle,_)})})},hj=t=>{Mt([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],n=>{t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:Ys(t,n.cmd),onSetup:B1(t,n.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:ds(t),onAction:Ys(t,"JustifyNone")})},CT=(t,e)=>{const n=()=>{const o=e.getOptions(t),s=e.getCurrent(t).map(e.hash),r=qe();return mt(o,a=>({type:"togglemenuitem",text:e.display(a),onSetup:i=>{const l=g=>{g&&(r.on(b=>b.setActive(!1)),r.set(i)),i.setActive(g)};l(eo(s,e.hash(a)));const u=e.watcher(t,a,l);return()=>{r.clear(),u()}},onAction:()=>e.setCurrent(t,a)}))};t.ui.registry.addMenuButton(e.name,{tooltip:e.text,icon:e.icon,fetch:o=>o(n()),onSetup:e.onToolbarSetup}),t.ui.registry.addNestedMenuItem(e.name,{type:"nestedmenuitem",text:e.text,getSubmenuItems:n,onSetup:e.onMenuSetup})},gj=t=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:Kx,hash:e=>jU(e,["fixed","relative","empty"]).getOr(e),display:Ot,watcher:(e,n,o)=>e.formatter.formatChanged("lineheight",o,!1,{value:n}).unbind,getCurrent:e=>m.from(e.queryCommandValue("LineHeight")),setCurrent:(e,n)=>e.execCommand("LineHeight",!1,n),onToolbarSetup:ds(t),onMenuSetup:ds(t)}),fj=t=>m.from(Tx(t)).map(n=>({name:"language",text:"Language",icon:"language",getOptions:R(n),hash:o=>$(o.customCode)?o.code:`${o.code}/${o.customCode}`,display:o=>o.title,watcher:(o,s,r)=>{var a;return o.formatter.formatChanged("lang",r,!1,{value:s.code,customValue:(a=s.customCode)!==null&&a!==void 0?a:null}).unbind},getCurrent:o=>{const s=Ct.fromDom(o.selection.getNode());return Ah(s,r=>m.some(r).filter(so).bind(a=>Be(a,"lang").map(l=>{const u=Be(a,"data-mce-lang").getOrUndefined();return{code:l,customCode:u,title:""}})))},setCurrent:(o,s)=>o.execCommand("Lang",!1,s),onToolbarSetup:o=>{const s=ol();return o.setActive(t.formatter.match("lang",{},void 0,!0)),s.set(t.formatter.formatChanged("lang",o.setActive,!0)),V1(s.clear,ds(t)(o))},onMenuSetup:ds(t)})),pj=t=>{CT(t,gj(t)),fj(t).each(e=>CT(t,e))},vj=(t,e)=>{FU(t,e),zU(t,e),l_(t,e),RU(t,e),r_(t,e)},bj=t=>{t.ui.registry.addContext("editable",()=>t.selection.isEditable()),t.ui.registry.addContext("mode",e=>t.mode.get()===e),t.ui.registry.addContext("any",Ut),t.ui.registry.addContext("formatting",e=>t.formatter.canApply(e)),t.ui.registry.addContext("insert",e=>t.schema.isValidChild(t.selection.getNode().tagName,e))},yj=t=>wc(t,"NodeChange",e=>{e.setEnabled(t.queryCommandState("outdent")&&t.selection.isEditable())}),xj=t=>{t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:yj(t),onAction:Ys(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:ds(t),onAction:Ys(t,"indent")})},Sj=t=>{xj(t)},TT=(t,e)=>n=>{n.setActive(e.get());const o=s=>{e.set(s.state),n.setActive(s.state)};return t.on("PastePlainTextToggle",o),V1(()=>t.off("PastePlainTextToggle",o),ds(t)(n))},wj=t=>{const e=$t(zx(t)),n=()=>t.execCommand("mceTogglePlainTextPaste");t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:TT(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:TT(t,e)})},$2=(t,e)=>()=>{t.execCommand("mceToggleFormat",!1,e)},Cj=t=>{ki.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(e,n)=>{t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:B1(t,e.name),onAction:$2(t,e.name),shortcut:e.shortcut})});for(let e=1;e<=6;e++){const n="h"+e,o=`Access+${e}`;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:B1(t,n),onAction:$2(t,n),shortcut:o})}},Tj=t=>{ki.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:Ys(t,e.action),shortcut:e.shortcut,context:e.context})}),ki.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:ds(t),onAction:Ys(t,e.action)})})},Ej=t=>{ki.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],e=>{t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:Ys(t,e.action),onSetup:B1(t,e.name)})})},Oj=t=>{Cj(t),Tj(t),Ej(t)},Mj=t=>{ki.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:Ys(t,e.action),context:e.context})}),ki.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],e=>{t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onSetup:ds(t),onAction:Ys(t,e.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:ds(t),onAction:$2(t,"code")})},Aj=t=>{Oj(t),Mj(t)},Mg=(t,e)=>wc(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",n=>{n.setEnabled(!t.mode.isReadOnly()&&t.undoManager[e]())}),Dj=t=>{t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:Mg(t,"hasUndo"),onAction:Ys(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:Mg(t,"hasRedo"),onAction:Ys(t,"redo")})},kj=t=>{t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:Mg(t,"hasUndo"),onAction:Ys(t,"undo"),shortcut:"Meta+Z"}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:Mg(t,"hasRedo"),onAction:Ys(t,"redo"),shortcut:"Meta+Y"})},Ij=t=>{Dj(t),kj(t)},Lj=t=>wc(t,"VisualAid",e=>{e.setActive(t.hasVisual)}),Fj=t=>{t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:Lj(t),onAction:Ys(t,"mceToggleVisualAid"),context:"any"})},Hj=t=>{t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Ys(t,"mceToggleVisualAid"),context:"any"})},Pj=t=>{Hj(t),Fj(t)},Rj=(t,e)=>{hj(t),Aj(t),vj(t,e),Ij(t),xP(t),Pj(t),Sj(t),pj(t),wj(t),bj(t)},Vj=t=>S(t)?t.split(/[ ,]/):t,ET=t=>e=>e.options.get(t),Bj=t=>{const e=t.options.register;e("contextmenu_avoid_overlap",{processor:"string",default:""}),e("contextmenu_never_use_native",{processor:"boolean",default:!1}),e("contextmenu",{processor:n=>n===!1?{value:[],valid:!0}:S(n)||K(n,S)?{value:Vj(n),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},OT=ET("contextmenu_never_use_native"),Nj=ET("contextmenu_avoid_overlap"),$j=t=>MT(t).length===0,MT=t=>{const e=t.ui.registry.getAll().contextMenus,n=t.options.get("contextmenu");return t.options.isSet("contextmenu")?n:Ve(n,o=>jt(e,o))},Sm=(t,e)=>({type:"makeshift",x:t,y:e}),zj=(t,e,n)=>Sm(t.x+e,t.y+n),AT=t=>t.type==="longpress"||t.type.indexOf("touch")===0,Zj=t=>{if(AT(t)){const e=t.touches[0];return Sm(e.pageX,e.pageY)}else return Sm(t.pageX,t.pageY)},Uj=t=>{if(AT(t)){const e=t.touches[0];return Sm(e.clientX,e.clientY)}else return Sm(t.clientX,t.clientY)},_j=(t,e)=>{const n=Pd.DOM.getPos(t);return zj(e,n.x,n.y)},jj=(t,e)=>e.type==="contextmenu"||e.type==="longpress"?t.inline?Zj(e):_j(t.getContentAreaContainer(),Uj(e)):DT(t),DT=t=>({type:"selection",root:Ct.fromDom(t.selection.getNode())}),Wj=t=>({type:"node",node:m.some(Ct.fromDom(t.selection.getNode())),root:Ct.fromDom(t.getBody())}),kT=(t,e,n)=>{switch(n){case"node":return Wj(t);case"point":return jj(t,e);case"selection":return DT(t)}},Gj=(t,e,n,o,s,r)=>{const a=n(),i=kT(t,e,r);Lu(a,Aa.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:m.none()}).map(l=>{e.preventDefault(),En.showMenuAt(s,{anchor:i},{menu:{markers:yc("normal")},data:l})})},Kj={onLtr:()=>[co,io,lo,Wo,Go,Oo,aa,vm,pm,dg,fm,ug],onRtl:()=>[co,lo,io,Go,Wo,Oo,aa,vm,fm,ug,pm,dg]},Xj=12,Yj={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Jj=(t,e)=>{const n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;{const o=e.touches[0],s=n.getRng();return E4(t.getWin(),Od.domRange(s)).exists(a=>a.left<=o.clientX&&a.right>=o.clientX&&a.top<=o.clientY&&a.bottom>=o.clientY)}},Qj=t=>{const e=t.selection.getRng(),n=()=>{b1.setEditorTimeout(t,()=>{t.selection.setRng(e)},10),r()};t.once("touchend",n);const o=a=>{a.preventDefault(),a.stopImmediatePropagation()};t.on("mousedown",o,!0);const s=()=>r();t.once("longpresscancel",s);const r=()=>{t.off("touchend",n),t.off("longpresscancel",s),t.off("mousedown",o)}},qj=(t,e,n)=>{const o=kT(t,e,n);return{bubble:Yr(0,n==="point"?Xj:0,Yj),layouts:Kj,overrides:{maxWidthFunction:v2(),maxHeightFunction:gu()},...o}},tW=(t,e,n,o,s,r,a)=>{const i=qj(t,e,r);Lu(n,Aa.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:m.none()}).map(l=>{e.preventDefault();const u=a?Ts.HighlightMenuAndItem:Ts.HighlightNone;En.showMenuWithinBounds(s,{anchor:i},{menu:{markers:yc("normal"),highlightOnOpen:u},data:l,type:"horizontal"},()=>m.some(yT(t,o.shared,r==="node"?"node":"selection"))),t.dispatch(dT)})},eW=(t,e,n,o,s,r)=>{const a=ls(),i=a.os.isiOS(),l=a.os.isMacOS(),u=a.os.isAndroid(),g=a.deviceType.isTouch(),b=()=>!(u||i||l&&g),x=()=>{const E=n();tW(t,e,E,o,s,r,b())};if((l||i)&&r!=="node"){const E=()=>{Qj(t),x()};Jj(t,e)?E():(t.once("selectionchange",E),t.once("touchend",()=>t.off("selectionchange",E)))}else x()},IT=t=>S(t)?t==="|":t.type==="separator",z2={type:"separator"},LT=t=>{const e=n=>({text:n.text,icon:n.icon,enabled:n.enabled,shortcut:n.shortcut});if(S(t))return t;switch(t.type){case"separator":return z2;case"submenu":return{type:"nestedmenuitem",...e(t),getSubmenuItems:()=>{const o=t.getSubmenuItems();return S(o)?o:mt(o,LT)}};default:const n=t;return{type:"menuitem",...e(n),onAction:et(n.onAction)}}},FT=(t,e)=>{if(e.length===0)return t;const o=ps(t).filter(s=>!IT(s)).fold(()=>[],s=>[z2]);return t.concat(o).concat(e).concat([z2])},nW=(t,e,n)=>{const o=vn(e,(s,r)=>wt(t,r.toLowerCase()).map(a=>{const i=a.update(n);if(S(i)&&as(ci(i)))return FT(s,i.split(" "));if(L(i)&&i.length>0){const l=mt(i,LT);return FT(s,l)}else return s}).getOrThunk(()=>s.concat([r])),[]);return o.length>0&&IT(o[o.length-1])&&o.pop(),o},oW=(t,e)=>e.ctrlKey&&!OT(t),sW=t=>t.type==="longpress"||jt(t,"touches"),HT=(t,e)=>!sW(e)&&(e.button!==2||e.target===t.getBody()&&e.pointerType===""),PT=(t,e)=>HT(t,e)?t.selection.getStart(!0):e.target,rW=(t,e)=>{const n=Nj(t),o=HT(t,e)?"selection":"point";if(as(n)){const s=PT(t,e);return sm(Ct.fromDom(s),n)?"node":o}else return o},aW=(t,e,n)=>{const s=ls().deviceType.isTouch,r=ts(En.sketch({dom:{tag:"div"},lazySink:e,onEscape:()=>t.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ht([le("dismissContextMenu",[at(ec(),(l,u)=>{Pe.close(l),t.focus()})])])})),a=()=>En.hide(r),i=l=>{if(OT(t)&&l.preventDefault(),oW(t,l)||$j(t))return;const u=rW(t,l),g=()=>{const x=PT(t,l),E=t.ui.registry.getAll(),A=MT(t);return nW(E.contextMenus,A,x)};(s()?eW:Gj)(t,l,g,n,r,u)};t.on("init",()=>{const l="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");t.on(l,a),t.on("longpress contextmenu",i)})},Z2=jr.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),Ag=t=>e=>e.translate(-t.left,-t.top),Dg=t=>e=>e.translate(t.left,t.top),Fi=t=>(e,n)=>vn(t,(o,s)=>s(o),hn(e,n)),kg=(t,e,n)=>t.fold(Fi([Dg(n),Ag(e)]),Fi([Ag(e)]),Fi([])),Bu=(t,e,n)=>t.fold(Fi([Dg(n)]),Fi([]),Fi([Dg(e)])),RT=(t,e,n)=>t.fold(Fi([]),Fi([Ag(n)]),Fi([Dg(e),Ag(n)])),iW=(t,e,n,o,s,r)=>{const a=Bu(t,s,r),i=Bu(e,s,r);return Math.abs(a.left-i.left)<=n&&Math.abs(a.top-i.top)<=o},lW=(t,e,n,o,s,r)=>{const a=Bu(t,s,r),i=Bu(e,s,r),l=Math.abs(a.left-i.left),u=Math.abs(a.top-i.top);return hn(l,u)},VT=(t,e,n)=>{const o=t.fold((s,r)=>({position:m.some("absolute"),left:m.some(s+"px"),top:m.some(r+"px")}),(s,r)=>({position:m.some("absolute"),left:m.some(s-n.left+"px"),top:m.some(r-n.top+"px")}),(s,r)=>({position:m.some("fixed"),left:m.some(s+"px"),top:m.some(r+"px")}));return{right:m.none(),bottom:m.none(),...o}},cW=(t,e,n)=>t.fold((o,s)=>Ig(o+e,s+n),(o,s)=>Ol(o+e,s+n),(o,s)=>Ic(o+e,s+n)),U2=(t,e,n,o)=>{const s=(r,a)=>(i,l)=>{const u=r(e,n,o);return a(i.getOr(u.left),l.getOr(u.top))};return t.fold(s(RT,Ig),s(Bu,Ol),s(kg,Ic))},Ig=Z2.offset,Ol=Z2.absolute,Ic=Z2.fixed,BT=(t,e)=>{const n=fe(t,e);return $(n)?NaN:parseInt(n,10)},uW=(t,e)=>{const n=t.element,o=BT(n,e.leftAttr),s=BT(n,e.topAttr);return isNaN(o)||isNaN(s)?m.none():m.some(hn(o,s))},dW=(t,e,n)=>{const o=t.element;Et(o,e.leftAttr,n.left+"px"),Et(o,e.topAttr,n.top+"px")},mW=(t,e)=>{const n=t.element;nn(n,e.leftAttr),nn(n,e.topAttr)},hW=(t,e,n,o)=>uW(t,e).fold(()=>n,s=>Ic(s.left+o.left,s.top+o.top)),gW=(t,e,n,o,s,r)=>{const a=hW(t,e,n,o),i=e.mustSnap?pW(t,e,a,s,r):vW(t,e,a,s,r),l=kg(a,s,r);return dW(t,e,l),i.fold(()=>({coord:Ic(l.left,l.top),extra:m.none()}),u=>({coord:u.output,extra:u.extra}))},fW=(t,e)=>{mW(t,e)},NT=(t,e,n,o)=>zn(t,s=>{const r=s.sensor;return iW(e,r,s.range.left,s.range.top,n,o)?m.some({output:U2(s.output,e,n,o),extra:s.extra}):m.none()}),pW=(t,e,n,o,s)=>{const r=e.getSnapPoints(t);return NT(r,n,o,s).orThunk(()=>vn(r,(l,u)=>{const g=u.sensor,b=lW(n,g,u.range.left,u.range.top,o,s);return l.deltas.fold(()=>({deltas:m.some(b),snap:m.some(u)}),x=>{const E=(b.left+b.top)/2,A=(x.left+x.top)/2;return E<=A?{deltas:m.some(b),snap:m.some(u)}:l})},{deltas:m.none(),snap:m.none()}).snap.map(l=>({output:U2(l.output,n,o,s),extra:l.extra})))},vW=(t,e,n,o,s)=>{const r=e.getSnapPoints(t);return NT(r,n,o,s)},bW=(t,e,n)=>({coord:U2(t.output,t.output,e,n),extra:t.extra});var yW=Object.freeze({__proto__:null,snapTo:(t,e,n,o)=>{const s=e.getTarget(t.element);if(e.repositionTarget){const r=bs(t.element),a=xs(r),i=gy(s),l=bW(o,a,i),u=VT(l.coord,a,i);Zl(s,u)}}});const _2="data-initial-z-index",xW=t=>{Ke(t.element).filter(so).each(e=>{Be(e,_2).fold(()=>De(e,"z-index"),n=>ce(e,"z-index",n)),nn(e,_2)})},SW=t=>{Ke(t.element).filter(so).each(e=>{Zn(e,"z-index").each(n=>{Et(e,_2,n)}),ce(e,"z-index",Po(t.element,"z-index"))})},$T=(t,e)=>{t.getSystem().addToGui(e),SW(e)},wW=t=>{xW(t),t.getSystem().removeFromGui(t)},zT=(t,e,n)=>t.getSystem().build(La.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}));var CW=lr("snaps",[ct("getSnapPoints"),He("onSensor"),ct("leftAttr"),ct("topAttr"),X("lazyViewport",zo),X("mustSnap",!1)]);const j2=[X("useFixed",yt),ct("blockerClass"),X("getTarget",Ot),X("onDrag",_),X("repositionTarget",!0),X("onDrop",_),gn("getBounds",zo),CW],TW=t=>$i(Zn(t,"left"),Zn(t,"top"),Zn(t,"position"),(e,n,o)=>(o==="fixed"?Ic:Ig)(parseInt(e,10),parseInt(n,10))).getOrThunk(()=>{const e=or(t);return Ol(e.left,e.top)}),EW=(t,e,n,o,s)=>{const r=s.bounds,a=Bu(e,n,o),i=Xr(a.left,r.x,r.x+r.width-s.width),l=Xr(a.top,r.y,r.y+r.height-s.height),u=Ol(i,l);return e.fold(()=>{const g=RT(u,n,o);return Ig(g.left,g.top)},R(u),()=>{const g=kg(u,n,o);return Ic(g.left,g.top)})},OW=(t,e,n,o,s,r,a)=>{const i=e.fold(()=>{const l=cW(n,r.left,r.top),u=kg(l,o,s);return Ic(u.left,u.top)},l=>{const u=gW(t,l,n,r,o,s);return u.extra.each(g=>{l.onSensor(t,g)}),u.coord});return EW(t,i,o,s,a)},MW=(t,e,n,o)=>{const s=e.getTarget(t.element);if(e.repositionTarget){const r=bs(t.element),a=xs(r),i=gy(s),l=TW(s),u=OW(t,e.snaps,l,a,i,o,n),g=VT(u,a,i);Zl(s,g)}e.onDrag(t,s,o)},ZT=(t,e)=>({bounds:t.getBounds(),height:_a(e.element),width:Qi(e.element)}),W2=(t,e,n,o,s)=>{const r=n.update(o,s),a=n.getStartData().getOrThunk(()=>ZT(e,t));r.each(i=>{MW(t,e,a,i)})},UT=(t,e,n,o)=>{e.each(wW),n.snaps.each(r=>{fW(t,r)});const s=n.getTarget(t.element);o.reset(),n.onDrop(t,s)},G2=t=>(e,n)=>{const o=s=>{n.setStartData(ZT(e,s))};return yn([at(_f(),s=>{n.getStartData().each(()=>o(s))}),...t(e,n,o)])},AW=t=>yn([at(cr(),t.forceDrop),at(zf(),t.drop),at(Dh(),(e,n)=>{t.move(n.event)}),at(kh(),t.delayDrop)]);var DW=Object.freeze({__proto__:null,getData:t=>m.from(hn(t.x,t.y)),getDelta:(t,e)=>hn(e.left-t.left,e.top-t.top)});const _T=(t,e,n)=>[at(cr(),(o,s)=>{if(s.event.raw.button!==0)return;s.stop();const a=()=>UT(o,m.some(u),t,e),i=W5(a,200),l={drop:a,delayDrop:i.schedule,forceDrop:a,move:b=>{i.cancel(),W2(o,t,e,DW,b)}},u=zT(o,t.blockerClass,AW(l));(()=>{n(o),$T(o,u)})()})],kW=[...j2,wn("dragger",{handlers:G2(_T)})],IW=t=>yn([at(vi(),t.forceDrop),at(Ql(),t.drop),at(Qb(),t.drop),at(bd(),(e,n)=>{t.move(n.event)})]),LW=t=>{const e=t[0];return m.some(hn(e.clientX,e.clientY))};var jT=Object.freeze({__proto__:null,getData:t=>{const n=t.raw.touches;return n.length===1?LW(n):m.none()},getDelta:(t,e)=>hn(e.left-t.left,e.top-t.top)});const WT=(t,e,n)=>{const o=qe(),s=r=>{UT(r,o.get(),t,e),o.clear()};return[at(vi(),(r,a)=>{a.stop();const i=()=>s(r),l={drop:i,delayDrop:_,forceDrop:i,move:b=>{W2(r,t,e,jT,b)}},u=zT(r,t.blockerClass,IW(l));o.set(u),(()=>{n(r),$T(r,u)})()}),at(bd(),(r,a)=>{a.stop(),W2(r,t,e,jT,a.event)}),at(Ql(),(r,a)=>{a.stop(),s(r)}),at(Qb(),s)]},FW=[...j2,wn("dragger",{handlers:G2(WT)})],HW=(t,e,n)=>[..._T(t,e,n),...WT(t,e,n)],PW=[...j2,wn("dragger",{handlers:G2(HW)})];var RW=Object.freeze({__proto__:null,mouse:kW,touch:FW,mouseOrTouch:PW}),VW=Object.freeze({__proto__:null,init:()=>{let t=m.none(),e=m.none();const n=()=>{t=m.none(),e=m.none()},o=(l,u)=>{const g=t.map(b=>l.getDelta(b,u));return t=m.some(u),g},s=(l,u)=>l.getData(u).bind(g=>o(l,g)),r=l=>{e=m.some(l)},a=()=>e,i=R({});return dr({readState:i,reset:n,update:s,getStartData:a,setStartData:r})}});const Lc=ly({branchKey:"mode",branches:RW,name:"dragging",active:{events:(t,e)=>t.dragger.handlers(t,e)},extra:{snap:t=>({sensor:t.sensor,range:t.range,output:t.output,extra:m.from(t.extra)})},state:VW,apis:yW}),K2=40,Lg=K2/2,GT=(t,e,n,o,s,r)=>t.fold(()=>Lc.snap({sensor:Ol(n-Lg,o-Lg),range:hn(s,r),output:Ol(m.some(n),m.some(o)),extra:{td:e}}),a=>{const i=n-Lg,l=o-Lg,u=K2,g=K2,b=a.element.dom.getBoundingClientRect();return Lc.snap({sensor:Ol(i,l),range:hn(u,g),output:Ol(m.some(n-b.width/2),m.some(o-b.height/2)),extra:{td:e}})}),KT=(t,e,n)=>{const o=(s,r)=>s.exists(a=>_e(a,r));return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(s,r)=>{const a=r.td;o(e.get(),a)||(e.set(a),n(a))},mustSnap:!0}},XT=t=>ze(Bo.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ht([Lc.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),cm.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),BW=(t,e)=>{const n=$t([]),o=$t([]),s=$t(!1),r=qe(),a=qe(),i=Dt=>{const nt=ya(Dt);return GT(E.getOpt(e),Dt,nt.x,nt.y,nt.width,nt.height)},l=()=>mt(n.get(),Dt=>i(Dt)),u=Dt=>{const nt=ya(Dt);return GT(A.getOpt(e),Dt,nt.right,nt.bottom,nt.width,nt.height)},g=()=>mt(o.get(),Dt=>u(Dt)),b=KT(l,r,Dt=>{a.get().each(nt=>{t.dispatch("TableSelectorChange",{start:Dt,finish:nt})})}),x=KT(g,a,Dt=>{r.get().each(nt=>{t.dispatch("TableSelectorChange",{start:nt,finish:Dt})})}),E=XT(b),A=XT(x),k=ts(E.asSpec()),U=ts(A.asSpec()),I=(Dt,nt,kt,bt)=>{const It=nt.dom.getBoundingClientRect();De(Dt.element,"display");const ye=Yt(Ct.fromDom(t.getBody())).dom.innerHeight,tn=kt(It),Le=bt(It,ye);(tn||Le)&&ce(Dt.element,"display","none")},N=(Dt,nt,kt,bt)=>{const It=kt(nt);Lc.snapTo(Dt,It),I(Dt,nt,Le=>Le[bt]<0,(Le,Rt)=>Le[bt]>Rt)},z=Dt=>N(k,Dt,i,"top"),J=()=>r.get().each(z),Q=Dt=>N(U,Dt,u,"bottom"),gt=()=>a.get().each(Q);if(ls().deviceType.isTouch()){const Dt=nt=>mt(nt,Ct.fromDom);t.on("TableSelectionChange",nt=>{s.get()||(uc(e,k),uc(e,U),s.set(!0));const kt=Ct.fromDom(nt.start),bt=Ct.fromDom(nt.finish);r.set(kt),a.set(bt),m.from(nt.otherCells).each(It=>{n.set(Dt(It.upOrLeftCells)),o.set(Dt(It.downOrRightCells)),z(kt),Q(bt)})}),t.on("ResizeEditor ResizeWindow ScrollContent",()=>{J(),gt()}),t.on("TableSelectionClear",()=>{s.get()&&(Ti(k),Ti(U),s.set(!1)),r.clear(),a.clear()})}};var NW=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const $W=(t,e)=>{const n=m.from(fe(t,"id")).getOrThunk(()=>{const o=Lt("aria");return Et(e,"id",o),o});Et(t,"aria-describedby",n)},zW=t=>{nn(t,"aria-describedby")},ZW=t=>t.nodeName==="BR"||!!t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark",UW=(t,e,n)=>{var o;const s=(o=e.delimiter)!==null&&o!==void 0?o:"",r=(u,g,b)=>Bo.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":b}},components:[Tn(u)],action:x=>{t.focus(),t.selection.select(g),t.nodeChanged()},buttonBehaviours:ht([Dn.config({...n.tooltips.getConfig({tooltipText:n.translate(["Select the {0} element",g.nodeName.toLowerCase()]),onShow:(x,E)=>{$W(x.element,E.element)},onHide:x=>{zW(x.element)}})}),Fr.button(n.isDisabled),jn(()=>n.checkUiComponentContext("any"))])}),a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Tn(` ${s} `)]}),i=u=>vn(u,(g,b,x)=>{const E=r(b.name,b.element,x);return x===0?g.concat([E]):g.concat([a(),E])},[]),l=u=>{const g=[];let b=u.length;for(;b-- >0;){const x=u[b];if(x.nodeType===1&&!ZW(x)){const E=GH(t,x);if(E.isDefaultPrevented()||g.push({name:E.name,element:x}),E.isPropagationStopped())break}}return g};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ht([Bt.config({mode:"flow",selector:"div[role=button]"}),Gt.config({disabled:n.isDisabled}),jn(()=>n.checkUiComponentContext("any")),fn.config({}),se.config({}),le("elementPathEvents",[xn((u,g)=>{t.shortcuts.add("alt+F11","focus statusbar elementpath",()=>Bt.focusIn(u)),t.on("NodeChange",b=>{const x=l(b.parents),E=x.length>0?i(x):[];se.set(u,E)})})])]),components:[]}};var Ml;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Ml||(Ml={}));const _W=(t,e,n,o,s)=>{const r={height:Eg(o+e.top,b0(t),y0(t))};return n===Ml.Both&&(r.width=Eg(s+e.left,v0(t),x1(t))),r},YT=(t,e,n)=>{const o=Ct.fromDom(t.getContainer()),s=_W(t,e,n,ro(o),is(o));lt(s,(r,a)=>{rt(r)&&ce(o,a,k2(r))}),_H(t)},jW=t=>{const e=$x(t);return e===!1?Ml.None:e==="both"?Ml.Both:Ml.Vertical},Fg=(t,e,n,o)=>{const r=hn(n*20,o*20);return YT(t,r,e),m.some(!0)},WW=(t,e)=>{const n=jW(t);if(n===Ml.None)return m.none();const o=n===Ml.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return m.some(Ir("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{"aria-label":e.translate(o),"data-mce-name":"resize-handle"},behaviours:[Lc.config({mode:"mouse",repositionTarget:!1,onDrag:(s,r,a)=>YT(t,a,n),blockerClass:"tox-blocker"}),Bt.config({mode:"special",onLeft:()=>Fg(t,n,-1,0),onRight:()=>Fg(t,n,1,0),onUp:()=>Fg(t,n,0,-1),onDown:()=>Fg(t,n,0,1)}),fn.config({}),Qt.config({}),Dn.config(e.tooltips.getConfig({tooltipText:e.translate("Resize")}))]},e.icons))},GW=(t,e)=>{const n=(o,s,r)=>se.set(o,[Tn(e.translate(["{0} "+r,s[r]]))]);return Bo.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ht([Fr.button(e.isDisabled),jn(()=>e.checkUiComponentContext("any")),fn.config({}),se.config({}),At.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),le("wordcount-events",[yi(o=>{const s=At.getValue(o),r=s.mode==="words"?"characters":"words";At.setValue(o,{mode:r,count:s.count}),n(o,s.count,r)}),xn(o=>{t.on("wordCountUpdate",s=>{const{mode:r}=At.getValue(o);At.setValue(o,{mode:r,count:s.wordCount}),n(o,s.wordCount,r)})})])]),eventOrder:{[ur()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},KW=(t,e)=>{const n=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":t.translate(["Build with {0}","TinyMCE"])},innerHtml:t.translate(["Build with {0}",NW.trim()])},behaviours:ht([Qt.config({})])}]}),o=()=>{const i=ev("Alt+0");return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[Tn(kr.translate(["Press {0} for help",i]))]}},s=()=>{const i=[];return t.hasPlugin("wordcount")&&i.push(GW(t,e)),S0(t)&&i.push(n()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:i}},r=()=>{const i=[],l=_x(t),u=Nx(t),g=S0(t)||t.hasPlugin("wordcount"),b=()=>{const x="tox-statusbar__text-container--flex-start",E="tox-statusbar__text-container--flex-end",A="tox-statusbar__text-container--space-around";if(l){const k="tox-statusbar__text-container-3-cols";return!g&&!u?[k,A]:g&&!u?[k,E]:[k,x]}return[g&&!u?E:x]};return u&&i.push(UW(t,{},e)),l&&i.push(o()),g&&i.push(s()),i.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...b()]},components:i}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const i=r(),l=WW(t,e);return i.concat(l.toArray())})()}},JT=(t,e)=>e.get().getOrDie(`UI for ${t} has not been rendered`),XW=(t,e)=>{const n=t.inline,o=n?B_:I_,s=wu(t)?Fz:Oz,r=N_(),a=qe(),i=qe(),l=qe(),x=ls().deviceType.isTouch()?["tox-platform-touch"]:[],E=T0(t),A=xu(t),k=ze({dom:{tag:"div",classes:["tox-anchorbar"]}}),U=ze({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),I=()=>r.mainUi.get().map(Nt=>Nt.outerContainer).bind(an.getHeader),N=()=>Ce.fromOption(r.dialogUi.get().map(Nt=>Nt.sink),"UI has not been rendered"),z=()=>Ce.fromOption(r.popupUi.get().map(Nt=>Nt.sink),"(popup) UI has not been rendered"),J=r.lazyGetInOuterOrDie("anchor bar",k.getOpt),Q=r.lazyGetInOuterOrDie("bottom anchor bar",U.getOpt),gt=r.lazyGetInOuterOrDie("toolbar",an.getToolbar),Dt=r.lazyGetInOuterOrDie("throbber",an.getThrobber),nt=fz({popup:z,dialog:N},t,J,Q),kt=()=>{const Nt={attributes:{[Hp]:E?Ci.BottomToTop:Ci.TopToBottom}},ee=an.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:nt.popup,onEscape:()=>{t.focus()}}),Xe=an.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:nt.popup.shared.getSink,providers:nt.popup.shared.providers,onEscape:()=>{t.focus()},onToolbarToggled:ia=>{KH(t,ia)},type:A,lazyToolbar:gt,lazyHeader:()=>I().getOrDie("Could not find header element"),...Nt}),Ue=an.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:nt.popup.shared.providers,onEscape:()=>{t.focus()},type:A}),ms=Bd(t),Sn=C1(t),Ps=w1(t),Ao=Ux(t),Rs=bt(),Vs=ms||Sn||Ps,pr=()=>ms?[Ue]:Sn?[Xe]:[],Hc=Ao?[Rs,ee]:[ee];return an.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Vs?[]:["tox-editor-header--empty"]),...Nt},components:en([Ps?Hc:[],pr(),Su(t)?[]:[k.asSpec()]]),sticky:wu(t),editor:t,sharedBackstage:nt.popup.shared})},bt=()=>an.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),It=()=>{const Nt=an.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ee=an.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Nt,ee]}},ye=()=>{const Nt=E0(t),ee=_e(it(),Nt)&&Po(Nt,"display")==="grid",Xe={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(x),attributes:{...kr.isRtl()?{dir:"rtl"}:{}}},behaviours:ht([es.config({useFixed:()=>s.isDocked(I)})])},Ue={dom:{styles:{width:document.body.clientWidth+"px"}},events:yn([at(Cd(),Ps=>{ce(Ps.element,"width",document.body.clientWidth+"px")})])},ms=ts(Fn(Xe,ee?Ue:{})),Sn=wv(ms);return i.set(Sn),{sink:ms,mothership:Sn}},tn=()=>{const Nt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(x),attributes:{...kr.isRtl()?{dir:"rtl"}:{}}},behaviours:ht([es.config({useFixed:()=>s.isDocked(I),getBounds:()=>e.getPopupSinkBounds()})])},ee=ts(Nt),Xe=wv(ee);return l.set(Xe),{sink:ee,mothership:Xe}},Le=()=>{const Nt=kt(),ee=It(),Xe=an.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:nt.popup}),Ue=an.parts.viewWrapper({backstage:nt.popup}),ms=Bx(t)&&!n?m.some(KW(t,nt.popup.shared.providers)):m.none(),Sn=en([E?[]:[Nt],n?[]:[ee],E?[Nt]:[]]),Ps=an.parts.editorContainer({components:en([Sn,n?[]:[U.asSpec()]])}),Ao=O0(t),Rs={role:"application",...kr.isRtl()?{dir:"rtl"}:{},...Ao?{"aria-hidden":"true"}:{}},Vs=ts(an.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(E?["tox-tinymce--toolbar-bottom"]:[]).concat(x),styles:{visibility:"hidden",...Ao?{opacity:"0",border:"0"}:{}},attributes:Rs},components:[Ps,...n?[]:[Ue,...ms.toArray()],Xe],behaviours:ht([jn(()=>nt.popup.shared.providers.checkUiComponentContext("any")),Gt.config({disableClass:"tox-tinymce--disabled"}),Bt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),pr=wv(Vs);return a.set(pr),{mothership:pr,outerContainer:Vs}},Rt=Nt=>{const ee=k2(F_(t)),Xe=k2(H_(t));return t.inline||(ed("div","width",Xe)&&ce(Nt.element,"width",Xe),ed("div","height",ee)?ce(Nt.element,"height",ee):ce(Nt.element,"height","400px")),ee},ut=Nt=>{t.addShortcut("alt+F9","focus menubar",()=>{an.focusMenubar(Nt)}),t.addShortcut("alt+F10","focus toolbar",()=>{an.focusToolbar(Nt)}),t.addCommand("ToggleToolbarDrawer",(ee,Xe)=>{Xe!=null&&Xe.skipFocus?an.toggleToolbarDrawerWithoutFocusing(Nt):an.toggleToolbarDrawer(Nt)}),t.addQueryStateHandler("ToggleToolbarDrawer",()=>an.isToolbarDrawerToggled(Nt))},St=Nt=>{const{mainUi:ee,popupUi:Xe,uiMotherships:Ue}=Nt;ft(Ox(t),(Hi,Cm)=>{t.ui.registry.addGroupToolbarButton(Cm,Hi)});const{buttons:ms,menuItems:Sn,contextToolbars:Ps,sidebars:Ao,views:Rs}=t.ui.registry.getAll(),Vs=C0(t),pr={menuItems:Sn,menus:Yx(t),menubar:Dx(t),toolbar:Vs.getOrThunk(()=>S1(t)),allowToolbarGroups:A===Ar.floating,buttons:ms,sidebar:Ao,views:Rs};ut(ee.outerContainer),pz(t,ee.mothership,Ue),s.setup(t,nt.popup.shared,I),Rj(t,nt.popup),aW(t,nt.popup.shared.getSink,nt.popup),Kz(t),dZ(t,Dt,nt.popup.shared),mj(t,Ps,Xe.sink,{backstage:nt.popup}),BW(t,Xe.sink);const Hc=t.getElement(),ia=Rt(ee.outerContainer),wm={targetNode:Hc,height:ia};return o.render(t,Nt,pr,nt.popup,wm)},Jt=Nt=>(l.set(Nt.mothership),Nt),de=()=>{const Nt=Le(),ee=ye(),Xe=gl(t)?tn():Jt(ee);r.dialogUi.set(ee),r.popupUi.set(Xe),r.mainUi.set(Nt);const Ue={popupUi:Xe,dialogUi:ee,mainUi:Nt,uiMotherships:r.getUiMotherships()};return St(Ue)};return{popups:{backstage:nt.popup,getMothership:()=>JT("popups",l)},dialogs:{backstage:nt.dialog,getMothership:()=>JT("dialogs",i)},renderUI:de}},YW=t=>t.dom.textContent,JW=(t,e)=>{const n=Be(t,"id").fold(()=>{const o=Lt("dialog-label");return Et(e,"id",o),o},Ot);Et(t,"aria-labelledby",n)},QW=R([ct("lazySink"),$e("dragBlockClass"),gn("getBounds",zo),X("useTabstopAt",Ut),X("firstTabstop",0),X("eventOrder",{}),Mo("modalBehaviours",[Bt]),_s("onExecute"),gp("onEscape")]),X2={sketch:Ot},qW=R([Mr({name:"draghandle",overrides:(t,e)=>({behaviours:ht([Lc.config({mode:"mouse",getTarget:n=>Si(n,'[role="dialog"]').getOr(n),blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])})}),ns({schema:[ct("dom")],name:"title"}),ns({factory:X2,schema:[ct("dom")],name:"close"}),ns({factory:X2,schema:[ct("dom")],name:"body"}),Mr({factory:X2,schema:[ct("dom")],name:"footer"}),Qr({factory:{sketch:(t,e)=>({...t,dom:e.dom,components:e.components})},schema:[X("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),X("components",[])],name:"blocker"})]),tG=(t,e,n,o)=>{const s=qe(),r=A=>{s.set(A);const k=t.lazySink(A).getOrDie(),U=o.blocker(),I=k.getSystem().build({...U,components:U.components.concat([mr(A)]),behaviours:ht([Qt.config({}),le("dialog-blocker-events",[iu(wa(),()=>{Ha.isBlocked(A)?_():Bt.focusIn(A)})])])});uc(k,I),Bt.focusIn(A)},a=A=>{s.clear(),Ke(A.element).each(k=>{A.getSystem().getByDom(k).each(U=>{Ti(U)})})},i=A=>hl(A,t,"body"),l=A=>sn(A,t,"footer"),u=(A,k)=>{Ha.block(A,k)},g=A=>{Ha.unblock(A)},b=Lt("modal-events"),x={...t.eventOrder,[Ta()]:[b].concat(t.eventOrder["alloy.system.attached"]||[])},E=ls();return{uid:t.uid,dom:t.dom,components:e,apis:{show:r,hide:a,getBody:i,getFooter:l,setIdle:g,setBusy:u},eventOrder:x,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Vo(t.modalBehaviours,[se.config({}),Bt.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt,firstTabstop:t.firstTabstop}),Ha.config({getRoot:s.get}),le(b,[xn(A=>{const k=hl(A,t,"title").element,U=YW(k);E.os.isMacOS()&&W(U)?Et(A.element,"aria-label",U):JW(A.element,k)})])])}},mo=us({name:"ModalDialog",configFields:QW(),partFields:qW(),factory:tG,apis:{show:(t,e)=>{t.show(e)},hide:(t,e)=>{t.hide(e)},getBody:(t,e)=>t.getBody(e),getFooter:(t,e)=>t.getFooter(e),setBusy:(t,e,n)=>{t.setBusy(e,n)},setIdle:(t,e)=>{t.setIdle(e)}}}),eG=te([_n,j0].concat(Eu)),nG=Mh,Y2=[J0("button"),Lr,Ga("align","end",["start","end"]),F1,ta,Gb("buttonType",["primary","secondary"]),Pn("context","mode:design")],QT=[...Y2,Ai],J2=[Ur("type",["submit","cancel","custom"]),...QT],oG=[Ur("type",["menu"]),vl,Xd,Lr,Us("items",eG),...Y2],sG=[...Y2,Ur("type",["togglebutton"]),Xd,Lr,vl,qo("active",!1)],rG=Is("type",{submit:J2,cancel:J2,custom:J2,menu:oG,togglebutton:sG}),aG=[_n,Ai,Ur("level",["info","warn","error","success"]),NS,X("url","")],iG=te(aG),lG=t=>[_n,t],cG=[_n,Ai,ta,J0("button"),Lr,FF,Gb("buttonType",["primary","secondary","toolbar"]),F1,Pn("context","mode:design")],uG=te(cG),Nu=[_n,j0],Pa=Nu.concat([G0]),dG=Nu.concat([W0,ta,Pn("context","mode:design")]),mG=te(dG),hG=Mh,gG=Pa.concat([$S("auto"),Pn("context","mode:design")]),fG=te(gG),pG=Th([Kd,Ai,NS]),vG=Pa.concat([Pn("storageKey","default"),Pn("context","mode:design")]),bG=te(vG),yG=bo,xG=te(Pa),SG=bo,wG=Nu.concat([Pn("tag","textarea"),Eo("scriptId"),Eo("scriptUrl"),al("onFocus"),J7("settings",void 0)]),CG=Nu.concat([Pn("tag","textarea"),_r("init")]),TG=pd(t=>Nn("customeditor.old",ar(CG),t).orThunk(()=>Nn("customeditor.new",ar(wG),t))),EG=bo,OG=Pa.concat([Pn("context","mode:design")]),MG=te(OG),AG=W7(),DG=t=>[_n,K7("columns"),t],kG=[_n,Eo("html"),Ga("presets","presentation",["presentation","document"]),gn("onInit",_),qo("stretched",!1)],IG=te(kG),LG=Pa.concat([qo("border",!1),qo("sandboxed",!0),qo("streamContent",!1),qo("transparent",!0)]),FG=te(LG),HG=bo,PG=te(Nu.concat([Kn("height")])),RG=te([Eo("url"),vd("zoom"),vd("cachedWidth"),vd("cachedHeight")]),VG=Pa.concat([Kn("inputMode"),Kn("placeholder"),qo("maximized",!1),ta,Pn("context","mode:design")]),BG=te(VG),NG=bo,$G=t=>[_n,W0,t,Ga("align","start",["start","center","end"]),Kn("for")],zG=[Ai,Kd],ZG=[Ai,Us("items",jb("items",()=>qT))],qT=Ch([te(zG),te(ZG)]),UG=Pa.concat([Us("items",qT),ta,Pn("context","mode:design")]),_G=te(UG),jG=bo,WG=Pa.concat([Wb("items",[Ai,Kd]),Nf("size",1),ta,Pn("context","mode:design")]),GG=te(WG),KG=bo,XG=Pa.concat([qo("constrain",!0),ta,Pn("context","mode:design")]),YG=te(XG),t8=te([Eo("width"),Eo("height")]),JG=Nu.concat([W0,Nf("min",0),Nf("max",0)]),QG=te(JG),qG=Oh,tK=[_n,Us("header",bo),Us("cells",sl(bo))],eK=te(tK),nK=Pa.concat([Kn("placeholder"),qo("maximized",!1),ta,Pn("context","mode:design")]),oK=te(nK),sK=bo,e8=[Ur("type",["directory","leaf"]),BS,Eo("id"),Wa("menu",u6),Kn("customStateIcon"),Kn("customStateIconTooltip")],n8=te(e8),rK=e8.concat([Us("children",jb("children",()=>eu("type",{directory:o8,leaf:n8})))]),o8=te(rK),aK=eu("type",{directory:o8,leaf:n8}),iK=[_n,Us("items",aK),al("onLeafAction"),al("onToggleExpand"),Yl("defaultExpandedIds",[],bo),Kn("defaultSelectedId")],lK=te(iK),cK=Pa.concat([Ga("filetype","file",["image","media","file"]),ta,Kn("picker_text"),Pn("context","mode:design")]),uK=te(cK),dK=te([Kd,X0]),Q2=t=>Zo("items","items",Er(),sl(pd(e=>Nn(`Checking item of ${t}`,q2,e).fold(n=>Ce.error(nu(n)),n=>Ce.value(n))))),q2=Zb(()=>eu("type",{alertbanner:iG,bar:te(lG(Q2("bar"))),button:uG,checkbox:mG,colorinput:bG,colorpicker:xG,dropzone:MG,grid:te(DG(Q2("grid"))),iframe:FG,input:BG,listbox:_G,selectbox:GG,sizeinput:YG,slider:QG,textarea:oK,urlinput:uK,customeditor:TG,htmlpanel:IG,imagepreview:PG,collection:fG,label:te($G(Q2("label"))),table:eK,tree:lK,panel:s8})),mK=[_n,X("classes",[]),Us("items",q2)],s8=te(mK),hK=[J0("tab"),BS,Us("items",q2)],gK=[_n,Wb("tabs",hK)],fK=te(gK),pK=QT,vK=rG,bK=te([Eo("title"),ir("body",eu("type",{panel:s8,tabpanel:fK})),Pn("size","normal"),Yl("buttons",[],vK),X("initialData",{}),gn("onAction",_),gn("onChange",_),gn("onSubmit",_),gn("onClose",_),gn("onCancel",_),gn("onTabChange",_)]),yK=t=>Nn("dialog",bK,t),xK=te([Ur("type",["cancel","custom"]),...pK]),SK=te([Eo("title"),Eo("url"),vd("height"),vd("width"),Kb("buttons",xK),gn("onAction",_),gn("onCancel",_),gn("onClose",_),gn("onMessage",_)]),wK=t=>Nn("dialog",SK,t),tb=t=>p(t)?[t].concat(ae(ve(t),tb)):L(t)?ae(t,tb):[],CK=t=>S(t.type)&&S(t.name),TK={checkbox:hG,colorinput:yG,colorpicker:SG,dropzone:AG,input:NG,iframe:HG,imagepreview:RG,selectbox:KG,sizeinput:t8,slider:qG,listbox:jG,size:t8,textarea:sK,urlinput:dK,customeditor:EG,collection:pG,togglemenuitem:nG},EK=t=>m.from(TK[t.type]),OK=t=>Ve(tb(t),CK),MK=t=>{const e=OK(t),n=ae(e,o=>EK(o).fold(()=>[],s=>[ir(o.name,s)]));return te(n)},r8=t=>{var e;const n=Sa(yK(t)),o=MK(t),s=(e=t.initialData)!==null&&e!==void 0?e:{};return{internalDialog:n,dataValidator:o,initialData:s}},Fc={open:(t,e)=>{const n=r8(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(t,e)=>{const n=Sa(wK(e));return t(n)},redial:t=>r8(t)};var AK=Object.freeze({__proto__:null,events:(t,e)=>{const n=(o,s)=>{t.updateState.each(r=>{const a=r(o,s);e.set(a)}),t.renderComponents.each(r=>{const a=r(s,e.get());(t.reuseDom?tx:q3)(o,a)})};return yn([at(tc(),(o,s)=>{const r=s;if(!r.universal){const a=t.channel;me(r.channels,a)&&n(o,r.data)}}),xn((o,s)=>{t.initialData.each(r=>{n(o,r)})})])}}),DK=Object.freeze({__proto__:null,getState:(t,e,n)=>n}),kK=[ct("channel"),$e("renderComponents"),$e("updateState"),$e("initialData"),qo("reuseDom",!0)],IK=Object.freeze({__proto__:null,init:()=>{const t=$t(m.none()),e=()=>t.set(m.none());return{readState:()=>t.get().getOr("none"),get:t.get,set:t.set,clear:e}}});const Js=Ro({fields:kK,name:"reflecting",active:AK,apis:DK,state:IK}),a8=t=>{const e=[],n={};return lt(t,(o,s)=>{o.fold(()=>{e.push(s)},r=>{n[s]=r})}),e.length>0?Ce.error(e):Ce.value(n)},LK=(t,e,n,o)=>{const s=ze(Iu.sketch(r=>({dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:mt(t.items,a=>LC(r,a,e,n,o))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[s.asSpec()]}],behaviours:ht([Bt.config({mode:"acyclic",useTabstopAt:Zt(dm)}),sa.memento(s),vB(s,{postprocess:r=>a8(r).fold(a=>(console.error(a),{}),Ot)}),le("dialog-body-panel",[at(wa(),(r,a)=>{r.getSystem().broadcastOn([sg],{newFocus:m.some(a.event.target)})})])])}},FK=(t,e)=>({uid:t.uid,dom:t.dom,components:t.components,events:v1(t.action),behaviours:Vo(t.tabButtonBehaviours,[Qt.config({}),Bt.config({mode:"execution",useSpace:!0,useEnter:!0}),At.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}),HK=hr({name:"TabButton",configFields:[X("uid",void 0),ct("value"),Zo("dom","dom",c(()=>({attributes:{role:"tab",id:Lt("aria"),"aria-selected":"false"}})),xa()),$e("action"),X("domModification",{}),Mo("tabButtonBehaviours",[Qt,Bt,At]),ct("view")],factory:FK}),PK=R([ct("tabs"),ct("dom"),X("clickToDismiss",!1),Mo("tabbarBehaviours",[Ze,Bt]),rc(["tabClass","selectedClass"])]),RK=i1({factory:HK,name:"tabs",unit:"tab",overrides:t=>{const e=(o,s)=>{Ze.dehighlight(o,s),_t(o,oy(),{tabbar:o,button:s})},n=(o,s)=>{Ze.highlight(o,s),_t(o,ny(),{tabbar:o,button:s})};return{action:o=>{const s=o.getSystem().getByUid(t.uid).getOrDie(),r=Ze.isHighlighted(s,o);(r&&t.clickToDismiss?e:r?_:n)(s,o)},domModification:{classes:[t.markers.tabClass]}}}}),VK=R([RK]),BK=(t,e,n,o)=>({uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Vo(t.tabbarBehaviours,[Ze.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:(s,r)=>{Et(r.element,"aria-selected","true")},onDehighlight:(s,r)=>{Et(r.element,"aria-selected","false")}}),Bt.config({mode:"flow",getInitial:s=>Ze.getHighlighted(s).map(r=>r.element),selector:"."+t.markers.tabClass,executeOnMove:!0})])}),i8=us({name:"Tabbar",configFields:PK(),partFields:VK(),factory:BK}),NK=(t,e)=>({uid:t.uid,dom:t.dom,behaviours:Vo(t.tabviewBehaviours,[se.config({})]),domModification:{attributes:{role:"tabpanel"}}}),$K=hr({name:"Tabview",configFields:[Mo("tabviewBehaviours",[se])],factory:NK}),zK=R([X("selectFirst",!0),He("onChangeTab"),He("onDismissTab"),X("tabs",[]),Mo("tabSectionBehaviours",[])]),ZK=ns({factory:i8,schema:[ct("dom"),rl("markers",[ct("tabClass"),ct("selectedClass")])],name:"tabbar",defaults:t=>({tabs:t.tabs})}),UK=ns({factory:$K,name:"tabview"}),_K=R([ZK,UK]),jK=(t,e,n,o)=>{const s=a=>{const i=At.getValue(a);sn(a,t,"tabview").each(l=>{Me(t.tabs,g=>g.value===i).each(g=>{const b=g.view();Be(a.element,"id").each(x=>{Et(l.element,"aria-labelledby",x)}),se.set(l,b),t.onChangeTab(l,a,b)})})},r=(a,i)=>{sn(a,t,"tabbar").each(l=>{i(l).each(nc)})};return{uid:t.uid,dom:t.dom,components:e,behaviours:qh(t.tabSectionBehaviours),events:yn(en([t.selectFirst?[xn((a,i)=>{r(a,Ze.getFirst)})]:[],[at(ny(),(a,i)=>{const l=i.event.button;s(l)}),at(oy(),(a,i)=>{const l=i.event.button;t.onDismissTab(a,l)})]])),apis:{getViewItems:a=>sn(a,t,"tabview").map(i=>se.contents(i)).getOr([]),showTab:(a,i)=>{r(a,u=>{const g=Ze.getCandidates(u);return Me(g,x=>At.getValue(x)===i).filter(x=>!Ze.isHighlighted(u,x))})}}}},$u=us({name:"TabSection",configFields:zK(),partFields:_K(),factory:jK,apis:{getViewItems:(t,e)=>t.getViewItems(e),showTab:(t,e,n)=>{t.showTab(e,n)}}}),WK=(t,e,n)=>mt(t,(o,s)=>{se.set(n,t[s].view());const r=e.dom.getBoundingClientRect();return se.set(n,[]),r.height}),GK=t=>no(Yo(t,(e,n)=>e>n?-1:e<n?1:0)),KK=(t,e,n)=>{const o=ot(t).dom,s=Si(t,".tox-dialog-wrap").getOr(t),r=Po(s,"position")==="fixed";let a;r?a=Math.max(o.clientHeight,window.innerHeight):a=Math.max(o.offsetHeight,o.scrollHeight);const i=ro(e),u=e.dom.offsetLeft>=n.dom.offsetLeft+is(n)?Math.max(ro(n),i):i,g=parseInt(Po(t,"margin-top"),10)||0,b=parseInt(Po(t,"margin-bottom"),10)||0,E=ro(t)+g+b-u;return a-E},XK=(t,e)=>{no(t).each(n=>$u.showTab(e,n.value))},l8=(t,e)=>{ce(t,"height",e+"px"),ce(t,"flex-basis",e+"px")},Hg=(t,e,n)=>{Si(t,'[role="dialog"]').each(o=>{Cn(o,'[role="tablist"]').each(s=>{n.get().map(r=>(ce(e,"height","0"),ce(e,"flex-basis","0"),Math.min(r,KK(o,e,s)))).each(r=>{l8(e,r)})})})},eb=t=>Cn(t,'[role="tabpanel"]'),YK=t=>{const e=qe();return{extraEvents:[xn(s=>{const r=s.element;eb(r).each(a=>{ce(a,"visibility","hidden"),s.getSystem().getByDom(a).toOptional().each(i=>{const l=WK(t,a,i);GK(l).fold(e.clear,e.set)}),Hg(r,a,e),De(a,"visibility"),XK(t,s),requestAnimationFrame(()=>{Hg(r,a,e)})})}),at(Cd(),s=>{const r=s.element;eb(r).each(a=>{Hg(r,a,e)})}),at(nw,(s,r)=>{const a=s.element;eb(a).each(i=>{const l=wi($o(i));ce(i,"visibility","hidden");const u=Zn(i,"height").map(x=>parseInt(x,10));De(i,"height"),De(i,"flex-basis");const g=i.dom.getBoundingClientRect().height;u.forall(x=>g>x)?(e.set(g),Hg(a,i,e)):u.each(x=>{l8(i,x)}),De(i,"visibility"),l.each(Ws)})})],selectFirst:!1}},c8="send-data-to-section",u8="send-data-to-view",JK=(t,e,n,o)=>{const s=$t({}),r=g=>{const b=At.getValue(g),x=a8(b).getOr({}),E=s.get(),A=Fn(E,x);s.set(A)},a=g=>{const b=s.get();At.setValue(g,b)},i=$t(null),l=mt(t.tabs,g=>({value:g.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Tn(n.shared.providers.translate(g.title))],view:()=>[Iu.sketch(b=>({dom:{tag:"div",classes:["tox-form"]},components:mt(g.items,x=>LC(b,x,e,n,o)),formBehaviours:ht([Bt.config({mode:"acyclic",useTabstopAt:Zt(dm)}),le("TabView.form.events",[xn(a),Ya(r)]),js.config({channels:ou([{key:c8,value:{onReceive:r}},{key:u8,value:{onReceive:a}}])})])}))]})),u=YK(l);return $u.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(g,b,x)=>{const E=At.getValue(b);_t(g,ew,{name:E,oldName:i.get()}),i.set(E)},tabs:l,components:[$u.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[i8.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ht([fn.config({})])}),$u.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:ht([le("tabpanel",u.extraEvents),Bt.config({mode:"acyclic"}),ke.config({find:g=>no($u.getViewItems(g))}),Ac(m.none(),g=>(g.getSystem().broadcastOn([c8],{}),s.get()),(g,b)=>{s.set(b),g.getSystem().broadcastOn([u8],{})})])})},d8=(t,e,n,o,s,r)=>{const a=u=>{const g=u.body;switch(g.type){case"tabpanel":return[JK(g,u.initialData,o,r)];default:return[LK(g,u.initialData,o,r)]}},i=(u,g)=>m.some({isTabPanel:()=>g.body.type==="tabpanel"}),l={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map(u=>({id:u})).getOr({}),...s?l:{}}},components:[],behaviours:ht([sa.childAt(0),Js.config({channel:`${Gw}-${e}`,updateState:i,renderComponents:a,initialData:t})])}},QK=(t,e,n,o,s,r)=>d8(t,e,m.some(n),o,s,r),qK=(t,e,n,o)=>{const s=d8(t,e,m.none(),n,!1,o);return mo.parts.body(s)},tX=t=>{const e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[_w(m.none(),{dom:{tag:"iframe",attributes:{src:t.url}},behaviours:ht([fn.config({}),Qt.config({})])})]}],behaviours:ht([Bt.config({mode:"acyclic",useTabstopAt:Zt(dm)})])};return mo.parts.body(e)},eX=yu.deviceType.isTouch(),m8=(t,e)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}),h8=(t,e)=>mo.parts.close(Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:ht([fn.config({})])})),g8=()=>mo.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),f8=(t,e)=>mo.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Oi(`<p>${fS(e.translate(t))}</p>`)}]}]}),p8=t=>mo.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t}),v8=(t,e)=>[La.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),La.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})],nb=t=>{const e="tox-dialog",n=e+"-wrap",o=n+"__backdrop",s=e+"__disable-scroll";return mo.sketch({lazySink:t.lazySink,onEscape:r=>(t.onEscape(r),m.some(!0)),useTabstopAt:r=>!dm(r),firstTabstop:t.firstTabstop,dom:{tag:"div",classes:[e].concat(t.extraClasses),styles:{position:"relative",...t.extraStyles}},components:[t.header,t.body,...t.footer.toArray()],parts:{blocker:{dom:Oi(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:eX?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:ht([Qt.config({}),le("dialog-events",t.dialogEvents.concat([iu(wa(),(r,a)=>{Ha.isBlocked(r)?_():Bt.focusIn(r)}),at(Fh(),(r,a)=>{r.getSystem().broadcastOn([sg],{newFocus:a.event.newFocus})})])),le("scroll-lock",[xn(()=>{Yn(it(),s)}),Ya(()=>{$n(it(),s)})]),...t.extraBehaviours]),eventOrder:{[ur()]:["dialog-events"],[Ta()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Xa()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...t.eventOrder}})},b8=t=>Bo.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:ht([fn.config({}),Dn.config(t.tooltips.getConfig({tooltipText:t.translate("Close")}))]),components:[Ir("close",{tag:"span",classes:["tox-icon"]},t.icons)],action:e=>{Ae(e,yl)}}),y8=(t,e,n,o)=>{const s=r=>[Tn(o.translate(r.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...n.map(r=>({id:r})).getOr({})}},components:[],behaviours:ht([Js.config({channel:`${Ww}-${e}`,initialData:t,renderComponents:s})])}},x8=()=>({dom:Oi('<div class="tox-dialog__draghandle"></div>')}),nX=(t,e,n,o)=>La.sketch({dom:Oi('<div class="tox-dialog__header"></div>'),components:[y8(t,e,m.some(n),o),x8(),b8(o)],containerBehaviours:ht([Lc.config({mode:"mouse",blockerClass:"blocker",getTarget:s=>Ja(s,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}),oX=(t,e,n)=>{const o=mo.parts.title(y8(t,e,m.none(),n)),s=mo.parts.draghandle(x8()),r=mo.parts.close(b8(n)),a=[o].concat(t.draggable?[s]:[]).concat([r]);return La.sketch({dom:Oi('<div class="tox-dialog__header"></div>'),components:a})},S8=(t,e,n)=>oX({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},e,n.shared.providers),w8=(t,e,n,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${o.getOr(0)}px`,position:"absolute"}},behaviours:e,components:[{dom:Oi('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),C8=(t,e,n)=>({onClose:()=>n.closeWindow(),onBlock:o=>{const s=Cn(t().element,".tox-dialog__header").map(r=>ro(r));mo.setBusy(t(),(r,a)=>w8(o.message,a,e,s))},onUnblock:()=>{mo.setIdle(t())}}),T8="tox-dialog--fullscreen",ob="tox-dialog--width-lg",sb="tox-dialog--width-md",Pg=t=>{switch(t){case"large":return m.some(ob);case"medium":return m.some(sb);default:return m.none()}},E8=(t,e)=>{const n=Ct.fromDom(e.element.dom);Ls(n,T8)||(Gr(n,[ob,sb]),Pg(t).each(o=>Yn(n,o)))},O8=(t,e)=>{const n=Ct.fromDom(t.element.dom),o=my(n),s=Me(o,r=>r===ob||r===sb).or(Pg(e));$E(n,[T8,...s.toArray()])},M8=(t,e,n)=>ts(nb({...t,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[ng({}),...t.extraBehaviours],onEscape:o=>{Ae(o,yl)},dialogEvents:e,eventOrder:{[tc()]:[Js.name(),js.name()],[Ta()]:["scroll-lock",Js.name(),"messages","dialog-events","alloy.base.behaviour"],[Xa()]:["alloy.base.behaviour","dialog-events","messages",Js.name(),"scroll-lock"]}})),rb=(t,e={})=>{const n=o=>{const s=mt(o.items,r=>{const a=wt(e,r.name).getOr($t(!1));return{...r,storage:a}});return{...o,items:s}};return mt(t,o=>o.type==="menu"?n(o):o)},A8=t=>vn(t,(e,n)=>n.type==="menu"?vn(n.items,(s,r)=>(s[r.name]=r.storage,s),e):e,{}),D8=(t,e)=>[Jf(wa(),DB),t(im,(n,o,s,r)=>{hu(r.element)&&wi($o(r.element)).each(Zh),e.onClose(),o.onClose()}),t(yl,(n,o,s,r)=>{o.onCancel(n),Ae(r,im)}),at(Tv,(n,o)=>e.onUnblock()),at(Cv,(n,o)=>e.onBlock(o.event))],sX=(t,e)=>{const n=(s,r)=>at(s,(a,i)=>{o(a,(l,u)=>{r(t(),l,i.event,a)})}),o=(s,r)=>{Js.getState(s).get().each(a=>{r(a,s)})};return[...D8(n,e),n(qa,(s,r,a)=>{r.onAction(s,{name:a.name})})]},k8=(t,e,n)=>{const o=(r,a)=>at(r,(i,l)=>{s(i,(u,g)=>{a(t(),u,l.event,i)})}),s=(r,a)=>{Js.getState(r).get().each(i=>{a(i.internalDialog,r)})};return[...D8(o,e),o(lm,(r,a)=>a.onSubmit(r)),o(Fs,(r,a,i)=>{a.onChange(r,{name:i.name})}),o(qa,(r,a,i,l)=>{const u=()=>l.getSystem().isConnected()?Bt.focusIn(l):void 0,g=E=>Bn(E,"disabled")||Be(E,"aria-disabled").exists(A=>A==="true"),b=$o(l.element),x=wi(b);a.onAction(r,{name:i.name,value:i.value}),wi(b).fold(u,E=>{g(E)||x.exists(A=>zr(E,A)&&g(A))?u():n().toOptional().filter(A=>!zr(A.element,E)).each(u)})}),o(ew,(r,a,i)=>{a.onTabChange(r,{newTabName:i.name,oldTabName:i.oldName})}),Ya(r=>{const a=t();At.setValue(r,a.getData())})]},rX=(t,e)=>cg(t,t.type,e),aX=(t,e,n)=>Me(e,o=>o.name===n).bind(o=>o.memento.getOpt(t)),iX=(t,e)=>{const n=e.map(i=>i.footerButtons).getOr([]),o=qn(n,i=>i.align==="start"),s=(i,l)=>La.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${i}`]},components:mt(l,u=>u.memento.asSpec())}),r=s("start",o.pass),a=s("end",o.fail);return[r,a]},I8=(t,e,n)=>{const o=(s,r)=>{const a=mt(r.buttons,l=>{const u=ze(rX(l,n));return{name:l.name,align:l.align,memento:u}}),i=l=>aX(s,a,l);return m.some({lookupByName:i,footerButtons:a})};return{dom:Oi('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ht([Js.config({channel:`${Kw}-${e}`,initialData:t,updateState:o,renderComponents:iX})])}},lX=(t,e,n)=>I8(t,e,n),L8=(t,e,n)=>mo.parts.footer(I8(t,e,n)),Rg=(t,e)=>{if(t.getRoot().getSystem().isConnected()){const o=ke.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Iu.getField(o,e).orThunk(()=>t.getFooter().bind(a=>Js.getState(a).get()).bind(a=>a.lookupByName(e)))}else return m.none()},cX=(t,e)=>{const n=t.getRoot();return Js.getState(n).get().map(o=>Sa(Nn("data",o.dataValidator,e))).getOr(e)},F8=(t,e,n)=>{const o=A=>{const k=t.getRoot();k.getSystem().isConnected()&&A(k)},E={getData:()=>{const A=t.getRoot(),k=A.getSystem().isConnected()?t.getFormWrapper():A,U=At.getValue(k),I=ft(n,N=>N.get());return{...U,...I}},setData:A=>{o(k=>{const U=E.getData(),I=Fn(U,A),N=cX(t,I),z=t.getFormWrapper();At.setValue(z,N),lt(n,(J,Q)=>{jt(I,Q)&&J.set(I[Q])})})},setEnabled:(A,k)=>{Rg(t,A).each(k?Gt.enable:Gt.disable)},focus:A=>{Rg(t,A).each(Qt.focus)},block:A=>{if(!S(A))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o(k=>{_t(k,Cv,{message:A})})},unblock:()=>{o(A=>{Ae(A,Tv)})},showTab:A=>{o(k=>{const U=t.getBody();Js.getState(U).get().exists(N=>N.isTabPanel())&&ke.getCurrent(U).each(N=>{$u.showTab(N,A)})})},redial:A=>{o(k=>{const U=t.getId(),I=e(A),N=rb(I.internalDialog.buttons,n);k.getSystem().broadcastOn([`${og}-${U}`],I),k.getSystem().broadcastOn([`${Ww}-${U}`],I.internalDialog),k.getSystem().broadcastOn([`${Gw}-${U}`],I.internalDialog),k.getSystem().broadcastOn([`${Kw}-${U}`],{...I.internalDialog,buttons:N}),E.setData(I.initialData)})},close:()=>{o(A=>{Ae(A,im)})},toggleFullscreen:t.toggleFullscreen};return E},uX=(t,e,n)=>{const o=Lt("dialog"),s=t.internalDialog,r=S8(s.title,o,n),a=$t(s.size),i=z=>Rg(I,z),l=Pg(a.get()).toArray(),u=(z,J)=>(a.set(J.internalDialog.size),E8(J.internalDialog.size,z),m.some(J)),g=qK({body:s.body,initialData:s.initialData},o,n,i),b=rb(s.buttons),x=A8(b),E=No(b.length!==0,L8({buttons:b},o,n)),A=k8(()=>N,C8(()=>U,n.shared.providers,e),n.shared.getSink),k={id:o,header:r,body:g,footer:E,extraClasses:l,extraBehaviours:[Js.config({channel:`${og}-${o}`,updateState:u,initialData:t})],extraStyles:{}},U=M8(k,A,n),I=(()=>{const z=()=>{const Q=mo.getBody(U);return ke.getCurrent(Q).getOr(Q)},J=()=>{O8(U,a.get())};return{getId:R(o),getRoot:R(U),getBody:()=>mo.getBody(U),getFooter:()=>mo.getFooter(U),getFormWrapper:z,toggleFullscreen:J}})(),N=F8(I,e.redial,x);return{dialog:U,instanceApi:N}},H8=(t,e,n,o=!1,s)=>{const r=Lt("dialog"),a=Lt("dialog-label"),i=Lt("dialog-content"),l=t.internalDialog,u=kt=>Rg(Dt,kt),g=$t(l.size),b=Pg(g.get()).toArray(),x=(kt,bt)=>(g.set(bt.internalDialog.size),E8(bt.internalDialog.size,kt),s(),m.some(bt)),E=ze(nX({title:l.title,draggable:!0},r,a,n.shared.providers)),A=ze(QK({body:l.body,initialData:l.initialData},r,i,n,o,u)),k=rb(l.buttons),U=A8(k),I=No(k.length!==0,ze(lX({buttons:k},r,n))),N=k8(()=>nt,{onBlock:kt=>{Ha.block(Q,(bt,It)=>{const ye=E.getOpt(Q).map(tn=>ro(tn.element));return w8(kt.message,It,n.shared.providers,ye)})},onUnblock:()=>{Ha.unblock(Q)},onClose:()=>e.closeWindow()},n.shared.getSink),z="tox-dialog-inline",J=ls().os,Q=ts({dom:{tag:"div",classes:["tox-dialog",z,...b],attributes:{role:"dialog",...J.isMacOS()?{"aria-label":l.title}:{"aria-labelledby":a}}},eventOrder:{[tc()]:[Js.name(),js.name()],[ur()]:["execute-on-form"],[Ta()]:["reflecting","execute-on-form"]},behaviours:ht([Bt.config({mode:"cyclic",onEscape:kt=>(Ae(kt,im),m.some(!0)),useTabstopAt:kt=>!dm(kt)&&(oo(kt)!=="button"||fe(kt,"disabled")!=="disabled"),firstTabstop:1}),Js.config({channel:`${og}-${r}`,updateState:x,initialData:t}),Qt.config({}),le("execute-on-form",N.concat([iu(wa(),(kt,bt)=>{Bt.focusIn(kt)}),at(Fh(),(kt,bt)=>{kt.getSystem().broadcastOn([sg],{newFocus:bt.event.newFocus})})])),Ha.config({getRoot:()=>m.some(Q)}),se.config({}),ng({})]),components:[E.asSpec(),A.asSpec(),...I.map(kt=>kt.asSpec()).toArray()]}),gt=()=>{O8(Q,g.get())},Dt={getId:R(r),getRoot:R(Q),getFooter:()=>I.map(kt=>kt.get(Q)),getBody:()=>A.get(Q),getFormWrapper:()=>{const kt=A.get(Q);return ke.getCurrent(kt).getOr(kt)},toggleFullscreen:gt},nt=F8(Dt,e.redial,U);return{dialog:Q,instanceApi:nt}};var ab=tinymce.util.Tools.resolve("tinymce.util.URI");const dX=t=>{const e=a=>{t.getSystem().isConnected()&&a(t)};return{block:a=>{if(!S(a))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");e(i=>{_t(i,Cv,{message:a})})},unblock:()=>{e(a=>{Ae(a,Tv)})},close:()=>{e(a=>{Ae(a,im)})},sendMessage:a=>{e(i=>{i.getSystem().broadcastOn([Xw],a)})}}},mX=["insertContent","setContent","execCommand","close","block","unblock"],P8=t=>p(t)&&mX.indexOf(t.mceAction)!==-1,hX=t=>!P8(t)&&p(t)&&jt(t,"mceAction"),gX=(t,e,n)=>{switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":const o=V(n.ui)?n.ui:!1;t.execCommand(n.cmd,o,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock();break}},fX=(t,e,n,o)=>{const s=Lt("dialog"),r=S8(t.title,s,o),a=tX(t),i=t.buttons.bind(z=>z.length===0?m.none():m.some(L8({buttons:z},s,o))),l=sX(()=>N,C8(()=>I,o.shared.providers,e)),u={...t.height.fold(()=>({}),z=>({height:z+"px","max-height":z+"px"})),...t.width.fold(()=>({}),z=>({width:z+"px","max-width":z+"px"}))},g=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],b=new ab(t.url,{base_uri:new ab(window.location.href)}),x=`${b.protocol}://${b.host}${b.port?":"+b.port:""}`,E=ol(),A=(z,J)=>m.some(J),k=[Js.config({channel:`${og}-${s}`,updateState:A,initialData:t}),le("messages",[xn(()=>{const z=ws(Ct.fromDom(window),"message",J=>{if(b.isSameOrigin(new ab(J.raw.origin))){const Q=J.raw.data;P8(Q)?gX(n,N,Q):hX(Q)&&t.onMessage(N,Q)}});E.set(z)}),Ya(E.clear)]),js.config({channels:{[Xw]:{onReceive:(z,J)=>{Cn(z.element,"iframe").each(Q=>{const gt=Q.dom.contentWindow;W(gt)&&gt.postMessage(J,x)})}}}})],I=M8({id:s,header:r,body:a,footer:i,extraClasses:g,extraBehaviours:k,extraStyles:u},l,o),N=dX(I);return{dialog:I,instanceApi:N}},pX=t=>{const e=t.shared;return{open:(o,s)=>{const r=()=>{mo.hide(u),s()},a=ze(cg({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:m.some("primary"),align:"end",enabled:!0,icon:m.none()},"cancel",t)),i=g8(),l=h8(r,e.providers),u=ts(nb({lazySink:()=>e.getSink(),header:m8(i,l),body:f8(o,e.providers),footer:m.some(p8(v8([],[a.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[at(yl,r)],eventOrder:{}}));mo.show(u);const g=a.get(u);Qt.focus(g)}}},vX=t=>{const e=t.shared;return{open:(o,s)=>{const r=x=>{mo.hide(g),s(x)},a=ze(cg({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:m.some("primary"),align:"end",enabled:!0,icon:m.none()},"submit",t)),i=cg({context:"any",name:"no",text:"No",primary:!1,buttonType:m.some("secondary"),align:"end",enabled:!0,icon:m.none()},"cancel",t),l=g8(),u=h8(()=>r(!1),e.providers),g=ts(nb({lazySink:()=>e.getSink(),header:m8(l,u),body:f8(o,e.providers),footer:m.some(p8(v8([],[i,a.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[at(yl,()=>r(!1)),at(lm,()=>r(!0))],eventOrder:{}}));mo.show(g);const b=a.get(g);Qt.focus(b)}}},R8=(t,e)=>Sa(Nn("data",e,t)),V8=t=>sm(t,".tox-alert-dialog")||sm(t,".tox-confirm-dialog"),bX=(t,e,n)=>e&&n?[]:[An.config({contextual:{lazyContext:()=>m.some(ao(Ct.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:o=>fl(t,o.element).map(r=>({bounds:pc(r),optScrollEnv:m.some({currentScrollTop:r.element.dom.scrollTop,scrollElmTop:or(r.element).top})})).getOrThunk(()=>({bounds:zo(),optScrollEnv:m.none()}))})],yX=t=>{const e=t.editor,n=wu(e),o=pX(t.backstages.dialog),s=vX(t.backstages.dialog),r=(A,k,U)=>{if(!$(k)){if(k.inline==="toolbar")return u(A,t.backstages.popup.shared.anchors.inlineDialog(),U,k);if(k.inline==="bottom")return g(A,t.backstages.popup.shared.anchors.inlineBottomDialog(),U,k);if(k.inline==="cursor")return u(A,t.backstages.popup.shared.anchors.cursor(),U,k)}return l(A,U)},a=(A,k)=>i(A,k),i=(A,k)=>{const U=I=>{const N=fX(I,{closeWindow:()=>{mo.hide(N.dialog),k(N.instanceApi)}},e,t.backstages.dialog);return mo.show(N.dialog),N.instanceApi};return Fc.openUrl(U,A)},l=(A,k)=>{const U=(I,N,z)=>{const J=N,gt=uX({dataValidator:z,initialData:J,internalDialog:I},{redial:Fc.redial,closeWindow:()=>{mo.hide(gt.dialog),k(gt.instanceApi)}},t.backstages.dialog);return mo.show(gt.dialog),gt.instanceApi.setData(J),gt.instanceApi};return Fc.open(U,A)},u=(A,k,U,I)=>{const N=(z,J,Q)=>{const gt=R8(J,Q),Dt=qe(),nt=t.backstages.popup.shared.header.isPositionedAtTop(),kt={dataValidator:Q,initialData:gt,internalDialog:z},bt=()=>Dt.on(Le=>{En.reposition(Le),(!n||!nt)&&An.refresh(Le)}),It=H8(kt,{redial:Fc.redial,closeWindow:()=>{Dt.on(En.hide),e.off("ResizeEditor",bt),Dt.clear(),U(It.instanceApi)}},t.backstages.popup,I.ariaAttrs,bt),ye=ts(En.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:I.persistent?{event:"doNotDismissYet"}:{},...nt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([le("window-manager-inline-events",[at(ec(),(Le,Rt)=>{Ae(It.dialog,yl)})]),...bX(e,n,nt)]),isExtraPart:(Le,Rt)=>V8(Rt)}));Dt.set(ye);const tn=()=>{const Le=e.inline?it():Ct.fromDom(e.getContainer()),Rt=ao(Le);return m.some(Rt)};return En.showWithinBounds(ye,mr(It.dialog),{anchor:k},tn),(!n||!nt)&&(An.refresh(ye),e.on("ResizeEditor",bt)),It.instanceApi.setData(gt),Bt.focusIn(It.dialog),It.instanceApi};return Fc.open(N,A)},g=(A,k,U,I)=>{const N=(z,J,Q)=>{const gt=R8(J,Q),Dt=qe(),nt=t.backstages.popup.shared.header.isPositionedAtTop(),kt={dataValidator:Q,initialData:gt,internalDialog:z},bt=()=>Dt.on(Le=>{En.reposition(Le),An.refresh(Le)}),It=H8(kt,{redial:Fc.redial,closeWindow:()=>{Dt.on(En.hide),e.off("ResizeEditor ScrollWindow ElementScroll",bt),Dt.clear(),U(It.instanceApi)}},t.backstages.popup,I.ariaAttrs,bt),ye=ts(En.sketch({lazySink:t.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:I.persistent?{event:"doNotDismissYet"}:{},...nt?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ht([le("window-manager-inline-events",[at(ec(),(Le,Rt)=>{Ae(It.dialog,yl)})]),An.config({contextual:{lazyContext:()=>m.some(ao(Ct.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Le=>fl(e,Le.element).map(ut=>({bounds:pc(ut),optScrollEnv:m.some({currentScrollTop:ut.element.dom.scrollTop,scrollElmTop:or(ut.element).top})})).getOrThunk(()=>({bounds:zo(),optScrollEnv:m.none()}))})]),isExtraPart:(Le,Rt)=>V8(Rt)}));Dt.set(ye);const tn=()=>t.backstages.popup.shared.getSink().toOptional().bind(Le=>{const Rt=fl(e,Le.element),ut=15,St=Rt.map(Nt=>pc(Nt)).getOr(zo()),Jt=ao(Ct.fromDom(e.getContentAreaContainer())),de=md(Jt,St);return m.some(vo(de.x,de.y,de.width,de.height-ut))});return En.showWithinBounds(ye,mr(It.dialog),{anchor:k},tn),An.refresh(ye),e.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",bt),It.instanceApi.setData(gt),Bt.focusIn(It.dialog),It.instanceApi};return Fc.open(N,A)};return{open:r,openUrl:a,alert:(A,k)=>{o.open(A,k)},close:A=>{A.close()},confirm:(A,k)=>{s.open(A,k)}}},xX=t=>{yx(t),dP(t),Bj(t)};var SX=()=>{Af.add("silver",t=>{xX(t);let e=()=>zo();const{dialogs:n,popups:o,renderUI:s}=XW(t,{getPopupSinkBounds:()=>e()}),r=()=>{const u=s();return fl(t,o.getMothership().element).each(b=>{e=()=>pc(b)}),u};mR.register(t,o.backstage.shared);const a=yX({editor:t,backstages:{popup:o.backstage,dialog:n.backstage}}),i=qe(),l=()=>eF(t,{backstage:o.backstage},o.getMothership(),i);return{renderUI:r,getWindowManagerImpl:R(a),getNotificationManagerImpl:l}})};SX()})();var C7={exports:{}};const pQ=w7(fQ);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function r7(M,h){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(M);h&&(f=f.filter(function(y){return Object.getOwnPropertyDescriptor(M,y).enumerable})),C.push.apply(C,f)}return C}function ii(M){for(var h=1;h<arguments.length;h++){var C=arguments[h]!=null?arguments[h]:{};h%2?r7(Object(C),!0).forEach(function(f){vQ(M,f,C[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):r7(Object(C)).forEach(function(f){Object.defineProperty(M,f,Object.getOwnPropertyDescriptor(C,f))})}return M}function Kg(M){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kg=function(h){return typeof h}:Kg=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},Kg(M)}function vQ(M,h,C){return h in M?Object.defineProperty(M,h,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[h]=C,M}function ca(){return ca=Object.assign||function(M){for(var h=1;h<arguments.length;h++){var C=arguments[h];for(var f in C)Object.prototype.hasOwnProperty.call(C,f)&&(M[f]=C[f])}return M},ca.apply(this,arguments)}function bQ(M,h){if(M==null)return{};var C={},f=Object.keys(M),y,D;for(D=0;D<f.length;D++)y=f[D],!(h.indexOf(y)>=0)&&(C[y]=M[y]);return C}function yQ(M,h){if(M==null)return{};var C=bQ(M,h),f,y;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(M);for(y=0;y<D.length;y++)f=D[y],!(h.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(M,f)&&(C[f]=M[f])}return C}function xQ(M){return SQ(M)||wQ(M)||CQ(M)||TQ()}function SQ(M){if(Array.isArray(M))return Ab(M)}function wQ(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}function CQ(M,h){if(M){if(typeof M=="string")return Ab(M,h);var C=Object.prototype.toString.call(M).slice(8,-1);if(C==="Object"&&M.constructor&&(C=M.constructor.name),C==="Map"||C==="Set")return Array.from(M);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Ab(M,h)}}function Ab(M,h){(h==null||h>M.length)&&(h=M.length);for(var C=0,f=new Array(h);C<h;C++)f[C]=M[C];return f}function TQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var EQ="1.14.0";function Bi(M){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(M)}var Ni=Bi(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),zm=Bi(/Edge/i),a7=Bi(/firefox/i),Rm=Bi(/safari/i)&&!Bi(/chrome/i)&&!Bi(/android/i),T7=Bi(/iP(ad|od|hone)/i),OQ=Bi(/chrome/i)&&Bi(/android/i),E7={capture:!1,passive:!1};function mn(M,h,C){M.addEventListener(h,C,!Ni&&E7)}function on(M,h,C){M.removeEventListener(h,C,!Ni&&E7)}function qg(M,h){if(h){if(h[0]===">"&&(h=h.substring(1)),M)try{if(M.matches)return M.matches(h);if(M.msMatchesSelector)return M.msMatchesSelector(h);if(M.webkitMatchesSelector)return M.webkitMatchesSelector(h)}catch{return!1}return!1}}function MQ(M){return M.host&&M!==document&&M.host.nodeType?M.host:M.parentNode}function Ba(M,h,C,f){if(M){C=C||document;do{if(h!=null&&(h[0]===">"?M.parentNode===C&&qg(M,h):qg(M,h))||f&&M===C)return M;if(M===C)break}while(M=MQ(M))}return null}var i7=/\s+/g;function So(M,h,C){if(M&&h)if(M.classList)M.classList[C?"add":"remove"](h);else{var f=(" "+M.className+" ").replace(i7," ").replace(" "+h+" "," ");M.className=(f+(C?" "+h:"")).replace(i7," ")}}function pe(M,h,C){var f=M&&M.style;if(f){if(C===void 0)return document.defaultView&&document.defaultView.getComputedStyle?C=document.defaultView.getComputedStyle(M,""):M.currentStyle&&(C=M.currentStyle),h===void 0?C:C[h];!(h in f)&&h.indexOf("webkit")===-1&&(h="-webkit-"+h),f[h]=C+(typeof C=="string"?"":"px")}}function Bc(M,h){var C="";if(typeof M=="string")C=M;else do{var f=pe(M,"transform");f&&f!=="none"&&(C=f+" "+C)}while(!h&&(M=M.parentNode));var y=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return y&&new y(C)}function O7(M,h,C){if(M){var f=M.getElementsByTagName(h),y=0,D=f.length;if(C)for(;y<D;y++)C(f[y],y);return f}return[]}function ai(){var M=document.scrollingElement;return M||document.documentElement}function fo(M,h,C,f,y){if(!(!M.getBoundingClientRect&&M!==window)){var D,d,S,p,O,L,F;if(M!==window&&M.parentNode&&M!==ai()?(D=M.getBoundingClientRect(),d=D.top,S=D.left,p=D.bottom,O=D.right,L=D.height,F=D.width):(d=0,S=0,p=window.innerHeight,O=window.innerWidth,L=window.innerHeight,F=window.innerWidth),(h||C)&&M!==window&&(y=y||M.parentNode,!Ni))do if(y&&y.getBoundingClientRect&&(pe(y,"transform")!=="none"||C&&pe(y,"position")!=="static")){var V=y.getBoundingClientRect();d-=V.top+parseInt(pe(y,"border-top-width")),S-=V.left+parseInt(pe(y,"border-left-width")),p=d+D.height,O=S+D.width;break}while(y=y.parentNode);if(f&&M!==window){var $=Bc(y||M),j=$&&$.a,W=$&&$.d;$&&(d/=W,S/=j,F/=j,L/=W,p=d+L,O=S+F)}return{top:d,left:S,bottom:p,right:O,width:F,height:L}}}function l7(M,h,C){for(var f=kl(M,!0),y=fo(M)[h];f;){var D=fo(f)[C],d=void 0;if(d=y>=D,!d)return f;if(f===ai())break;f=kl(f,!1)}return!1}function Qu(M,h,C,f){for(var y=0,D=0,d=M.children;D<d.length;){if(d[D].style.display!=="none"&&d[D]!==Re.ghost&&(f||d[D]!==Re.dragged)&&Ba(d[D],C.draggable,M,!1)){if(y===h)return d[D];y++}D++}return null}function Fb(M,h){for(var C=M.lastElementChild;C&&(C===Re.ghost||pe(C,"display")==="none"||h&&!qg(C,h));)C=C.previousElementSibling;return C||null}function Io(M,h){var C=0;if(!M||!M.parentNode)return-1;for(;M=M.previousElementSibling;)M.nodeName.toUpperCase()!=="TEMPLATE"&&M!==Re.clone&&(!h||qg(M,h))&&C++;return C}function c7(M){var h=0,C=0,f=ai();if(M)do{var y=Bc(M),D=y.a,d=y.d;h+=M.scrollLeft*D,C+=M.scrollTop*d}while(M!==f&&(M=M.parentNode));return[h,C]}function AQ(M,h){for(var C in M)if(M.hasOwnProperty(C)){for(var f in h)if(h.hasOwnProperty(f)&&h[f]===M[C][f])return Number(C)}return-1}function kl(M,h){if(!M||!M.getBoundingClientRect)return ai();var C=M,f=!1;do if(C.clientWidth<C.scrollWidth||C.clientHeight<C.scrollHeight){var y=pe(C);if(C.clientWidth<C.scrollWidth&&(y.overflowX=="auto"||y.overflowX=="scroll")||C.clientHeight<C.scrollHeight&&(y.overflowY=="auto"||y.overflowY=="scroll")){if(!C.getBoundingClientRect||C===document.body)return ai();if(f||h)return C;f=!0}}while(C=C.parentNode);return ai()}function DQ(M,h){if(M&&h)for(var C in h)h.hasOwnProperty(C)&&(M[C]=h[C]);return M}function hb(M,h){return Math.round(M.top)===Math.round(h.top)&&Math.round(M.left)===Math.round(h.left)&&Math.round(M.height)===Math.round(h.height)&&Math.round(M.width)===Math.round(h.width)}var Vm;function M7(M,h){return function(){if(!Vm){var C=arguments,f=this;C.length===1?M.call(f,C[0]):M.apply(f,C),Vm=setTimeout(function(){Vm=void 0},h)}}}function kQ(){clearTimeout(Vm),Vm=void 0}function A7(M,h,C){M.scrollLeft+=h,M.scrollTop+=C}function Hb(M){var h=window.Polymer,C=window.jQuery||window.Zepto;return h&&h.dom?h.dom(M).cloneNode(!0):C?C(M).clone(!0)[0]:M.cloneNode(!0)}function u7(M,h){pe(M,"position","absolute"),pe(M,"top",h.top),pe(M,"left",h.left),pe(M,"width",h.width),pe(M,"height",h.height)}function gb(M){pe(M,"position",""),pe(M,"top",""),pe(M,"left",""),pe(M,"width",""),pe(M,"height","")}var Zs="Sortable"+new Date().getTime();function IQ(){var M=[],h;return{captureAnimationState:function(){if(M=[],!!this.options.animation){var f=[].slice.call(this.el.children);f.forEach(function(y){if(!(pe(y,"display")==="none"||y===Re.ghost)){M.push({target:y,rect:fo(y)});var D=ii({},M[M.length-1].rect);if(y.thisAnimationDuration){var d=Bc(y,!0);d&&(D.top-=d.f,D.left-=d.e)}y.fromRect=D}})}},addAnimationState:function(f){M.push(f)},removeAnimationState:function(f){M.splice(AQ(M,{target:f}),1)},animateAll:function(f){var y=this;if(!this.options.animation){clearTimeout(h),typeof f=="function"&&f();return}var D=!1,d=0;M.forEach(function(S){var p=0,O=S.target,L=O.fromRect,F=fo(O),V=O.prevFromRect,$=O.prevToRect,j=S.rect,W=Bc(O,!0);W&&(F.top-=W.f,F.left-=W.e),O.toRect=F,O.thisAnimationDuration&&hb(V,F)&&!hb(L,F)&&(j.top-F.top)/(j.left-F.left)===(L.top-F.top)/(L.left-F.left)&&(p=FQ(j,V,$,y.options)),hb(F,L)||(O.prevFromRect=L,O.prevToRect=F,p||(p=y.options.animation),y.animate(O,j,F,p)),p&&(D=!0,d=Math.max(d,p),clearTimeout(O.animationResetTimer),O.animationResetTimer=setTimeout(function(){O.animationTime=0,O.prevFromRect=null,O.fromRect=null,O.prevToRect=null,O.thisAnimationDuration=null},p),O.thisAnimationDuration=p)}),clearTimeout(h),D?h=setTimeout(function(){typeof f=="function"&&f()},d):typeof f=="function"&&f(),M=[]},animate:function(f,y,D,d){if(d){pe(f,"transition",""),pe(f,"transform","");var S=Bc(this.el),p=S&&S.a,O=S&&S.d,L=(y.left-D.left)/(p||1),F=(y.top-D.top)/(O||1);f.animatingX=!!L,f.animatingY=!!F,pe(f,"transform","translate3d("+L+"px,"+F+"px,0)"),this.forRepaintDummy=LQ(f),pe(f,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:"")),pe(f,"transform","translate3d(0,0,0)"),typeof f.animated=="number"&&clearTimeout(f.animated),f.animated=setTimeout(function(){pe(f,"transition",""),pe(f,"transform",""),f.animated=!1,f.animatingX=!1,f.animatingY=!1},d)}}}}function LQ(M){return M.offsetWidth}function FQ(M,h,C,f){return Math.sqrt(Math.pow(h.top-M.top,2)+Math.pow(h.left-M.left,2))/Math.sqrt(Math.pow(h.top-C.top,2)+Math.pow(h.left-C.left,2))*f.animation}var Gu=[],fb={initializeByDefault:!0},Zm={mount:function(h){for(var C in fb)fb.hasOwnProperty(C)&&!(C in h)&&(h[C]=fb[C]);Gu.forEach(function(f){if(f.pluginName===h.pluginName)throw"Sortable: Cannot mount plugin ".concat(h.pluginName," more than once")}),Gu.push(h)},pluginEvent:function(h,C,f){var y=this;this.eventCanceled=!1,f.cancel=function(){y.eventCanceled=!0};var D=h+"Global";Gu.forEach(function(d){C[d.pluginName]&&(C[d.pluginName][D]&&C[d.pluginName][D](ii({sortable:C},f)),C.options[d.pluginName]&&C[d.pluginName][h]&&C[d.pluginName][h](ii({sortable:C},f)))})},initializePlugins:function(h,C,f,y){Gu.forEach(function(S){var p=S.pluginName;if(!(!h.options[p]&&!S.initializeByDefault)){var O=new S(h,C,h.options);O.sortable=h,O.options=h.options,h[p]=O,ca(f,O.defaults)}});for(var D in h.options)if(h.options.hasOwnProperty(D)){var d=this.modifyOption(h,D,h.options[D]);typeof d<"u"&&(h.options[D]=d)}},getEventProperties:function(h,C){var f={};return Gu.forEach(function(y){typeof y.eventProperties=="function"&&ca(f,y.eventProperties.call(C[y.pluginName],h))}),f},modifyOption:function(h,C,f){var y;return Gu.forEach(function(D){h[D.pluginName]&&D.optionListeners&&typeof D.optionListeners[C]=="function"&&(y=D.optionListeners[C].call(h[D.pluginName],f))}),y}};function Lm(M){var h=M.sortable,C=M.rootEl,f=M.name,y=M.targetEl,D=M.cloneEl,d=M.toEl,S=M.fromEl,p=M.oldIndex,O=M.newIndex,L=M.oldDraggableIndex,F=M.newDraggableIndex,V=M.originalEvent,$=M.putSortable,j=M.extraEventProperties;if(h=h||C&&C[Zs],!!h){var W,Y=h.options,rt="on"+f.charAt(0).toUpperCase()+f.substr(1);window.CustomEvent&&!Ni&&!zm?W=new CustomEvent(f,{bubbles:!0,cancelable:!0}):(W=document.createEvent("Event"),W.initEvent(f,!0,!0)),W.to=d||C,W.from=S||C,W.item=y||C,W.clone=D,W.oldIndex=p,W.newIndex=O,W.oldDraggableIndex=L,W.newDraggableIndex=F,W.originalEvent=V,W.pullMode=$?$.lastPutMode:void 0;var K=ii(ii({},j),Zm.getEventProperties(f,h));for(var _ in K)W[_]=K[_];C&&C.dispatchEvent(W),Y[rt]&&Y[rt].call(h,W)}}var HQ=["evt"],br=function(h,C){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=f.evt,D=yQ(f,HQ);Zm.pluginEvent.bind(Re)(h,C,ii({dragEl:Kt,parentEl:Do,ghostEl:Ye,rootEl:go,nextEl:Vc,lastDownEl:Xg,cloneEl:ko,cloneHidden:Dl,dragStarted:Fm,putSortable:As,activeSortable:Re.active,originalEvent:y,oldIndex:Ju,oldDraggableIndex:Bm,newIndex:Vr,newDraggableIndex:Al,hideGhostForTarget:L7,unhideGhostForTarget:F7,cloneNowHidden:function(){Dl=!0},cloneNowShown:function(){Dl=!1},dispatchSortableEvent:function(S){Qs({sortable:C,name:S,originalEvent:y})}},D))};function Qs(M){Lm(ii({putSortable:As,cloneEl:ko,targetEl:Kt,rootEl:go,oldIndex:Ju,oldDraggableIndex:Bm,newIndex:Vr,newDraggableIndex:Al},M))}var Kt,Do,Ye,go,Vc,Xg,ko,Dl,Ju,Vr,Bm,Al,zg,As,Yu=!1,tf=!1,ef=[],Pc,Ra,pb,vb,d7,m7,Fm,Ku,Nm,$m=!1,Zg=!1,Yg,$s,bb=[],Db=!1,nf=[],sf=typeof document<"u",Ug=T7,h7=zm||Ni?"cssFloat":"float",PQ=sf&&!OQ&&!T7&&"draggable"in document.createElement("div"),D7=function(){if(sf){if(Ni)return!1;var M=document.createElement("x");return M.style.cssText="pointer-events:auto",M.style.pointerEvents==="auto"}}(),k7=function(h,C){var f=pe(h),y=parseInt(f.width)-parseInt(f.paddingLeft)-parseInt(f.paddingRight)-parseInt(f.borderLeftWidth)-parseInt(f.borderRightWidth),D=Qu(h,0,C),d=Qu(h,1,C),S=D&&pe(D),p=d&&pe(d),O=S&&parseInt(S.marginLeft)+parseInt(S.marginRight)+fo(D).width,L=p&&parseInt(p.marginLeft)+parseInt(p.marginRight)+fo(d).width;if(f.display==="flex")return f.flexDirection==="column"||f.flexDirection==="column-reverse"?"vertical":"horizontal";if(f.display==="grid")return f.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(D&&S.float&&S.float!=="none"){var F=S.float==="left"?"left":"right";return d&&(p.clear==="both"||p.clear===F)?"vertical":"horizontal"}return D&&(S.display==="block"||S.display==="flex"||S.display==="table"||S.display==="grid"||O>=y&&f[h7]==="none"||d&&f[h7]==="none"&&O+L>y)?"vertical":"horizontal"},RQ=function(h,C,f){var y=f?h.left:h.top,D=f?h.right:h.bottom,d=f?h.width:h.height,S=f?C.left:C.top,p=f?C.right:C.bottom,O=f?C.width:C.height;return y===S||D===p||y+d/2===S+O/2},VQ=function(h,C){var f;return ef.some(function(y){var D=y[Zs].options.emptyInsertThreshold;if(!(!D||Fb(y))){var d=fo(y),S=h>=d.left-D&&h<=d.right+D,p=C>=d.top-D&&C<=d.bottom+D;if(S&&p)return f=y}}),f},I7=function(h){function C(D,d){return function(S,p,O,L){var F=S.options.group.name&&p.options.group.name&&S.options.group.name===p.options.group.name;if(D==null&&(d||F))return!0;if(D==null||D===!1)return!1;if(d&&D==="clone")return D;if(typeof D=="function")return C(D(S,p,O,L),d)(S,p,O,L);var V=(d?S:p).options.group.name;return D===!0||typeof D=="string"&&D===V||D.join&&D.indexOf(V)>-1}}var f={},y=h.group;(!y||Kg(y)!="object")&&(y={name:y}),f.name=y.name,f.checkPull=C(y.pull,!0),f.checkPut=C(y.put),f.revertClone=y.revertClone,h.group=f},L7=function(){!D7&&Ye&&pe(Ye,"display","none")},F7=function(){!D7&&Ye&&pe(Ye,"display","")};sf&&document.addEventListener("click",function(M){if(tf)return M.preventDefault(),M.stopPropagation&&M.stopPropagation(),M.stopImmediatePropagation&&M.stopImmediatePropagation(),tf=!1,!1},!0);var Rc=function(h){if(Kt){h=h.touches?h.touches[0]:h;var C=VQ(h.clientX,h.clientY);if(C){var f={};for(var y in h)h.hasOwnProperty(y)&&(f[y]=h[y]);f.target=f.rootEl=C,f.preventDefault=void 0,f.stopPropagation=void 0,C[Zs]._onDragOver(f)}}},BQ=function(h){Kt&&Kt.parentNode[Zs]._isOutsideThisEl(h.target)};function Re(M,h){if(!(M&&M.nodeType&&M.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(M));this.el=M,this.options=h=ca({},h),M[Zs]=this;var C={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(M.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return k7(M,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(d,S){d.setData("Text",S.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Re.supportPointer!==!1&&"PointerEvent"in window&&!Rm,emptyInsertThreshold:5};Zm.initializePlugins(this,M,C);for(var f in C)!(f in h)&&(h[f]=C[f]);I7(h);for(var y in this)y.charAt(0)==="_"&&typeof this[y]=="function"&&(this[y]=this[y].bind(this));this.nativeDraggable=h.forceFallback?!1:PQ,this.nativeDraggable&&(this.options.touchStartThreshold=1),h.supportPointer?mn(M,"pointerdown",this._onTapStart):(mn(M,"mousedown",this._onTapStart),mn(M,"touchstart",this._onTapStart)),this.nativeDraggable&&(mn(M,"dragover",this),mn(M,"dragenter",this)),ef.push(this.el),h.store&&h.store.get&&this.sort(h.store.get(this)||[]),ca(this,IQ())}Re.prototype={constructor:Re,_isOutsideThisEl:function(h){!this.el.contains(h)&&h!==this.el&&(Ku=null)},_getDirection:function(h,C){return typeof this.options.direction=="function"?this.options.direction.call(this,h,C,Kt):this.options.direction},_onTapStart:function(h){if(h.cancelable){var C=this,f=this.el,y=this.options,D=y.preventOnFilter,d=h.type,S=h.touches&&h.touches[0]||h.pointerType&&h.pointerType==="touch"&&h,p=(S||h).target,O=h.target.shadowRoot&&(h.path&&h.path[0]||h.composedPath&&h.composedPath()[0])||p,L=y.filter;if(WQ(f),!Kt&&!(/mousedown|pointerdown/.test(d)&&h.button!==0||y.disabled)&&!O.isContentEditable&&!(!this.nativeDraggable&&Rm&&p&&p.tagName.toUpperCase()==="SELECT")&&(p=Ba(p,y.draggable,f,!1),!(p&&p.animated)&&Xg!==p)){if(Ju=Io(p),Bm=Io(p,y.draggable),typeof L=="function"){if(L.call(this,h,p,this)){Qs({sortable:C,rootEl:O,name:"filter",targetEl:p,toEl:f,fromEl:f}),br("filter",C,{evt:h}),D&&h.cancelable&&h.preventDefault();return}}else if(L&&(L=L.split(",").some(function(F){if(F=Ba(O,F.trim(),f,!1),F)return Qs({sortable:C,rootEl:F,name:"filter",targetEl:p,fromEl:f,toEl:f}),br("filter",C,{evt:h}),!0}),L)){D&&h.cancelable&&h.preventDefault();return}y.handle&&!Ba(O,y.handle,f,!1)||this._prepareDragStart(h,S,p)}}},_prepareDragStart:function(h,C,f){var y=this,D=y.el,d=y.options,S=D.ownerDocument,p;if(f&&!Kt&&f.parentNode===D){var O=fo(f);if(go=D,Kt=f,Do=Kt.parentNode,Vc=Kt.nextSibling,Xg=f,zg=d.group,Re.dragged=Kt,Pc={target:Kt,clientX:(C||h).clientX,clientY:(C||h).clientY},d7=Pc.clientX-O.left,m7=Pc.clientY-O.top,this._lastX=(C||h).clientX,this._lastY=(C||h).clientY,Kt.style["will-change"]="all",p=function(){if(br("delayEnded",y,{evt:h}),Re.eventCanceled){y._onDrop();return}y._disableDelayedDragEvents(),!a7&&y.nativeDraggable&&(Kt.draggable=!0),y._triggerDragStart(h,C),Qs({sortable:y,name:"choose",originalEvent:h}),So(Kt,d.chosenClass,!0)},d.ignore.split(",").forEach(function(L){O7(Kt,L.trim(),yb)}),mn(S,"dragover",Rc),mn(S,"mousemove",Rc),mn(S,"touchmove",Rc),mn(S,"mouseup",y._onDrop),mn(S,"touchend",y._onDrop),mn(S,"touchcancel",y._onDrop),a7&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Kt.draggable=!0),br("delayStart",this,{evt:h}),d.delay&&(!d.delayOnTouchOnly||C)&&(!this.nativeDraggable||!(zm||Ni))){if(Re.eventCanceled){this._onDrop();return}mn(S,"mouseup",y._disableDelayedDrag),mn(S,"touchend",y._disableDelayedDrag),mn(S,"touchcancel",y._disableDelayedDrag),mn(S,"mousemove",y._delayedDragTouchMoveHandler),mn(S,"touchmove",y._delayedDragTouchMoveHandler),d.supportPointer&&mn(S,"pointermove",y._delayedDragTouchMoveHandler),y._dragStartTimer=setTimeout(p,d.delay)}else p()}},_delayedDragTouchMoveHandler:function(h){var C=h.touches?h.touches[0]:h;Math.max(Math.abs(C.clientX-this._lastX),Math.abs(C.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Kt&&yb(Kt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var h=this.el.ownerDocument;on(h,"mouseup",this._disableDelayedDrag),on(h,"touchend",this._disableDelayedDrag),on(h,"touchcancel",this._disableDelayedDrag),on(h,"mousemove",this._delayedDragTouchMoveHandler),on(h,"touchmove",this._delayedDragTouchMoveHandler),on(h,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(h,C){C=C||h.pointerType=="touch"&&h,!this.nativeDraggable||C?this.options.supportPointer?mn(document,"pointermove",this._onTouchMove):C?mn(document,"touchmove",this._onTouchMove):mn(document,"mousemove",this._onTouchMove):(mn(Kt,"dragend",this),mn(go,"dragstart",this._onDragStart));try{document.selection?Jg(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(h,C){if(Yu=!1,go&&Kt){br("dragStarted",this,{evt:C}),this.nativeDraggable&&mn(document,"dragover",BQ);var f=this.options;!h&&So(Kt,f.dragClass,!1),So(Kt,f.ghostClass,!0),Re.active=this,h&&this._appendGhost(),Qs({sortable:this,name:"start",originalEvent:C})}else this._nulling()},_emulateDragOver:function(){if(Ra){this._lastX=Ra.clientX,this._lastY=Ra.clientY,L7();for(var h=document.elementFromPoint(Ra.clientX,Ra.clientY),C=h;h&&h.shadowRoot&&(h=h.shadowRoot.elementFromPoint(Ra.clientX,Ra.clientY),h!==C);)C=h;if(Kt.parentNode[Zs]._isOutsideThisEl(h),C)do{if(C[Zs]){var f=void 0;if(f=C[Zs]._onDragOver({clientX:Ra.clientX,clientY:Ra.clientY,target:h,rootEl:C}),f&&!this.options.dragoverBubble)break}h=C}while(C=C.parentNode);F7()}},_onTouchMove:function(h){if(Pc){var C=this.options,f=C.fallbackTolerance,y=C.fallbackOffset,D=h.touches?h.touches[0]:h,d=Ye&&Bc(Ye,!0),S=Ye&&d&&d.a,p=Ye&&d&&d.d,O=Ug&&$s&&c7($s),L=(D.clientX-Pc.clientX+y.x)/(S||1)+(O?O[0]-bb[0]:0)/(S||1),F=(D.clientY-Pc.clientY+y.y)/(p||1)+(O?O[1]-bb[1]:0)/(p||1);if(!Re.active&&!Yu){if(f&&Math.max(Math.abs(D.clientX-this._lastX),Math.abs(D.clientY-this._lastY))<f)return;this._onDragStart(h,!0)}if(Ye){d?(d.e+=L-(pb||0),d.f+=F-(vb||0)):d={a:1,b:0,c:0,d:1,e:L,f:F};var V="matrix(".concat(d.a,",").concat(d.b,",").concat(d.c,",").concat(d.d,",").concat(d.e,",").concat(d.f,")");pe(Ye,"webkitTransform",V),pe(Ye,"mozTransform",V),pe(Ye,"msTransform",V),pe(Ye,"transform",V),pb=L,vb=F,Ra=D}h.cancelable&&h.preventDefault()}},_appendGhost:function(){if(!Ye){var h=this.options.fallbackOnBody?document.body:go,C=fo(Kt,!0,Ug,!0,h),f=this.options;if(Ug){for($s=h;pe($s,"position")==="static"&&pe($s,"transform")==="none"&&$s!==document;)$s=$s.parentNode;$s!==document.body&&$s!==document.documentElement?($s===document&&($s=ai()),C.top+=$s.scrollTop,C.left+=$s.scrollLeft):$s=ai(),bb=c7($s)}Ye=Kt.cloneNode(!0),So(Ye,f.ghostClass,!1),So(Ye,f.fallbackClass,!0),So(Ye,f.dragClass,!0),pe(Ye,"transition",""),pe(Ye,"transform",""),pe(Ye,"box-sizing","border-box"),pe(Ye,"margin",0),pe(Ye,"top",C.top),pe(Ye,"left",C.left),pe(Ye,"width",C.width),pe(Ye,"height",C.height),pe(Ye,"opacity","0.8"),pe(Ye,"position",Ug?"absolute":"fixed"),pe(Ye,"zIndex","100000"),pe(Ye,"pointerEvents","none"),Re.ghost=Ye,h.appendChild(Ye),pe(Ye,"transform-origin",d7/parseInt(Ye.style.width)*100+"% "+m7/parseInt(Ye.style.height)*100+"%")}},_onDragStart:function(h,C){var f=this,y=h.dataTransfer,D=f.options;if(br("dragStart",this,{evt:h}),Re.eventCanceled){this._onDrop();return}br("setupClone",this),Re.eventCanceled||(ko=Hb(Kt),ko.draggable=!1,ko.style["will-change"]="",this._hideClone(),So(ko,this.options.chosenClass,!1),Re.clone=ko),f.cloneId=Jg(function(){br("clone",f),!Re.eventCanceled&&(f.options.removeCloneOnHide||go.insertBefore(ko,Kt),f._hideClone(),Qs({sortable:f,name:"clone"}))}),!C&&So(Kt,D.dragClass,!0),C?(tf=!0,f._loopId=setInterval(f._emulateDragOver,50)):(on(document,"mouseup",f._onDrop),on(document,"touchend",f._onDrop),on(document,"touchcancel",f._onDrop),y&&(y.effectAllowed="move",D.setData&&D.setData.call(f,y,Kt)),mn(document,"drop",f),pe(Kt,"transform","translateZ(0)")),Yu=!0,f._dragStartId=Jg(f._dragStarted.bind(f,C,h)),mn(document,"selectstart",f),Fm=!0,Rm&&pe(document.body,"user-select","none")},_onDragOver:function(h){var C=this.el,f=h.target,y,D,d,S=this.options,p=S.group,O=Re.active,L=zg===p,F=S.sort,V=As||O,$,j=this,W=!1;if(Db)return;function Y(We,Oe){br(We,j,ii({evt:h,isOwner:L,axis:$?"vertical":"horizontal",revert:d,dragRect:y,targetRect:D,canSort:F,fromSortable:V,target:f,completed:K,onMove:function(ln,me){return _g(go,C,Kt,y,ln,fo(ln),h,me)},changed:_},Oe))}function rt(){Y("dragOverAnimationCapture"),j.captureAnimationState(),j!==V&&V.captureAnimationState()}function K(We){return Y("dragOverCompleted",{insertion:We}),We&&(L?O._hideClone():O._showClone(j),j!==V&&(So(Kt,As?As.options.ghostClass:O.options.ghostClass,!1),So(Kt,S.ghostClass,!0)),As!==j&&j!==Re.active?As=j:j===Re.active&&As&&(As=null),V===j&&(j._ignoreWhileAnimating=f),j.animateAll(function(){Y("dragOverAnimationComplete"),j._ignoreWhileAnimating=null}),j!==V&&(V.animateAll(),V._ignoreWhileAnimating=null)),(f===Kt&&!Kt.animated||f===C&&!f.animated)&&(Ku=null),!S.dragoverBubble&&!h.rootEl&&f!==document&&(Kt.parentNode[Zs]._isOutsideThisEl(h.target),!We&&Rc(h)),!S.dragoverBubble&&h.stopPropagation&&h.stopPropagation(),W=!0}function _(){Vr=Io(Kt),Al=Io(Kt,S.draggable),Qs({sortable:j,name:"change",toEl:C,newIndex:Vr,newDraggableIndex:Al,originalEvent:h})}if(h.preventDefault!==void 0&&h.cancelable&&h.preventDefault(),f=Ba(f,S.draggable,C,!0),Y("dragOver"),Re.eventCanceled)return W;if(Kt.contains(h.target)||f.animated&&f.animatingX&&f.animatingY||j._ignoreWhileAnimating===f)return K(!1);if(tf=!1,O&&!S.disabled&&(L?F||(d=Do!==go):As===this||(this.lastPutMode=zg.checkPull(this,O,Kt,h))&&p.checkPut(this,O,Kt,h))){if($=this._getDirection(h,f)==="vertical",y=fo(Kt),Y("dragOverValid"),Re.eventCanceled)return W;if(d)return Do=go,rt(),this._hideClone(),Y("revert"),Re.eventCanceled||(Vc?go.insertBefore(Kt,Vc):go.appendChild(Kt)),K(!0);var et=Fb(C,S.draggable);if(!et||ZQ(h,$,this)&&!et.animated){if(et===Kt)return K(!1);if(et&&C===h.target&&(f=et),f&&(D=fo(f)),_g(go,C,Kt,y,f,D,h,!!f)!==!1)return rt(),C.appendChild(Kt),Do=C,_(),K(!0)}else if(et&&zQ(h,$,this)){var Tt=Qu(C,0,S,!0);if(Tt===Kt)return K(!1);if(f=Tt,D=fo(f),_g(go,C,Kt,y,f,D,h,!1)!==!1)return rt(),C.insertBefore(Kt,Tt),Do=C,_(),K(!0)}else if(f.parentNode===C){D=fo(f);var vt=0,R,Ot=Kt.parentNode!==C,pt=!RQ(Kt.animated&&Kt.toRect||y,f.animated&&f.toRect||D,$),Ft=$?"top":"left",Zt=l7(f,"top","top")||l7(Kt,"top","top"),re=Zt?Zt.scrollTop:void 0;Ku!==f&&(R=D[Ft],$m=!1,Zg=!pt&&S.invertSwap||Ot),vt=UQ(h,f,D,$,pt?1:S.swapThreshold,S.invertedSwapThreshold==null?S.swapThreshold:S.invertedSwapThreshold,Zg,Ku===f);var Ht;if(vt!==0){var yt=Io(Kt);do yt-=vt,Ht=Do.children[yt];while(Ht&&(pe(Ht,"display")==="none"||Ht===Ye))}if(vt===0||Ht===f)return K(!1);Ku=f,Nm=vt;var Ut=f.nextElementSibling,m=!1;m=vt===1;var ue=_g(go,C,Kt,y,f,D,h,m);if(ue!==!1)return(ue===1||ue===-1)&&(m=ue===1),Db=!0,setTimeout($Q,30),rt(),m&&!Ut?C.appendChild(Kt):f.parentNode.insertBefore(Kt,m?Ut:f),Zt&&A7(Zt,0,re-Zt.scrollTop),Do=Kt.parentNode,R!==void 0&&!Zg&&(Yg=Math.abs(R-fo(f)[Ft])),_(),K(!0)}if(C.contains(Kt))return K(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){on(document,"mousemove",this._onTouchMove),on(document,"touchmove",this._onTouchMove),on(document,"pointermove",this._onTouchMove),on(document,"dragover",Rc),on(document,"mousemove",Rc),on(document,"touchmove",Rc)},_offUpEvents:function(){var h=this.el.ownerDocument;on(h,"mouseup",this._onDrop),on(h,"touchend",this._onDrop),on(h,"pointerup",this._onDrop),on(h,"touchcancel",this._onDrop),on(document,"selectstart",this)},_onDrop:function(h){var C=this.el,f=this.options;if(Vr=Io(Kt),Al=Io(Kt,f.draggable),br("drop",this,{evt:h}),Do=Kt&&Kt.parentNode,Vr=Io(Kt),Al=Io(Kt,f.draggable),Re.eventCanceled){this._nulling();return}Yu=!1,Zg=!1,$m=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kb(this.cloneId),kb(this._dragStartId),this.nativeDraggable&&(on(document,"drop",this),on(C,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rm&&pe(document.body,"user-select",""),pe(Kt,"transform",""),h&&(Fm&&(h.cancelable&&h.preventDefault(),!f.dropBubble&&h.stopPropagation()),Ye&&Ye.parentNode&&Ye.parentNode.removeChild(Ye),(go===Do||As&&As.lastPutMode!=="clone")&&ko&&ko.parentNode&&ko.parentNode.removeChild(ko),Kt&&(this.nativeDraggable&&on(Kt,"dragend",this),yb(Kt),Kt.style["will-change"]="",Fm&&!Yu&&So(Kt,As?As.options.ghostClass:this.options.ghostClass,!1),So(Kt,this.options.chosenClass,!1),Qs({sortable:this,name:"unchoose",toEl:Do,newIndex:null,newDraggableIndex:null,originalEvent:h}),go!==Do?(Vr>=0&&(Qs({rootEl:Do,name:"add",toEl:Do,fromEl:go,originalEvent:h}),Qs({sortable:this,name:"remove",toEl:Do,originalEvent:h}),Qs({rootEl:Do,name:"sort",toEl:Do,fromEl:go,originalEvent:h}),Qs({sortable:this,name:"sort",toEl:Do,originalEvent:h})),As&&As.save()):Vr!==Ju&&Vr>=0&&(Qs({sortable:this,name:"update",toEl:Do,originalEvent:h}),Qs({sortable:this,name:"sort",toEl:Do,originalEvent:h})),Re.active&&((Vr==null||Vr===-1)&&(Vr=Ju,Al=Bm),Qs({sortable:this,name:"end",toEl:Do,originalEvent:h}),this.save()))),this._nulling()},_nulling:function(){br("nulling",this),go=Kt=Do=Ye=Vc=ko=Xg=Dl=Pc=Ra=Fm=Vr=Al=Ju=Bm=Ku=Nm=As=zg=Re.dragged=Re.ghost=Re.clone=Re.active=null,nf.forEach(function(h){h.checked=!0}),nf.length=pb=vb=0},handleEvent:function(h){switch(h.type){case"drop":case"dragend":this._onDrop(h);break;case"dragenter":case"dragover":Kt&&(this._onDragOver(h),NQ(h));break;case"selectstart":h.preventDefault();break}},toArray:function(){for(var h=[],C,f=this.el.children,y=0,D=f.length,d=this.options;y<D;y++)C=f[y],Ba(C,d.draggable,this.el,!1)&&h.push(C.getAttribute(d.dataIdAttr)||jQ(C));return h},sort:function(h,C){var f={},y=this.el;this.toArray().forEach(function(D,d){var S=y.children[d];Ba(S,this.options.draggable,y,!1)&&(f[D]=S)},this),C&&this.captureAnimationState(),h.forEach(function(D){f[D]&&(y.removeChild(f[D]),y.appendChild(f[D]))}),C&&this.animateAll()},save:function(){var h=this.options.store;h&&h.set&&h.set(this)},closest:function(h,C){return Ba(h,C||this.options.draggable,this.el,!1)},option:function(h,C){var f=this.options;if(C===void 0)return f[h];var y=Zm.modifyOption(this,h,C);typeof y<"u"?f[h]=y:f[h]=C,h==="group"&&I7(f)},destroy:function(){br("destroy",this);var h=this.el;h[Zs]=null,on(h,"mousedown",this._onTapStart),on(h,"touchstart",this._onTapStart),on(h,"pointerdown",this._onTapStart),this.nativeDraggable&&(on(h,"dragover",this),on(h,"dragenter",this)),Array.prototype.forEach.call(h.querySelectorAll("[draggable]"),function(C){C.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ef.splice(ef.indexOf(this.el),1),this.el=h=null},_hideClone:function(){if(!Dl){if(br("hideClone",this),Re.eventCanceled)return;pe(ko,"display","none"),this.options.removeCloneOnHide&&ko.parentNode&&ko.parentNode.removeChild(ko),Dl=!0}},_showClone:function(h){if(h.lastPutMode!=="clone"){this._hideClone();return}if(Dl){if(br("showClone",this),Re.eventCanceled)return;Kt.parentNode==go&&!this.options.group.revertClone?go.insertBefore(ko,Kt):Vc?go.insertBefore(ko,Vc):go.appendChild(ko),this.options.group.revertClone&&this.animate(Kt,ko),pe(ko,"display",""),Dl=!1}}};function NQ(M){M.dataTransfer&&(M.dataTransfer.dropEffect="move"),M.cancelable&&M.preventDefault()}function _g(M,h,C,f,y,D,d,S){var p,O=M[Zs],L=O.options.onMove,F;return window.CustomEvent&&!Ni&&!zm?p=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent("move",!0,!0)),p.to=h,p.from=M,p.dragged=C,p.draggedRect=f,p.related=y||h,p.relatedRect=D||fo(h),p.willInsertAfter=S,p.originalEvent=d,M.dispatchEvent(p),L&&(F=L.call(O,p,d)),F}function yb(M){M.draggable=!1}function $Q(){Db=!1}function zQ(M,h,C){var f=fo(Qu(C.el,0,C.options,!0)),y=10;return h?M.clientX<f.left-y||M.clientY<f.top&&M.clientX<f.right:M.clientY<f.top-y||M.clientY<f.bottom&&M.clientX<f.left}function ZQ(M,h,C){var f=fo(Fb(C.el,C.options.draggable)),y=10;return h?M.clientX>f.right+y||M.clientX<=f.right&&M.clientY>f.bottom&&M.clientX>=f.left:M.clientX>f.right&&M.clientY>f.top||M.clientX<=f.right&&M.clientY>f.bottom+y}function UQ(M,h,C,f,y,D,d,S){var p=f?M.clientY:M.clientX,O=f?C.height:C.width,L=f?C.top:C.left,F=f?C.bottom:C.right,V=!1;if(!d){if(S&&Yg<O*y){if(!$m&&(Nm===1?p>L+O*D/2:p<F-O*D/2)&&($m=!0),$m)V=!0;else if(Nm===1?p<L+Yg:p>F-Yg)return-Nm}else if(p>L+O*(1-y)/2&&p<F-O*(1-y)/2)return _Q(h)}return V=V||d,V&&(p<L+O*D/2||p>F-O*D/2)?p>L+O/2?1:-1:0}function _Q(M){return Io(Kt)<Io(M)?1:-1}function jQ(M){for(var h=M.tagName+M.className+M.src+M.href+M.textContent,C=h.length,f=0;C--;)f+=h.charCodeAt(C);return f.toString(36)}function WQ(M){nf.length=0;for(var h=M.getElementsByTagName("input"),C=h.length;C--;){var f=h[C];f.checked&&nf.push(f)}}function Jg(M){return setTimeout(M,0)}function kb(M){return clearTimeout(M)}sf&&mn(document,"touchmove",function(M){(Re.active||Yu)&&M.cancelable&&M.preventDefault()});Re.utils={on:mn,off:on,css:pe,find:O7,is:function(h,C){return!!Ba(h,C,h,!1)},extend:DQ,throttle:M7,closest:Ba,toggleClass:So,clone:Hb,index:Io,nextTick:Jg,cancelNextTick:kb,detectDirection:k7,getChild:Qu};Re.get=function(M){return M[Zs]};Re.mount=function(){for(var M=arguments.length,h=new Array(M),C=0;C<M;C++)h[C]=arguments[C];h[0].constructor===Array&&(h=h[0]),h.forEach(function(f){if(!f.prototype||!f.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(f));f.utils&&(Re.utils=ii(ii({},Re.utils),f.utils)),Zm.mount(f)})};Re.create=function(M,h){return new Re(M,h)};Re.version=EQ;var Xo=[],Hm,Ib,Lb=!1,xb,Sb,of,Pm;function GQ(){function M(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var h in this)h.charAt(0)==="_"&&typeof this[h]=="function"&&(this[h]=this[h].bind(this))}return M.prototype={dragStarted:function(C){var f=C.originalEvent;this.sortable.nativeDraggable?mn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?mn(document,"pointermove",this._handleFallbackAutoScroll):f.touches?mn(document,"touchmove",this._handleFallbackAutoScroll):mn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(C){var f=C.originalEvent;!this.options.dragOverBubble&&!f.rootEl&&this._handleAutoScroll(f)},drop:function(){this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):(on(document,"pointermove",this._handleFallbackAutoScroll),on(document,"touchmove",this._handleFallbackAutoScroll),on(document,"mousemove",this._handleFallbackAutoScroll)),g7(),Qg(),kQ()},nulling:function(){of=Ib=Hm=Lb=Pm=xb=Sb=null,Xo.length=0},_handleFallbackAutoScroll:function(C){this._handleAutoScroll(C,!0)},_handleAutoScroll:function(C,f){var y=this,D=(C.touches?C.touches[0]:C).clientX,d=(C.touches?C.touches[0]:C).clientY,S=document.elementFromPoint(D,d);if(of=C,f||this.options.forceAutoScrollFallback||zm||Ni||Rm){wb(C,this.options,S,f);var p=kl(S,!0);Lb&&(!Pm||D!==xb||d!==Sb)&&(Pm&&g7(),Pm=setInterval(function(){var O=kl(document.elementFromPoint(D,d),!0);O!==p&&(p=O,Qg()),wb(C,y.options,O,f)},10),xb=D,Sb=d)}else{if(!this.options.bubbleScroll||kl(S,!0)===ai()){Qg();return}wb(C,this.options,kl(S,!1),!1)}}},ca(M,{pluginName:"scroll",initializeByDefault:!0})}function Qg(){Xo.forEach(function(M){clearInterval(M.pid)}),Xo=[]}function g7(){clearInterval(Pm)}var wb=M7(function(M,h,C,f){if(h.scroll){var y=(M.touches?M.touches[0]:M).clientX,D=(M.touches?M.touches[0]:M).clientY,d=h.scrollSensitivity,S=h.scrollSpeed,p=ai(),O=!1,L;Ib!==C&&(Ib=C,Qg(),Hm=h.scroll,L=h.scrollFn,Hm===!0&&(Hm=kl(C,!0)));var F=0,V=Hm;do{var $=V,j=fo($),W=j.top,Y=j.bottom,rt=j.left,K=j.right,_=j.width,et=j.height,Tt=void 0,vt=void 0,R=$.scrollWidth,Ot=$.scrollHeight,pt=pe($),Ft=$.scrollLeft,Zt=$.scrollTop;$===p?(Tt=_<R&&(pt.overflowX==="auto"||pt.overflowX==="scroll"||pt.overflowX==="visible"),vt=et<Ot&&(pt.overflowY==="auto"||pt.overflowY==="scroll"||pt.overflowY==="visible")):(Tt=_<R&&(pt.overflowX==="auto"||pt.overflowX==="scroll"),vt=et<Ot&&(pt.overflowY==="auto"||pt.overflowY==="scroll"));var re=Tt&&(Math.abs(K-y)<=d&&Ft+_<R)-(Math.abs(rt-y)<=d&&!!Ft),Ht=vt&&(Math.abs(Y-D)<=d&&Zt+et<Ot)-(Math.abs(W-D)<=d&&!!Zt);if(!Xo[F])for(var yt=0;yt<=F;yt++)Xo[yt]||(Xo[yt]={});(Xo[F].vx!=re||Xo[F].vy!=Ht||Xo[F].el!==$)&&(Xo[F].el=$,Xo[F].vx=re,Xo[F].vy=Ht,clearInterval(Xo[F].pid),(re!=0||Ht!=0)&&(O=!0,Xo[F].pid=setInterval((function(){f&&this.layer===0&&Re.active._onTouchMove(of);var Ut=Xo[this.layer].vy?Xo[this.layer].vy*S:0,m=Xo[this.layer].vx?Xo[this.layer].vx*S:0;typeof L=="function"&&L.call(Re.dragged.parentNode[Zs],m,Ut,M,of,Xo[this.layer].el)!=="continue"||A7(Xo[this.layer].el,m,Ut)}).bind({layer:F}),24))),F++}while(h.bubbleScroll&&V!==p&&(V=kl(V,!1)));Lb=O}},30),H7=function(h){var C=h.originalEvent,f=h.putSortable,y=h.dragEl,D=h.activeSortable,d=h.dispatchSortableEvent,S=h.hideGhostForTarget,p=h.unhideGhostForTarget;if(C){var O=f||D;S();var L=C.changedTouches&&C.changedTouches.length?C.changedTouches[0]:C,F=document.elementFromPoint(L.clientX,L.clientY);p(),O&&!O.el.contains(F)&&(d("spill"),this.onSpill({dragEl:y,putSortable:f}))}};function Pb(){}Pb.prototype={startIndex:null,dragStart:function(h){var C=h.oldDraggableIndex;this.startIndex=C},onSpill:function(h){var C=h.dragEl,f=h.putSortable;this.sortable.captureAnimationState(),f&&f.captureAnimationState();var y=Qu(this.sortable.el,this.startIndex,this.options);y?this.sortable.el.insertBefore(C,y):this.sortable.el.appendChild(C),this.sortable.animateAll(),f&&f.animateAll()},drop:H7};ca(Pb,{pluginName:"revertOnSpill"});function Rb(){}Rb.prototype={onSpill:function(h){var C=h.dragEl,f=h.putSortable,y=f||this.sortable;y.captureAnimationState(),C.parentNode&&C.parentNode.removeChild(C),y.animateAll()},drop:H7};ca(Rb,{pluginName:"removeOnSpill"});var la;function KQ(){function M(){this.defaults={swapClass:"sortable-swap-highlight"}}return M.prototype={dragStart:function(C){var f=C.dragEl;la=f},dragOverValid:function(C){var f=C.completed,y=C.target,D=C.onMove,d=C.activeSortable,S=C.changed,p=C.cancel;if(d.options.swap){var O=this.sortable.el,L=this.options;if(y&&y!==O){var F=la;D(y)!==!1?(So(y,L.swapClass,!0),la=y):la=null,F&&F!==la&&So(F,L.swapClass,!1)}S(),f(!0),p()}},drop:function(C){var f=C.activeSortable,y=C.putSortable,D=C.dragEl,d=y||this.sortable,S=this.options;la&&So(la,S.swapClass,!1),la&&(S.swap||y&&y.options.swap)&&D!==la&&(d.captureAnimationState(),d!==f&&f.captureAnimationState(),XQ(D,la),d.animateAll(),d!==f&&f.animateAll())},nulling:function(){la=null}},ca(M,{pluginName:"swap",eventProperties:function(){return{swapItem:la}}})}function XQ(M,h){var C=M.parentNode,f=h.parentNode,y,D;!C||!f||C.isEqualNode(h)||f.isEqualNode(M)||(y=Io(M),D=Io(h),C.isEqualNode(f)&&y<D&&D++,C.insertBefore(h,C.children[y]),f.insertBefore(M,f.children[D]))}var je=[],Rr=[],Am,Va,Dm=!1,yr=!1,Xu=!1,Qn,km,jg;function YQ(){function M(h){for(var C in this)C.charAt(0)==="_"&&typeof this[C]=="function"&&(this[C]=this[C].bind(this));h.options.supportPointer?mn(document,"pointerup",this._deselectMultiDrag):(mn(document,"mouseup",this._deselectMultiDrag),mn(document,"touchend",this._deselectMultiDrag)),mn(document,"keydown",this._checkKeyDown),mn(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(y,D){var d="";je.length&&Va===h?je.forEach(function(S,p){d+=(p?", ":"")+S.textContent}):d=D.textContent,y.setData("Text",d)}}}return M.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(C){var f=C.dragEl;Qn=f},delayEnded:function(){this.isMultiDrag=~je.indexOf(Qn)},setupClone:function(C){var f=C.sortable,y=C.cancel;if(this.isMultiDrag){for(var D=0;D<je.length;D++)Rr.push(Hb(je[D])),Rr[D].sortableIndex=je[D].sortableIndex,Rr[D].draggable=!1,Rr[D].style["will-change"]="",So(Rr[D],this.options.selectedClass,!1),je[D]===Qn&&So(Rr[D],this.options.chosenClass,!1);f._hideClone(),y()}},clone:function(C){var f=C.sortable,y=C.rootEl,D=C.dispatchSortableEvent,d=C.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||je.length&&Va===f&&(f7(!0,y),D("clone"),d()))},showClone:function(C){var f=C.cloneNowShown,y=C.rootEl,D=C.cancel;this.isMultiDrag&&(f7(!1,y),Rr.forEach(function(d){pe(d,"display","")}),f(),jg=!1,D())},hideClone:function(C){var f=this;C.sortable;var y=C.cloneNowHidden,D=C.cancel;this.isMultiDrag&&(Rr.forEach(function(d){pe(d,"display","none"),f.options.removeCloneOnHide&&d.parentNode&&d.parentNode.removeChild(d)}),y(),jg=!0,D())},dragStartGlobal:function(C){C.sortable,!this.isMultiDrag&&Va&&Va.multiDrag._deselectMultiDrag(),je.forEach(function(f){f.sortableIndex=Io(f)}),je=je.sort(function(f,y){return f.sortableIndex-y.sortableIndex}),Xu=!0},dragStarted:function(C){var f=this,y=C.sortable;if(this.isMultiDrag){if(this.options.sort&&(y.captureAnimationState(),this.options.animation)){je.forEach(function(d){d!==Qn&&pe(d,"position","absolute")});var D=fo(Qn,!1,!0,!0);je.forEach(function(d){d!==Qn&&u7(d,D)}),yr=!0,Dm=!0}y.animateAll(function(){yr=!1,Dm=!1,f.options.animation&&je.forEach(function(d){gb(d)}),f.options.sort&&Wg()})}},dragOver:function(C){var f=C.target,y=C.completed,D=C.cancel;yr&&~je.indexOf(f)&&(y(!1),D())},revert:function(C){var f=C.fromSortable,y=C.rootEl,D=C.sortable,d=C.dragRect;je.length>1&&(je.forEach(function(S){D.addAnimationState({target:S,rect:yr?fo(S):d}),gb(S),S.fromRect=d,f.removeAnimationState(S)}),yr=!1,JQ(!this.options.removeCloneOnHide,y))},dragOverCompleted:function(C){var f=C.sortable,y=C.isOwner,D=C.insertion,d=C.activeSortable,S=C.parentEl,p=C.putSortable,O=this.options;if(D){if(y&&d._hideClone(),Dm=!1,O.animation&&je.length>1&&(yr||!y&&!d.options.sort&&!p)){var L=fo(Qn,!1,!0,!0);je.forEach(function(V){V!==Qn&&(u7(V,L),S.appendChild(V))}),yr=!0}if(!y)if(yr||Wg(),je.length>1){var F=jg;d._showClone(f),d.options.animation&&!jg&&F&&Rr.forEach(function(V){d.addAnimationState({target:V,rect:km}),V.fromRect=km,V.thisAnimationDuration=null})}else d._showClone(f)}},dragOverAnimationCapture:function(C){var f=C.dragRect,y=C.isOwner,D=C.activeSortable;if(je.forEach(function(S){S.thisAnimationDuration=null}),D.options.animation&&!y&&D.multiDrag.isMultiDrag){km=ca({},f);var d=Bc(Qn,!0);km.top-=d.f,km.left-=d.e}},dragOverAnimationComplete:function(){yr&&(yr=!1,Wg())},drop:function(C){var f=C.originalEvent,y=C.rootEl,D=C.parentEl,d=C.sortable,S=C.dispatchSortableEvent,p=C.oldIndex,O=C.putSortable,L=O||this.sortable;if(f){var F=this.options,V=D.children;if(!Xu)if(F.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),So(Qn,F.selectedClass,!~je.indexOf(Qn)),~je.indexOf(Qn))je.splice(je.indexOf(Qn),1),Am=null,Lm({sortable:d,rootEl:y,name:"deselect",targetEl:Qn,originalEvt:f});else{if(je.push(Qn),Lm({sortable:d,rootEl:y,name:"select",targetEl:Qn,originalEvt:f}),f.shiftKey&&Am&&d.el.contains(Am)){var $=Io(Am),j=Io(Qn);if(~$&&~j&&$!==j){var W,Y;for(j>$?(Y=$,W=j):(Y=j,W=$+1);Y<W;Y++)~je.indexOf(V[Y])||(So(V[Y],F.selectedClass,!0),je.push(V[Y]),Lm({sortable:d,rootEl:y,name:"select",targetEl:V[Y],originalEvt:f}))}}else Am=Qn;Va=L}if(Xu&&this.isMultiDrag){if(yr=!1,(D[Zs].options.sort||D!==y)&&je.length>1){var rt=fo(Qn),K=Io(Qn,":not(."+this.options.selectedClass+")");if(!Dm&&F.animation&&(Qn.thisAnimationDuration=null),L.captureAnimationState(),!Dm&&(F.animation&&(Qn.fromRect=rt,je.forEach(function(et){if(et.thisAnimationDuration=null,et!==Qn){var Tt=yr?fo(et):rt;et.fromRect=Tt,L.addAnimationState({target:et,rect:Tt})}})),Wg(),je.forEach(function(et){V[K]?D.insertBefore(et,V[K]):D.appendChild(et),K++}),p===Io(Qn))){var _=!1;je.forEach(function(et){if(et.sortableIndex!==Io(et)){_=!0;return}}),_&&S("update")}je.forEach(function(et){gb(et)}),L.animateAll()}Va=L}(y===D||O&&O.lastPutMode!=="clone")&&Rr.forEach(function(et){et.parentNode&&et.parentNode.removeChild(et)})}},nullingGlobal:function(){this.isMultiDrag=Xu=!1,Rr.length=0},destroyGlobal:function(){this._deselectMultiDrag(),on(document,"pointerup",this._deselectMultiDrag),on(document,"mouseup",this._deselectMultiDrag),on(document,"touchend",this._deselectMultiDrag),on(document,"keydown",this._checkKeyDown),on(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(C){if(!(typeof Xu<"u"&&Xu)&&Va===this.sortable&&!(C&&Ba(C.target,this.options.draggable,this.sortable.el,!1))&&!(C&&C.button!==0))for(;je.length;){var f=je[0];So(f,this.options.selectedClass,!1),je.shift(),Lm({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:f,originalEvt:C})}},_checkKeyDown:function(C){C.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(C){C.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ca(M,{pluginName:"multiDrag",utils:{select:function(C){var f=C.parentNode[Zs];!f||!f.options.multiDrag||~je.indexOf(C)||(Va&&Va!==f&&(Va.multiDrag._deselectMultiDrag(),Va=f),So(C,f.options.selectedClass,!0),je.push(C))},deselect:function(C){var f=C.parentNode[Zs],y=je.indexOf(C);!f||!f.options.multiDrag||!~y||(So(C,f.options.selectedClass,!1),je.splice(y,1))}},eventProperties:function(){var C=this,f=[],y=[];return je.forEach(function(D){f.push({multiDragElement:D,index:D.sortableIndex});var d;yr&&D!==Qn?d=-1:yr?d=Io(D,":not(."+C.options.selectedClass+")"):d=Io(D),y.push({multiDragElement:D,index:d})}),{items:xQ(je),clones:[].concat(Rr),oldIndicies:f,newIndicies:y}},optionListeners:{multiDragKey:function(C){return C=C.toLowerCase(),C==="ctrl"?C="Control":C.length>1&&(C=C.charAt(0).toUpperCase()+C.substr(1)),C}}})}function JQ(M,h){je.forEach(function(C,f){var y=h.children[C.sortableIndex+(M?Number(f):0)];y?h.insertBefore(C,y):h.appendChild(C)})}function f7(M,h){Rr.forEach(function(C,f){var y=h.children[C.sortableIndex+(M?Number(f):0)];y?h.insertBefore(C,y):h.appendChild(C)})}function Wg(){je.forEach(function(M){M!==Qn&&M.parentNode&&M.parentNode.removeChild(M)})}Re.mount(new GQ);Re.mount(Rb,Pb);const QQ=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:YQ,Sortable:Re,Swap:KQ,default:Re},Symbol.toStringTag,{value:"Module"})),qQ=w7(QQ);(function(M,h){(function(f,y){M.exports=y(pQ,qQ)})(typeof self<"u"?self:mQ,function(C,f){return function(y){var D={};function d(S){if(D[S])return D[S].exports;var p=D[S]={i:S,l:!1,exports:{}};return y[S].call(p.exports,p,p.exports,d),p.l=!0,p.exports}return d.m=y,d.c=D,d.d=function(S,p,O){d.o(S,p)||Object.defineProperty(S,p,{enumerable:!0,get:O})},d.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},d.t=function(S,p){if(p&1&&(S=d(S)),p&8||p&4&&typeof S=="object"&&S&&S.__esModule)return S;var O=Object.create(null);if(d.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:S}),p&2&&typeof S!="string")for(var L in S)d.d(O,L,(function(F){return S[F]}).bind(null,L));return O},d.n=function(S){var p=S&&S.__esModule?function(){return S.default}:function(){return S};return d.d(p,"a",p),p},d.o=function(S,p){return Object.prototype.hasOwnProperty.call(S,p)},d.p="",d(d.s="fb15")}({"00ee":function(y,D,d){var S=d("b622"),p=S("toStringTag"),O={};O[p]="z",y.exports=String(O)==="[object z]"},"0366":function(y,D,d){var S=d("1c0b");y.exports=function(p,O,L){if(S(p),O===void 0)return p;switch(L){case 0:return function(){return p.call(O)};case 1:return function(F){return p.call(O,F)};case 2:return function(F,V){return p.call(O,F,V)};case 3:return function(F,V,$){return p.call(O,F,V,$)}}return function(){return p.apply(O,arguments)}}},"057f":function(y,D,d){var S=d("fc6a"),p=d("241c").f,O={}.toString,L=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],F=function(V){try{return p(V)}catch{return L.slice()}};y.exports.f=function($){return L&&O.call($)=="[object Window]"?F($):p(S($))}},"06cf":function(y,D,d){var S=d("83ab"),p=d("d1e7"),O=d("5c6c"),L=d("fc6a"),F=d("c04e"),V=d("5135"),$=d("0cfb"),j=Object.getOwnPropertyDescriptor;D.f=S?j:function(Y,rt){if(Y=L(Y),rt=F(rt,!0),$)try{return j(Y,rt)}catch{}if(V(Y,rt))return O(!p.f.call(Y,rt),Y[rt])}},"0cfb":function(y,D,d){var S=d("83ab"),p=d("d039"),O=d("cc12");y.exports=!S&&!p(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(y,D,d){var S=d("23e7"),p=d("d58f").left,O=d("a640"),L=d("ae40"),F=O("reduce"),V=L("reduce",{1:0});S({target:"Array",proto:!0,forced:!F||!V},{reduce:function(j){return p(this,j,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(y,D,d){var S=d("c6b6"),p=d("9263");y.exports=function(O,L){var F=O.exec;if(typeof F=="function"){var V=F.call(O,L);if(typeof V!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return V}if(S(O)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return p.call(O,L)}},"159b":function(y,D,d){var S=d("da84"),p=d("fdbc"),O=d("17c2"),L=d("9112");for(var F in p){var V=S[F],$=V&&V.prototype;if($&&$.forEach!==O)try{L($,"forEach",O)}catch{$.forEach=O}}},"17c2":function(y,D,d){var S=d("b727").forEach,p=d("a640"),O=d("ae40"),L=p("forEach"),F=O("forEach");y.exports=!L||!F?function($){return S(this,$,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(y,D,d){var S=d("d066");y.exports=S("document","documentElement")},"1c0b":function(y,D){y.exports=function(d){if(typeof d!="function")throw TypeError(String(d)+" is not a function");return d}},"1c7e":function(y,D,d){var S=d("b622"),p=S("iterator"),O=!1;try{var L=0,F={next:function(){return{done:!!L++}},return:function(){O=!0}};F[p]=function(){return this},Array.from(F,function(){throw 2})}catch{}y.exports=function(V,$){if(!$&&!O)return!1;var j=!1;try{var W={};W[p]=function(){return{next:function(){return{done:j=!0}}}},V(W)}catch{}return j}},"1d80":function(y,D){y.exports=function(d){if(d==null)throw TypeError("Can't call method on "+d);return d}},"1dde":function(y,D,d){var S=d("d039"),p=d("b622"),O=d("2d00"),L=p("species");y.exports=function(F){return O>=51||!S(function(){var V=[],$=V.constructor={};return $[L]=function(){return{foo:1}},V[F](Boolean).foo!==1})}},"23cb":function(y,D,d){var S=d("a691"),p=Math.max,O=Math.min;y.exports=function(L,F){var V=S(L);return V<0?p(V+F,0):O(V,F)}},"23e7":function(y,D,d){var S=d("da84"),p=d("06cf").f,O=d("9112"),L=d("6eeb"),F=d("ce4e"),V=d("e893"),$=d("94ca");y.exports=function(j,W){var Y=j.target,rt=j.global,K=j.stat,_,et,Tt,vt,R,Ot;if(rt?et=S:K?et=S[Y]||F(Y,{}):et=(S[Y]||{}).prototype,et)for(Tt in W){if(R=W[Tt],j.noTargetGet?(Ot=p(et,Tt),vt=Ot&&Ot.value):vt=et[Tt],_=$(rt?Tt:Y+(K?".":"#")+Tt,j.forced),!_&&vt!==void 0){if(typeof R==typeof vt)continue;V(R,vt)}(j.sham||vt&&vt.sham)&&O(R,"sham",!0),L(et,Tt,R,j)}}},"241c":function(y,D,d){var S=d("ca84"),p=d("7839"),O=p.concat("length","prototype");D.f=Object.getOwnPropertyNames||function(F){return S(F,O)}},"25f0":function(y,D,d){var S=d("6eeb"),p=d("825a"),O=d("d039"),L=d("ad6d"),F="toString",V=RegExp.prototype,$=V[F],j=O(function(){return $.call({source:"a",flags:"b"})!="/a/b"}),W=$.name!=F;(j||W)&&S(RegExp.prototype,F,function(){var rt=p(this),K=String(rt.source),_=rt.flags,et=String(_===void 0&&rt instanceof RegExp&&!("flags"in V)?L.call(rt):_);return"/"+K+"/"+et},{unsafe:!0})},"2ca0":function(y,D,d){var S=d("23e7"),p=d("06cf").f,O=d("50c4"),L=d("5a34"),F=d("1d80"),V=d("ab13"),$=d("c430"),j="".startsWith,W=Math.min,Y=V("startsWith"),rt=!$&&!Y&&!!function(){var K=p(String.prototype,"startsWith");return K&&!K.writable}();S({target:"String",proto:!0,forced:!rt&&!Y},{startsWith:function(_){var et=String(F(this));L(_);var Tt=O(W(arguments.length>1?arguments[1]:void 0,et.length)),vt=String(_);return j?j.call(et,vt,Tt):et.slice(Tt,Tt+vt.length)===vt}})},"2d00":function(y,D,d){var S=d("da84"),p=d("342f"),O=S.process,L=O&&O.versions,F=L&&L.v8,V,$;F?(V=F.split("."),$=V[0]+V[1]):p&&(V=p.match(/Edge\/(\d+)/),(!V||V[1]>=74)&&(V=p.match(/Chrome\/(\d+)/),V&&($=V[1]))),y.exports=$&&+$},"342f":function(y,D,d){var S=d("d066");y.exports=S("navigator","userAgent")||""},"35a1":function(y,D,d){var S=d("f5df"),p=d("3f8c"),O=d("b622"),L=O("iterator");y.exports=function(F){if(F!=null)return F[L]||F["@@iterator"]||p[S(F)]}},"37e8":function(y,D,d){var S=d("83ab"),p=d("9bf2"),O=d("825a"),L=d("df75");y.exports=S?Object.defineProperties:function(V,$){O(V);for(var j=L($),W=j.length,Y=0,rt;W>Y;)p.f(V,rt=j[Y++],$[rt]);return V}},"3bbe":function(y,D,d){var S=d("861d");y.exports=function(p){if(!S(p)&&p!==null)throw TypeError("Can't set "+String(p)+" as a prototype");return p}},"3ca3":function(y,D,d){var S=d("6547").charAt,p=d("69f3"),O=d("7dd0"),L="String Iterator",F=p.set,V=p.getterFor(L);O(String,"String",function($){F(this,{type:L,string:String($),index:0})},function(){var j=V(this),W=j.string,Y=j.index,rt;return Y>=W.length?{value:void 0,done:!0}:(rt=S(W,Y),j.index+=rt.length,{value:rt,done:!1})})},"3f8c":function(y,D){y.exports={}},4160:function(y,D,d){var S=d("23e7"),p=d("17c2");S({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},"428f":function(y,D,d){var S=d("da84");y.exports=S},"44ad":function(y,D,d){var S=d("d039"),p=d("c6b6"),O="".split;y.exports=S(function(){return!Object("z").propertyIsEnumerable(0)})?function(L){return p(L)=="String"?O.call(L,""):Object(L)}:Object},"44d2":function(y,D,d){var S=d("b622"),p=d("7c73"),O=d("9bf2"),L=S("unscopables"),F=Array.prototype;F[L]==null&&O.f(F,L,{configurable:!0,value:p(null)}),y.exports=function(V){F[L][V]=!0}},"44e7":function(y,D,d){var S=d("861d"),p=d("c6b6"),O=d("b622"),L=O("match");y.exports=function(F){var V;return S(F)&&((V=F[L])!==void 0?!!V:p(F)=="RegExp")}},4930:function(y,D,d){var S=d("d039");y.exports=!!Object.getOwnPropertySymbols&&!S(function(){return!String(Symbol())})},"4d64":function(y,D,d){var S=d("fc6a"),p=d("50c4"),O=d("23cb"),L=function(F){return function(V,$,j){var W=S(V),Y=p(W.length),rt=O(j,Y),K;if(F&&$!=$){for(;Y>rt;)if(K=W[rt++],K!=K)return!0}else for(;Y>rt;rt++)if((F||rt in W)&&W[rt]===$)return F||rt||0;return!F&&-1}};y.exports={includes:L(!0),indexOf:L(!1)}},"4de4":function(y,D,d){var S=d("23e7"),p=d("b727").filter,O=d("1dde"),L=d("ae40"),F=O("filter"),V=L("filter");S({target:"Array",proto:!0,forced:!F||!V},{filter:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(y,D,d){var S=d("0366"),p=d("7b0b"),O=d("9bdd"),L=d("e95a"),F=d("50c4"),V=d("8418"),$=d("35a1");y.exports=function(W){var Y=p(W),rt=typeof this=="function"?this:Array,K=arguments.length,_=K>1?arguments[1]:void 0,et=_!==void 0,Tt=$(Y),vt=0,R,Ot,pt,Ft,Zt,re;if(et&&(_=S(_,K>2?arguments[2]:void 0,2)),Tt!=null&&!(rt==Array&&L(Tt)))for(Ft=Tt.call(Y),Zt=Ft.next,Ot=new rt;!(pt=Zt.call(Ft)).done;vt++)re=et?O(Ft,_,[pt.value,vt],!0):pt.value,V(Ot,vt,re);else for(R=F(Y.length),Ot=new rt(R);R>vt;vt++)re=et?_(Y[vt],vt):Y[vt],V(Ot,vt,re);return Ot.length=vt,Ot}},"4fad":function(y,D,d){var S=d("23e7"),p=d("6f53").entries;S({target:"Object",stat:!0},{entries:function(L){return p(L)}})},"50c4":function(y,D,d){var S=d("a691"),p=Math.min;y.exports=function(O){return O>0?p(S(O),9007199254740991):0}},5135:function(y,D){var d={}.hasOwnProperty;y.exports=function(S,p){return d.call(S,p)}},5319:function(y,D,d){var S=d("d784"),p=d("825a"),O=d("7b0b"),L=d("50c4"),F=d("a691"),V=d("1d80"),$=d("8aa5"),j=d("14c3"),W=Math.max,Y=Math.min,rt=Math.floor,K=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g,et=function(Tt){return Tt===void 0?Tt:String(Tt)};S("replace",2,function(Tt,vt,R,Ot){var pt=Ot.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,Ft=Ot.REPLACE_KEEPS_$0,Zt=pt?"$":"$0";return[function(yt,Ut){var m=V(this),ue=yt==null?void 0:yt[Tt];return ue!==void 0?ue.call(yt,m,Ut):vt.call(String(m),yt,Ut)},function(Ht,yt){if(!pt&&Ft||typeof yt=="string"&&yt.indexOf(Zt)===-1){var Ut=R(vt,Ht,this,yt);if(Ut.done)return Ut.value}var m=p(Ht),ue=String(this),We=typeof yt=="function";We||(yt=String(yt));var Oe=m.global;if(Oe){var Hn=m.unicode;m.lastIndex=0}for(var ln=[];;){var me=j(m,ue);if(me===null||(ln.push(me),!Oe))break;var Ge=String(me[0]);Ge===""&&(m.lastIndex=$(ue,L(m.lastIndex),Hn))}for(var On="",kn=0,mt=0;mt<ln.length;mt++){me=ln[mt];for(var Mt=String(me[0]),Lo=W(Y(F(me.index),ue.length),0),qn=[],Ve=1;Ve<me.length;Ve++)qn.push(et(me[Ve]));var cn=me.groups;if(We){var vn=[Mt].concat(qn,Lo,ue);cn!==void 0&&vn.push(cn);var to=String(yt.apply(void 0,vn))}else to=re(Mt,ue,Lo,qn,cn,yt);Lo>=kn&&(On+=ue.slice(kn,Lo)+to,kn=Lo+Mt.length)}return On+ue.slice(kn)}];function re(Ht,yt,Ut,m,ue,We){var Oe=Ut+Ht.length,Hn=m.length,ln=_;return ue!==void 0&&(ue=O(ue),ln=K),vt.call(We,ln,function(me,Ge){var On;switch(Ge.charAt(0)){case"$":return"$";case"&":return Ht;case"`":return yt.slice(0,Ut);case"'":return yt.slice(Oe);case"<":On=ue[Ge.slice(1,-1)];break;default:var kn=+Ge;if(kn===0)return me;if(kn>Hn){var mt=rt(kn/10);return mt===0?me:mt<=Hn?m[mt-1]===void 0?Ge.charAt(1):m[mt-1]+Ge.charAt(1):me}On=m[kn-1]}return On===void 0?"":On})}})},5692:function(y,D,d){var S=d("c430"),p=d("c6cd");(y.exports=function(O,L){return p[O]||(p[O]=L!==void 0?L:{})})("versions",[]).push({version:"3.6.5",mode:S?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(y,D,d){var S=d("d066"),p=d("241c"),O=d("7418"),L=d("825a");y.exports=S("Reflect","ownKeys")||function(V){var $=p.f(L(V)),j=O.f;return j?$.concat(j(V)):$}},"5a34":function(y,D,d){var S=d("44e7");y.exports=function(p){if(S(p))throw TypeError("The method doesn't accept regular expressions");return p}},"5c6c":function(y,D){y.exports=function(d,S){return{enumerable:!(d&1),configurable:!(d&2),writable:!(d&4),value:S}}},"5db7":function(y,D,d){var S=d("23e7"),p=d("a2bf"),O=d("7b0b"),L=d("50c4"),F=d("1c0b"),V=d("65f0");S({target:"Array",proto:!0},{flatMap:function(j){var W=O(this),Y=L(W.length),rt;return F(j),rt=V(W,0),rt.length=p(rt,W,W,Y,0,1,j,arguments.length>1?arguments[1]:void 0),rt}})},6547:function(y,D,d){var S=d("a691"),p=d("1d80"),O=function(L){return function(F,V){var $=String(p(F)),j=S(V),W=$.length,Y,rt;return j<0||j>=W?L?"":void 0:(Y=$.charCodeAt(j),Y<55296||Y>56319||j+1===W||(rt=$.charCodeAt(j+1))<56320||rt>57343?L?$.charAt(j):Y:L?$.slice(j,j+2):(Y-55296<<10)+(rt-56320)+65536)}};y.exports={codeAt:O(!1),charAt:O(!0)}},"65f0":function(y,D,d){var S=d("861d"),p=d("e8b5"),O=d("b622"),L=O("species");y.exports=function(F,V){var $;return p(F)&&($=F.constructor,typeof $=="function"&&($===Array||p($.prototype))?$=void 0:S($)&&($=$[L],$===null&&($=void 0))),new($===void 0?Array:$)(V===0?0:V)}},"69f3":function(y,D,d){var S=d("7f9a"),p=d("da84"),O=d("861d"),L=d("9112"),F=d("5135"),V=d("f772"),$=d("d012"),j=p.WeakMap,W,Y,rt,K=function(pt){return rt(pt)?Y(pt):W(pt,{})},_=function(pt){return function(Ft){var Zt;if(!O(Ft)||(Zt=Y(Ft)).type!==pt)throw TypeError("Incompatible receiver, "+pt+" required");return Zt}};if(S){var et=new j,Tt=et.get,vt=et.has,R=et.set;W=function(pt,Ft){return R.call(et,pt,Ft),Ft},Y=function(pt){return Tt.call(et,pt)||{}},rt=function(pt){return vt.call(et,pt)}}else{var Ot=V("state");$[Ot]=!0,W=function(pt,Ft){return L(pt,Ot,Ft),Ft},Y=function(pt){return F(pt,Ot)?pt[Ot]:{}},rt=function(pt){return F(pt,Ot)}}y.exports={set:W,get:Y,has:rt,enforce:K,getterFor:_}},"6eeb":function(y,D,d){var S=d("da84"),p=d("9112"),O=d("5135"),L=d("ce4e"),F=d("8925"),V=d("69f3"),$=V.get,j=V.enforce,W=String(String).split("String");(y.exports=function(Y,rt,K,_){var et=_?!!_.unsafe:!1,Tt=_?!!_.enumerable:!1,vt=_?!!_.noTargetGet:!1;if(typeof K=="function"&&(typeof rt=="string"&&!O(K,"name")&&p(K,"name",rt),j(K).source=W.join(typeof rt=="string"?rt:"")),Y===S){Tt?Y[rt]=K:L(rt,K);return}else et?!vt&&Y[rt]&&(Tt=!0):delete Y[rt];Tt?Y[rt]=K:p(Y,rt,K)})(Function.prototype,"toString",function(){return typeof this=="function"&&$(this).source||F(this)})},"6f53":function(y,D,d){var S=d("83ab"),p=d("df75"),O=d("fc6a"),L=d("d1e7").f,F=function(V){return function($){for(var j=O($),W=p(j),Y=W.length,rt=0,K=[],_;Y>rt;)_=W[rt++],(!S||L.call(j,_))&&K.push(V?[_,j[_]]:j[_]);return K}};y.exports={entries:F(!0),values:F(!1)}},"73d9":function(y,D,d){var S=d("44d2");S("flatMap")},7418:function(y,D){D.f=Object.getOwnPropertySymbols},"746f":function(y,D,d){var S=d("428f"),p=d("5135"),O=d("e538"),L=d("9bf2").f;y.exports=function(F){var V=S.Symbol||(S.Symbol={});p(V,F)||L(V,F,{value:O.f(F)})}},7839:function(y,D){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(y,D,d){var S=d("1d80");y.exports=function(p){return Object(S(p))}},"7c73":function(y,D,d){var S=d("825a"),p=d("37e8"),O=d("7839"),L=d("d012"),F=d("1be4"),V=d("cc12"),$=d("f772"),j=">",W="<",Y="prototype",rt="script",K=$("IE_PROTO"),_=function(){},et=function(pt){return W+rt+j+pt+W+"/"+rt+j},Tt=function(pt){pt.write(et("")),pt.close();var Ft=pt.parentWindow.Object;return pt=null,Ft},vt=function(){var pt=V("iframe"),Ft="java"+rt+":",Zt;return pt.style.display="none",F.appendChild(pt),pt.src=String(Ft),Zt=pt.contentWindow.document,Zt.open(),Zt.write(et("document.F=Object")),Zt.close(),Zt.F},R,Ot=function(){try{R=document.domain&&new ActiveXObject("htmlfile")}catch{}Ot=R?Tt(R):vt();for(var pt=O.length;pt--;)delete Ot[Y][O[pt]];return Ot()};L[K]=!0,y.exports=Object.create||function(Ft,Zt){var re;return Ft!==null?(_[Y]=S(Ft),re=new _,_[Y]=null,re[K]=Ft):re=Ot(),Zt===void 0?re:p(re,Zt)}},"7dd0":function(y,D,d){var S=d("23e7"),p=d("9ed3"),O=d("e163"),L=d("d2bb"),F=d("d44e"),V=d("9112"),$=d("6eeb"),j=d("b622"),W=d("c430"),Y=d("3f8c"),rt=d("ae93"),K=rt.IteratorPrototype,_=rt.BUGGY_SAFARI_ITERATORS,et=j("iterator"),Tt="keys",vt="values",R="entries",Ot=function(){return this};y.exports=function(pt,Ft,Zt,re,Ht,yt,Ut){p(Zt,Ft,re);var m=function(mt){if(mt===Ht&&ln)return ln;if(!_&&mt in Oe)return Oe[mt];switch(mt){case Tt:return function(){return new Zt(this,mt)};case vt:return function(){return new Zt(this,mt)};case R:return function(){return new Zt(this,mt)}}return function(){return new Zt(this)}},ue=Ft+" Iterator",We=!1,Oe=pt.prototype,Hn=Oe[et]||Oe["@@iterator"]||Ht&&Oe[Ht],ln=!_&&Hn||m(Ht),me=Ft=="Array"&&Oe.entries||Hn,Ge,On,kn;if(me&&(Ge=O(me.call(new pt)),K!==Object.prototype&&Ge.next&&(!W&&O(Ge)!==K&&(L?L(Ge,K):typeof Ge[et]!="function"&&V(Ge,et,Ot)),F(Ge,ue,!0,!0),W&&(Y[ue]=Ot))),Ht==vt&&Hn&&Hn.name!==vt&&(We=!0,ln=function(){return Hn.call(this)}),(!W||Ut)&&Oe[et]!==ln&&V(Oe,et,ln),Y[Ft]=ln,Ht)if(On={values:m(vt),keys:yt?ln:m(Tt),entries:m(R)},Ut)for(kn in On)(_||We||!(kn in Oe))&&$(Oe,kn,On[kn]);else S({target:Ft,proto:!0,forced:_||We},On);return On}},"7f9a":function(y,D,d){var S=d("da84"),p=d("8925"),O=S.WeakMap;y.exports=typeof O=="function"&&/native code/.test(p(O))},"825a":function(y,D,d){var S=d("861d");y.exports=function(p){if(!S(p))throw TypeError(String(p)+" is not an object");return p}},"83ab":function(y,D,d){var S=d("d039");y.exports=!S(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(y,D,d){var S=d("c04e"),p=d("9bf2"),O=d("5c6c");y.exports=function(L,F,V){var $=S(F);$ in L?p.f(L,$,O(0,V)):L[$]=V}},"861d":function(y,D){y.exports=function(d){return typeof d=="object"?d!==null:typeof d=="function"}},8875:function(y,D,d){var S,p,O;(function(L,F){p=[],S=F,O=typeof S=="function"?S.apply(D,p):S,O!==void 0&&(y.exports=O)})(typeof self<"u"?self:this,function(){function L(){var F=Object.getOwnPropertyDescriptor(document,"currentScript");if(!F&&"currentScript"in document&&document.currentScript||F&&F.get!==L&&document.currentScript)return document.currentScript;try{throw new Error}catch(R){var V=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,$=/@([^@]*):(\d+):(\d+)\s*$/ig,j=V.exec(R.stack)||$.exec(R.stack),W=j&&j[1]||!1,Y=j&&j[2]||!1,rt=document.location.href.replace(document.location.hash,""),K,_,et,Tt=document.getElementsByTagName("script");W===rt&&(K=document.documentElement.outerHTML,_=new RegExp("(?:[^\\n]+?\\n){0,"+(Y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),et=K.replace(_,"$1").trim());for(var vt=0;vt<Tt.length;vt++)if(Tt[vt].readyState==="interactive"||Tt[vt].src===W||W===rt&&Tt[vt].innerHTML&&Tt[vt].innerHTML.trim()===et)return Tt[vt];return null}}return L})},8925:function(y,D,d){var S=d("c6cd"),p=Function.toString;typeof S.inspectSource!="function"&&(S.inspectSource=function(O){return p.call(O)}),y.exports=S.inspectSource},"8aa5":function(y,D,d){var S=d("6547").charAt;y.exports=function(p,O,L){return O+(L?S(p,O).length:1)}},"8bbf":function(y,D){y.exports=C},"90e3":function(y,D){var d=0,S=Math.random();y.exports=function(p){return"Symbol("+String(p===void 0?"":p)+")_"+(++d+S).toString(36)}},9112:function(y,D,d){var S=d("83ab"),p=d("9bf2"),O=d("5c6c");y.exports=S?function(L,F,V){return p.f(L,F,O(1,V))}:function(L,F,V){return L[F]=V,L}},9263:function(y,D,d){var S=d("ad6d"),p=d("9f7f"),O=RegExp.prototype.exec,L=String.prototype.replace,F=O,V=function(){var Y=/a/,rt=/b*/g;return O.call(Y,"a"),O.call(rt,"a"),Y.lastIndex!==0||rt.lastIndex!==0}(),$=p.UNSUPPORTED_Y||p.BROKEN_CARET,j=/()??/.exec("")[1]!==void 0,W=V||j||$;W&&(F=function(rt){var K=this,_,et,Tt,vt,R=$&&K.sticky,Ot=S.call(K),pt=K.source,Ft=0,Zt=rt;return R&&(Ot=Ot.replace("y",""),Ot.indexOf("g")===-1&&(Ot+="g"),Zt=String(rt).slice(K.lastIndex),K.lastIndex>0&&(!K.multiline||K.multiline&&rt[K.lastIndex-1]!==`
`)&&(pt="(?: "+pt+")",Zt=" "+Zt,Ft++),et=new RegExp("^(?:"+pt+")",Ot)),j&&(et=new RegExp("^"+pt+"$(?!\\s)",Ot)),V&&(_=K.lastIndex),Tt=O.call(R?et:K,Zt),R?Tt?(Tt.input=Tt.input.slice(Ft),Tt[0]=Tt[0].slice(Ft),Tt.index=K.lastIndex,K.lastIndex+=Tt[0].length):K.lastIndex=0:V&&Tt&&(K.lastIndex=K.global?Tt.index+Tt[0].length:_),j&&Tt&&Tt.length>1&&L.call(Tt[0],et,function(){for(vt=1;vt<arguments.length-2;vt++)arguments[vt]===void 0&&(Tt[vt]=void 0)}),Tt}),y.exports=F},"94ca":function(y,D,d){var S=d("d039"),p=/#|\.prototype\./,O=function(j,W){var Y=F[L(j)];return Y==$?!0:Y==V?!1:typeof W=="function"?S(W):!!W},L=O.normalize=function(j){return String(j).replace(p,".").toLowerCase()},F=O.data={},V=O.NATIVE="N",$=O.POLYFILL="P";y.exports=O},"99af":function(y,D,d){var S=d("23e7"),p=d("d039"),O=d("e8b5"),L=d("861d"),F=d("7b0b"),V=d("50c4"),$=d("8418"),j=d("65f0"),W=d("1dde"),Y=d("b622"),rt=d("2d00"),K=Y("isConcatSpreadable"),_=9007199254740991,et="Maximum allowed index exceeded",Tt=rt>=51||!p(function(){var pt=[];return pt[K]=!1,pt.concat()[0]!==pt}),vt=W("concat"),R=function(pt){if(!L(pt))return!1;var Ft=pt[K];return Ft!==void 0?!!Ft:O(pt)},Ot=!Tt||!vt;S({target:"Array",proto:!0,forced:Ot},{concat:function(Ft){var Zt=F(this),re=j(Zt,0),Ht=0,yt,Ut,m,ue,We;for(yt=-1,m=arguments.length;yt<m;yt++)if(We=yt===-1?Zt:arguments[yt],R(We)){if(ue=V(We.length),Ht+ue>_)throw TypeError(et);for(Ut=0;Ut<ue;Ut++,Ht++)Ut in We&&$(re,Ht,We[Ut])}else{if(Ht>=_)throw TypeError(et);$(re,Ht++,We)}return re.length=Ht,re}})},"9bdd":function(y,D,d){var S=d("825a");y.exports=function(p,O,L,F){try{return F?O(S(L)[0],L[1]):O(L)}catch($){var V=p.return;throw V!==void 0&&S(V.call(p)),$}}},"9bf2":function(y,D,d){var S=d("83ab"),p=d("0cfb"),O=d("825a"),L=d("c04e"),F=Object.defineProperty;D.f=S?F:function($,j,W){if(O($),j=L(j,!0),O(W),p)try{return F($,j,W)}catch{}if("get"in W||"set"in W)throw TypeError("Accessors not supported");return"value"in W&&($[j]=W.value),$}},"9ed3":function(y,D,d){var S=d("ae93").IteratorPrototype,p=d("7c73"),O=d("5c6c"),L=d("d44e"),F=d("3f8c"),V=function(){return this};y.exports=function($,j,W){var Y=j+" Iterator";return $.prototype=p(S,{next:O(1,W)}),L($,Y,!1,!0),F[Y]=V,$}},"9f7f":function(y,D,d){var S=d("d039");function p(O,L){return RegExp(O,L)}D.UNSUPPORTED_Y=S(function(){var O=p("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),D.BROKEN_CARET=S(function(){var O=p("^r","gy");return O.lastIndex=2,O.exec("str")!=null})},a2bf:function(y,D,d){var S=d("e8b5"),p=d("50c4"),O=d("0366"),L=function(F,V,$,j,W,Y,rt,K){for(var _=W,et=0,Tt=rt?O(rt,K,3):!1,vt;et<j;){if(et in $){if(vt=Tt?Tt($[et],et,V):$[et],Y>0&&S(vt))_=L(F,V,vt,p(vt.length),_,Y-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");F[_]=vt}_++}et++}return _};y.exports=L},a352:function(y,D){y.exports=f},a434:function(y,D,d){var S=d("23e7"),p=d("23cb"),O=d("a691"),L=d("50c4"),F=d("7b0b"),V=d("65f0"),$=d("8418"),j=d("1dde"),W=d("ae40"),Y=j("splice"),rt=W("splice",{ACCESSORS:!0,0:0,1:2}),K=Math.max,_=Math.min,et=9007199254740991,Tt="Maximum allowed length exceeded";S({target:"Array",proto:!0,forced:!Y||!rt},{splice:function(R,Ot){var pt=F(this),Ft=L(pt.length),Zt=p(R,Ft),re=arguments.length,Ht,yt,Ut,m,ue,We;if(re===0?Ht=yt=0:re===1?(Ht=0,yt=Ft-Zt):(Ht=re-2,yt=_(K(O(Ot),0),Ft-Zt)),Ft+Ht-yt>et)throw TypeError(Tt);for(Ut=V(pt,yt),m=0;m<yt;m++)ue=Zt+m,ue in pt&&$(Ut,m,pt[ue]);if(Ut.length=yt,Ht<yt){for(m=Zt;m<Ft-yt;m++)ue=m+yt,We=m+Ht,ue in pt?pt[We]=pt[ue]:delete pt[We];for(m=Ft;m>Ft-yt+Ht;m--)delete pt[m-1]}else if(Ht>yt)for(m=Ft-yt;m>Zt;m--)ue=m+yt-1,We=m+Ht-1,ue in pt?pt[We]=pt[ue]:delete pt[We];for(m=0;m<Ht;m++)pt[m+Zt]=arguments[m+2];return pt.length=Ft-yt+Ht,Ut}})},a4d3:function(y,D,d){var S=d("23e7"),p=d("da84"),O=d("d066"),L=d("c430"),F=d("83ab"),V=d("4930"),$=d("fdbf"),j=d("d039"),W=d("5135"),Y=d("e8b5"),rt=d("861d"),K=d("825a"),_=d("7b0b"),et=d("fc6a"),Tt=d("c04e"),vt=d("5c6c"),R=d("7c73"),Ot=d("df75"),pt=d("241c"),Ft=d("057f"),Zt=d("7418"),re=d("06cf"),Ht=d("9bf2"),yt=d("d1e7"),Ut=d("9112"),m=d("6eeb"),ue=d("5692"),We=d("f772"),Oe=d("d012"),Hn=d("90e3"),ln=d("b622"),me=d("e538"),Ge=d("746f"),On=d("d44e"),kn=d("69f3"),mt=d("b727").forEach,Mt=We("hidden"),Lo="Symbol",qn="prototype",Ve=ln("toPrimitive"),cn=kn.set,vn=kn.getterFor(Lo),to=Object[qn],Me=p.Symbol,Wn=O("JSON","stringify"),en=re.f,ae=Ht.f,wo=Ft.f,Fo=yt.f,Gn=ue("symbols"),Ho=ue("op-symbols"),fs=ue("string-to-symbol-registry"),Yo=ue("symbol-to-string-registry"),Jo=ue("wks"),no=p.QObject,ps=!no||!no[qn]||!no[qn].findChild,rs=F&&j(function(){return R(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!=7})?function(qt,Pt,ve){var wt=en(to,Pt);wt&&delete to[Pt],ae(qt,Pt,ve),wt&&qt!==to&&ae(to,Pt,wt)}:ae,zn=function(qt,Pt){var ve=Gn[qt]=R(Me[qn]);return cn(ve,{type:Lo,tag:qt,description:Pt}),F||(ve.description=Pt),ve},tt=$?function(qt){return typeof qt=="symbol"}:function(qt){return Object(qt)instanceof Me},st=function(Pt,ve,wt){Pt===to&&st(Ho,ve,wt),K(Pt);var jt=Tt(ve,!0);return K(wt),W(Gn,jt)?(wt.enumerable?(W(Pt,Mt)&&Pt[Mt][jt]&&(Pt[Mt][jt]=!1),wt=R(wt,{enumerable:vt(0,!1)})):(W(Pt,Mt)||ae(Pt,Mt,vt(1,{})),Pt[Mt][jt]=!0),rs(Pt,jt,wt)):ae(Pt,jt,wt)},lt=function(Pt,ve){K(Pt);var wt=et(ve),jt=Ot(wt).concat(Qe(wt));return mt(jt,function(bn){(!F||oe.call(wt,bn))&&st(Pt,bn,wt[bn])}),Pt},ft=function(Pt,ve){return ve===void 0?R(Pt):lt(R(Pt),ve)},oe=function(Pt){var ve=Tt(Pt,!0),wt=Fo.call(this,ve);return this===to&&W(Gn,ve)&&!W(Ho,ve)?!1:wt||!W(this,ve)||!W(Gn,ve)||W(this,Mt)&&this[Mt][ve]?wt:!0},Se=function(Pt,ve){var wt=et(Pt),jt=Tt(ve,!0);if(!(wt===to&&W(Gn,jt)&&!W(Ho,jt))){var bn=en(wt,jt);return bn&&W(Gn,jt)&&!(W(wt,Mt)&&wt[Mt][jt])&&(bn.enumerable=!0),bn}},we=function(Pt){var ve=wo(et(Pt)),wt=[];return mt(ve,function(jt){!W(Gn,jt)&&!W(Oe,jt)&&wt.push(jt)}),wt},Qe=function(Pt){var ve=Pt===to,wt=wo(ve?Ho:et(Pt)),jt=[];return mt(wt,function(bn){W(Gn,bn)&&(!ve||W(to,bn))&&jt.push(Gn[bn])}),jt};if(V||(Me=function(){if(this instanceof Me)throw TypeError("Symbol is not a constructor");var Pt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),ve=Hn(Pt),wt=function(jt){this===to&&wt.call(Ho,jt),W(this,Mt)&&W(this[Mt],ve)&&(this[Mt][ve]=!1),rs(this,ve,vt(1,jt))};return F&&ps&&rs(to,ve,{configurable:!0,set:wt}),zn(ve,Pt)},m(Me[qn],"toString",function(){return vn(this).tag}),m(Me,"withoutSetter",function(qt){return zn(Hn(qt),qt)}),yt.f=oe,Ht.f=st,re.f=Se,pt.f=Ft.f=we,Zt.f=Qe,me.f=function(qt){return zn(ln(qt),qt)},F&&(ae(Me[qn],"description",{configurable:!0,get:function(){return vn(this).description}}),L||m(to,"propertyIsEnumerable",oe,{unsafe:!0}))),S({global:!0,wrap:!0,forced:!V,sham:!V},{Symbol:Me}),mt(Ot(Jo),function(qt){Ge(qt)}),S({target:Lo,stat:!0,forced:!V},{for:function(qt){var Pt=String(qt);if(W(fs,Pt))return fs[Pt];var ve=Me(Pt);return fs[Pt]=ve,Yo[ve]=Pt,ve},keyFor:function(Pt){if(!tt(Pt))throw TypeError(Pt+" is not a symbol");if(W(Yo,Pt))return Yo[Pt]},useSetter:function(){ps=!0},useSimple:function(){ps=!1}}),S({target:"Object",stat:!0,forced:!V,sham:!F},{create:ft,defineProperty:st,defineProperties:lt,getOwnPropertyDescriptor:Se}),S({target:"Object",stat:!0,forced:!V},{getOwnPropertyNames:we,getOwnPropertySymbols:Qe}),S({target:"Object",stat:!0,forced:j(function(){Zt.f(1)})},{getOwnPropertySymbols:function(Pt){return Zt.f(_(Pt))}}),Wn){var In=!V||j(function(){var qt=Me();return Wn([qt])!="[null]"||Wn({a:qt})!="{}"||Wn(Object(qt))!="{}"});S({target:"JSON",stat:!0,forced:In},{stringify:function(Pt,ve,wt){for(var jt=[Pt],bn=1,eo;arguments.length>bn;)jt.push(arguments[bn++]);if(eo=ve,!(!rt(ve)&&Pt===void 0||tt(Pt)))return Y(ve)||(ve=function(ua,Qo){if(typeof eo=="function"&&(Qo=eo.call(this,ua,Qo)),!tt(Qo))return Qo}),jt[1]=ve,Wn.apply(null,jt)}})}Me[qn][Ve]||Ut(Me[qn],Ve,Me[qn].valueOf),On(Me,Lo),Oe[Mt]=!0},a630:function(y,D,d){var S=d("23e7"),p=d("4df4"),O=d("1c7e"),L=!O(function(F){Array.from(F)});S({target:"Array",stat:!0,forced:L},{from:p})},a640:function(y,D,d){var S=d("d039");y.exports=function(p,O){var L=[][p];return!!L&&S(function(){L.call(null,O||function(){throw 1},1)})}},a691:function(y,D){var d=Math.ceil,S=Math.floor;y.exports=function(p){return isNaN(p=+p)?0:(p>0?S:d)(p)}},ab13:function(y,D,d){var S=d("b622"),p=S("match");y.exports=function(O){var L=/./;try{"/./"[O](L)}catch{try{return L[p]=!1,"/./"[O](L)}catch{}}return!1}},ac1f:function(y,D,d){var S=d("23e7"),p=d("9263");S({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},ad6d:function(y,D,d){var S=d("825a");y.exports=function(){var p=S(this),O="";return p.global&&(O+="g"),p.ignoreCase&&(O+="i"),p.multiline&&(O+="m"),p.dotAll&&(O+="s"),p.unicode&&(O+="u"),p.sticky&&(O+="y"),O}},ae40:function(y,D,d){var S=d("83ab"),p=d("d039"),O=d("5135"),L=Object.defineProperty,F={},V=function($){throw $};y.exports=function($,j){if(O(F,$))return F[$];j||(j={});var W=[][$],Y=O(j,"ACCESSORS")?j.ACCESSORS:!1,rt=O(j,0)?j[0]:V,K=O(j,1)?j[1]:void 0;return F[$]=!!W&&!p(function(){if(Y&&!S)return!0;var _={length:-1};Y?L(_,1,{enumerable:!0,get:V}):_[1]=1,W.call(_,rt,K)})}},ae93:function(y,D,d){var S=d("e163"),p=d("9112"),O=d("5135"),L=d("b622"),F=d("c430"),V=L("iterator"),$=!1,j=function(){return this},W,Y,rt;[].keys&&(rt=[].keys(),"next"in rt?(Y=S(S(rt)),Y!==Object.prototype&&(W=Y)):$=!0),W==null&&(W={}),!F&&!O(W,V)&&p(W,V,j),y.exports={IteratorPrototype:W,BUGGY_SAFARI_ITERATORS:$}},b041:function(y,D,d){var S=d("00ee"),p=d("f5df");y.exports=S?{}.toString:function(){return"[object "+p(this)+"]"}},b0c0:function(y,D,d){var S=d("83ab"),p=d("9bf2").f,O=Function.prototype,L=O.toString,F=/^\s*function ([^ (]*)/,V="name";S&&!(V in O)&&p(O,V,{configurable:!0,get:function(){try{return L.call(this).match(F)[1]}catch{return""}}})},b622:function(y,D,d){var S=d("da84"),p=d("5692"),O=d("5135"),L=d("90e3"),F=d("4930"),V=d("fdbf"),$=p("wks"),j=S.Symbol,W=V?j:j&&j.withoutSetter||L;y.exports=function(Y){return O($,Y)||(F&&O(j,Y)?$[Y]=j[Y]:$[Y]=W("Symbol."+Y)),$[Y]}},b64b:function(y,D,d){var S=d("23e7"),p=d("7b0b"),O=d("df75"),L=d("d039"),F=L(function(){O(1)});S({target:"Object",stat:!0,forced:F},{keys:function($){return O(p($))}})},b727:function(y,D,d){var S=d("0366"),p=d("44ad"),O=d("7b0b"),L=d("50c4"),F=d("65f0"),V=[].push,$=function(j){var W=j==1,Y=j==2,rt=j==3,K=j==4,_=j==6,et=j==5||_;return function(Tt,vt,R,Ot){for(var pt=O(Tt),Ft=p(pt),Zt=S(vt,R,3),re=L(Ft.length),Ht=0,yt=Ot||F,Ut=W?yt(Tt,re):Y?yt(Tt,0):void 0,m,ue;re>Ht;Ht++)if((et||Ht in Ft)&&(m=Ft[Ht],ue=Zt(m,Ht,pt),j)){if(W)Ut[Ht]=ue;else if(ue)switch(j){case 3:return!0;case 5:return m;case 6:return Ht;case 2:V.call(Ut,m)}else if(K)return!1}return _?-1:rt||K?K:Ut}};y.exports={forEach:$(0),map:$(1),filter:$(2),some:$(3),every:$(4),find:$(5),findIndex:$(6)}},c04e:function(y,D,d){var S=d("861d");y.exports=function(p,O){if(!S(p))return p;var L,F;if(O&&typeof(L=p.toString)=="function"&&!S(F=L.call(p))||typeof(L=p.valueOf)=="function"&&!S(F=L.call(p))||!O&&typeof(L=p.toString)=="function"&&!S(F=L.call(p)))return F;throw TypeError("Can't convert object to primitive value")}},c430:function(y,D){y.exports=!1},c6b6:function(y,D){var d={}.toString;y.exports=function(S){return d.call(S).slice(8,-1)}},c6cd:function(y,D,d){var S=d("da84"),p=d("ce4e"),O="__core-js_shared__",L=S[O]||p(O,{});y.exports=L},c740:function(y,D,d){var S=d("23e7"),p=d("b727").findIndex,O=d("44d2"),L=d("ae40"),F="findIndex",V=!0,$=L(F);F in[]&&Array(1)[F](function(){V=!1}),S({target:"Array",proto:!0,forced:V||!$},{findIndex:function(W){return p(this,W,arguments.length>1?arguments[1]:void 0)}}),O(F)},c8ba:function(y,D){var d;d=function(){return this}();try{d=d||new Function("return this")()}catch{typeof window=="object"&&(d=window)}y.exports=d},c975:function(y,D,d){var S=d("23e7"),p=d("4d64").indexOf,O=d("a640"),L=d("ae40"),F=[].indexOf,V=!!F&&1/[1].indexOf(1,-0)<0,$=O("indexOf"),j=L("indexOf",{ACCESSORS:!0,1:0});S({target:"Array",proto:!0,forced:V||!$||!j},{indexOf:function(Y){return V?F.apply(this,arguments)||0:p(this,Y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(y,D,d){var S=d("5135"),p=d("fc6a"),O=d("4d64").indexOf,L=d("d012");y.exports=function(F,V){var $=p(F),j=0,W=[],Y;for(Y in $)!S(L,Y)&&S($,Y)&&W.push(Y);for(;V.length>j;)S($,Y=V[j++])&&(~O(W,Y)||W.push(Y));return W}},caad:function(y,D,d){var S=d("23e7"),p=d("4d64").includes,O=d("44d2"),L=d("ae40"),F=L("indexOf",{ACCESSORS:!0,1:0});S({target:"Array",proto:!0,forced:!F},{includes:function($){return p(this,$,arguments.length>1?arguments[1]:void 0)}}),O("includes")},cc12:function(y,D,d){var S=d("da84"),p=d("861d"),O=S.document,L=p(O)&&p(O.createElement);y.exports=function(F){return L?O.createElement(F):{}}},ce4e:function(y,D,d){var S=d("da84"),p=d("9112");y.exports=function(O,L){try{p(S,O,L)}catch{S[O]=L}return L}},d012:function(y,D){y.exports={}},d039:function(y,D){y.exports=function(d){try{return!!d()}catch{return!0}}},d066:function(y,D,d){var S=d("428f"),p=d("da84"),O=function(L){return typeof L=="function"?L:void 0};y.exports=function(L,F){return arguments.length<2?O(S[L])||O(p[L]):S[L]&&S[L][F]||p[L]&&p[L][F]}},d1e7:function(y,D,d){var S={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,O=p&&!S.call({1:2},1);D.f=O?function(F){var V=p(this,F);return!!V&&V.enumerable}:S},d28b:function(y,D,d){var S=d("746f");S("iterator")},d2bb:function(y,D,d){var S=d("825a"),p=d("3bbe");y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O=!1,L={},F;try{F=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,F.call(L,[]),O=L instanceof Array}catch{}return function($,j){return S($),p(j),O?F.call($,j):$.__proto__=j,$}}():void 0)},d3b7:function(y,D,d){var S=d("00ee"),p=d("6eeb"),O=d("b041");S||p(Object.prototype,"toString",O,{unsafe:!0})},d44e:function(y,D,d){var S=d("9bf2").f,p=d("5135"),O=d("b622"),L=O("toStringTag");y.exports=function(F,V,$){F&&!p(F=$?F:F.prototype,L)&&S(F,L,{configurable:!0,value:V})}},d58f:function(y,D,d){var S=d("1c0b"),p=d("7b0b"),O=d("44ad"),L=d("50c4"),F=function(V){return function($,j,W,Y){S(j);var rt=p($),K=O(rt),_=L(rt.length),et=V?_-1:0,Tt=V?-1:1;if(W<2)for(;;){if(et in K){Y=K[et],et+=Tt;break}if(et+=Tt,V?et<0:_<=et)throw TypeError("Reduce of empty array with no initial value")}for(;V?et>=0:_>et;et+=Tt)et in K&&(Y=j(Y,K[et],et,rt));return Y}};y.exports={left:F(!1),right:F(!0)}},d784:function(y,D,d){d("ac1f");var S=d("6eeb"),p=d("d039"),O=d("b622"),L=d("9263"),F=d("9112"),V=O("species"),$=!p(function(){var K=/./;return K.exec=function(){var _=[];return _.groups={a:"7"},_},"".replace(K,"$<a>")!=="7"}),j=function(){return"a".replace(/./,"$0")==="$0"}(),W=O("replace"),Y=function(){return/./[W]?/./[W]("a","$0")==="":!1}(),rt=!p(function(){var K=/(?:)/,_=K.exec;K.exec=function(){return _.apply(this,arguments)};var et="ab".split(K);return et.length!==2||et[0]!=="a"||et[1]!=="b"});y.exports=function(K,_,et,Tt){var vt=O(K),R=!p(function(){var Ht={};return Ht[vt]=function(){return 7},""[K](Ht)!=7}),Ot=R&&!p(function(){var Ht=!1,yt=/a/;return K==="split"&&(yt={},yt.constructor={},yt.constructor[V]=function(){return yt},yt.flags="",yt[vt]=/./[vt]),yt.exec=function(){return Ht=!0,null},yt[vt](""),!Ht});if(!R||!Ot||K==="replace"&&!($&&j&&!Y)||K==="split"&&!rt){var pt=/./[vt],Ft=et(vt,""[K],function(Ht,yt,Ut,m,ue){return yt.exec===L?R&&!ue?{done:!0,value:pt.call(yt,Ut,m)}:{done:!0,value:Ht.call(Ut,yt,m)}:{done:!1}},{REPLACE_KEEPS_$0:j,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Y}),Zt=Ft[0],re=Ft[1];S(String.prototype,K,Zt),S(RegExp.prototype,vt,_==2?function(Ht,yt){return re.call(Ht,this,yt)}:function(Ht){return re.call(Ht,this)})}Tt&&F(RegExp.prototype[vt],"sham",!0)}},d81d:function(y,D,d){var S=d("23e7"),p=d("b727").map,O=d("1dde"),L=d("ae40"),F=O("map"),V=L("map");S({target:"Array",proto:!0,forced:!F||!V},{map:function(j){return p(this,j,arguments.length>1?arguments[1]:void 0)}})},da84:function(y,D,d){(function(S){var p=function(O){return O&&O.Math==Math&&O};y.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof S=="object"&&S)||Function("return this")()}).call(this,d("c8ba"))},dbb4:function(y,D,d){var S=d("23e7"),p=d("83ab"),O=d("56ef"),L=d("fc6a"),F=d("06cf"),V=d("8418");S({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(j){for(var W=L(j),Y=F.f,rt=O(W),K={},_=0,et,Tt;rt.length>_;)Tt=Y(W,et=rt[_++]),Tt!==void 0&&V(K,et,Tt);return K}})},dbf1:function(y,D,d){(function(S){d.d(D,"a",function(){return O});function p(){return typeof window<"u"?window.console:S.console}var O=p()}).call(this,d("c8ba"))},ddb0:function(y,D,d){var S=d("da84"),p=d("fdbc"),O=d("e260"),L=d("9112"),F=d("b622"),V=F("iterator"),$=F("toStringTag"),j=O.values;for(var W in p){var Y=S[W],rt=Y&&Y.prototype;if(rt){if(rt[V]!==j)try{L(rt,V,j)}catch{rt[V]=j}if(rt[$]||L(rt,$,W),p[W]){for(var K in O)if(rt[K]!==O[K])try{L(rt,K,O[K])}catch{rt[K]=O[K]}}}}},df75:function(y,D,d){var S=d("ca84"),p=d("7839");y.exports=Object.keys||function(L){return S(L,p)}},e01a:function(y,D,d){var S=d("23e7"),p=d("83ab"),O=d("da84"),L=d("5135"),F=d("861d"),V=d("9bf2").f,$=d("e893"),j=O.Symbol;if(p&&typeof j=="function"&&(!("description"in j.prototype)||j().description!==void 0)){var W={},Y=function(){var vt=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof Y?new j(vt):vt===void 0?j():j(vt);return vt===""&&(W[R]=!0),R};$(Y,j);var rt=Y.prototype=j.prototype;rt.constructor=Y;var K=rt.toString,_=String(j("test"))=="Symbol(test)",et=/^Symbol\((.*)\)[^)]+$/;V(rt,"description",{configurable:!0,get:function(){var vt=F(this)?this.valueOf():this,R=K.call(vt);if(L(W,vt))return"";var Ot=_?R.slice(7,-1):R.replace(et,"$1");return Ot===""?void 0:Ot}}),S({global:!0,forced:!0},{Symbol:Y})}},e163:function(y,D,d){var S=d("5135"),p=d("7b0b"),O=d("f772"),L=d("e177"),F=O("IE_PROTO"),V=Object.prototype;y.exports=L?Object.getPrototypeOf:function($){return $=p($),S($,F)?$[F]:typeof $.constructor=="function"&&$ instanceof $.constructor?$.constructor.prototype:$ instanceof Object?V:null}},e177:function(y,D,d){var S=d("d039");y.exports=!S(function(){function p(){}return p.prototype.constructor=null,Object.getPrototypeOf(new p)!==p.prototype})},e260:function(y,D,d){var S=d("fc6a"),p=d("44d2"),O=d("3f8c"),L=d("69f3"),F=d("7dd0"),V="Array Iterator",$=L.set,j=L.getterFor(V);y.exports=F(Array,"Array",function(W,Y){$(this,{type:V,target:S(W),index:0,kind:Y})},function(){var W=j(this),Y=W.target,rt=W.kind,K=W.index++;return!Y||K>=Y.length?(W.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:K,done:!1}:rt=="values"?{value:Y[K],done:!1}:{value:[K,Y[K]],done:!1}},"values"),O.Arguments=O.Array,p("keys"),p("values"),p("entries")},e439:function(y,D,d){var S=d("23e7"),p=d("d039"),O=d("fc6a"),L=d("06cf").f,F=d("83ab"),V=p(function(){L(1)}),$=!F||V;S({target:"Object",stat:!0,forced:$,sham:!F},{getOwnPropertyDescriptor:function(W,Y){return L(O(W),Y)}})},e538:function(y,D,d){var S=d("b622");D.f=S},e893:function(y,D,d){var S=d("5135"),p=d("56ef"),O=d("06cf"),L=d("9bf2");y.exports=function(F,V){for(var $=p(V),j=L.f,W=O.f,Y=0;Y<$.length;Y++){var rt=$[Y];S(F,rt)||j(F,rt,W(V,rt))}}},e8b5:function(y,D,d){var S=d("c6b6");y.exports=Array.isArray||function(O){return S(O)=="Array"}},e95a:function(y,D,d){var S=d("b622"),p=d("3f8c"),O=S("iterator"),L=Array.prototype;y.exports=function(F){return F!==void 0&&(p.Array===F||L[O]===F)}},f5df:function(y,D,d){var S=d("00ee"),p=d("c6b6"),O=d("b622"),L=O("toStringTag"),F=p(function(){return arguments}())=="Arguments",V=function($,j){try{return $[j]}catch{}};y.exports=S?p:function($){var j,W,Y;return $===void 0?"Undefined":$===null?"Null":typeof(W=V(j=Object($),L))=="string"?W:F?p(j):(Y=p(j))=="Object"&&typeof j.callee=="function"?"Arguments":Y}},f772:function(y,D,d){var S=d("5692"),p=d("90e3"),O=S("keys");y.exports=function(L){return O[L]||(O[L]=p(L))}},fb15:function(y,D,d){if(d.r(D),typeof window<"u"){var S=window.document.currentScript;{var p=d("8875");S=p(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:p})}var O=S&&S.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);O&&(d.p=O[1])}d("99af"),d("4de4"),d("4160"),d("c975"),d("d81d"),d("a434"),d("159b"),d("a4d3"),d("e439"),d("dbb4"),d("b64b");function L(tt,st,lt){return st in tt?Object.defineProperty(tt,st,{value:lt,enumerable:!0,configurable:!0,writable:!0}):tt[st]=lt,tt}function F(tt,st){var lt=Object.keys(tt);if(Object.getOwnPropertySymbols){var ft=Object.getOwnPropertySymbols(tt);st&&(ft=ft.filter(function(oe){return Object.getOwnPropertyDescriptor(tt,oe).enumerable})),lt.push.apply(lt,ft)}return lt}function V(tt){for(var st=1;st<arguments.length;st++){var lt=arguments[st]!=null?arguments[st]:{};st%2?F(Object(lt),!0).forEach(function(ft){L(tt,ft,lt[ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(lt)):F(Object(lt)).forEach(function(ft){Object.defineProperty(tt,ft,Object.getOwnPropertyDescriptor(lt,ft))})}return tt}function $(tt){if(Array.isArray(tt))return tt}d("e01a"),d("d28b"),d("e260"),d("d3b7"),d("3ca3"),d("ddb0");function j(tt,st){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(tt)))){var lt=[],ft=!0,oe=!1,Se=void 0;try{for(var we=tt[Symbol.iterator](),Qe;!(ft=(Qe=we.next()).done)&&(lt.push(Qe.value),!(st&&lt.length===st));ft=!0);}catch(In){oe=!0,Se=In}finally{try{!ft&&we.return!=null&&we.return()}finally{if(oe)throw Se}}return lt}}d("a630"),d("fb6a"),d("b0c0"),d("25f0");function W(tt,st){(st==null||st>tt.length)&&(st=tt.length);for(var lt=0,ft=new Array(st);lt<st;lt++)ft[lt]=tt[lt];return ft}function Y(tt,st){if(tt){if(typeof tt=="string")return W(tt,st);var lt=Object.prototype.toString.call(tt).slice(8,-1);if(lt==="Object"&&tt.constructor&&(lt=tt.constructor.name),lt==="Map"||lt==="Set")return Array.from(tt);if(lt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(lt))return W(tt,st)}}function rt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K(tt,st){return $(tt)||j(tt,st)||Y(tt,st)||rt()}function _(tt){if(Array.isArray(tt))return W(tt)}function et(tt){if(typeof Symbol<"u"&&Symbol.iterator in Object(tt))return Array.from(tt)}function Tt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vt(tt){return _(tt)||et(tt)||Y(tt)||Tt()}var R=d("a352"),Ot=d.n(R);function pt(tt){tt.parentElement!==null&&tt.parentElement.removeChild(tt)}function Ft(tt,st,lt){var ft=lt===0?tt.children[0]:tt.children[lt-1].nextSibling;tt.insertBefore(st,ft)}var Zt=d("dbf1");d("13d5"),d("4fad"),d("ac1f"),d("5319");function re(tt){var st=Object.create(null);return function(ft){var oe=st[ft];return oe||(st[ft]=tt(ft))}}var Ht=/-(\w)/g,yt=re(function(tt){return tt.replace(Ht,function(st,lt){return lt.toUpperCase()})});d("5db7"),d("73d9");var Ut=["Start","Add","Remove","Update","End"],m=["Choose","Unchoose","Sort","Filter","Clone"],ue=["Move"],We=[ue,Ut,m].flatMap(function(tt){return tt}).map(function(tt){return"on".concat(tt)}),Oe={manage:ue,manageAndEmit:Ut,emit:m};function Hn(tt){return We.indexOf(tt)!==-1}d("caad"),d("2ca0");var ln=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function me(tt){return ln.includes(tt)}function Ge(tt){return["transition-group","TransitionGroup"].includes(tt)}function On(tt){return["id","class","role","style"].includes(tt)||tt.startsWith("data-")||tt.startsWith("aria-")||tt.startsWith("on")}function kn(tt){return tt.reduce(function(st,lt){var ft=K(lt,2),oe=ft[0],Se=ft[1];return st[oe]=Se,st},{})}function mt(tt){var st=tt.$attrs,lt=tt.componentData,ft=lt===void 0?{}:lt,oe=kn(Object.entries(st).filter(function(Se){var we=K(Se,2),Qe=we[0];return we[1],On(Qe)}));return V(V({},oe),ft)}function Mt(tt){var st=tt.$attrs,lt=tt.callBackBuilder,ft=kn(Lo(st));Object.entries(lt).forEach(function(Se){var we=K(Se,2),Qe=we[0],In=we[1];Oe[Qe].forEach(function(qt){ft["on".concat(qt)]=In(qt)})});var oe="[data-draggable]".concat(ft.draggable||"");return V(V({},ft),{},{draggable:oe})}function Lo(tt){return Object.entries(tt).filter(function(st){var lt=K(st,2),ft=lt[0];return lt[1],!On(ft)}).map(function(st){var lt=K(st,2),ft=lt[0],oe=lt[1];return[yt(ft),oe]}).filter(function(st){var lt=K(st,2),ft=lt[0];return lt[1],!Hn(ft)})}d("c740");function qn(tt,st){if(!(tt instanceof st))throw new TypeError("Cannot call a class as a function")}function Ve(tt,st){for(var lt=0;lt<st.length;lt++){var ft=st[lt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(tt,ft.key,ft)}}function cn(tt,st,lt){return Ve(tt.prototype,st),tt}var vn=function(st){var lt=st.el;return lt},to=function(st,lt){return st.__draggable_context=lt},Me=function(st){return st.__draggable_context},Wn=function(){function tt(st){var lt=st.nodes,ft=lt.header,oe=lt.default,Se=lt.footer,we=st.root,Qe=st.realList;qn(this,tt),this.defaultNodes=oe,this.children=[].concat(vt(ft),vt(oe),vt(Se)),this.externalComponent=we.externalComponent,this.rootTransition=we.transition,this.tag=we.tag,this.realList=Qe}return cn(tt,[{key:"render",value:function(lt,ft){var oe=this.tag,Se=this.children,we=this._isRootComponent,Qe=we?{default:function(){return Se}}:Se;return lt(oe,ft,Qe)}},{key:"updated",value:function(){var lt=this.defaultNodes,ft=this.realList;lt.forEach(function(oe,Se){to(vn(oe),{element:ft[Se],index:Se})})}},{key:"getUnderlyingVm",value:function(lt){return Me(lt)}},{key:"getVmIndexFromDomIndex",value:function(lt,ft){var oe=this.defaultNodes,Se=oe.length,we=ft.children,Qe=we.item(lt);if(Qe===null)return Se;var In=Me(Qe);if(In)return In.index;if(Se===0)return 0;var qt=vn(oe[0]),Pt=vt(we).findIndex(function(ve){return ve===qt});return lt<Pt?0:Se}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),tt}(),en=d("8bbf");function ae(tt,st){var lt=tt[st];return lt?lt():[]}function wo(tt){var st=tt.$slots,lt=tt.realList,ft=tt.getKey,oe=lt||[],Se=["header","footer"].map(function(ve){return ae(st,ve)}),we=K(Se,2),Qe=we[0],In=we[1],qt=st.item;if(!qt)throw new Error("draggable element must have an item slot");var Pt=oe.flatMap(function(ve,wt){return qt({element:ve,index:wt}).map(function(jt){return jt.key=ft(ve),jt.props=V(V({},jt.props||{}),{},{"data-draggable":!0}),jt})});if(Pt.length!==oe.length)throw new Error("Item slot must have only one child");return{header:Qe,footer:In,default:Pt}}function Fo(tt){var st=Ge(tt),lt=!me(tt)&&!st;return{transition:st,externalComponent:lt,tag:lt?Object(en.resolveComponent)(tt):st?en.TransitionGroup:tt}}function Gn(tt){var st=tt.$slots,lt=tt.tag,ft=tt.realList,oe=tt.getKey,Se=wo({$slots:st,realList:ft,getKey:oe}),we=Fo(lt);return new Wn({nodes:Se,root:we,realList:ft})}function Ho(tt,st){var lt=this;Object(en.nextTick)(function(){return lt.$emit(tt.toLowerCase(),st)})}function fs(tt){var st=this;return function(lt,ft){if(st.realList!==null)return st["onDrag".concat(tt)](lt,ft)}}function Yo(tt){var st=this,lt=fs.call(this,tt);return function(ft,oe){lt.call(st,ft,oe),Ho.call(st,tt,ft)}}var Jo=null,no={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(st){return st}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ps=["update:modelValue","change"].concat(vt([].concat(vt(Oe.manageAndEmit),vt(Oe.emit)).map(function(tt){return tt.toLowerCase()}))),rs=Object(en.defineComponent)({name:"draggable",inheritAttrs:!1,props:no,emits:ps,data:function(){return{error:!1}},render:function(){try{this.error=!1;var st=this.$slots,lt=this.$attrs,ft=this.tag,oe=this.componentData,Se=this.realList,we=this.getKey,Qe=Gn({$slots:st,tag:ft,realList:Se,getKey:we});this.componentStructure=Qe;var In=mt({$attrs:lt,componentData:oe});return Qe.render(en.h,In)}catch(qt){return this.error=!0,Object(en.h)("pre",{style:{color:"red"}},qt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&Zt.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var st=this;if(!this.error){var lt=this.$attrs,ft=this.$el,oe=this.componentStructure;oe.updated();var Se=Mt({$attrs:lt,callBackBuilder:{manageAndEmit:function(In){return Yo.call(st,In)},emit:function(In){return Ho.bind(st,In)},manage:function(In){return fs.call(st,In)}}}),we=ft.nodeType===1?ft:ft.parentElement;this._sortable=new Ot.a(we,Se),this.targetDomElement=we,we.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var st=this.list;return st||this.modelValue},getKey:function(){var st=this.itemKey;return typeof st=="function"?st:function(lt){return lt[st]}}},watch:{$attrs:{handler:function(st){var lt=this._sortable;lt&&Lo(st).forEach(function(ft){var oe=K(ft,2),Se=oe[0],we=oe[1];lt.option(Se,we)})},deep:!0}},methods:{getUnderlyingVm:function(st){return this.componentStructure.getUnderlyingVm(st)||null},getUnderlyingPotencialDraggableComponent:function(st){return st.__draggable_component__},emitChanges:function(st){var lt=this;Object(en.nextTick)(function(){return lt.$emit("change",st)})},alterList:function(st){if(this.list){st(this.list);return}var lt=vt(this.modelValue);st(lt),this.$emit("update:modelValue",lt)},spliceList:function(){var st=arguments,lt=function(oe){return oe.splice.apply(oe,vt(st))};this.alterList(lt)},updatePosition:function(st,lt){var ft=function(Se){return Se.splice(lt,0,Se.splice(st,1)[0])};this.alterList(ft)},getRelatedContextFromMoveEvent:function(st){var lt=st.to,ft=st.related,oe=this.getUnderlyingPotencialDraggableComponent(lt);if(!oe)return{component:oe};var Se=oe.realList,we={list:Se,component:oe};if(lt!==ft&&Se){var Qe=oe.getUnderlyingVm(ft)||{};return V(V({},Qe),we)}return we},getVmIndexFromDomIndex:function(st){return this.componentStructure.getVmIndexFromDomIndex(st,this.targetDomElement)},onDragStart:function(st){this.context=this.getUnderlyingVm(st.item),st.item._underlying_vm_=this.clone(this.context.element),Jo=st.item},onDragAdd:function(st){var lt=st.item._underlying_vm_;if(lt!==void 0){pt(st.item);var ft=this.getVmIndexFromDomIndex(st.newIndex);this.spliceList(ft,0,lt);var oe={element:lt,newIndex:ft};this.emitChanges({added:oe})}},onDragRemove:function(st){if(Ft(this.$el,st.item,st.oldIndex),st.pullMode==="clone"){pt(st.clone);return}var lt=this.context,ft=lt.index,oe=lt.element;this.spliceList(ft,1);var Se={element:oe,oldIndex:ft};this.emitChanges({removed:Se})},onDragUpdate:function(st){pt(st.item),Ft(st.from,st.item,st.oldIndex);var lt=this.context.index,ft=this.getVmIndexFromDomIndex(st.newIndex);this.updatePosition(lt,ft);var oe={element:this.context.element,oldIndex:lt,newIndex:ft};this.emitChanges({moved:oe})},computeFutureIndex:function(st,lt){if(!st.element)return 0;var ft=vt(lt.to.children).filter(function(Qe){return Qe.style.display!=="none"}),oe=ft.indexOf(lt.related),Se=st.component.getVmIndexFromDomIndex(oe),we=ft.indexOf(Jo)!==-1;return we||!lt.willInsertAfter?Se:Se+1},onDragMove:function(st,lt){var ft=this.move,oe=this.realList;if(!ft||!oe)return!0;var Se=this.getRelatedContextFromMoveEvent(st),we=this.computeFutureIndex(Se,st),Qe=V(V({},this.context),{},{futureIndex:we}),In=V(V({},st),{},{relatedContext:Se,draggedContext:Qe});return ft(In,lt)},onDragEnd:function(){Jo=null}}}),zn=rs;D.default=zn},fb6a:function(y,D,d){var S=d("23e7"),p=d("861d"),O=d("e8b5"),L=d("23cb"),F=d("50c4"),V=d("fc6a"),$=d("8418"),j=d("b622"),W=d("1dde"),Y=d("ae40"),rt=W("slice"),K=Y("slice",{ACCESSORS:!0,0:0,1:2}),_=j("species"),et=[].slice,Tt=Math.max;S({target:"Array",proto:!0,forced:!rt||!K},{slice:function(R,Ot){var pt=V(this),Ft=F(pt.length),Zt=L(R,Ft),re=L(Ot===void 0?Ft:Ot,Ft),Ht,yt,Ut;if(O(pt)&&(Ht=pt.constructor,typeof Ht=="function"&&(Ht===Array||O(Ht.prototype))?Ht=void 0:p(Ht)&&(Ht=Ht[_],Ht===null&&(Ht=void 0)),Ht===Array||Ht===void 0))return et.call(pt,Zt,re);for(yt=new(Ht===void 0?Array:Ht)(Tt(re-Zt,0)),Ut=0;Zt<re;Zt++,Ut++)Zt in pt&&$(yt,Ut,pt[Zt]);return yt.length=Ut,yt}})},fc6a:function(y,D,d){var S=d("44ad"),p=d("1d80");y.exports=function(O){return S(p(O))}},fdbc:function(y,D){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(y,D,d){var S=d("4930");y.exports=S&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(C7);var tq=C7.exports;const eq=hQ(tq),nq={name:"LeadsPage",components:{draggable:eq},setup(){const M=Ee("all"),h=Ee([]),C=Ee(!0),f=Ee(""),y=Ee(""),D=Ee(!1),d=Ee({id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""}),S=Ee({}),p=Ee({message:"",type:""}),O=Ee([]),L=Ee([]),F=Ee([]),V=Ee(!1),$=Ee(""),j=Ee([]),W=Ee(null),Y=Ee(""),rt=Ee(new Set),K=Ee(!1),_=Ee(!1),et=Ee(null),Tt=Ee(""),vt=Ee(1),R=Ee(10),Ot=Gg(()=>Math.ceil(h.value.length/R.value)),pt=Ee(""),Ft=Ee(""),Zt=Ee(!1),re=Ee(!1),Ht=Ee(!1),yt=Ee(!1),Ut=Ee(!1),m=Ee(null),ue=Ee(""),We=Ee(!1),Oe=Ee([]),Hn=Ee(!1),ln=Ee(!1),me=Ee([]),Ge=ot=>{Y.value=ot,$.value=Lo(ot),j.value=qn(ot),V.value=!0},On=()=>{V.value=!1},kn=ot=>rt.value.has(ot),mt=ot=>{rt.value.has(ot)?rt.value.delete(ot):rt.value.add(ot),d.value.tag=Array.from(rt.value)},Mt=()=>{On()},Lo=ot=>({listingAlert:"New Listing Alert",neighbourhoodAlert:"Neighbourhood Alert",openHouseAlert:"Open House Alert",actionPlan:"Action Plan",marketUpdates:"Market Updates",newsletter:"Real Estate Newsletter"})[ot]||"Unknown Modal",qn=ot=>({listingAlert:[{value:"alert1",text:"Alert 1"},{value:"alert2",text:"Alert 2"}],neighbourhoodAlert:[{value:"neigh1",text:"Neighbourhood 1"},{value:"neigh2",text:"Neighbourhood 2"}],openHouseAlert:[{value:"house1",text:"House 1"},{value:"house2",text:"House 2"}],actionPlan:[{value:"plan1",text:"Plan 1"},{value:"plan2",text:"Plan 2"}],marketUpdates:[{value:"update1",text:"Update 1"},{value:"update2",text:"Update 2"}],newsletter:[{value:"news1",text:"Newsletter 1"},{value:"news2",text:"Newsletter 2"}]})[ot]||[],Ve=()=>{ln.value=!1},cn=Ee({from:"hiteshpandey732195@gmail.com",to:"",subject:"",message:"",template:"",attachments:[]}),vn=ot=>{me.value.splice(ot,1),cn.value.to=me.value.join(", ")};Im(Oe,ot=>{me.value=h.value.filter(Yt=>ot.includes(Yt.id)).map(Yt=>Yt.email),cn.value.to=me.value.join(", "),console.log("Updated To Field:",cn.value.to)}),Im(me,ot=>{cn.value.to=ot.join(", "),console.log("Updated To Field from Modal:",cn.value.to)});const to=async()=>{console.log("Lead modal opening..."),ln.value=!0,await as()},Me=()=>{ln.value=!1},Wn=ot=>{me.value.includes(ot)?me.value=me.value.filter(Yt=>Yt!==ot):me.value.push(ot)},en=Ee(""),ae=Ee(["Best regards,<br>John Doe<br>Company Name","Sincerely,<br>Jane Smith<br>Marketing Head","Thank you,<br>Support Team<br>XYZ Pvt Ltd"]),wo=Ee(""),Fo=Ee(["{{firstName}}","{{lastName}}","{{email}}","{{company}}","{{phone}}"]),Gn=()=>{en.value&&(cn.value.subject+=" "+en.value)},Ho=()=>{if(wo.value){const ot=Wu.get("email-editor"),Yt=ot.getContent();ot.setContent(Yt+"<br><br>"+wo.value)}},fs=Ee([]),Yo=localStorage.getItem("auth_token"),Jo=async()=>{try{const ot=await Ns.get("/api/templates",{headers:{Authorization:`Bearer ${Yo}`}});fs.value=ot.data.data??ot.data}catch(ot){console.error("Error fetching templates:",ot),ot.response&&ot.response.status===401&&alert("Session expired. Please log in again.")}},no=()=>{Tb(()=>{Wu.get("email-editor")||Wu.init({selector:"#email-editor",plugins:["anchor autolink autoresize autosave charmap code codesample directionality emoticons fullscreen help image insertdatetime link lists liststyles media nonbreaking pagebreak preview quickbars save searchreplace table visualblocks visualchars wordcount"],toolbar:"undo redo | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | preview fullscreen emoticons charmap | searchreplace code",menubar:"file edit view insert format tools table help",height:500,setup:ot=>{m.value=ot}})})},ps=()=>{Wu.get("email-editor")&&Wu.get("email-editor").remove()},rs=()=>{if(Oe.value.length===0){Os.fire({icon:"warning",title:"No Leads Selected",text:"Please select at least one lead before sending an email."});return}Ut.value=!0,Tb(()=>{ps(),no()})},zn=()=>{Ut.value=!1,ps()},tt=()=>{const ot=fs.value.find(Yt=>Yt.id===cn.value.template);if(ot){let Yt=ot.content;Wu.get("email-editor").setContent(Yt),wo.value&&Ho()}},st=ot=>{cn.value.attachments=Array.from(ot.target.files)},lt=()=>{const ot=m.value.getContent();alert(`Preview:
From: ${cn.value.from}
To: ${cn.value.to}
Subject: ${cn.value.subject}
Message:
${ot}`)},ft=()=>{alert("Feature not implemented yet. Add scheduling logic here!")},oe=async()=>{const ot=m.value.getContent();if(!cn.value.to){Os.fire({icon:"error",title:"No Recipients",text:"Please add at least one recipient."});return}Os.fire({title:"Are you sure?",text:"Do you want to send this email?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, send it!",cancelButtonText:"Cancel"}).then(async Yt=>{if(Yt.isConfirmed)try{await Ns.post("/api/send-email",{from:cn.value.from,to:cn.value.to.split(",").map(Ke=>Ke.trim()),subject:cn.value.subject,message:ot,template_id:cn.value.template}),Os.fire({icon:"success",title:"Email Sent!",text:"Your email has been successfully sent."}),zn()}catch{Os.fire({icon:"error",title:"Failed to Send",text:"Something went wrong. Please try again later."})}})},Se=Ee(!1),we=Ee(!1),Qe=Ee([]),In=Ee([]),qt=Ee([]),Pt=Ee({from:"",to:"",toName:"",subject:"",message:"",template:"",schedule:""}),ve=()=>{Pt.value.to=qt.value.map(ot=>ot.phone).join(", "),Pt.value.toName=qt.value.map(ot=>ot.first_name).join(", ")},wt=ot=>{const Yt=Oe.value.indexOf(ot.id);Yt===-1?(Oe.value.push(ot.id),qt.value.push({id:ot.id,first_name:ot.first_name,phone:ot.phone})):(Oe.value.splice(Yt,1),qt.value=qt.value.filter(Ke=>Ke.id!==ot.id))},jt=ot=>Oe.value.includes(ot.id),bn=ot=>{const Yt=qt.value[ot];qt.value.splice(ot,1),Oe.value=Oe.value.filter(Ke=>Ke!==Yt.id)};Im(Oe,ot=>{Pt.value.to=qt.value.map(Yt=>Yt.phone).join(", "),Pt.value.toName=qt.value.map(Yt=>Yt.first_name).join(", ")});const eo=()=>{we.value=!1},ua=()=>{console.log("Opening SMS Lead Modal"),we.value=!0},Qo=()=>{we.value=!1},Na=ot=>{Pt.value.toName=ot.first_name,Pt.value.to=ot.phone,we.value=!1};Im(Oe,()=>{qt.value=h.value.filter(ot=>Oe.value.includes(ot.id)),Pt.value.to=qt.value.map(ot=>ot.phone).join(", "),Pt.value.toName=qt.value.map(ot=>ot.first_name).join(", ")});const Br=()=>{Pt.value.message.length>300&&(Pt.value.message=Pt.value.message.slice(0,300))},$i=Ee([{id:1,name:"Appointment Reminder",content:"Hi {name}, this is a reminder for your appointment."},{id:2,name:"Promotional Offer",content:"Hello {name}, check out our latest promotional offers!"}]),da=ot=>{Pt.value.to=ot.phone,Me()},No=ot=>{ot.target.checked?(Oe.value=h.value.map(Yt=>Yt.id),qt.value=h.value.map(Yt=>({id:Yt.id,first_name:Yt.first_name,phone:Yt.phone}))):(Oe.value=[],qt.value=[])},$a=Ee(["{name}","{email}","{phone}"]),li=()=>{if(Oe.value.length===0){Os.fire("No leads selected!","Please select leads before sending an SMS.","warning");return}We.value=!0},Il=()=>{Hn.value=!Hn.value},zi=()=>{We.value=!1,Pt.value={from:"",to:"",subject:"",message:"",template:"",schedule:""}},vs=()=>{const ot=$i.value.find(Yt=>Yt.id===Pt.value.template);ot&&(Pt.value.message=ot.content)},Co=ot=>{const Yt=ot.target.value;Yt&&(Pt.value.message+=` ${Yt}`,Pt.value.subject+=` ${Yt}`,ot.target.value="")},Zi=()=>{Os.fire({title:"SMS Preview",html:`<strong>From:</strong> ${Pt.value.from}<br>
            <strong>To:</strong> ${Pt.value.to}<br>
            <strong>Subject:</strong> ${Pt.value.subject}<br>
            <strong>Message:</strong><br> ${Pt.value.message}`,icon:"info"})},Nr=async()=>{if(!Pt.value.from||qt.value.length===0||!Pt.value.message.trim()){Os.fire("Missing Information","Sender, recipient, and message cannot be empty.","error");return}try{const ot=qt.value.map(Yt=>Yt.phone);await Ns.post("/api/send-sms",{lead_ids:Oe.value,from:Pt.value.from,to:ot.join(", "),subject:Pt.value.subject,message:Pt.value.message,schedule:Pt.value.schedule||null}),Os.fire("Success","SMS sent successfully.","success"),zi()}catch{Os.fire("Error","Failed to send SMS.","error")}},Ui=async ot=>{M.value=ot,C.value=!0,ot==="all"?await ci():ot==="my"&&await as()},ci=async()=>{try{const ot=await Ns.get("/leads");console.log(ot),h.value=Array.isArray(ot.data)?ot.data:[]}catch{f.value="Failed to fetch leads."}finally{C.value=!1}},as=async()=>{try{const ot=await Ns.get("/leads");h.value=Array.isArray(ot.data)?ot.data:[]}catch{f.value="Failed to fetch my leads."}finally{C.value=!1}},ma=async()=>{try{const ot=await Ns.get("/items");O.value=ot.data.tags,L.value=ot.data.stages,F.value=ot.data.sources}catch(ot){console.error("Failed to fetch items:",ot)}},za=()=>{Zt.value=!0},$r=()=>{Zt.value=!1,pt.value=""},ui=()=>{re.value=!0},Ll=()=>{re.value=!1,Ft.value=""},_i=async()=>{if(pt.value.trim())try{const ot=await Ns.post("/api/items",{name:pt.value,type:"tag"});O.value.push(ot.data.item),pt.value="",Ht.value=!1,Os.fire("Success","Tag added successfully","success")}catch(ot){console.error("Failed to add tag:",ot),Os.fire("Error","Failed to add tag","error")}},xr=async()=>{if(Ft.value.trim())try{const ot=await Ns.post("/api/items",{name:Ft.value,type:"stage"});L.value.push(ot.data.item),Ft.value="",yt.value=!1,Os.fire("Success","Stage added successfully","success")}catch(ot){console.error("Failed to add stage:",ot),Os.fire("Error","Failed to add stage","error")}},Fl=Gg(()=>h.value.filter(ot=>ot.first_name&&ot.first_name.toLowerCase().includes(y.value.toLowerCase()))),Ct=ot=>{const Yt=O.value.find(Ke=>Ke.id===ot);return Yt?Yt.name:"N/A"},di=ot=>{const Yt=L.value.find(Ke=>Ke.id===ot);return Yt?Yt.name:"N/A"},Hl=()=>(S.value={first_name:d.value.first_name?"":"First name is required.",last_name:d.value.last_name?"":"Last name is required.",email:d.value.email&&/^\S+@\S+\.\S+$/.test(d.value.email)?"":"Valid email is required.",phone:d.value.phone&&/^\d{10}$/.test(d.value.phone)?"":"Valid phone number is required.",tag:d.value.tag?"":"Tag is required.",stage:d.value.stage?"":"Stage is required."},!Object.values(S.value).some(ot=>ot)),Pl=async()=>{if(Oe.value.length===0){un("No leads selected.","error");return}if((await Os.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const Yt=document.querySelector('meta[name="csrf-token"]'),Ke=Yt?Yt.getAttribute("content"):"";await Ns.post("/leads/delete",{lead_ids:Oe.value},{headers:{"X-CSRF-TOKEN":Ke}}),h.value=h.value.filter(wr=>!Oe.value.includes(wr.id)),Oe.value=[],Os.fire("Deleted!","Selected leads have been deleted.","success")}catch{Os.fire("Error!","Failed to delete leads.","error")}},Rl=ot=>{ot>=1&&ot<=Ot.value&&(vt.value=ot)},Nc=ot=>{R.value=ot,vt.value=1},ha=Gg(()=>{const ot=(vt.value-1)*R.value,Yt=ot+R.value;return h.value.slice(ot,Yt)}),Za=async()=>{if(Oe.value.length===0){un("No leads selected.","error");return}try{const ot=await Ns.post("/leads/export",{lead_ids:Oe.value},{responseType:"blob"}),Yt=window.URL.createObjectURL(new Blob([ot.data])),Ke=document.createElement("a");Ke.href=Yt,Ke.setAttribute("download","leads.csv"),document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),un("Leads exported successfully!","success")}catch{un("Failed to export leads.","error")}},$c=async ot=>{const Yt=ot.target.files[0];if(!Yt){un("No file selected.","error");return}const Ke=new FormData;Ke.append("file",Yt);try{const wr=document.querySelector('meta[name="csrf-token"]'),ys=wr?wr.getAttribute("content"):"";await Ns.post("/leads/import",Ke,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":ys}}),await Ui(),un("Leads imported successfully!","success")}catch{un("Failed to import leads.","error")}},ji=()=>{qs(),alert("Indirect File Import option selected")},Ua=()=>{K.value=!0},qs=()=>{K.value=!1,_.value=!1,et.value=null,Tt.value=""},Wi=()=>{_.value=!0},oo=ot=>{const Yt=ot.target.files[0];Yt&&Yt.type==="text/csv"?(et.value=Yt,Tt.value=""):(et.value=null,Tt.value="Please select a valid CSV file.")},Gi=()=>{if(!et.value){Tt.value="No file selected or invalid file type.";return}console.log("CSV file selected:",et.value),qs()},tr=()=>{qs()},un=(ot,Yt)=>{p.value={message:ot,type:Yt},setTimeout(()=>{p.value.message=""},5e3)},so=async()=>{if(Hl())try{const ot=document.querySelector('meta[name="csrf-token"]'),Yt=ot?ot.getAttribute("content"):"",Ke=localStorage.getItem("auth_token"),wr=await Ns.post("/leads",{first_name:d.value.first_name,last_name:d.value.last_name,email:d.value.email,phone:d.value.phone,tag:String(d.value.tag),stage:String(d.value.stage)},{headers:{"X-CSRF-TOKEN":Yt,Authorization:`Bearer ${Ke}`}});d.value={id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""},D.value=!1,h.value.push(wr.data),un("Lead created successfully!","success")}catch{un("Failed to create lead.","error")}},Vn=Ee(!1),er=Ee(["first_name","email","phone"]),ga=Ee({first_name:{label:"Name",disabled:!0},email:{label:"Email",disabled:!0},phone:{label:"Phone",disabled:!0},latest_activity:{label:"Latest Activity"},activity_at:{label:"Activity At"},created_on:{label:"Created On"},tags:{label:"Tags"},stage:{label:"Stage"},latest_source:{label:"Latest Source"},latest_sms:{label:"Latest SMS"},latest_email:{label:"Latest Email"},next_task:{label:"Next Task"},next_appointment:{label:"Next Appointment"},new_listing_alert:{label:"New Listing Alerts"},neighbourhood_alert:{label:"Neighbourhood Alerts"},open_house_alert:{label:"Open House Alerts"},price_drop_alert:{label:"Price Drop Alerts"},action_plans:{label:"Active Action Plans"},market_updates:{label:"Assigned Market Updates"},real_estate_newsletter:{label:"Assigned Newsletters"},notes:{label:"Notes"},dob:{label:"DOB"},background:{label:"Background"},city:{label:"City"},facebook:{label:"Facebook"},instagram:{label:"Instagram"},linkedin:{label:"LinkedIn"},whatsapp:{label:"WhatsApp"},twitter:{label:"Twitter"}}),fa=()=>{Vn.value=!0},Sr=()=>{Vn.value=!1},Ki=async()=>{await zr(),Sr()},nr=async()=>{try{const ot=await Ns.get("/api/columns-settings",{headers:{Authorization:`Bearer ${Yo}`}});er.value=Array.isArray(ot.data.selectedColumns)?ot.data.selectedColumns:["first_name","email","phone"]}catch{un("Failed to fetch column settings!")}},Xi=async()=>{try{await Ns.post("/api/columns-settings",{selectedColumns:er.value},{headers:{Authorization:`Bearer ${Yo}`}}),un("Column settings saved successfully!")}catch{un("Failed to save column settings!")}},_e=ot=>{if(!ga.value[ot].disabled){const Yt=er.value.indexOf(ot);Yt===-1?(er.value.push(ot),un(`Column "${ga.value[ot].label}" added`)):(er.value.splice(Yt,1),un(`Column "${ga.value[ot].label}" removed`))}},zr=async()=>{try{await Ns.post("/api/columns-settings",{selectedColumns:er.value},{headers:{Authorization:`Bearer ${Yo}`}}),un("Column visibility settings saved successfully!")}catch{un("Failed to save column visibility settings!")}},bs=async()=>{try{await Ns.post("/api/columns-order",{selectedColumns:er.value},{headers:{Authorization:`Bearer ${Yo}`}}),un("Column order saved successfully!")}catch{un("Failed to save column order.")}},mi=async()=>{try{await bs()}catch{un("Failed to save column order.")}};return y7(async()=>{await Ui(M.value),await ma();try{await ps()}catch(ot){console.warn("TinyMCE destruction failed:",ot)}await Jo(),await nr()}),{removeEmail:vn,saveColumnSettings:Xi,toggleLeadSelection:Wn,toggleSelectAll:No,showLeadModal:ln,selectedEmails:me,addSelectedEmails:Ve,closeLeadModal:Me,openLeadModal:to,expandSmsModal:Il,showSmsModal:We,selectedLeads:Oe,smsData:Pt,smsTemplates:$i,mergeTags:$a,openSmsModal:li,closeSmsModal:zi,loadSmsTemplate:vs,insertMergeTag:Co,previewSms:Zi,sendSms:Nr,emailData:cn,templates:fs,loadTemplate:tt,handleAttachments:st,previewEmail:lt,scheduleEmail:ft,emailMessage:ue,showEmailModal:Ut,openEmailModal:rs,closeEmailModal:zn,sendEmail:oe,getAllLeads:ci,getMyLeads:as,fetchLeads:Ui,activeLeadType:M,leads:h,loading:C,error:f,searchQuery:y,filteredLeads:Fl,showForm:D,newLead:d,errors:S,submitForm:so,toggleSelectAll:No,toast:p,getTagValue:Ct,getStageValue:di,tags:O,stages:L,sources:F,fetchItems:ma,showImportModal:K,openImportModal:Ua,closeImportModal:qs,importDirectFile:tr,importIndirectFile:ji,showFileInput:_,showFileUploadField:Wi,handleFileUpload:oo,submitCsvFile:Gi,fileError:Tt,deleteLeads:Pl,exportLeads:Za,importLeads:$c,currentPage:vt,pageSize:R,totalPages:Ot,changePage:Rl,setPageSize:Nc,paginatedLeads:ha,showToast:un,newTag:pt,newStage:Ft,showTagModal:Zt,showStageModal:re,showAddTagInput:Ht,showAddStageInput:yt,openTagModal:za,closeTagModal:$r,openStageModal:ui,closeStageModal:Ll,addTag:_i,addStage:xr,openModal:Ge,submitAction:Mt,showModal:V,modalTitle:$,modalOptions:j,selectedOption:W,isTagSelected:kn,toggleTagSelection:mt,closeModal:On,selectedMergeField:en,addMergeFieldToSubject:Gn,mergeFields:Fo,signatures:ae,addSignatureToBody:Ho,selectedSignature:wo,selectLead:da,countCharacters:Br,showEmailLeadModal:Se,openSmsLeadModal:ua,selectSmsLead:Na,closeSmsLeadModal:Qo,showSmsLeadModal:we,addSelectedPhones:eo,toggleSmsLeadSelection:wt,selectedPhones:Qe,selectedNames:In,selectedLeadsList:qt,isLeadSelected:jt,removeSelectedLead:bn,addSelectedPhones:eo,toggleSmsLeadSelection:wt,updateSmsToField:ve,showColumnsModal:Vn,openColumnsModal:fa,closeColumnsModal:Sr,selectedColumns:er,availableColumns:ga,updateColumns:Ki,toggleColumnSelection:_e,fetchColumnSettings:nr,onColumnReorder:mi}}},oq={class:"leads-container"},sq={class:"leads-header"},rq={class:"leads-section"},aq={class:"lead-buttons"},iq={class:"icon-section"},lq={class:"selected-count total-leads"},cq=["disabled"],uq={key:0,class:"modal"},dq={class:"modal-header"},mq={class:"modal-body"},hq={class:"form-group"},gq={class:"form-group"},fq={class:"email-input-container"},pq={class:"email-tags"},vq=["onClick"],bq={class:"form-group subject-container"},yq=["value"],xq={class:"form-group"},Sq=["value"],wq={class:"form-group"},Cq=["value"],Tq={class:"form-group"},Eq={class:"form-actions"},Oq=["disabled"],Mq={key:0,class:"integrte_LeadModal"},Aq={class:"modal_LeadContent"},Dq={class:"modal-header"},kq={class:"modal_LeadBody"},Iq=["value","checked","onChange"],Lq={class:"modal-footer"},Fq={class:"modal-header"},Hq={class:"modal-body"},Pq={class:"form-group"},Rq={class:"form-group"},Vq={class:"input-group"},Bq={class:"selected-leads"},Nq=["onClick"],$q={class:"form-group"},zq=["value"],Zq={class:"form-group"},Uq=["value"],_q={class:"form-group textarea-container"},jq={class:"char-counter"},Wq={class:"form-group"},Gq={class:"form-actions"},Kq=["disabled"],Xq=["disabled"],Yq=["disabled"],Jq=["disabled"],Qq=["disabled"],qq=["disabled"],ttt=["disabled"],ett=["disabled"],ntt=["disabled"],ott=["disabled"],stt=["disabled"],rtt=["disabled"],att={key:0,class:"modal-overlay"},itt={class:"modal-container"},ltt={key:0,class:"import-options"},ctt={key:1,class:"file-upload-container"},utt={key:0,class:"error-message"},dtt={key:1,class:"tag-modal-overlay"},mtt={class:"tag-modal-container"},htt={class:"modal_tags"},gtt=["onClick"],ftt=["value","checked"],ptt={key:0},vtt={key:2,class:"stage-modal-overlay"},btt={class:"stage-modal-container"},ytt={class:"modal_stages"},xtt=["onClick"],Stt=["value","onUpdate:modelValue"],wtt={key:0,class:"new-stage-input"},Ctt={key:3,class:"modal-overlay"},Ttt={class:"modal-container"},Ett=["value"],Ott={class:"modal-buttons"},Mtt={class:"header"},Att={class:"total-leads"},Dtt={key:4,class:"form-overlay"},ktt={class:"form-container"},Itt={key:0,class:"error"},Ltt={key:0,class:"error"},Ftt={key:0,class:"error"},Htt={key:0,class:"error"},Ptt=["value"],Rtt={key:0,class:"error"},Vtt=["value"],Btt={key:0,class:"error"},Ntt={class:"table-container"},$tt={class:"table-wrapper"},ztt={class:"lead_Table"},Ztt={class:"checkbox-col"},Utt={class:"custom-checkbox-label"},_tt={class:"checkbox-col"},jtt=["value"],Wtt={key:0,class:"no-leads"},Gtt={class:"pagination"},Ktt=["disabled"],Xtt=["disabled"],Ytt={key:0,class:"columns-modal-overlay"},Jtt={class:"columns-modal-container"},Qtt={class:"columns-modal-list"},qtt=["checked","onChange","disabled"],tet={key:0,class:"columns-modal-warning"};function eet(M,h,C,f,y,D){const d=Eb("draggable"),S=Eb("router-link");return ne(),ie(ss,null,[G("div",oq,[G("div",sq,[G("div",rq,[G("div",aq,[G("button",{class:xo(["btn",{active:f.activeLeadType==="all"}]),onClick:h[0]||(h[0]=p=>f.fetchLeads("all"))}," All Leads ",2),G("button",{class:xo(["btn",{active:f.activeLeadType==="my"}]),onClick:h[1]||(h[1]=p=>f.fetchLeads("my"))}," My Leads ",2)])]),G("div",iq,[G("ul",null,[G("li",lq," Selected Leads: "+pn(f.selectedLeads.length),1),h[123]||(h[123]=G("li",{class:"total-leads"},[G("i",{class:"fa-solid fa-plus"})],-1)),G("li",{class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),onClick:h[2]||(h[2]=(...p)=>f.deleteLeads&&f.deleteLeads(...p)),disabled:f.selectedLeads.length===0},h[86]||(h[86]=[G("span",null,"Delete",-1),G("i",{class:"fa-solid fa-trash-can-arrow-up"},null,-1)]),10,cq),f.showEmailModal?(ne(),ie("div",uq,[G("div",dq,[h[87]||(h[87]=G("h2",null,"Compose Email",-1)),G("button",{onClick:h[3]||(h[3]=(...p)=>f.closeEmailModal&&f.closeEmailModal(...p))},"")]),G("div",mq,[G("div",hq,[h[88]||(h[88]=G("label",{for:"from"},"From:",-1)),ho(G("input",{type:"email",id:"from","onUpdate:modelValue":h[4]||(h[4]=p=>f.emailData.from=p),placeholder:"Enter sender email"},null,512),[[Pr,f.emailData.from]])]),G("div",gq,[h[89]||(h[89]=G("label",{for:"to"},"To:",-1)),G("div",fq,[G("div",pq,[(ne(!0),ie(ss,null,Ms(f.selectedLeadsList,(p,O)=>(ne(),ie("span",{key:p.id,class:"email-tag"},[zs(pn(p.first_name)+" ("+pn(p.email)+") ",1),G("button",{onClick:L=>f.removeSelectedLead(O),class:"remove-email"},"",8,vq)]))),128))]),G("button",{onClick:h[5]||(h[5]=(...p)=>f.openSmsLeadModal&&f.openSmsLeadModal(...p))},"+")])]),G("div",bq,[ho(G("input",{type:"text","onUpdate:modelValue":h[6]||(h[6]=p=>f.emailData.subject=p),placeholder:"Subject",class:"subject-input"},null,512),[[Pr,f.emailData.subject]]),ho(G("select",{"onUpdate:modelValue":h[7]||(h[7]=p=>f.selectedMergeField=p),onChange:h[8]||(h[8]=(...p)=>f.addMergeFieldToSubject&&f.addMergeFieldToSubject(...p)),class:"merge-field"},[h[90]||(h[90]=G("option",{value:""},"Merge Field",-1)),(ne(!0),ie(ss,null,Ms(f.mergeFields,p=>(ne(),ie("option",{key:p,value:p},pn(p),9,yq))),128))],544),[[Vi,f.selectedMergeField]])]),G("div",xq,[h[92]||(h[92]=G("label",{for:"template"},"Template:",-1)),ho(G("select",{id:"template","onUpdate:modelValue":h[9]||(h[9]=p=>f.emailData.template=p),onChange:h[10]||(h[10]=(...p)=>f.loadTemplate&&f.loadTemplate(...p))},[h[91]||(h[91]=G("option",{value:""},"Select Template",-1)),(ne(!0),ie(ss,null,Ms(f.templates,p=>(ne(),ie("option",{key:p.id,value:p.id},pn(p.title),9,Sq))),128))],544),[[Vi,f.emailData.template]])]),h[96]||(h[96]=G("textarea",{id:"email-editor"},null,-1)),G("div",wq,[h[94]||(h[94]=G("label",{for:"signature"},"Select Signature:",-1)),ho(G("select",{id:"signature","onUpdate:modelValue":h[11]||(h[11]=p=>f.selectedSignature=p),onChange:h[12]||(h[12]=(...p)=>f.addSignatureToBody&&f.addSignatureToBody(...p))},[h[93]||(h[93]=G("option",{value:""},"Select Signature",-1)),(ne(!0),ie(ss,null,Ms(f.signatures,(p,O)=>(ne(),ie("option",{key:O,value:p}," Signature "+pn(O+1),9,Cq))),128))],544),[[Vi,f.selectedSignature]])]),G("div",Tq,[h[95]||(h[95]=G("label",{for:"attachments"},"Attachments:",-1)),G("input",{type:"file",id:"attachments",multiple:"",onChange:h[13]||(h[13]=(...p)=>f.handleAttachments&&f.handleAttachments(...p))},null,32)]),G("div",Eq,[G("button",{onClick:h[14]||(h[14]=(...p)=>f.previewEmail&&f.previewEmail(...p))},"Preview"),G("button",{onClick:h[15]||(h[15]=(...p)=>f.scheduleEmail&&f.scheduleEmail(...p))},"Schedule"),G("button",{onClick:h[16]||(h[16]=(...p)=>f.sendEmail&&f.sendEmail(...p))},"Send Email")])])])):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:1,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),onClick:h[17]||(h[17]=(...p)=>f.openEmailModal&&f.openEmailModal(...p)),disabled:f.selectedLeads.length===0},h[97]||(h[97]=[G("span",null,"Email",-1),G("i",{class:"fa-solid fa-envelope"},null,-1)]),10,Oq)):dn("",!0),(ne(),Cb(p7,{to:"body"},[f.showSmsLeadModal?(ne(),ie("div",Mq,[G("div",Aq,[G("div",Dq,[h[98]||(h[98]=G("h2",null,"Select Leads",-1)),G("button",{onClick:h[18]||(h[18]=p=>f.showSmsLeadModal=!1)},"")]),G("div",kq,[G("table",null,[h[99]||(h[99]=G("thead",null,[G("tr",null,[G("th",null,"Select"),G("th",null,"Name"),G("th",null,"Phone")])],-1)),G("tbody",null,[(ne(!0),ie(ss,null,Ms(f.leads,p=>(ne(),ie("tr",{key:p.id},[G("td",null,[G("input",{type:"checkbox",value:p.phone,checked:f.isLeadSelected(p),onChange:O=>f.toggleSmsLeadSelection(p)},null,40,Iq)]),G("td",null,pn(p.first_name)+" "+pn(p.last_name),1),G("td",null,pn(p.phone),1)]))),128))])])]),G("div",Lq,[G("button",{onClick:h[19]||(h[19]=(...p)=>f.addSelectedPhones&&f.addSelectedPhones(...p))},"Add Selected")])])])):dn("",!0)])),f.showSmsModal?(ne(),ie("div",{key:2,class:xo(["modal",{"modal-fullscreen":M.isFullscreen}])},[G("div",Fq,[h[100]||(h[100]=G("h2",null,"Compose SMS",-1)),G("i",{class:"fas fa-expand-alt",onClick:h[20]||(h[20]=(...p)=>f.expandSmsModal&&f.expandSmsModal(...p)),title:"Expand"}),G("button",{onClick:h[21]||(h[21]=(...p)=>f.closeSmsModal&&f.closeSmsModal(...p))},"")]),G("div",Hq,[G("div",Pq,[h[101]||(h[101]=G("label",{for:"sms-from"},"From:",-1)),ho(G("input",{type:"text",id:"sms-from","onUpdate:modelValue":h[22]||(h[22]=p=>f.smsData.from=p),placeholder:"Enter sender's name or phone number"},null,512),[[Pr,f.smsData.from]])]),G("div",Rq,[h[102]||(h[102]=G("label",{for:"sms-to"},"To:",-1)),G("div",Vq,[G("div",Bq,[(ne(!0),ie(ss,null,Ms(f.selectedLeadsList,(p,O)=>(ne(),ie("span",{key:p.id,class:"selected-tag"},[zs(pn(p.first_name)+" ",1),G("button",{onClick:L=>f.removeSelectedLead(O)},"",8,Nq)]))),128)),G("button",{onClick:h[23]||(h[23]=(...p)=>f.openSmsLeadModal&&f.openSmsLeadModal(...p))},"+")])])]),G("div",$q,[h[104]||(h[104]=G("label",{for:"sms-template"},"Template:",-1)),ho(G("select",{id:"sms-template","onUpdate:modelValue":h[24]||(h[24]=p=>f.smsData.template=p),onChange:h[25]||(h[25]=(...p)=>f.loadSmsTemplate&&f.loadSmsTemplate(...p))},[h[103]||(h[103]=G("option",{value:""},"Select Template",-1)),(ne(!0),ie(ss,null,Ms(f.smsTemplates,p=>(ne(),ie("option",{key:p.id,value:p.id},pn(p.name),9,zq))),128))],544),[[Vi,f.smsData.template]])]),G("div",Zq,[h[106]||(h[106]=G("label",{for:"merge-tags"},"Insert Merge Tag:",-1)),G("select",{id:"merge-tags",onChange:h[26]||(h[26]=p=>f.insertMergeTag(p))},[h[105]||(h[105]=G("option",{value:""},"Select Tag",-1)),(ne(!0),ie(ss,null,Ms(f.mergeTags,p=>(ne(),ie("option",{key:p,value:p},pn(p),9,Uq))),128))],32)]),G("div",_q,[h[107]||(h[107]=G("label",{for:"sms-message"},"Message:",-1)),ho(G("textarea",{id:"sms-message","onUpdate:modelValue":h[27]||(h[27]=p=>f.smsData.message=p),placeholder:"Type your message here...",rows:"5",maxlength:"300",onInput:h[28]||(h[28]=(...p)=>f.countCharacters&&f.countCharacters(...p))},null,544),[[Pr,f.smsData.message]]),G("span",jq,pn(f.smsData.message.length)+"/300",1)]),G("div",Wq,[h[108]||(h[108]=G("label",{for:"sms-schedule"},"Schedule SMS:",-1)),ho(G("input",{type:"datetime-local",id:"sms-schedule","onUpdate:modelValue":h[29]||(h[29]=p=>f.smsData.schedule=p)},null,512),[[Pr,f.smsData.schedule]])]),G("div",Gq,[G("button",{onClick:h[30]||(h[30]=(...p)=>f.previewSms&&f.previewSms(...p))},"Preview"),G("button",{onClick:h[31]||(h[31]=(...p)=>f.sendSms&&f.sendSms(...p))},"Send SMS")])])],2)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:3,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),onClick:h[32]||(h[32]=(...p)=>f.openSmsModal&&f.openSmsModal(...p)),disabled:f.selectedLeads.length===0},h[109]||(h[109]=[G("span",null,"Smart SMS",-1),G("i",{class:"fa-solid fa-comment-dots"},null,-1)]),10,Kq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:4,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[33]||(h[33]=(...p)=>f.openTagModal&&f.openTagModal(...p))},h[110]||(h[110]=[G("span",null,"Tags",-1),G("i",{class:"fa-solid fa-tags"},null,-1)]),10,Xq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:5,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[34]||(h[34]=(...p)=>f.openStageModal&&f.openStageModal(...p))},h[111]||(h[111]=[G("span",null,"Stage",-1),G("i",{class:"fa-solid fa-table-cells"},null,-1)]),10,Yq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:6,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[35]||(h[35]=p=>f.openModal("listingAlert"))},h[112]||(h[112]=[G("span",null,"New Listing Alert",-1),G("i",{class:"fa-solid fa-bell"},null,-1)]),10,Jq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:7,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[36]||(h[36]=p=>f.openModal("neighbourhoodAlert"))},h[113]||(h[113]=[G("span",null,"Neighbourhood Alert",-1),G("i",{class:"fa-solid fa-map-location-dot"},null,-1)]),10,Qq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:8,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[37]||(h[37]=p=>f.openModal("openHouseAlert"))},h[114]||(h[114]=[G("span",null,"Open House Alert",-1),G("i",{class:"fa-solid fa-circle-exclamation"},null,-1)]),10,qq)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:9,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[38]||(h[38]=p=>f.openModal("actionPlan"))},h[115]||(h[115]=[G("span",null,"Action Plan",-1),G("i",{class:"fa-solid fa-plus"},null,-1)]),10,ttt)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:10,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[39]||(h[39]=p=>f.openModal("marketUpdates"))},h[116]||(h[116]=[G("span",null,"Market Updates",-1),G("i",{class:"fa fa-bar-chart","aria-hidden":"true"},null,-1)]),10,ett)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:11,class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0,onClick:h[40]||(h[40]=p=>f.openModal("newsletter"))},h[117]||(h[117]=[G("span",null,"Real Estate Newsletter",-1),G("i",{class:"fa-solid fa-envelope-open-text"},null,-1)]),10,ntt)):dn("",!0),G("li",{class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),disabled:f.selectedLeads.length===0},h[118]||(h[118]=[G("span",null,"Lead Transfer",-1),G("i",{class:"fa-solid fa-right-left"},null,-1)]),10,ott),G("li",{class:xo(["total-leads",{disabled:f.selectedLeads.length===0}]),onClick:h[41]||(h[41]=(...p)=>f.exportLeads&&f.exportLeads(...p)),disabled:f.selectedLeads.length===0},h[119]||(h[119]=[G("span",null,"Export Lead",-1),G("i",{class:"fa-solid fa-file-export"},null,-1)]),10,stt),G("li",{class:"total-leads",onClick:h[42]||(h[42]=(...p)=>f.openImportModal&&f.openImportModal(...p))},h[120]||(h[120]=[G("span",null,"Import",-1),G("i",{class:"fa-solid fa-file-import"},null,-1)])),M.activeColomType==="my"?(ne(),ie("li",{key:12,class:xo(["total-leads_colom",{disabled:M.selectedcoloms.length===0}]),disabled:M.selectedcoloms.length===0,onClick:h[43]||(h[43]=(...p)=>M.opencolomsModal&&M.opencolomsModal(...p))},h[121]||(h[121]=[G("span",null,"Lead",-1),G("i",{class:"fa-solid fa-table-cells"},null,-1)]),10,rtt)):dn("",!0),f.activeLeadType==="my"?(ne(),ie("li",{key:13,class:"total-leads",onClick:h[44]||(h[44]=(...p)=>f.openColumnsModal&&f.openColumnsModal(...p))},h[122]||(h[122]=[G("span",null,"Settings",-1),G("i",{class:"fa-solid fa-gear"},null,-1)]))):dn("",!0)])])]),f.showImportModal?(ne(),ie("div",att,[G("div",itt,[G("button",{type:"button",onClick:h[45]||(h[45]=(...p)=>f.closeImportModal&&f.closeImportModal(...p)),class:"close-button"},"X"),h[124]||(h[124]=G("h2",null,"Select Import Type",-1)),f.showFileInput?dn("",!0):(ne(),ie("div",ltt,[G("button",{onClick:h[46]||(h[46]=(...p)=>f.importDirectFile&&f.importDirectFile(...p)),class:"import-button"},"Direct File Import"),G("button",{onClick:h[47]||(h[47]=(...p)=>f.showFileUploadField&&f.showFileUploadField(...p)),class:"import-button"},"Indirect File Import")])),f.showFileInput?(ne(),ie("div",ctt,[G("input",{type:"file",onChange:h[48]||(h[48]=(...p)=>f.handleFileUpload&&f.handleFileUpload(...p)),accept:".csv"},null,32),G("button",{onClick:h[49]||(h[49]=(...p)=>f.submitCsvFile&&f.submitCsvFile(...p)),class:"submit-button"},"Submit CSV"),f.fileError?(ne(),ie("p",utt,pn(f.fileError),1)):dn("",!0)])):dn("",!0)])])):dn("",!0),f.showTagModal?(ne(),ie("div",dtt,[G("div",mtt,[G("button",{type:"button",onClick:h[50]||(h[50]=(...p)=>f.closeTagModal&&f.closeTagModal(...p)),class:"close-button"},"X"),h[125]||(h[125]=G("h3",null,"Select Tags",-1)),G("div",htt,[(ne(!0),ie(ss,null,Ms(f.tags,p=>(ne(),ie("div",{key:p.id,class:xo(["modal_tag",{selected:f.isTagSelected(p.id)}]),onClick:O=>f.toggleTagSelection(p.id)},[G("input",{type:"checkbox",value:p.id,checked:f.isTagSelected(p.id),readonly:""},null,8,ftt),zs(" "+pn(p.name),1)],10,gtt))),128))]),G("button",{onClick:h[51]||(h[51]=p=>f.showAddTagInput=!f.showAddTagInput),class:"add-button"},"Add Tag"),f.showAddTagInput?(ne(),ie("div",ptt,[ho(G("input",{"onUpdate:modelValue":h[52]||(h[52]=p=>f.newTag=p),placeholder:"Enter new tag"},null,512),[[Pr,f.newTag]]),G("button",{onClick:h[53]||(h[53]=(...p)=>f.addTag&&f.addTag(...p)),class:"submit-button"},"Add")])):dn("",!0),G("button",{onClick:h[54]||(h[54]=(...p)=>f.closeTagModal&&f.closeTagModal(...p)),class:"submit-button"},"Close")])])):dn("",!0),f.showStageModal?(ne(),ie("div",vtt,[G("div",btt,[G("button",{type:"button",onClick:h[55]||(h[55]=(...p)=>f.closeStageModal&&f.closeStageModal(...p)),class:"close-button"},"X"),h[126]||(h[126]=G("h3",null,"Select Stage",-1)),G("div",ytt,[(ne(!0),ie(ss,null,Ms(f.stages,p=>(ne(),ie("div",{key:p.id,class:xo(["modal_stage",{selected:f.newLead.stage===p.id}]),onClick:O=>M.selectStage(p.id)},[ho(G("input",{type:"radio",value:p.id,"onUpdate:modelValue":O=>f.newLead.stage=O,readonly:""},null,8,Stt),[[x7,f.newLead.stage]]),zs(" "+pn(p.name),1)],10,xtt))),128))]),G("button",{onClick:h[56]||(h[56]=p=>f.showAddStageInput=!f.showAddStageInput),class:"add-button"},"Add Stage"),f.showAddStageInput?(ne(),ie("div",wtt,[ho(G("input",{"onUpdate:modelValue":h[57]||(h[57]=p=>f.newStage=p),placeholder:"Enter new stage",id:"m_add_stage",class:"m_add_stage"},null,512),[[Pr,f.newStage]]),G("button",{onClick:h[58]||(h[58]=(...p)=>f.addStage&&f.addStage(...p)),class:"submit-button"},"Add")])):dn("",!0),G("button",{onClick:h[59]||(h[59]=(...p)=>f.closeStageModal&&f.closeStageModal(...p)),class:"submit-button"},"Close")])])):dn("",!0),f.showModal?(ne(),ie("div",Ctt,[G("div",Ttt,[G("button",{type:"button",onClick:h[60]||(h[60]=(...p)=>f.closeModal&&f.closeModal(...p)),class:"close-button"},"X"),G("h2",null,pn(f.modalTitle),1),ho(G("select",{"onUpdate:modelValue":h[61]||(h[61]=p=>f.selectedOption=p),class:"open_modal_drop-box"},[(ne(!0),ie(ss,null,Ms(f.modalOptions,p=>(ne(),ie("option",{key:p.value,value:p.value},pn(p.text),9,Ett))),128))],512),[[Vi,f.selectedOption]]),G("div",Ott,[G("button",{onClick:h[62]||(h[62]=(...p)=>f.submitAction&&f.submitAction(...p)),class:"submit-button"},"Submit"),G("button",{onClick:h[63]||(h[63]=(...p)=>f.closeModal&&f.closeModal(...p)),class:"cancel-button"},"Cancel")])])])):dn("",!0),G("div",null,[G("div",Mtt,[ho(G("input",{"onUpdate:modelValue":h[64]||(h[64]=p=>f.searchQuery=p),type:"text",placeholder:"Search leads by name...",class:"search-bar"},null,512),[[Pr,f.searchQuery]]),G("div",Att,"Total Leads: "+pn(f.filteredLeads.length),1),h[127]||(h[127]=v7('<div class="total-leads">Last 7 Days</div><div class="total-leads">Hot</div><div class="total-leads">Buyer</div><div class="total-leads">Seller</div><div class="total-leads">Closed</div>',5)),G("button",{onClick:h[65]||(h[65]=p=>f.showForm=!0),class:"create-new-button"},"+ Create New")])]),f.showForm?(ne(),ie("div",Dtt,[G("div",ktt,[G("button",{type:"button",onClick:h[66]||(h[66]=p=>f.showForm=!1),id:"cancel_button"},"X"),h[135]||(h[135]=G("h2",null,"Create New Lead",-1)),G("form",{onSubmit:h[73]||(h[73]=S7((...p)=>f.submitForm&&f.submitForm(...p),["prevent"]))},[G("label",null,[h[128]||(h[128]=zs(" First Name: ")),ho(G("input",{"onUpdate:modelValue":h[67]||(h[67]=p=>f.newLead.first_name=p),type:"text",required:""},null,512),[[Pr,f.newLead.first_name]]),f.errors.first_name?(ne(),ie("span",Itt,pn(f.errors.first_name),1)):dn("",!0)]),G("label",null,[h[129]||(h[129]=zs(" Last Name: ")),ho(G("input",{"onUpdate:modelValue":h[68]||(h[68]=p=>f.newLead.last_name=p),type:"text",required:""},null,512),[[Pr,f.newLead.last_name]]),f.errors.last_name?(ne(),ie("span",Ltt,pn(f.errors.last_name),1)):dn("",!0)]),G("label",null,[h[130]||(h[130]=zs(" Email: ")),ho(G("input",{"onUpdate:modelValue":h[69]||(h[69]=p=>f.newLead.email=p),type:"email",required:""},null,512),[[Pr,f.newLead.email]]),f.errors.email?(ne(),ie("span",Ftt,pn(f.errors.email),1)):dn("",!0)]),G("label",null,[h[131]||(h[131]=zs(" Phone: ")),ho(G("input",{"onUpdate:modelValue":h[70]||(h[70]=p=>f.newLead.phone=p),type:"tel",required:""},null,512),[[Pr,f.newLead.phone]]),f.errors.phone?(ne(),ie("span",Htt,pn(f.errors.phone),1)):dn("",!0)]),G("label",null,[h[132]||(h[132]=zs(" Tag: ")),ho(G("select",{"onUpdate:modelValue":h[71]||(h[71]=p=>f.newLead.tag=p),required:""},[(ne(!0),ie(ss,null,Ms(f.tags,p=>(ne(),ie("option",{key:p.id,value:p.id},pn(p.name),9,Ptt))),128))],512),[[Vi,f.newLead.tag]]),f.errors.tag?(ne(),ie("span",Rtt,pn(f.errors.tag),1)):dn("",!0)]),G("label",null,[h[133]||(h[133]=zs(" Stage: ")),ho(G("select",{"onUpdate:modelValue":h[72]||(h[72]=p=>f.newLead.stage=p),required:""},[(ne(!0),ie(ss,null,Ms(f.stages,p=>(ne(),ie("option",{key:p.id,value:p.id},pn(p.name),9,Vtt))),128))],512),[[Vi,f.newLead.stage]]),f.errors.stage?(ne(),ie("span",Btt,pn(f.errors.stage),1)):dn("",!0)]),h[134]||(h[134]=G("button",{type:"submit",id:"submit_button"},"Submit",-1))],32)])])):dn("",!0),G("div",null,[G("div",null,[h[137]||(h[137]=G("label",{for:"pageSize"},"Rows per page:",-1)),ho(G("select",{"onUpdate:modelValue":h[74]||(h[74]=p=>f.pageSize=p),onChange:h[75]||(h[75]=p=>f.setPageSize(Number(p.target.value)))},h[136]||(h[136]=[G("option",{value:"5"},"5",-1),G("option",{value:"10"},"10",-1),G("option",{value:"25"},"25",-1),G("option",{value:"50"},"50",-1)]),544),[[Vi,f.pageSize]])]),G("div",Ntt,[G("div",$tt,[G("table",ztt,[G("thead",null,[G("tr",null,[G("th",Ztt,[G("label",Utt,[ho(G("input",{type:"checkbox",onChange:h[76]||(h[76]=(...p)=>f.toggleSelectAll&&f.toggleSelectAll(...p)),"onUpdate:modelValue":h[77]||(h[77]=p=>M.allSelected=p),class:"custom-checkbox"},null,544),[[Ob,M.allSelected]]),h[138]||(h[138]=G("span",{class:"custom-checkbox-span"},null,-1))])]),b7(d,{modelValue:f.selectedColumns,"onUpdate:modelValue":h[78]||(h[78]=p=>f.selectedColumns=p),tag:"tr","item-key":"col",handle:".drag-handle",onEnd:f.onColumnReorder},{item:Mb(({element:p,index:O})=>{var L;return[G("th",{class:xo(["lead_TableHead",{"scroll-column":O>=6}])},[h[139]||(h[139]=G("span",{class:"drag-handle"},"",-1)),zs(" "+pn(((L=f.availableColumns[p])==null?void 0:L.label)||p),1)],2)]}),_:1},8,["modelValue","onEnd"])])]),G("tbody",null,[(ne(!0),ie(ss,null,Ms(f.leads,(p,O)=>(ne(),ie("tr",{key:O},[G("td",_tt,[ho(G("input",{type:"checkbox","onUpdate:modelValue":h[79]||(h[79]=L=>f.selectedLeads=L),value:p.id},null,8,jtt),[[Ob,f.selectedLeads]])]),(ne(!0),ie(ss,null,Ms(f.selectedColumns,(L,F)=>(ne(),ie("td",{key:L,class:xo({"scroll-column":F>=6})},[L==="first_name"?(ne(),Cb(S,{key:0,to:"/update-profile/"+p.id,class:"lead-name-link"},{default:Mb(()=>[zs(pn(p[L]||"N/A"),1)]),_:2},1032,["to"])):(ne(),ie(ss,{key:1},[zs(pn(p[L]||"N/A"),1)],64))],2))),128))]))),128))])])])]),f.filteredLeads.length===0?(ne(),ie("div",Wtt,"No leads available.")):dn("",!0),f.toast.message?(ne(),ie("div",{key:1,class:xo(`toast ${f.toast.type}`)},[zs(pn(f.toast.message)+" ",1),G("button",{onClick:h[80]||(h[80]=p=>f.toast.message=""),class:"toast-close-button"},"X")],2)):dn("",!0),G("div",Gtt,[G("button",{onClick:h[81]||(h[81]=p=>f.changePage(f.currentPage-1)),disabled:f.currentPage===1},"Previous",8,Ktt),G("span",null,"Page "+pn(f.currentPage)+" of "+pn(f.totalPages),1),G("button",{onClick:h[82]||(h[82]=p=>f.changePage(f.currentPage+1)),disabled:f.currentPage===f.totalPages},"Next",8,Xtt)])])]),f.showColumnsModal?(ne(),ie("div",Ytt,[G("div",Jtt,[G("span",{class:"columns-modal-close",onClick:h[83]||(h[83]=(...p)=>f.closeColumnsModal&&f.closeColumnsModal(...p))},""),h[140]||(h[140]=G("h3",null,"Select and Arrange Columns",-1)),G("ul",Qtt,[(ne(!0),ie(ss,null,Ms(f.availableColumns,(p,O)=>(ne(),ie("li",{key:O,class:"columns-modal-item"},[G("input",{type:"checkbox",checked:f.selectedColumns.includes(O),onChange:L=>f.toggleColumnSelection(O),disabled:p.disabled},null,40,qtt),zs(" "+pn(p.label),1)]))),128))]),f.selectedColumns.length===0?(ne(),ie("p",tet,"  Please select at least one column! ")):dn("",!0),G("button",{class:"columns-modal-update-btn",onClick:h[84]||(h[84]=(...p)=>f.updateColumns&&f.updateColumns(...p))},"Save"),G("button",{class:"columns-modal-update-btn cancel-btn",onClick:h[85]||(h[85]=(...p)=>f.closeColumnsModal&&f.closeColumnsModal(...p))},"Cancel")])])):dn("",!0)],64)}const cot=dQ(nq,[["render",eet]]);export{cot as default};
