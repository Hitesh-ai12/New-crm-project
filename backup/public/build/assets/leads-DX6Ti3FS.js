/* empty css              */import{a as f}from"./axios-DsPaXkF5.js";import{S as k}from"./sweetalert2.all-B9kxGEux.js";import{_ as ze,r as d,b as W,Q as Qe,l as o,W as u,k as r,j as t,n as g,L as v,bm as S,F as L,X as M,Y as U,bn as je,aF as Ke,O as w,o as n,bo as Ye}from"./main-B6lduhDs.js";import"./_commonjsHelpers-Cpj98o6Y.js";const We={name:"LeadsPage",setup(){const y=d([]),e=d(!0),D=d(""),l=d(""),B=d(!1),c=d([]),a=d({id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""}),p=d({}),X=d({message:"",type:""}),E=d([]),I=d([]),G=d([]),H=d(!1),J=d(""),Z=d([]),_=d(null),ie=d(""),C=d(new Set),R=d(!1),z=d(!1),T=d(null),h=d(""),P=d(1),F=d(10),$=W(()=>Math.ceil(y.value.length/F.value)),Q=d(!1),j=d(!1),V=d(""),q=d(""),A=d(""),x=d(""),K=d(!1),Y=d(!1),ee=d(!1),le=d(!1),re=s=>{ie.value=s,J.value=ge(s),Z.value=ve(s),H.value=!0},te=()=>{H.value=!1},ue=s=>C.value.has(s),me=s=>{C.value.has(s)?C.value.delete(s):C.value.add(s),a.value.tag=Array.from(C.value)},ce=()=>{console.log("Selected Option:",_.value),te()},ge=s=>({listingAlert:"New Listing Alert",neighbourhoodAlert:"Neighbourhood Alert",openHouseAlert:"Open House Alert",actionPlan:"Action Plan",marketUpdates:"Market Updates",newsletter:"Real Estate Newsletter"})[s]||"Unknown Modal",ve=s=>({listingAlert:[{value:"alert1",text:"Alert 1"},{value:"alert2",text:"Alert 2"}],neighbourhoodAlert:[{value:"neigh1",text:"Neighbourhood 1"},{value:"neigh2",text:"Neighbourhood 2"}],openHouseAlert:[{value:"house1",text:"House 1"},{value:"house2",text:"House 2"}],actionPlan:[{value:"plan1",text:"Plan 1"},{value:"plan2",text:"Plan 2"}],marketUpdates:[{value:"update1",text:"Update 1"},{value:"update2",text:"Update 2"}],newsletter:[{value:"news1",text:"Newsletter 1"},{value:"news2",text:"Newsletter 2"}]})[s]||[],be=()=>{if(c.value.length===0){alert("No leads selected.");return}Q.value=!0},ae=()=>{Q.value=!1,V.value=""},fe=()=>{if(c.value.length===0){alert("No leads selected.");return}j.value=!0},se=()=>{j.value=!1,q.value=""},ye=async()=>{if(V.value.trim()===""){alert("Message cannot be empty.");return}try{await f.post("/leads/send-email",{lead_ids:c.value,message:V.value}),alert("Emails sent successfully."),ae()}catch{alert("Failed to send emails.")}},Se=async()=>{if(q.value.trim()===""){alert("Message cannot be empty.");return}try{await f.post("/leads/send-sms",{lead_ids:c.value,message:q.value}),alert("SMS sent successfully."),se()}catch{alert("Failed to send SMS.")}},oe=async()=>{try{const s=await f.get("/leads");y.value=Array.isArray(s.data)?s.data:[]}catch{D.value="Failed to fetch leads."}finally{e.value=!1}},ne=async()=>{try{const s=await f.get("/items");E.value=s.data.tags,I.value=s.data.stages,G.value=s.data.sources}catch(s){console.error("Failed to fetch items:",s)}},we=()=>{K.value=!0},ke=()=>{K.value=!1,A.value=""},pe=()=>{Y.value=!0},Le=()=>{Y.value=!1,x.value=""},Me=async()=>{if(A.value.trim())try{const s=await f.post("/api/items",{name:A.value,type:"tag"});E.value.push(s.data.item),A.value="",ee.value=!1,k.fire("Success","Tag added successfully","success")}catch(s){console.error("Failed to add tag:",s),k.fire("Error","Failed to add tag","error")}},Ce=async()=>{if(x.value.trim())try{const s=await f.post("/api/items",{name:x.value,type:"stage"});I.value.push(s.data.item),x.value="",le.value=!1,k.fire("Success","Stage added successfully","success")}catch(s){console.error("Failed to add stage:",s),k.fire("Error","Failed to add stage","error")}},de=W(()=>y.value.filter(s=>s.first_name.toLowerCase().includes(l.value.toLowerCase()))),Te=s=>{const i=E.value.find(m=>m.id===s);return i?i.name:"N/A"},he=s=>{const i=I.value.find(m=>m.id===s);return i?i.name:"N/A"},Fe=()=>(p.value={first_name:a.value.first_name?"":"First name is required.",last_name:a.value.last_name?"":"Last name is required.",email:a.value.email&&/^\S+@\S+\.\S+$/.test(a.value.email)?"":"Valid email is required.",phone:a.value.phone&&/^\d{10}$/.test(a.value.phone)?"":"Valid phone number is required.",tag:a.value.tag?"":"Tag is required.",stage:a.value.stage?"":"Stage is required."},!Object.values(p.value).some(s=>s)),Ae=async()=>{if(c.value.length===0){b("No leads selected.","error");return}if((await k.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"})).isConfirmed)try{const i=document.querySelector('meta[name="csrf-token"]'),m=i?i.getAttribute("content"):"";await f.post("/leads/delete",{lead_ids:c.value},{headers:{"X-CSRF-TOKEN":m}}),y.value=y.value.filter(N=>!c.value.includes(N.id)),c.value=[],k.fire("Deleted!","Selected leads have been deleted.","success")}catch{k.fire("Error!","Failed to delete leads.","error")}},xe=s=>{s>=1&&s<=$.value&&(P.value=s)},Ne=s=>{F.value=s,P.value=1},Ue=W(()=>{const s=(P.value-1)*F.value,i=s+F.value;return y.value.slice(s,i)}),Ee=async()=>{if(c.value.length===0){b("No leads selected.","error");return}try{const s=await f.post("/leads/export",{lead_ids:c.value},{responseType:"blob"}),i=window.URL.createObjectURL(new Blob([s.data])),m=document.createElement("a");m.href=i,m.setAttribute("download","leads.csv"),document.body.appendChild(m),m.click(),document.body.removeChild(m),b("Leads exported successfully!","success")}catch{b("Failed to export leads.","error")}},Ie=async s=>{const i=s.target.files[0];if(!i){b("No file selected.","error");return}const m=new FormData;m.append("file",i);try{const N=document.querySelector('meta[name="csrf-token"]'),Re=N?N.getAttribute("content"):"";await f.post("/leads/import",m,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":Re}}),await oe(),b("Leads imported successfully!","success")}catch{b("Failed to import leads.","error")}},Pe=()=>{O(),alert("Indirect File Import option selected")},Ve=()=>{R.value=!0},O=()=>{R.value=!1,z.value=!1,T.value=null,h.value=""},qe=()=>{z.value=!0},Oe=s=>{const i=s.target.files[0];i&&i.type==="text/csv"?(T.value=i,h.value=""):(T.value=null,h.value="Please select a valid CSV file.")},De=()=>{if(!T.value){h.value="No file selected or invalid file type.";return}console.log("CSV file selected:",T.value),O()},Be=()=>{O(),alert("Direct File Import option selected")},b=(s,i)=>{X.value={message:s,type:i},setTimeout(()=>{X.value.message=""},5e3)},Xe=async()=>{if(Fe())try{const s=document.querySelector('meta[name="csrf-token"]'),i=s?s.getAttribute("content"):"",m=await f.post("/leads",{first_name:a.value.first_name,last_name:a.value.last_name,email:a.value.email,phone:a.value.phone,tag:String(a.value.tag),stage:String(a.value.stage)},{headers:{"X-CSRF-TOKEN":i}});a.value={id:0,first_name:"",last_name:"",email:"",phone:"",tag:"",stage:""},B.value=!1,y.value.push(m.data),b("Lead created successfully!","success")}catch{b("Failed to create lead.","error")}},He=s=>{s.target.checked?c.value=de.value.map(i=>i.id):c.value=[]};return Qe(async()=>{await oe(),await ne()}),{leads:y,loading:e,error:D,searchQuery:l,filteredLeads:de,showForm:B,newLead:a,errors:p,selectedLeads:c,submitForm:Xe,toggleSelectAll:He,toast:X,getTagValue:Te,getStageValue:he,tags:E,stages:I,sources:G,fetchItems:ne,showImportModal:R,openImportModal:Ve,closeImportModal:O,importDirectFile:Be,importIndirectFile:Pe,showFileInput:z,showFileUploadField:qe,handleFileUpload:Oe,submitCsvFile:De,fileError:h,deleteLeads:Ae,exportLeads:Ee,importLeads:Ie,currentPage:P,pageSize:F,totalPages:$,changePage:xe,setPageSize:Ne,paginatedLeads:Ue,showEmailModal:Q,showSmsModal:j,emailMessage:V,smsMessage:q,openEmailModal:be,closeEmailModal:ae,openSmsModal:fe,closeSmsModal:se,sendEmail:ye,sendSms:Se,showToast:b,newTag:A,newStage:x,showTagModal:K,showStageModal:Y,showAddTagInput:ee,showAddStageInput:le,openTagModal:we,closeTagModal:ke,openStageModal:pe,closeStageModal:Le,addTag:Me,addStage:Ce,openModal:re,submitAction:ce,showModal:H,modalTitle:J,modalOptions:Z,selectedOption:_,isTagSelected:ue,toggleTagSelection:me,closeModal:te}}},Ge={class:"leads-container"},Je={key:0,class:"loading"},Ze={key:1,class:"error"},_e={class:"leads-header"},$e={class:"icon-section"},el={class:"selected-count total-leads"},ll=["disabled"],tl=["disabled"],al=["disabled"],sl=["disabled"],ol=["disabled"],nl=["disabled"],dl=["disabled"],il=["disabled"],rl=["disabled"],ul=["disabled"],ml=["disabled"],cl=["disabled"],gl=["disabled"],vl={key:2,class:"modal-overlay"},bl={class:"modal-container"},fl={key:0,class:"import-options"},yl={key:1,class:"file-upload-container"},Sl={key:0,class:"error-message"},wl={key:3,class:"modal"},kl={class:"modal-content"},pl={key:4,class:"tag-modal-overlay"},Ll={class:"tag-modal-container"},Ml={class:"modal_tags"},Cl=["value","checked","onChange"],Tl={key:0},hl={key:5,class:"stage-modal-overlay"},Fl={class:"stage-modal-container"},Al={key:0},xl=["value"],Nl={key:6,class:"modal-overlay"},Ul={class:"modal-container"},El=["value"],Il={class:"modal-buttons"},Pl={key:7},Vl={class:"header"},ql={class:"total-leads"},Ol={key:8,class:"form-overlay"},Dl={class:"form-container"},Bl={key:0,class:"error"},Xl={key:0,class:"error"},Hl={key:0,class:"error"},Rl={key:0,class:"error"},zl=["value"],Ql={key:0,class:"error"},jl=["value"],Kl={key:0,class:"error"},Yl={key:9},Wl={key:0,id:"leadsTable",class:"table table-striped table-bordered leads-table"},Gl={class:"custom-checkbox-label"},Jl={class:"custom-checkbox-label"},Zl=["value"],_l={key:1,class:"no-leads"},$l=["disabled"],et=["disabled"];function lt(y,e,D,l,B,c){return n(),o("div",Ge,[l.loading?(n(),o("div",Je,"Loading leads...")):u("",!0),l.error?(n(),o("div",Ze,r(l.error),1)):u("",!0),t("div",_e,[e[68]||(e[68]=t("div",{class:"leads-section"},[t("ul",null,[t("li",{class:"total-leads"},"All Leads"),t("li",{class:"total-leads"},"My Leads")])],-1)),t("div",$e,[t("ul",null,[t("li",el," Selected Leads: "+r(l.selectedLeads.length),1),e[67]||(e[67]=t("li",{class:"total-leads"},[t("i",{class:"fa-solid fa-plus"})],-1)),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),onClick:e[0]||(e[0]=(...a)=>l.deleteLeads&&l.deleteLeads(...a)),disabled:l.selectedLeads.length===0},e[53]||(e[53]=[t("span",null,"Delete",-1),t("i",{class:"fa-solid fa-trash-can-arrow-up"},null,-1)]),10,ll),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),onClick:e[1]||(e[1]=(...a)=>l.openEmailModal&&l.openEmailModal(...a)),disabled:l.selectedLeads.length===0},e[54]||(e[54]=[t("span",null,"Email",-1),t("i",{class:"fa-solid fa-envelope"},null,-1)]),10,tl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),onClick:e[2]||(e[2]=(...a)=>l.openSmsModal&&l.openSmsModal(...a)),disabled:l.selectedLeads.length===0},e[55]||(e[55]=[t("span",null,"Smart SMS",-1),t("i",{class:"fa-solid fa-comment-dots"},null,-1)]),10,al),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[3]||(e[3]=(...a)=>l.openTagModal&&l.openTagModal(...a))},e[56]||(e[56]=[t("span",null,"Tags",-1),t("i",{class:"fa-solid fa-tags"},null,-1)]),10,sl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[4]||(e[4]=(...a)=>l.openStageModal&&l.openStageModal(...a))},e[57]||(e[57]=[t("span",null,"Stage",-1),t("i",{class:"fa-solid fa-table-cells"},null,-1)]),10,ol),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[5]||(e[5]=a=>l.openModal("listingAlert"))},e[58]||(e[58]=[t("span",null,"New Listing Alert",-1),t("i",{class:"fa-solid fa-bell"},null,-1)]),10,nl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[6]||(e[6]=a=>l.openModal("neighbourhoodAlert"))},e[59]||(e[59]=[t("span",null,"Neighbourhood Alert",-1),t("i",{class:"fa-solid fa-map-location-dot"},null,-1)]),10,dl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[7]||(e[7]=a=>l.openModal("openHouseAlert"))},e[60]||(e[60]=[t("span",null,"Open House Alert",-1),t("i",{class:"fa-solid fa-circle-exclamation"},null,-1)]),10,il),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[8]||(e[8]=a=>l.openModal("actionPlan"))},e[61]||(e[61]=[t("span",null,"Action Plan",-1),t("i",{class:"fa-solid fa-plus"},null,-1)]),10,rl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[9]||(e[9]=a=>l.openModal("marketUpdates"))},e[62]||(e[62]=[t("span",null,"Market Updates",-1),t("i",{class:"fa fa-bar-chart","aria-hidden":"true"},null,-1)]),10,ul),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0,onClick:e[10]||(e[10]=a=>l.openModal("newsletter"))},e[63]||(e[63]=[t("span",null,"Real Estate Newsletter",-1),t("i",{class:"fa-solid fa-envelope-open-text"},null,-1)]),10,ml),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),disabled:l.selectedLeads.length===0},e[64]||(e[64]=[t("span",null,"Lead Transfer",-1),t("i",{class:"fa-solid fa-right-left"},null,-1)]),10,cl),t("li",{class:g(["total-leads",{disabled:l.selectedLeads.length===0}]),onClick:e[11]||(e[11]=(...a)=>l.exportLeads&&l.exportLeads(...a)),disabled:l.selectedLeads.length===0},e[65]||(e[65]=[t("span",null,"Export Lead",-1),t("i",{class:"fa-solid fa-file-export"},null,-1)]),10,gl),t("li",{class:"total-leads",onClick:e[12]||(e[12]=(...a)=>l.openImportModal&&l.openImportModal(...a))},e[66]||(e[66]=[t("span",null,"Import",-1),t("i",{class:"fa-solid fa-file-import"},null,-1)]))])])]),l.showImportModal?(n(),o("div",vl,[t("div",bl,[t("button",{type:"button",onClick:e[13]||(e[13]=(...a)=>l.closeImportModal&&l.closeImportModal(...a)),class:"close-button"},"X"),e[69]||(e[69]=t("h2",null,"Select Import Type",-1)),l.showFileInput?u("",!0):(n(),o("div",fl,[t("button",{onClick:e[14]||(e[14]=(...a)=>l.importDirectFile&&l.importDirectFile(...a)),class:"import-button"},"Direct File Import"),t("button",{onClick:e[15]||(e[15]=(...a)=>l.showFileUploadField&&l.showFileUploadField(...a)),class:"import-button"},"Indirect File Import")])),l.showFileInput?(n(),o("div",yl,[t("input",{type:"file",onChange:e[16]||(e[16]=(...a)=>l.handleFileUpload&&l.handleFileUpload(...a)),accept:".csv"},null,32),t("button",{onClick:e[17]||(e[17]=(...a)=>l.submitCsvFile&&l.submitCsvFile(...a)),class:"submit-button"},"Submit CSV"),l.fileError?(n(),o("p",Sl,r(l.fileError),1)):u("",!0)])):u("",!0)])])):u("",!0),l.showSmsModal?(n(),o("div",wl,[t("div",kl,[t("span",{class:"close",onClick:e[18]||(e[18]=(...a)=>l.closeSmsModal&&l.closeSmsModal(...a))},"×"),e[70]||(e[70]=t("h2",null,"Send SMS",-1)),v(t("textarea",{"onUpdate:modelValue":e[19]||(e[19]=a=>l.smsMessage=a),placeholder:"Enter your message here"},null,512),[[S,l.smsMessage]]),t("button",{onClick:e[20]||(e[20]=(...a)=>l.sendSms&&l.sendSms(...a))},"Send SMS")])])):u("",!0),l.showTagModal?(n(),o("div",pl,[t("div",Ll,[t("button",{type:"button",onClick:e[21]||(e[21]=(...a)=>l.closeTagModal&&l.closeTagModal(...a)),class:"close-button"},"X"),e[71]||(e[71]=t("h3",null,"Select Tags",-1)),t("div",Ml,[(n(!0),o(L,null,M(l.tags,a=>(n(),o("div",{key:a.id,class:"modal_tag"},[t("input",{type:"checkbox",value:a.id,checked:l.isTagSelected(a.id),onChange:p=>l.toggleTagSelection(a.id)},null,40,Cl),w(" "+r(a.name),1)]))),128))]),t("button",{onClick:e[22]||(e[22]=a=>l.showAddTagInput=!l.showAddTagInput),class:"add-button"},"Add Tag"),l.showAddTagInput?(n(),o("div",Tl,[v(t("input",{"onUpdate:modelValue":e[23]||(e[23]=a=>l.newTag=a),placeholder:"Enter new tag"},null,512),[[S,l.newTag]]),t("button",{onClick:e[24]||(e[24]=(...a)=>l.addTag&&l.addTag(...a)),class:"submit-button"},"Add")])):u("",!0),t("button",{onClick:e[25]||(e[25]=(...a)=>l.closeTagModal&&l.closeTagModal(...a)),class:"submit-button"},"Close")])])):u("",!0),l.showStageModal?(n(),o("div",hl,[t("div",Fl,[t("button",{type:"button",onClick:e[26]||(e[26]=(...a)=>l.closeStageModal&&l.closeStageModal(...a)),class:"close-button"},"X"),e[72]||(e[72]=t("h3",null,"Select Stage",-1)),l.showAddStageInput?(n(),o("div",Al,[v(t("input",{"onUpdate:modelValue":e[27]||(e[27]=a=>l.newStage=a),placeholder:"Enter new stage",id:"m_add_stage",class:"m_add_stage"},null,512),[[S,l.newStage]]),t("button",{onClick:e[28]||(e[28]=(...a)=>l.addStage&&l.addStage(...a)),class:"submit-button"},"Add")])):u("",!0),t("button",{onClick:e[29]||(e[29]=a=>l.showAddStageInput=!l.showAddStageInput),class:"add-button"},"Add Stage"),v(t("select",{"onUpdate:modelValue":e[30]||(e[30]=a=>l.newLead.stage=a),id:"stage_id",class:"stage_class"},[(n(!0),o(L,null,M(l.stages,a=>(n(),o("option",{key:a.id,value:a.id,class:"stage_values"},r(a.name),9,xl))),128))],512),[[U,l.newLead.stage]]),t("button",{onClick:e[31]||(e[31]=(...a)=>l.closeStageModal&&l.closeStageModal(...a)),class:"submit-button"},"Close")])])):u("",!0),l.showModal?(n(),o("div",Nl,[t("div",Ul,[t("button",{type:"button",onClick:e[32]||(e[32]=(...a)=>l.closeModal&&l.closeModal(...a)),class:"close-button"},"X"),t("h2",null,r(l.modalTitle),1),v(t("select",{"onUpdate:modelValue":e[33]||(e[33]=a=>l.selectedOption=a),class:"open_modal_drop-box"},[(n(!0),o(L,null,M(l.modalOptions,a=>(n(),o("option",{key:a.value,value:a.value},r(a.text),9,El))),128))],512),[[U,l.selectedOption]]),t("div",Il,[t("button",{onClick:e[34]||(e[34]=(...a)=>l.submitAction&&l.submitAction(...a)),class:"submit-button"},"Submit"),t("button",{onClick:e[35]||(e[35]=(...a)=>l.closeModal&&l.closeModal(...a)),class:"cancel-button"},"Cancel")])])])):u("",!0),!l.loading&&!l.error?(n(),o("div",Pl,[t("div",Vl,[v(t("input",{"onUpdate:modelValue":e[36]||(e[36]=a=>l.searchQuery=a),type:"text",placeholder:"Search leads by name...",class:"search-bar"},null,512),[[S,l.searchQuery]]),t("div",ql,"Total Leads: "+r(l.filteredLeads.length),1),e[73]||(e[73]=je('<div class="total-leads">Last 7 Days</div><div class="total-leads">Hot</div><div class="total-leads">Buyer</div><div class="total-leads">Seller</div><div class="total-leads">Closed</div>',5)),t("button",{onClick:e[37]||(e[37]=a=>l.showForm=!0),class:"create-new-button"},"+ Create New")])])):u("",!0),l.showForm?(n(),o("div",Ol,[t("div",Dl,[t("button",{type:"button",onClick:e[38]||(e[38]=a=>l.showForm=!1),id:"cancel_button"},"X"),e[81]||(e[81]=t("h2",null,"Create New Lead",-1)),t("form",{onSubmit:e[45]||(e[45]=Ke((...a)=>l.submitForm&&l.submitForm(...a),["prevent"]))},[t("label",null,[e[74]||(e[74]=w(" First Name: ")),v(t("input",{"onUpdate:modelValue":e[39]||(e[39]=a=>l.newLead.first_name=a),type:"text",required:""},null,512),[[S,l.newLead.first_name]]),l.errors.first_name?(n(),o("span",Bl,r(l.errors.first_name),1)):u("",!0)]),t("label",null,[e[75]||(e[75]=w(" Last Name: ")),v(t("input",{"onUpdate:modelValue":e[40]||(e[40]=a=>l.newLead.last_name=a),type:"text",required:""},null,512),[[S,l.newLead.last_name]]),l.errors.last_name?(n(),o("span",Xl,r(l.errors.last_name),1)):u("",!0)]),t("label",null,[e[76]||(e[76]=w(" Email: ")),v(t("input",{"onUpdate:modelValue":e[41]||(e[41]=a=>l.newLead.email=a),type:"email",required:""},null,512),[[S,l.newLead.email]]),l.errors.email?(n(),o("span",Hl,r(l.errors.email),1)):u("",!0)]),t("label",null,[e[77]||(e[77]=w(" Phone: ")),v(t("input",{"onUpdate:modelValue":e[42]||(e[42]=a=>l.newLead.phone=a),type:"tel",required:""},null,512),[[S,l.newLead.phone]]),l.errors.phone?(n(),o("span",Rl,r(l.errors.phone),1)):u("",!0)]),t("label",null,[e[78]||(e[78]=w(" Tag: ")),v(t("select",{"onUpdate:modelValue":e[43]||(e[43]=a=>l.newLead.tag=a),required:""},[(n(!0),o(L,null,M(l.tags,a=>(n(),o("option",{key:a.id,value:a.id},r(a.name),9,zl))),128))],512),[[U,l.newLead.tag]]),l.errors.tag?(n(),o("span",Ql,r(l.errors.tag),1)):u("",!0)]),t("label",null,[e[79]||(e[79]=w(" Stage: ")),v(t("select",{"onUpdate:modelValue":e[44]||(e[44]=a=>l.newLead.stage=a),required:""},[(n(!0),o(L,null,M(l.stages,a=>(n(),o("option",{key:a.id,value:a.id},r(a.name),9,jl))),128))],512),[[U,l.newLead.stage]]),l.errors.stage?(n(),o("span",Kl,r(l.errors.stage),1)):u("",!0)]),e[80]||(e[80]=t("button",{type:"submit",id:"submit_button"},"Submit",-1))],32)])])):u("",!0),!l.loading&&!l.error?(n(),o("div",Yl,[t("div",null,[e[83]||(e[83]=t("label",{for:"pageSize"},"Rows per page:",-1)),v(t("select",{"onUpdate:modelValue":e[46]||(e[46]=a=>l.pageSize=a),onChange:e[47]||(e[47]=a=>l.setPageSize(Number(a.target.value)))},e[82]||(e[82]=[t("option",{value:"5"},"5",-1),t("option",{value:"10"},"10",-1),t("option",{value:"25"},"25",-1),t("option",{value:"50"},"50",-1)]),544),[[U,l.pageSize]])]),l.filteredLeads.length?(n(),o("table",Wl,[t("thead",null,[t("tr",null,[t("th",null,[t("label",Gl,[t("input",{type:"checkbox",onChange:e[48]||(e[48]=(...a)=>l.toggleSelectAll&&l.toggleSelectAll(...a)),class:"custom-checkbox"},null,32),e[84]||(e[84]=t("span",{class:"custom-checkbox-span"},null,-1))])]),e[85]||(e[85]=t("th",null,"First Name",-1)),e[86]||(e[86]=t("th",null,"Last Name",-1)),e[87]||(e[87]=t("th",null,"Phone",-1)),e[88]||(e[88]=t("th",null,"Email",-1)),e[89]||(e[89]=t("th",null,"Activity",-1)),e[90]||(e[90]=t("th",null,"Created",-1)),e[91]||(e[91]=t("th",null,"Tag",-1)),e[92]||(e[92]=t("th",null,"Stage",-1)),e[93]||(e[93]=t("th",null,"Source",-1))])]),t("tbody",null,[(n(!0),o(L,null,M(l.paginatedLeads,a=>(n(),o("tr",{key:a.id},[t("td",null,[t("label",Jl,[v(t("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[49]||(e[49]=p=>l.selectedLeads=p),class:"custom-checkbox"},null,8,Zl),[[Ye,l.selectedLeads]]),e[94]||(e[94]=t("span",{class:"custom-checkbox-span"},null,-1))])]),t("td",null,r(a.first_name),1),t("td",null,r(a.last_name),1),t("td",null,r(a.phone),1),t("td",null,r(a.email),1),t("td",null,r(a.activity||"N/A"),1),t("td",null,r(new Date(a.created_at).toLocaleDateString()),1),t("td",null,r(a.tag||"N/A"),1),t("td",null,r(a.stage||"N/A"),1),t("td",null,r(a.source||"N/A"),1)]))),128))])])):u("",!0),l.filteredLeads.length===0?(n(),o("div",_l,"No leads available.")):u("",!0)])):u("",!0),l.toast.message?(n(),o("div",{key:10,class:g(`toast ${l.toast.type}`)},[w(r(l.toast.message)+" ",1),t("button",{onClick:e[50]||(e[50]=a=>l.toast.message=""),class:"toast-close-button"},"X")],2)):u("",!0),t("div",null,[t("button",{onClick:e[51]||(e[51]=a=>l.changePage(l.currentPage-1)),disabled:l.currentPage===1},"Previous",8,$l),t("span",null,"Page "+r(l.currentPage)+" of "+r(l.totalPages),1),t("button",{onClick:e[52]||(e[52]=a=>l.changePage(l.currentPage+1)),disabled:l.currentPage===l.totalPages},"Next",8,et)])])}const dt=ze(We,[["render",lt]]);export{dt as default};
