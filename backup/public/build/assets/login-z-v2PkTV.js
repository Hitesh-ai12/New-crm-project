import{r as d,d as g,bp as v,b as x,l as b,h as a,g as t,o as w,j as i,u as y,aF as h,aE as k,O as _,e as L}from"./main-B6lduhDs.js";import{l as C}from"./logo-DbYPuVAr.js";import{a as T,b as M}from"./auth-v1-mask-light--N6hHkxK.js";import{a as R}from"./axios-DsPaXkF5.js";import{S as m}from"./sweetalert2.all-B9kxGEux.js";import{a as j,b as F,V as S}from"./VCard-DAWIigei.js";import{a as B,V as p}from"./VTextField-A31ccmRO.js";import{V as P,a as u}from"./VRow-C5YPH_aT.js";import{a as E}from"./VCheckbox-C7tPh6t-.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./VAvatar-DCRWcC4u.js";import"./VImg-CuSWVABe.js";import"./forwardRefs-DWGaNmQL.js";import"./index-B8zzSXAV.js";/* empty css              */const I={class:"auth-wrapper d-flex align-center justify-center pa-4"},N=["innerHTML"],U={class:"d-flex align-center justify-space-between flex-wrap my-6"},ae={__name:"login",setup(q){const s=d({email:"",password:"",remember:!1}),f=g(),c=v();x(()=>f.global.name.value==="light"?T:M);const r=d(!1),V=async()=>{var n,e;try{const l=await R.post("/api/login",s.value);localStorage.setItem("auth_token",l.data.token),m.fire({icon:"success",title:"Login Successful",text:"Redirecting to your dashboard..."}),setTimeout(()=>{c.push("/dashboard")},1500)}catch(l){console.error("Login failed:",l);const o=((e=(n=l.response)==null?void 0:n.data)==null?void 0:e.message)||"Login failed. Please check your email and password.";m.fire({icon:"error",title:"Login Failed",text:o})}};return(n,e)=>{const l=L("RouterLink");return w(),b("div",I,[a(j,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:t(()=>[a(F,{class:"justify-center"},{default:t(()=>[a(l,{to:"/",class:"d-flex align-center gap-3"},{default:t(()=>[i("div",{class:"d-flex",innerHTML:y(C)},null,8,N),e[4]||(e[4]=i("h2",{class:"font-weight-medium text-2xl text-uppercase"}," CRM ",-1))]),_:1})]),_:1}),a(S,null,{default:t(()=>[a(B,{onSubmit:h(V,["prevent"])},{default:t(()=>[a(P,null,{default:t(()=>[a(u,{cols:"12"},{default:t(()=>[a(p,{modelValue:s.value.email,"onUpdate:modelValue":e[0]||(e[0]=o=>s.value.email=o),label:"Email",type:"email",required:""},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:t(()=>[a(p,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=o=>s.value.password=o),label:"Password",placeholder:"············",type:r.value?"text":"password","append-inner-icon":r.value?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":e[2]||(e[2]=o=>r.value=!r.value),required:""},null,8,["modelValue","type","append-inner-icon"]),i("div",U,[a(E,{modelValue:s.value.remember,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.remember=o),label:"Remember me"},null,8,["modelValue"]),e[5]||(e[5]=i("a",{class:"text-primary",href:"javascript:void(0)"}," Forgot Password? ",-1))])]),_:1}),a(u,{cols:"12"},{default:t(()=>[a(k,{block:"",type:"submit"},{default:t(()=>e[6]||(e[6]=[_("Login")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{ae as default};
